{"version":3,"sources":["webpack:///src/viewInterface/components/wave/Wave.vue","webpack:///src/viewInterface/components/wave/WaveChart.vue","webpack:///./src/viewInterface/components/wave/Wave.vue?7f3c","webpack:///./src/viewInterface/components/wave/Wave.vue?63ae","webpack:///./src/viewInterface/components/wave/WaveChart.vue?768f","webpack:///./src/assets/lib/waveChart/myCharts.js","webpack:///./src/viewInterface/assets/img/tool_icons/bzbp.png","webpack:///./src/viewInterface/assets/img/tool_icons/dcplc.png","webpack:///./src/viewInterface/assets/img/tool_icons/dpgl.png","webpack:///./src/viewInterface/assets/img/tool_icons/dwdybp.png","webpack:///./src/viewInterface/assets/img/tool_icons/fztk.png","webpack:///./src/viewInterface/assets/img/tool_icons/hnc.png","webpack:///./src/viewInterface/assets/img/tool_icons/qhxzqb.png","webpack:///./src/viewInterface/assets/img/tool_icons/qxbz.png","webpack:///./src/viewInterface/assets/img/tool_icons/tjbz.png","webpack:///./src/viewInterface/assets/img/tool_icons/xhxf.png","webpack:///./src/viewInterface/assets/img/tool_icons/yxplzsz.png","webpack:///./src/viewInterface/components/wave/Wave.vue","webpack:///./src/viewInterface/components/wave/Wave.vue?b5d4","webpack:///./src/viewInterface/components/wave/Wave.vue?0873","webpack:///./src/viewInterface/components/wave/Wave.vue?7e84","webpack:///./src/viewInterface/components/wave/WaveChart.vue","webpack:///./src/viewInterface/components/wave/WaveChart.vue?2ff4","webpack:///./src/viewInterface/components/wave/WaveChart.vue?a0c9"],"names":["global","factory","exports","module","define","chart","dom","option","type","chartType","title","show","name","fontStyle","weight","size","family","color","align","grid","top","right","left","bottom","x","name2","nameStyle","bottom2","data","lineStyle","width","range","max","min","y","splitLineStyle","markLine","series","coordinateSystem","faimly","dataMsg","oneFreq","rotateSpeed","specType","spectral","setPower","gateMsg","isShow","fStart","fWidth","fThreshold","symbol","unit","amplitude","phase","maxAmplitude","circleAlarm","posName","isRestore","toolTip","background","formatter","params","dblHandler","tools","enlarge","maxOrMin","restore","timeDifferent","isTimeDifferent","subFreq","isSubFreq","isOneFreq","labelFreq","isLabelFreq","peakSearch","addLabel","cancelLabel","setPeak","exportImage","imageName","exportData","fileName","exportAudio","maxFreq","speedPulse","isSpeedPulse","backgroundColor","changePos","resize","_chart","_dom","id","height","_computeParams","extremum","proportion","_flag","spectrumXName","spectrumYName","dataLength","zoom","click","line","key","val","idx","undefined","firstCommon","last_xWave","labelLine","spectrum","wave","maxMin","addPeak","muchaddPeak","addPeakPos","dragLabel","peakIndexArr","arr_B","arr_C","subFreqAxis","toolCheck","flag_subFreq","flag_oneF","flag_nx","autoPeakNum","flag_addPeak","flag_subTime","flag_wave_extend","flag_wave_Pulse","_scope","v","start","end","length","r","w","b","h","rs","_movePos","oldVal","newVal","move","source","_option","_drawTools","canvas","ctx","axis","index","code","code1","code2","event","e","stopPropagation","opt","dx","offsetX","dy","offsetY","dValue","findNearbyPoint","fft_indexOfWaveX","labelLineWave","labelLineSpec","drawLabelLine","drawLine","ax","ay","rx","ry","value","Number","MAX_VALUE","i","l","d","drawPoint","oVal","mousedown","flag","movePos","addEvent","window","mousemove","time","lastTime","Date","valueOf","nowTime","removeEvent","multiple","target","nodeName","moveX","moveY","scope","scopeR","scopeV","prop","propX","propY","extrX","yArr","Math","abs","k","MIN_VALUE","slice","len","j","parseFloat","restoreAll","mappingY","drawAxis","drawMarkY","drawWave","zoomLine","drawEnlargement","isAddPeak","drawAddLabel","dVal","drawMarkLine","mouseup","windowEnlargement","setTimeout","zoomVal","deltaY","xArr","mappingX","yValue","s","valY","keydown","flagLine","keyCode","tool","layer","clearRect","className","split","indexOf","addClass","removeClass","barMove","vx","ex","ey","yk","yb","clickCtx","lineX","parseInt","ot","beginPath","fillStyle","fillRect","xVal","tree","mac","pos","W","measureText","bx","by","font","textBaseline","fillText","round","barDblclick","yVal","lineDblclick","Boolean","getPeakIndexArr","xAxis","paramsX","t_nxArray","indexOfArray","push","foreground","img","Image","document","createElement","setAttribute","getContext","drawImage","src","toDataURL","downLoad","ImgName","Array","isArray","strArr","ImageName","nameValue","includes","splice","join","href","download","dispatchEvent","MouseEvent","str","dataX","dataY","getDataType","p","toFixed","funDownload","audio","freq","cloneObj","buffer","setAudio","XArray","drawWavePulse","creat","prototype","constructor","Object","toString","call","num","dig","el","_class","elClassArr","classArr","forEach","item","String","isStatic","deep","map","wType","tag","children","child","removeChild","clientHeight","clientWidth","style","position","div","appendChild","setOption","opt1","opt2","mark","isMarkSame","isRefresh","mergeOption","getNearPoint","initParams","wr","hr","drawCircleAlarm","congruenceName","sort","drawTools","FirstOBJ","SecondOBJ","formatDateStr","date","yy","getFullYear","mm","getMonth","dd","getDate","getHours","m","getMinutes","getSeconds","drawCircle","drawPoints","drawCircleAxios","drawPointsLine","optX","arr","bar","barWidth","space","divider","wMarkLine","wtype","mutiple","n","backCtx","stationInfo","nameX","nameXArr","nameY","nameYArr","save","lineWidth","strokeStyle","moveTo","lineTo","stroke","textAlign","offset","fontLen","iSegNum","minSeg","mi","log","LOG10E","nScale","pow","seg","toPrecision","timeLen","fl","zero","distance","station_name","xshow","a","text","nScaleY","interval","fonts","res","xOVal","circle","minX","minY","maxX","maxY","valueX","valueY","valueSpeed","speed","valX","vY","localStorage","getItem","tt","arc","PI","fill","rectX","rectY","alignX","separate","ty","isDraw","speedCtx","drawLineByX","obj","Xarray","dataCtx","xBArr","dataSymbol","xk","xb","real","xn","yo","yn","nVal","XB","tmp_r","ceil","max_y","min_y","lengt","cy","closePath","v1","v2","arrX","arrY","paramsY","binarySerach","keyMax","keyMin","dKeyPercent","dKeyLen","floor","arrXSplice","arrYSplice","vx1","vy1","vx2","vy2","sqrt","mid","gate","drawGateLine","zoomCtx","oldPos","newPos","optY","di","tmpIndex","index_a","index_b","err","flag_pm","POSITIVE_INFINITY","nx0","nx1","index1","x0","indexB0","x_left","x_right","index_b_nx","max_arr","dataXName","max_sub_arr","subCtx","timeDif","line1","x1","y1","maxIndex","maxLength","isArrData","nxFreq","oneLine","translate","rotate","pulse","xArray","yArray","YArray","speedPulesIndex","foreCtx","xMax","xFreq","xName","peak","freqObj","Hz","NX","ms","halfWidth","xValue","count","indexArr","t_yArr","pointSize","channelNumber","blockSize","Uint8Array","view","DataView","set","setUint32","setUint16","xs","Int16Array","content","filename","eleLink","display","blob","Blob","URL","createObjectURL","failCtx","failure","extreme","dex","gateLineStart","gateLineEnd","closeGate","sr","rr","minAmplitude","PP","Aarr","Parr","A","nyVal","nA","sin","cos","text2","P","msg","index2","isBar","getYdata","x2","result","eventType","fn","isRepeat","useCapture","errorStr","Error","eventList","addEventListener","removeEventListener","destory","eventName","mousewheel","dblclick","init"],"mappings":"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A;AAGA;AACA;AAAA;AACA,0CADA,CACA;;AADA,WAJA;AAOA;AAAA;AACA,0CADA,CACA;;AADA,WAPA;AAUA;AAAA;AACA,0CADA;AACA;AACA;AAFA;AAVA,SArBA;AAoCA;AACA;AACA,6BADA;AACA;AACA,0BAFA;AAEA;AACA;AAAA;AACA,0CADA,CACA;;AADA,WAHA;AAMA;AAAA;AACA,2CADA;AACA;AACA;AAFA,WANA;AAUA;AAAA;AACA,0CADA,CACA;;AADA;AAVA,SArCA;AAmDA;AACA;AACA,sBADA;AACA;AACA;AAAA;AACA,0CADA;AACA;AACA,oBAFA,CAEA;;AAFA,WAFA;AAMA;AAAA;AACA,oBADA;AAEA;AAAA;AACA,8BADA;AACA;AACA,sBAFA,CAEA;;AAFA,aAFA;AAMA;AAAA;AACA,2BADA;AACA;AACA,0BAFA;AAEA;AACA,uCAHA;AAGA;AACA,8BAJA,CAIA;;AAJA;AANA,WANA;AAmBA;AACA;AACA,sCADA;AAEA,8CAFA;AAGA,8CAHA;AAIA,sDAJA;AAKA;AACA,0BADA;AACA;AACA,sBAFA,CAEA;;AAFA;AALA,WApBA;AA8BA;AA9BA,SApDA;AAoFA;AACA;AACA,6BADA;AAEA;AAAA;AACA,6CADA,CACA;;AADA,WAFA;AAKA;AACA,6CADA;AAEA;AAFA,WALA;AASA;AAAA;AACA,+CADA,CACA;;AADA,WATA;AAYA;AACA;AACA;AAdA,SArFA;AAqGA;AACA;AACA;AACA,sBADA;AAEA;AAFA,WAFA;AAMA;AACA;AACA,sBADA;AAEA;AAFA,WAPA;AAWA;AACA;AACA,sBADA;AAEA;AAFA,WAZA;AAgBA;AACA;AACA,sBADA;AAEA;AAFA,WAjBA;AAqBA;AACA;AACA,sBADA;AAEA,kEAFA;AAGA,6CAHA;AAIA;AACA;AACA;AACA;AACA;AARA,WAtBA;AAgCA;AACA;AACA,mCADA;AAEA,sBAFA;AAGA;AAHA,WAjCA;AAsCA;AACA;AACA,2CADA;AAEA,sBAFA;AAGA,kEAHA;AAIA;AAJA;AAvCA,SArGA;AAmJA,sDAnJA;AAmJA;AACA,iCApJA,CAoJA;;AApJA;AAsJA,KAtLA;AAuLA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AAAA;AADA;AAEA;AAAA;;AAFA,SADA;AAKA;AACA;AACA,oBADA;AACA;AACA,qBAFA;AAEA;AACA;AACA;AACA,0BADA;AACA;AACA,qDAFA;AAEA;AACA,gCAHA;AAGA;AACA,mDAJA;AAIA;AACA,mDALA,CAKA;;AALA;AAJA,SANA;AAkBA;AACA,uCAnBA;AAoBA;AACA;AACA,8BADA;AACA;AACA,0BAFA;AAEA;AACA,kCAHA;AAGA;AACA,8BAJA;AAIA;AACA;AAAA;AACA,0CADA,CACA;;AADA,WALA;AAQA;AAAA;AACA,0CADA,CACA;;AADA,WARA;AAWA;AAAA;AACA,0CADA;AACA;AACA;AAFA;AAXA,SArBA;AAqCA;AACA;AACA,6BADA;AACA;AACA,8BAFA;AAEA;AACA;AAAA;AACA,0CADA,CACA;;AADA,WAHA;AAMA;AAAA;AACA,0CADA,CACA;;AADA,WANA;AASA;AAAA;AACA,0CADA;AACA;AACA;AAFA;AATA,SAtCA;AAoDA;AACA;AACA,kCADA;AACA;AACA;AAAA;AACA,0CADA;AACA;AACA,oBAFA,CAEA;;AAFA,WAFA;AAMA;AAAA;AACA,kCADA;AAEA;AAAA;AACA,8BADA;AACA;AACA,sBAFA,CAEA;;AAFA,aAFA;AAMA;AAAA;AACA,2BADA;AACA;AACA,0BAFA;AAEA;AACA,uCAHA;AAGA;AACA,8BAJA,CAIA;;AAJA;AANA,WANA;AAmBA;AACA,iCADA;AAEA,yCAFA;AAGA,mCAHA;AAIA,qCAJA;AAKA;AALA,WAnBA;AA0BA;AA1BA,SArDA;AAiFA;AACA;AACA;AAAA;AACA,wCADA,CACA;;AADA,WADA;AAIA,6BAJA;AAKA;AAAA;AACA,+CADA,CACA;;AADA,WALA;AAQA;AACA;AADA,WARA;AAWA;AACA;AACA;AAbA,SAlFA;AAiGA;AACA;AACA;AACA,sBADA;AAEA;AAFA,WAFA;AAMA;AACA;AACA,sBADA;AAEA;AAFA,WAPA;AAWA;AACA;AACA,sBADA;AAEA,8DAFA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,+DACA,qBADA,GACA,mBADA;AAEA;AACA;AACA;AACA;AACA;AAfA,WAZA;AA6BA;AACA;AACA,sBADA;AAEA;AAFA,WA9BA;AAkCA;AACA;AACA,sBADA;AAEA,sCAFA;AAGA;AACA;AACA;AALA,WAnCA;AA0CA;AACA;AACA,sBADA;AAEA;AAFA,WA3CA;AA+CA;AACA;AACA,sBADA;AAEA;AAFA,WAhDA;AAoDA;AACA;AACA,sBADA;AAEA;AAFA,WArDA;AAyDA;AACA;AACA,sBADA;AAEA;AAFA,WA1DA;AA8DA;AACA;AACA,sBADA;AAEA;AAFA,WA/DA;AAmEA;AACA;AACA,sBADA;AAEA,kEAFA;AAGA,6CAHA;AAIA;AACA;AACA;AACA;AACA;AARA,WApEA;AA8EA;AACA;AACA,mCADA;AAEA,sBAFA;AAGA;AAHA;AA/EA,SAjGA;AAsLA,sDAtLA;AAsLA;AACA,iCAvLA,CAuLA;AACA;;AAxLA;AA0LA,KA1XA;AA2XA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AAAA;AADA;AAEA;AAAA;;AAFA,SADA;AAKA;AACA;AACA,oBADA;AACA;AACA,qBAFA;AAEA;AACA;AACA;AACA,0BADA;AACA;AACA,oDAFA;AAEA;AACA,gCAHA;AAGA;AACA,kDAJA;AAIA;AACA,kDALA,CAKA;;AALA;AAJA,SANA;AAkBA;AACA,sCAnBA;AAoBA;AACA;AACA,sBADA;AACA;AACA,6BAFA;AAEA;AACA;AAAA;AACA,0CADA,CACA;;AADA,WAHA;AAMA;AAAA;AACA,2CADA;AACA;AACA;AAFA;AANA,SArBA;AAgCA;AACA;AACA,8BADA;AACA;AACA,6BAFA;AAEA;AACA;AAAA;AACA,0CADA,CACA;;AADA,WAHA;AAMA,6BANA;AAOA;AAAA;AACA,0CADA,CACA;;AADA,WAPA;AAUA;AAAA;AACA,2CADA;AACA;AACA;AAFA;AAVA,SAjCA;AAgDA;AACA;AACA,sBADA;AACA;AACA;AAAA;AACA,0CADA;AACA;AACA,oBAFA,CAEA;;AAFA,WAFA;AAMA;AAAA;AACA,oBADA;AAEA;AAAA;AACA,8BADA;AACA;AACA,sBAFA,CAEA;;AAFA,aAFA;AAMA;AAAA;AACA,8BADA;AACA;AACA,0BAFA;AAEA;AACA,uCAHA;AAGA;AACA,8BAJA,CAIA;;AAJA;AANA,WANA;AAmBA;AACA;AADA;AAnBA,SAjDA;AAwEA;AACA;AACA;AAAA;AACA,wCADA,CACA;;AADA,WADA;AAIA;AAAA;AACA,+CADA,CACA;;AADA,WAJA;AAOA;AACA;AADA,WAPA;AAUA;AACA;AACA;AACA;;AACA;AAAA;AACA;AACA;;AACA;AACA,WAlBA;AAmBA;AAnBA,SAzEA;AA8FA;AACA;AACA;AACA,sBADA;AAEA;AAFA,WAFA;AAMA;AACA;AACA,sBADA;AAEA;AAFA,WAPA;AAWA;AACA;AACA,sBADA;AAEA;AAFA,WAZA;AAgBA;AACA;AACA,sBADA;AAEA,kEAFA;AAGA,6CAHA;AAIA;AACA;AACA;AACA;AACA;AARA;AAjBA,SA9FA;AA0HA,sDA1HA;AA0HA;AACA,iCA3HA,CA2HA;;AA3HA;AA6HA,KAjgBA;AAkgBA;AACA;AACA,qBADA;AAEA,6IAFA;AAGA;AAHA,SAIA;AACA,mBADA;AAEA,yIAFA;AAGA;AAHA,OAJA,EAQA;AACA,sBADA;AAEA,+IAFA;AAGA;AAHA,OARA,EAYA;AACA,sBADA;AAEA,+IAFA;AAGA;AAHA,OAZA,EAgBA;AACA,oBADA;AAEA,2IAFA;AAGA;AAHA,OAhBA,EAoBA;AACA,sBADA;AAEA,iJAFA;AAGA;AAHA,OApBA,EAwBA;AACA,oBADA;AAEA,2IAFA;AAGA;AAHA,OAxBA,EA4BA;AACA,oBADA;AAEA,2IAFA;AAGA;AAHA,OA5BA,EAgCA;AACA,sBADA;AAEA,2IAFA;AAGA;AAHA,OAhCA,EAoCA;AACA,oBADA;AAEA,2IAFA;AAGA;AAHA,OApCA,EAwCA;AACA,oBADA;AAEA,2IAFA;AAGA;AAHA,OAxCA;AA8CA;AAjjBA,GAjYA;AAo7BA;AACA;AACA,8BAFA,CAEA;;AACA;;AACA;AACA;;AACA;AACA;AACA,OAFA,MAGA;AACA;AACA;;AACA;AACA,mCADA;AAEA,yCAFA;AAGA,yCAHA;AAIA,iCAJA;AAKA,wCALA;AAMA,iCANA;AAOA,oCAPA;AAQA,qCARA;AASA,qCATA;AAUA,6CAVA;AAUA;AACA,yCAXA;AAWA;AACA,mCAZA,CAYA;;AAZA;;AAcA;AACA;AACA,wCAFA,CAEA;AACA,OAHA,MAIA;AACA;AACA,yCAFA,CAEA;AACA;AACA,KA9BA,MA+BA;AACA;AACA;;AACA;AACA,GA39BA;AA49BA;AACA,mBADA,2BACA,GADA,EACA,MADA,EACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA,SARA,MASA;AACA;AAEA;;AACA;AACA;AACA,OAjBA,MAkBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAPA,CAQA;AACA;AACA;AACA;AACA;AACA;AAEA;AAnCA,GA59BA;AAigCA;AACA;AACA,UAFA,oBAEA;AACA;AACA;AACA;AACA,KANA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eApKA,yBAoKA;AACA;AAAA;AACA;AACA;AACA,oDAHA,CAGA;;AACA;AACA;AACA;AACA,OAPA,MAQA;AACA;AACA;AACA,wBAHA,CAGA;;AACA,wBAJA,CAIA;;AACA;AACA;AACA;AACA;AACA;;AACA;AACA,WALA,MAKA;AACA;AACA;;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;;AACA;AACA;AACA,WAFA,MAGA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA,kCADA,CACA;AACA;;AACA;AACA,mCADA,CACA;;AACA;AACA;AACA;AACA,WALA,MAMA;AACA,oCADA,CACA;;AACA;AACA;AACA;AACA;AACA;AACA,WAPA,MAQA;AACA,mCADA,CACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA7OA;AA8OA;AACA,gBA/OA,0BA+OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAJA;;AAKA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA,KA9QA;AA+QA;AACA,aAhRA,uBAgRA;AAAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAJA;;AAKA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA,WAHA,MAGA;AACA;AACA;AACA,WAbA,CAcA;AACA;AACA;AACA;AACA;;AACA;;;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AACA;AACA;AACA,KAlVA;AAmVA;AACA,mBApVA,6BAoVA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,6BARA,CAQA;;AAEA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA,SAZA,MAaA;AACA;AAEA;AACA;;;AACA;AACA;AACA;AACA,SAHA,MAIA;AACA;AACA;AACA;AACA,SAJA,MAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;;AAAA;AACA;AACA;AACA,KA1ZA;AA2ZA;AACA,aA5ZA,uBA4ZA;AACA;;AACA;AACA;AACA;AACA,OAHA,MAIA;AACA;AACA;AACA;AACA,KAtaA;AAuaA;AACA,iBAxaA,yBAwaA,KAxaA,EAwaA;AACA;AACA,2CACA,oBADA,IACA,GADA,GAEA,6BAFA,GAEA,GAFA,GAGA,8BAHA,GAGA,GAHA,GAIA,gCAJA;AAKA;AACA,KAhbA;AAibA;AACA,WAlbA,mBAkbA,GAlbA,EAkbA;AACA;AACA;AACA;;AACA;AACA,KAvbA;AAwbA;AACA;AACA,KA1bA;AA2bA;AACA;AACA,0EACA,wDADA,IAEA,gDACA,2CAHA,EAIA;AACA;AACA;AACA;AACA;AACA;AACA,KAvcA;AAwcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SALA,MAKA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA,KA5dA;AA6dA;AACA;AACA;AACA;AACA;AACA,KAleA;AAmeA;AACA;AACA;AACA,wDAHA,CAIA;;AACA;AACA;AACA,KA1eA;AA2eA;AACA;AACA;AACA,KA9eA;AA+eA;AACA;AACA;AACA,KAlfA;AAmfA;AACA;AACA;AACA;AACA;AACA;AACA,KAzfA;AA0fA;AACA;AACA,KA5fA;AA6fA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAvgBA;AAwgBA;AAAA;AACA;AACA;AACA;;AACA;AACA;AACA,oDADA;AAEA,sCAFA;AAGA,kDAHA;AAIA,wBAJA;AAKA;AALA;AAOA,4CACA,IADA,CACA;AACA;;AACA;AACA;AACA,WAFA,MAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AAAA;AACA;AACA,aAXA,CAYA;;;AACA;AACA;AAEA,SAtBA,WAsBA;AACA;AACA,SAxBA;AAyBA;AACA,KA9iBA;AA+iBA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA,SAFA,MAGA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCA3BA,CA2BA;;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SANA,MAOA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA,WAFA,MAGA;AACA;AACA,WAFA,MAGA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA,SAFA,MAGA;AACA;AACA;;AAEA;AACA;;AACA;AACA;AACA;AACA,SALA,MAMA;AACA;AACA;AACA,6BAHA,CAGA;;AACA,0DAJA,CAIA;;AACA,0DALA,CAKA;;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA,SAlBA,MAmBA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AAEA,8BAxGA,CAwGA;;AACA,0BAzGA,CAyGA;;AAEA;AACA,4DA5GA,CA6GA;;AAGA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AAAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAFA,EAEA,IAFA;AAGA;;AACA;AACA,OAzIA,MAyIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBADA;AAEA,wBAFA;AAGA;AAHA;;AAKA;AAAA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA,KAntBA;AAotBA;AAEA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;;;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;;AACA,2BAbA,CAaA;;AACA;AACA,KAnuBA;AAouBA;AACA;AACA,qCACA,8BADA,GACA,GADA,GAEA,yBAFA;AAGA,KAzuBA;AA0uBA;AACA,mBA3uBA,2BA2uBA,SA3uBA,EA2uBA;AACA;AACA;AACA,OAFA,MAGA;AACA,8BADA,CACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA,KA5vBA;AA6vBA;AAAA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAnwBA;AAowBA;AACA;AACA;AACA;AACA,KAxwBA;AAywBA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA,KAhxBA;AAixBA;AAAA;AACA;AACA;AACA;;AACA;AACA;AACA,SAJA,CAKA;;;AACA;AAAA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA,aAHA,MAGA;AACA;AACA;AACA;AACA;;;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;;AACA;AACA;AACA;;AACA;;AACA;AAAA;AACA;AACA;AACA;AACA,SAJA,MAIA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SA5CA,CA6CA;;AACA;;;AACA;AACA;AACA;AACA;AACA,SAJA,MAIA;AACA;AACA;AACA;AACA;AAEA;;;AACA;AACA;AACA;AACA;AACA;AACA,WAJA,MAIA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA;AACA;AACA;;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA,SARA,MAQA;AACA;AACA;;AACA;AACA;AACA,KAt2BA;AAu2BA;AAAA;AACA;AACA;AACA;;AACA;AACA;AACA,oDADA;AAEA,sCAFA;AAGA,kDAHA;AAIA,gEAJA;AAKA,oEALA;AAMA;AANA;AAQA,iDACA,IADA,CACA;AACA;AACA;AAAA;AACA;AACA;AACA,aAHA,MAIA;AACA;AACA;AACA,aAHA,MAIA;AACA,sCADA,CACA;;AACA;AACA,aAHA,MAIA;AAEA;AACA;AACA;;AACA;AACA,WAnBA,MAoBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBADA;AAEA,+BAFA;AAGA;AAHA;AAKA;;AACA,4CAnCA,CAmCA;AAEA,SAtCA,WAsCA;AACA;AACA,SAxCA;AAyCA;AACA,KA95BA;AA+5BA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA;;AAGA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA,SAhCA,CAiCA;;AACA,OAlCA,MAkCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBADA;AAEA,2BAFA;AAGA;AAHA;AAKA;AACA,KAh9BA;AAi9BA;AAAA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;;AAUA;AACA,KA99BA;;AA+9BA;AACA;AACA;AACA;AACA,yBAHA,CAGA;;AACA,2BAJA,CAIA;;AACA,4BALA,CAKA;;AACA,gCANA,CAMA;;AACA,iCAPA,CAOA;;AACA,wBARA,CAQA;;AACA,yBATA,CASA;;AACA,4BAVA,CAUA;;AACA,6BAXA,CAWA;;AACA,6BAZA,CAYA;;AACA,wBAbA,CAaA;;AACA,2BAdA,CAcA;;AACA,2BAfA,CAeA;;AACA,0BAhBA,CAgBA;;AACA,wBAjBA,CAiBA;;AACA,yBAlBA,CAkBA;;AACA,8BAnBA,CAmBA;;AACA,wBApBA,CAoBA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AAxDA;AA0DA;;AACA,gHA9DA,CA8DA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA;;AACA;AACA,KAhlCA;AAilCA;AACA;AACA;AACA;AACA;AACA;AACA,KAvlCA;AAwlCA;AAAA;AACA;;AACA;AACA;AACA;AACA;AACA;;AACA;AACA,KAhmCA;AAimCA;AAAA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;;AACA;AACA,KA1mCA;AA2mCA;AAAA;AACA;;AACA;AACA;AACA;;AACA;AACA,KAjnCA;AAknCA;AAAA;AACA;AACA;AACA;;AACA;;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AAEA;AACA,aADA;AAEA,mCAFA;AAGA,oCAHA;AAIA,oBAJA;AAKA;AALA;AAOA;AACA,aADA;AAEA,qCAFA;AAGA,sCAHA;AAIA,oBAJA;AAKA;AALA;AAOA;AACA,aADA;AAEA,wCAFA;AAGA,yCAHA;AAIA,oBAJA;AAKA;AALA;AAOA;AACA,aADA;AAEA,mCAFA;AAGA,iBAHA;AAIA,oBAJA;AAKA;AALA;AAOA;AACA,aADA;AAEA,qCAFA;AAGA,iBAHA;AAIA,oBAJA;AAKA;AALA,SAMA;AACA,aADA;AAEA,sCAFA;AAGA,iBAHA;AAIA,oBAJA;AAKA;AALA,OANA;AAaA;AACA,aADA;AAEA,qCAFA;AAGA,iBAHA;AAIA,oBAJA;AAKA;AALA,SAMA;AACA,aADA;AAEA,qCAFA;AAGA,iBAHA;AAIA,oBAJA;AAKA;AALA,OANA,EAYA;AACA,aADA;AAEA,sCAFA;AAGA,iBAHA;AAIA,oBAJA;AAKA;AALA,OAZA,EAkBA;AACA,aADA;AAEA,wCAFA;AAGA,iBAHA;AAIA,oBAJA;AAKA;AALA,OAlBA,EAwBA;AACA,aADA;AAEA,sCAFA;AAGA,iBAHA;AAIA,oBAJA;AAKA;AALA,OAxBA;AA+BA;AACA;AACA;AACA,wBA5FA,CA4FA;;AACA;AACA;AACA;AACA;AACA;AACA,oBAlGA,CAkGA;;AACA;AACA,4BApGA,CAoGA;;AACA,8BArGA,CAqGA;;AACA,4BAtGA,CAsGA;;AACA;;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AAAA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA,SAnBA,MAmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SATA,MASA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;;;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA;AACA;;AACA;AACA;AACA;AACA;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;;AACA;AACA,SAfA,MAeA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAv7CA;AAw7CA;AAAA;AACA,8BADA,CACA;;AACA,2BAFA,CAEA;;AACA,2BAHA,CAGA;;AACA,uBAJA,CAIA;;AACA,sBALA,CAKA;;AACA,uBANA,CAMA;;AACA,uBAPA,CAOA;;AACA,6BARA,CAQA;;AACA,4BATA,CASA;;AACA,yBAVA,CAUA;;AACA,6BAXA,CAWA;;AACA,6BAZA,CAYA;;AACA,4BAbA,CAaA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,+BAtBA,CAsBA;;AACA,6BAvBA,CAuBA;;AACA,+BAxBA,CAwBA;;AACA,+BAzBA,CAyBA;;AACA;AACA;AACA,yBAFA,CAEA;;AACA,8BAHA,CAGA;;AACA;AACA;AACA;AACA;AACA;;AACA,yBATA,CASA;;AACA,gCAVA,CAUA;;AACA,gCAXA,CAWA;;AACA,gCAZA,CAYA;;AACA,gCAbA,CAaA;;AACA,oCAdA,CAcA;;AACA,2CAfA,CAeA;;AACA,oCAhBA,CAgBA;;AACA,oCAjBA,CAiBA;;AACA;AACA;AACA;AACA;AACA,OAhDA,CAiDA;;;AACA,4BAlDA,CAkDA;;AACA,0BAnDA,CAmDA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA,qCA5DA,CA6DA;AACA;AACA;;AACA;AACA,8BADA,CACA;AACA;;AACA,+CAnEA,CAmEA;;AACA;AACA;AACA,OAFA;AAGA,KA//CA;AAggDA;AACA;AAAA;AACA;AACA;;AACA;;AACA;AACA;AADA;;AAGA;AACA;AACA,gCACA;AACA,wCACA;AAEA;AACA;;AACA;AACA;AACA,OAnBA,CAqBA;;;AACA;AACA,qBAvBA,CAwBA;;AACA,mBAzBA,CAyBA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAPA,CAQA;;AACA,sCATA,CAUA;;AACA;AACA;AACA;AACA;;AACA,4CAzCA,CAyCA;AAEA;AACA;AAEA;;AACA;;AACA;AACA;AADA;;AAEA;;AACA;AACA;AADA,OAnDA,CAsDA;;;AACA,mDAvDA,CAwDA;;AACA;AACA;AACA;AACA;AACA;AACA,qBA9DA,CA8DA;;AACA;AACA;AAAA;AACA;AACA;;AACA;AAAA;AACA;AACA;AANA,OA/DA,CAuEA;AACA;AACA;;;AACA;AACA;AACA,8BAFA,CAGA;AACA;;AACA,wDALA,CAMA;AACA;;AACA,4FARA,CASA;;AACA,0CAVA,CAWA;;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA,KAhmDA;AAimDA;AACA;AACA;AACA,wCAHA,CAKA;;AACA;AACA;;AACA;AACA;AADA;AAEA,OAVA,CAYA;;;AACA;AACA;AADA;;AAGA;;AAEA;AACA;AACA,oBADA,CAEA;;AACA,sBAHA,CAIA;;AACA,oBALA,CAMA;AACA;;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA;;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,0BANA,CAOA;AACA;;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA,KA9pDA;AA+pDA;AAAA;;AACA;AACA;;AACA;AAAA;AACA;AACA,OAFA,MAEA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA;;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA;;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;;AACA;AACA,SArBA,MAqBA;AACA;AACA;AACA;;AACA;AACA;AACA,OA9BA,MA8BA,CAEA;;AACA;AACA,oCA7DA,CA8DA;AACA,KA9tDA;AA+tDA;AAAA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AATA;;AAWA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;;AACA;AACA,KAzvDA;AA0vDA;AAAA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AAZA;;AAcA;AACA,KA3wDA;AA4wDA;AAAA;AACA,gDADA,CACA;;AACA;AACA;AACA,qCAJA,CAIA;;AACA;AACA,yCANA,CAMA;;AACA;AACA,yCARA,CAQA;AACA,KArxDA;AAsxDA;AAAA;;AACA;AACA;AACA;AACA;;AACA;AAAA,UACA,SADA;AAEA,sBAPA,CAOA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA,OAPA,MAOA;AACA;AACA;AACA;AACA;;AACA;AACA,KA/0DA;;AAg1DA;AACA;AACA;AACA,cAn1DA,wBAm1DA;AAAA;;AACA;;AACA;AACA;AACA,qBADA;AAEA,4BAFA;AAGA;AAHA;AAKA;AACA,OAPA,MAQA;AACA;AACA,qBADA;AAEA,yBAFA;AAGA;AAHA;AAKA;AACA,OAPA,MAQA;AACA;AACA,qBADA;AAEA,yBAFA;AAGA;AAHA;AAKA;AACA;;AACA;AACA,0CADA;AACA;AACA,qCAFA;AAEA;AACA,iCAHA;AAGA;AACA,iCAJA,CAIA;;AAJA;AAMA,2FACA,IADA,CACA;AACA;;AACA;AACA;AACA,uBADA;AAEA,wBAFA;AAGA;AAHA;AAMA,SAPA,MAQA;AACA;AACA,SAFA,MAGA;AACA;AACA,SAFA,MAGA;AACA;AACA;AACA,OApBA,WAqBA;AACA;AACA;AACA,OAxBA;AAyBA,KA54DA;;AA64DA;AACA;AACA;AACA,iBAh5DA,2BAg5DA;AACA;AACA,KAl5DA;;AAm5DA;AACA;AACA;AACA,kBAt5DA,4BAs5DA;AACA;AACA,KAx5DA;AAy5DA;AACA;AACA;AACA;AADA;AAGA,KA95DA;AA+5DA;AAAA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA,KA36DA;AA46DA;AAAA;AACA;AACA,kBAFA,CAGA;;AACA;AACA;AACA,OANA,CAOA;;;AACA;AACA;AACA;;AACA;AACA,KAx7DA;AAy7DA;AAAA;AACA;AACA,uBAFA,CAGA;;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA,KAr8DA;AAs8DA;AAAA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA,mBARA,CAQA;;AACA,mBATA,CASA;;AACA;AACA,kBAXA,CAWA;;AACA;;AACA;AACA;AACA;AACA;AACA,wDADA;AAEA;AAFA;AAIA;AACA,OARA,MAQA;AAAA;AACA;AACA;AACA,sDADA;AAEA;AAFA;AAIA;AACA;AACA;;;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA,sBADA;AAEA,sBAFA;AAGA;AACA;AADA;AAHA;AAOA;AACA;AACA;;AACA;AACA;AACA;AACA,KA9/DA;AA+/DA;AAGA,KAlgEA;AAmgEA;AAAA;AACA;AACA;;AACA;AAAA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KA3gEA;AA4gEA;AAAA;AACA,sBADA,CAEA;;AACA;AACA;AACA;AACA,OAHA,MAIA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA,OAFA,EAEA,IAFA;AAGA,KA5hEA;AA6hEA;AAAA;AACA;AACA;AACA;AACA;AACA,KAliEA;AAmiEA;AAAA;AACA;AACA;;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;;AACA;AACA,KA5iEA;AA6iEA;AAAA;AACA,gCADA,CACA;;AACA,mCAFA,CAEA;;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA,OANA,MAMA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA;AAEA,KAjkEA;AAkkEA;AAAA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA,+BADA;AAEA;AACA,8BAHA;AAIA;AACA;AALA;AAOA;;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA,+BADA;AAEA;AACA,8BAHA;AAIA;AACA;AALA;AAOA;;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA,+BADA;AAEA;AACA,8BAHA;AAIA;AACA;AALA;AAOA;;AACA;AACA;;AACA;AACA;AArDA;AAuDA,OAxDA,MAwDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA,2BADA;AAEA;AACA,0BAHA;AAIA;AACA;AALA;AAOA;;AACA;AACA;AACA,2BADA;AAEA;AACA,0BAHA;AAIA;AACA;AALA;AAOA;;AACA;AACA;AACA,2BADA;AAEA;AACA,0BAHA;AAIA;AACA;AALA;AAOA;;AACA;AACA;AACA,KAvqEA;AAwqEA;AAAA;AACA;AACA;AACA,mCAHA,CAGA;;AACA,yBAJA,CAIA;;AACA,4BALA,CAKA;;AACA,oDANA,CAMA;;AACA,2CAPA,CAOA;;AACA,+CARA,CAQA;;AACA,+CATA,CASA;;AACA,6CAVA,CAUA;;AACA,2DAXA,CAWA;;AACA,gDAZA,CAYA;;AACA,8DAbA,CAaA;;AACA,+DAdA,CAcA;;AACA,mCAfA,CAeA;;AACA,kCAhBA,CAgBA;;AACA,kCAjBA,CAiBA;;AACA,0CAlBA,CAkBA;;AACA,sDAnBA,CAmBA;;AACA,0CApBA,CAoBA;;AACA,0CArBA,CAqBA;;AACA,+DAtBA,CAsBA;;AACA,uCAvBA,CAuBA;;AACA;AACA;AACA;AACA;AACA;;AACA;AAAA;AACA;AACA;;AACA,2BAhCA,CAgCA;;AACA;AACA,2CADA,CACA;AACA;;AACA,kEApCA,CAoCA;;AACA,+CArCA,CAqCA;;AACA;AACA,KA/sEA;AAgtEA;AAAA;AACA;AACA;;AACA;AACA;AACA;AACA,OAHA,MAIA;AACA;AACA;AACA,OAHA,MAIA;AACA;AACA;AACA;;AACA;AACA;AADA;AAGA,KAluEA;AAmuEA;AAAA;AACA;AACA;AACA,KAtuEA;AAuuEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AAAA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA,OAJA,MAIA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA,KA1wEA;AA2wEA;AAAA;AACA;AACA,wBAFA,CAEA;;AACA;AACA;AACA;AACA;;;AACA,yBAPA,CAOA;;AACA;AACA;;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,4CApBA,CAoBA;;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA,KA/yEA;AAgzEA;AAAA;AACA;AACA;AACA;AACA,uBAJA,CAIA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA,KAn0EA;AAo0EA;AAAA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA,sBARA,CASA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA,gBACA,EADA,EAEA,EAFA;AAIA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA;;AACA;;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA,KA72EA;AA82EA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AACA;AACA,2DACA;AACA;;AACA;AACA;AACA,wBAVA,CAYA;;AACA;AACA;AACA,SAfA,CAiBA;;;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA,OApCA,CAsCA;;;AACA;;AACA;AACA;AACA;;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA,qBATA,CAWA;;AACA;;AACA;AACA;AACA;AACA;;AAEA;AACA,KAz6EA;AA06EA;AAAA;AACA;AAAA,UACA,2BADA;AAAA,UAEA,CAFA,CADA,CAKA;;AACA;AACA;AACA,OARA,CAUA;;;AACA,uCAXA,CAaA;;AACA;AACA;AACA;;AAEA;AACA,KA77EA;AA87EA;AACA;;AAEA;AACA;;AACA;AACA;AACA;AACA;;AAEA;AACA,KAz8EA;AA08EA;AAAA;AACA;AACA;AACA;AACA,OAFA,EAEA,CAFA;AAGA;AACA,KAh9EA;AAi9EA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AAAA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA,WAPA,MAOA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA,WAPA,MAOA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;;AACA;AACA;;AACA;AACA;AACA,OAlCA,MAmCA;AAAA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA,WAHA,MAGA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA,WAPA,MAOA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA,WAPA,MAOA;AACA;AACA;AACA,WAHA,MAGA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA,OAtCA,MAuCA;AAAA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA,WANA,MAMA;AACA;AACA;AACA;AACA;AACA;AACA,WANA,MAMA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA,KAnkFA;AAokFA;AAAA;AACA,0DADA,CAEA;AACA,KAvkFA;AAwkFA,YAxkFA,sBAwkFA;AAAA;AACA;;AACA;AACA;AACA,OAFA,MAGA;AACA;AACA;AACA,KAhlFA;AAilFA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA,uCANA,CAMA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA;;AACA;AACA;AACA;AACA;AACA,OAnBA,MAmBA;AACA;AACA;AACA;AAAA,YACA,UADA;;AAEA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA,KA/nFA;AAgoFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCARA,CAQA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA;;AACA;AACA;AACA;AACA;AACA,OAnBA,MAmBA;AACA;AACA;AACA;AAAA,YACA,UADA;;AAEA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA;AAAA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA,OALA,MAKA;AACA;AACA;;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,KAzuFA;AA0uFA;AAAA;AACA;AACA;AACA;;AACA;AACA;AACA,qBADA;AAEA,iCAFA;AAGA;AAHA;AAKA;AACA;AACA,OARA,MAQA;AACA;AACA;AACA,uBADA;AAEA,kCAFA;AAGA;AAHA;AAKA;;AACA;AACA;AACA,OAVA,MAUA;AACA;AACA,qBADA;AAEA,iCAFA;AAGA;AAHA;AAKA;AACA;AACA,OARA,MAQA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AAEA,SAhBA,MAgBA;AACA;AACA;AACA,gDAHA,CAIA;;AACA;AACA;AACA;;AACA;AACA;AACA,OAzDA,CA0DA;;AACA;;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,KAh1FA;AAi1FA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,KA11FA;AA21FA;AAAA;AACA;AACA;AADA,SADA,CAIA;AACA,KAh2FA;AAi2FA;AAAA;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA,0EACA,wDADA,EACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA,KAl3FA;AAm3FA;AAAA;AACA;AACA;AACA;;AACA;AACA;AADA;AAGA,KA13FA;AA23FA;AAAA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA,0EACA,wDADA,IAEA,gDACA,2CAHA,EAIA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA,KA35FA;AA45FA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA,0BARA,CASA;AACA,KAt6FA;AAu6FA;AAAA;AACA,gDADA,CAEA;AACA,KA16FA;AA26FA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAn7FA;AAo7FA;AAAA;AACA;AACA,KAt7FA;AAu7FA;AAAA;AACA;AAEA,KA17FA;AA27FA;AACA;AACA;AACA,KA97FA;AA+7FA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAr8FA;AAs8FA;AACA,gCADA,CACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA/8FA;AAg9FA;AACA;;AACA;AACA;AACA,oDAFA,CAEA;AACA;;AACA;AACA;;AACA;;AACA;AACA;AACA,sEAFA,CAGA;;AACA;AACA;AACA;AACA,4CAPA,CAQA;;AACA;AACA;AACA;AACA;AADA,eAEA;AACA;AADA,aAFA,EAIA,IAJA,CAIA;AACA;AACA;AACA;AACA;AACA;AACA,aAVA;AAWA;AACA;AACA,SA3BA,EA2BA,GA3BA;AA4BA;AACA,KAn/FA;AAo/FA;AAEA;;AACA;AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;AACA,KAngGA;AAogGA;AAAA;AACA;AACA,KAtgGA;AAugGA;AACA;AACA;AACA;AACA,KA3gGA;AA4gGA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA,kBANA,CAMA;;AACA,sBAPA,CAOA;;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAtBA,MAsBA;AAAA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA,eAFA,MAEA;AACA;AACA;AACA,eAHA,MAGA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;;AACA;AACA;;AACA;AACA;AACA;;AACA;;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA,eAFA,MAEA;AACA;AACA;AACA,eAHA,MAGA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA,aAHA,MAGA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA,2BAnJA,CAoJA;AACA,KAjqGA;AAkqGA;AAAA;AACA;AACA;;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;;AAEA;AACA,KA5qGA;AA6qGA;AACA,4BADA,CACA;;AACA;AACA;AACA;AACA;AACA;AACA,iCAPA,CAOA;;AACA;AACA;AAAA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;;AACA;AAAA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA,WAhBA,MAgBA;AACA;AACA;;AACA;;AACA;AAAA;AACA;;AACA;AACA;;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA,WAjBA,MAiBA;AACA;AACA;;AACA;AACA;;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA,WAjBA,MAiBA;AACA;AACA;;AACA;AAtFA;;AAuFA;AACA;AACA;AACA,OAFA;AAGA,KAhxGA;AAixGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAPA,CAQA;;AACA;AACA;;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;;AACA;AACA;;AACA;AACA;AACA;;AACA;;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA,KA50GA;AA60GA;AACA,kCADA,CACA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA/1GA;AAg2GA;AAAA;AACA;AAAA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAt2GA;AAu2GA;AACA;AACA,gCADA,CACA;;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;AACA;;AAEA;;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA,OANA,MAMA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA,KAl4GA;AAm4GA;AACA;AACA;;AACA;AACA;AACA;;AACA;AAAA;AACA;;AACA;AACA;AACA;AACA;;AACA;AAAA;AACA;AACA,qBADA;AAEA,mCAFA;AAGA;AAHA;AAKA,OANA,MAMA;AACA;AACA;;AACA;AAAA;AACA;AACA,qBADA;AAEA,kCAFA;AAGA;AAHA;AAKA;AACA,KA/5GA;AAg6GA;AACA,eAj6GA,uBAi6GA,QAj6GA,EAi6GA,IAj6GA,EAi6GA;AACA,0BADA,CACA;;AACA;AACA;AACA,kBADA;AAEA,0CAFA;AAGA,wCAHA;AAIA,gCAJA;AAKA,8CALA;AAMA,0CANA;AAOA;AAPA;;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AAfA;;AAiBA;AACA;AACA;;AACA,wCACA,IADA,CACA;AACA;AACA;AACA,uBADA;AAEA,wBAFA;AAGA;AAHA;AAKA,SANA,MAOA;AACA;AACA,uBADA;AAEA,wBAFA;AAGA;AAHA;AAKA;AACA,OAhBA,WAiBA;AACA;AACA,OAnBA;AAoBA,KAr9GA;AAs9GA;AACA,eAv9GA,yBAu9GA;AACA;AACA;AACA,0CADA;AAEA;AAFA;AAIA,0CACA,IADA,CACA;AACA;AACA;AACA,uBADA;AAEA,wBAFA;AAGA;AAHA;AAKA,SANA,MAOA;AACA;AACA,uBADA;AAEA,wBAFA;AAGA;AAHA;AAKA;AACA,OAhBA;AAiBA,KA9+GA;AA++GA;AACA,kBAh/GA,4BAg/GA;AACA,0EADA,CACA;AACA,KAl/GA;AAm/GA,gBAn/GA,wBAm/GA,GAn/GA,EAm/GA;AACA;AACA;AACA,KAt/GA;AAu/GA;AACA,cAx/GA,sBAw/GA,KAx/GA,EAw/GA;AAAA;AACA;AACA,4BAFA,CAEA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA,OAJA,MAIA;AACA;AACA;;AACA;AACA;;AACA;AACA;AACA,uBADA;AAEA,4BAFA;AAGA;AAHA;AAKA;AACA;AACA;;AACA;AACA;;AACA;AACA;AACA,uBADA;AAEA,iCAFA;AAGA;AAHA;AAKA;AACA;AACA;;AACA,sCAtBA,CAsBA;;AACA,2CAvBA,CAuBA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBANA,CAMA;;AACA;AACA,4BARA,CAQA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA;;AACA;AACA;AACA,yBADA;AAEA,gCAFA;AAGA;AAHA;AAKA;AACA;;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;;AACA;AACA;AACA;AACA;;AACA;;AACA;;AACA;AACA;;AACA,6BAlDA,CAkDA;;AACA,4BAnDA,CAoDA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SA3DA;AA4DA;AACA,KA1lHA;;AA2lHA;AACA;AACA;AACA,aA9lHA,uBA8lHA;AACA;AACA;AACA,8EADA;AAEA,wCAFA;AAGA,sCAHA;AAIA,gEAJA;AAKA;AALA;AAOA;AACA,KAxmHA;;AAymHA;AACA;AACA;AACA,UA5mHA,oBA4mHA;AACA;AACA;AACA;AA/mHA;AAjgCA,G;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvNA;AACA;AACA,mBADA;AAEA,kEAFA;AAGA;AACA;AACA;AACA,iBAFA;AAGA;AACA,0BADA;AAEA,sBAFA;AAGA,2BAHA;AAIA,0BAJA;AAKA,qBALA;AAMA,0BANA;AAOA,qBAPA;AAQA,+BARA;AASA;AATA,OAHA;AAcA;AACA,oBADA;AAEA;AAFA,OAdA;AAkBA,oBAlBA;AAmBA,oBAnBA,CAmBA;;AAnBA;AAqBA,GAzBA;AA0BA;AACA;AACA;AACA,GA7BA;AA8BA;AACA;AACA;AACA,aADA,qBACA;AACA;;AACA;AACA;AACA;AACA,OANA;AAOA,gBAPA,CAOA;;AAPA,KAFA;AAWA;AACA;AACA,KAbA;AAcA;AACA;AACA;AACA;AACA;AACA;AAnBA,GA9BA;AAmDA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AAZA;AAcA,OAnBA,MAmBA;AACA;AACA;;AACA;AACA;AACA;AACA,SAHA,MAGA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA,KAxCA;AAyCA;AACA;AACA;;AACA;AACA;AACA,OAFA,MAGA;AACA;AACA,OAFA,MAGA;AACA;AACA;AAEA,KAtDA;AAuDA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA,2BACA,0CADA,GAEA,uCAFA;AAGA;AACA;AACA,KAjEA;AAkEA;AACA;AACA;AApEA;AAnDA,G;;;;;;;;;;;;ACjBA,uC;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,oBAAoB,SAAS,qBAAqB,EAAE;AACpD,kBAAkB,+BAA+B;AACjD,iBAAiB,4BAA4B;AAC7C;AACA;AACA,WAAW,8BAA8B;AACzC;AACA,wBAAwB,2BAA2B;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf,mBAAmB,6BAA6B;AAChD;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,8BAA8B;AACzC;AACA,wBAAwB,2BAA2B;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf,mBAAmB,4BAA4B;AAC/C;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,8BAA8B;AACzC;AACA,wBAAwB,2BAA2B;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf,mBAAmB,4BAA4B;AAC/C;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,0CAA0C,kBAAkB,EAAE;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,4BAA4B,SAAS,qCAAqC,EAAE;AAC5E;AACA;AACA;AACA,4BAA4B,SAAS,qCAAqC,EAAE;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS,6BAA6B;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf,SAAS;AACT;AACA,sBAAsB,0BAA0B;AAChD;AACA,sBAAsB,0BAA0B;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,yBAAyB;AACxC,iBAAiB,SAAS,yBAAyB,EAAE;AACrD;AACA;AACA,WAAW,0BAA0B;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,iBAAiB;AAC7C;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA,qBAAqB,8BAA8B;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,0BAA0B;AAC7C;AACA;AACA,aAAa,iDAAiD;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B,mBAAmB;AACnB;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,kBAAkB;AAC5C,oBAAoB,uBAAuB;AAC3C,iBAAiB;AACjB,WAAW;AACX;AACA,uBAAuB,kCAAkC;AACzD,yBAAyB,iDAAiD;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,yBAAyB,kDAAkD;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,uBAAuB,mCAAmC;AAC1D,yBAAyB,wBAAwB;AACjD;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA,gCAAgC,qCAAqC;AACrE;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,eAAe;AACzC,uBAAuB;AACvB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,eAAe;AACzC,uBAAuB;AACvB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,uBAAuB,kCAAkC;AACzD,4BAA4B,MAAM,wBAAwB,EAAE;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,kBAAkB;AAC5C,oBAAoB;AACpB,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA,2BAA2B,wCAAwC;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA,uBAAuB,mCAAmC;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,eAAe;AACzC,6BAA6B,sBAAsB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,uBAAuB,kCAAkC;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,kBAAkB;AAC5C,oBAAoB;AACpB,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,uBAAuB,mCAAmC;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,eAAe;AACzC,6BAA6B,qBAAqB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,eAAe;AACzC,6BAA6B,qBAAqB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B,iBAAiB;AACjB;AACA;AACA;AACA;AACA,uBAAuB,kCAAkC;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,kBAAkB;AAC5C,oBAAoB;AACpB,WAAW;AACX;AACA,uBAAuB,kCAAkC;AACzD;AACA;AACA;AACA,uBAAuB,mCAAmC;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,oBAAoB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,kCAAkC;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,kBAAkB;AAC5C,oBAAoB;AACpB,WAAW;AACX;AACA,uBAAuB,kCAAkC;AACzD;AACA;AACA;AACA,uBAAuB,mCAAmC;AAC1D,yBAAyB,+BAA+B;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,4CAA4C;AACxE,+BAA+B,6CAA6C;AAC5E;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA,yBAAyB,+BAA+B;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,4CAA4C;AACxE,+BAA+B,6CAA6C;AAC5E;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA,uBAAuB,kCAAkC;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B,eAAe;AACf;AACA,2BAA2B,wCAAwC;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA,uBAAuB,mCAAmC;AAC1D,yBAAyB,8BAA8B;AACvD,4BAA4B,2BAA2B;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA,gCAAgC,uBAAuB;AACvD,mCAAmC;AACnC,uBAAuB;AACvB;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA,yBAAyB,8BAA8B;AACvD,4BAA4B,2BAA2B;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA,uBAAuB,SAAS,aAAa,aAAa,aAAa,EAAE;AACzE;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA,yBAAyB,8BAA8B;AACvD,4BAA4B,2BAA2B;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA,uBAAuB,SAAS,aAAa,aAAa,aAAa,EAAE;AACzE;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA,uBAAuB,kCAAkC;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AA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CrS,SAAR,CACE,KAAK9G,MAAL,CAAYK,CAAZ,CAAcA,CADhB,EAEEsB,GAAG,CAAC3I,IAAJ,CAASC,GAFX,EAGE0I,GAAG,CAAC3I,IAAJ,CAASE,KAHX,EAIE,KAAK8G,MAAL,CAAYK,CAAZ,CAAcG,CAJhB;AAMD,OApzHgB;AAqzHjB;;AACA;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA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","file":"js/30-dbf7c8ca.js","sourcesContent":["<template>\r\n    <div id=\"wave-content\">\r\n        <header class=\"myHeader-data\">\r\n            <div class=\"form-group\">\r\n                <div class=\"select-group\">\r\n                    <span class=\"lableName\">组织：</span>\r\n                    <treeselect class=\"select-header\" :noOptionsText=\"noTips\" v-model=\"chooseTid\" :multiple=\"false\" :options=\"options\" :clearable=\"false\" placeholder=\"请选择组织\" @select=\"currDeptChange\"/>\r\n                    <!-- <select id=\"select-folder\" class=\"select-header\" v-model=\"chooseTid\" @change=\"selectFolder\">\r\n                        <option v-for=\"item in sortFolderList\" :value=\"item.t_id\" :title=\"item.t_name\">{{item.t_name}}</option>\r\n                    </select> -->\r\n                </div>\r\n                <div class=\"select-group\">\r\n                    <span class=\"lableName\">机组：</span>\r\n                    <treeselect class=\"select-header\" :noOptionsText=\"noTips\" v-model=\"chooseMacId\" :multiple=\"false\" :options=\"reSetMacList\" :clearable=\"false\"  placeholder=\"请选择机组\" @select=\"currMacChange\"/>\r\n                    <!-- <select id=\"select-mac\" class=\"select-header\" v-model=\"chooseMacId\" @change=\"selectMac\">\r\n                        <option v-for=\"item in sortMacList\" :value=\"item.mac_id\" :title=\"item.mac_me\">{{item.mac_me}}</option>\r\n                    </select> -->\r\n                </div>\r\n                <div class=\"select-group\">\r\n                    <span class=\"lableName\">测点名称：</span>\r\n                    <treeselect class=\"select-header\" :noOptionsText=\"noTips\" v-model=\"choosePosTypeId\" :multiple=\"false\" :options=\"reSetPosList\" :clearable=\"false\"  placeholder=\"请选择测点\" @select=\"dataPosChange\"/>\r\n                    <!-- <select id=\"select-position\" class=\"select-header\" v-model=\"choosePosTypeId\" @change=\"selectPosTypeId\">\r\n                        <option v-for=\"item in choosePosList\" :value=\"item.pos_type+'_'+item.pos_id\" :title=\"item.pos_name\" >{{item.pos_name}}</option>\r\n                    </select> -->\r\n                </div>\r\n            </div>\r\n            <div class=\"speed_choose_div\" id=\"hd_choose\">\r\n                <select @change=\"change_hd()\" class=\"hd_select\" v-model=\"hd_speed\">\r\n                    <option value=\"false\" id=\"hd_low_radio\">低密度波形</option>\r\n                    <option value=\"true\" id=\"hd_high_radio\">高密度波形</option>\r\n                </select>\r\n            </div>\r\n            <button class=\"btn_samp\" v-show=\"selectPosition.pos_type == 200\" @click=\"showSampAlert\">采样设置</button>\r\n            <div class=\"header-time\">\r\n                <span>起止时间：</span>\r\n                <el-date-picker\r\n                        v-model=\"timeValue\"\r\n                        type=\"datetimerange\"\r\n                        :picker-options=\"pickerOptions\"\r\n                        range-separator=\"至\"\r\n                        start-placeholder=\"开始日期\"\r\n                        end-placeholder=\"结束日期\"\r\n                        align=\"right\"\r\n                        @change=\"change()\"\r\n                >\r\n                </el-date-picker>\r\n                <!--<input type=\"text\" id=\"start_time\" class=\"am-form-field start_date flatpickr\" :placeholder=\"startTime\" :data-default-date=\"startTime\" />\r\n                <span>-</span>\r\n                <input type=\"text\" id=\"end_time\" class=\"am-form-field end_date flatpickr\" :placeholder=\"endTime\" />-->\r\n            </div>\r\n            <div :class=\"[flag_real?'dashDivSelectd':'dashDiv']\" @click=\"setRealBtn\">\r\n                <span class=\"dashSpan\"></span>\r\n                <span class=\"dashText\">{{toggleText}}</span>\r\n            </div>\r\n            <a class=\"am-btn am-btn-default line_info_btn keep_btn\" id=\"keep_download\" style=\"visibility: hidden\"><span class=\"tool_icon\"></span>&nbsp;保存页面</a>\r\n        </header>\r\n        <div class=\"content\">\r\n            <div id=\"wavespecturm_box\">\r\n                <div class=\"line_box\">\r\n                    <!--波形图-->\r\n                    <wave-chart :position=\"selectPosition\" v-bind:otp=\"1\" v-bind:option=\"waveOption\" v-show=\"showType1 == 1\" ref=\"chart1\" @set-unit=\"showUnitSelect(1)\" :height=\"maxRestoreHeight\" :type=\"specType\" @get-max=\"getMax\" :change=\"changePos\">\r\n                    </wave-chart>\r\n                    <!--频谱图-->\r\n                    <wave-chart :position=\"selectPosition\" v-bind:otp=\"2\" v-bind:option=\"specturmOption\" style=\"float: right;\" v-show=\"showType2 == 2\" ref=\"chart2\" @set-unit=\"showUnitSelect(2)\" :height=\"maxRestoreHeight\" @get-max=\"getMax\" @set-power=\"setAllPower\"></wave-chart>\r\n                    <!--趋势图-->\r\n                    <wave-chart :position=\"selectPosition\" v-bind:otp=\"3\" v-bind:option=\"historyOption\" v-show=\"showType3 == 3\" ref=\"chart3\" @set-unit=\"showUnitSelect(3)\" :height=\"maxRestoreHeight\" @get-max=\"getMax\"></wave-chart>\r\n                    <p class=\"noNowData\" v-show=\"noRealData\">没有实时波形</p>\r\n                    <p class=\"waveTimeText\">{{ changeTime}}</p>\r\n                    <input  class=\"input-loc-file\" name=\"fileLocal\" id=\"fileLocal\" type='file' multiple=\"multiple\" @change=\"selectFile($event)\"/>\r\n                    <button class=\"wave-btn btn-gate\" @click=\"showGate()\" v-show=\"selectPosition.pos_type==14\">{{gateText}}</button>\r\n                    <button class=\"wave-btn btn-import\" @click=\"importBaseWave\" v-show=\"selectPosition.pos_type==14\">导入基准</button>\r\n                    <button class=\"wave-btn btn-set\" @click=\"setBaseWave(baseInfo,ifImportBaseWave)\" v-show=\"selectPosition.pos_type==14\">设为基准</button>\r\n                    <button class=\"wave-btn btn-get\" @click=\"getBaseWave\" v-show=\"selectPosition.pos_type==14\">采集波形</button>\r\n                </div>\r\n                <!--右侧小工具-->\r\n                <div class=\"tool_box\">\r\n                    <ul class=\"tool_list\" ref=\"spectrumTools\">\r\n                        <li v-for=\"(tool,index) in tools\" @click=\"tool.toolFunc();addActive($event,index)\">\r\n                            <img class=\"tool_btn\" ref=\"tool_btn\" :title=\"tool.text\" :src=\"tool.icon\">\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n                <!--以下为弹窗-->\r\n                <!--设置所有测点有效频率-->\r\n                <div class=\"alert_box\" style=\"display: none\" ref=\"allPower\" id=\"allPower_alert\" @click=\"hideBox\">\r\n                    <div class=\"alert_box_header\">\r\n                        <div class=\"alert_box_header_left am-u-lg-8\">\r\n                            <i v-text=\"posOrderList.includes(Number(selectPosition.pos_type)) ? '所有测点有效阶次' : '所有测点有效频率'\"></i>\r\n                        </div>\r\n                        <div class=\"alert_box_header_right am-u-lg-4\"><span class=\"alert_box_close\" @click=\"closeAlert('#allPower_alert')\"></span></div>\r\n                    </div>\r\n                    <div class=\"alert_box_content\">\r\n                        <div class=\"allPos\">\r\n                            测点：<div :title=\"curPosName\" ref=\"curPos\" id=\"posName\">\r\n                            {{curPosName}}\r\n                        </div>\r\n                            <ul ref=\"selectBox\" v-show=\"boxShow\" class=\"allPosBox\">\r\n                                <li v-for=\"(item, index) in allPos\" :data-id=\"index\" @click.stop=\"selectAllPos\" :title=\"item.name\">\r\n                                    {{item.name}}\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                        <p>下限：<input type=\"text\" ref=\"powerA\" @input=\"setAllPowerA\">&nbsp;<i v-text=\"posOrderList.includes(Number(selectPosition.pos_type)) ? 'NX' : 'Hz'\"></i>\r\n                        </p>\r\n                        <p>上限：<input type=\"text\" ref=\"powerB\" @input=\"setAllPowerB\">&nbsp;<i v-text=\"posOrderList.includes(Number(selectPosition.pos_type)) ? 'NX' : 'Hz'\"></i>\r\n                        </p>\r\n                        <p class=\"alert_box_tips\" v-show=\"isRealAll\">\r\n                            上限需要大于下限</p>\r\n                    </div>\r\n                    <div class=\"alert_box_footer\">\r\n                        <button @click=\"allPowerOk\">确定</button>\r\n                        <button @click=\"closeAlert('#allPower_alert')\" class=\"cancel_btn\">取消</button>\r\n                    </div>\r\n                </div>\r\n\r\n                <!--低频过滤的弹窗-->\r\n                <div id=\"hide_low_alert\" class=\"alert_box\" style=\"display: none\">\r\n                    <div class=\"alert_box_header\" v-text=\"posOrderList.includes(Number(selectPosition.pos_type)) ? '低阶次过滤' : '低频过滤'\">\r\n                        <div class=\"alert_box_header_right\"><span class=\"alert_box_close\" @click=\"closeAlert('#hide_low_alert')\"></span></div>\r\n                    </div>\r\n                    <div class=\"alert_box_content\">\r\n                        <div><span v-text=\"posOrderList.includes(Number(selectPosition.pos_type)) ? '过滤阶次' : '过滤频率'\"></span>：<input type=\"text\" v-model=\"hide_low\"></div>\r\n                    </div>\r\n                    <div class=\"alert_box_footer\">\r\n                        <button @click=\"hideLowOk('#hide_low_alert')\">确定</button>\r\n                        <button @click=\"closeAlert('#hide_low_alert')\" class=\"cancel_btn\">取消</button>\r\n                    </div>\r\n                </div>\r\n                <!--有效频率设置的弹窗-->\r\n                <div id=\"powerRms_alert\" class=\"alert_box\" style=\"display: none\">\r\n                    <div class=\"alert_box_header\" v-text=\"posOrderList.includes(Number(selectPosition.pos_type)) ? '有效阶次' : '有效频率'\">\r\n                    </div>\r\n                    <div class=\"alert_box_content\">\r\n                        <p>下限：<input type=\"text\" v-model=\"power_a\">&nbsp;<i v-text=\"posOrderList.includes(Number(selectPosition.pos_type)) ? 'NX' : 'Hz'\"></i>\r\n                        </p>\r\n                        <p>上限：<input type=\"text\" v-model=\"power_b\">&nbsp;<i v-text=\"posOrderList.includes(Number(selectPosition.pos_type)) ? 'NX' : 'Hz'\"></i>\r\n                        </p>\r\n                        <p class=\"alert_box_tips\" id=\"alert_tips\" v-show=\"Number(power_a)>Number(power_b)&amp;&amp;power_b!=0\">上限需要大于下限\r\n                        </p>\r\n                    </div>\r\n                    <div class=\"alert_box_footer\">\r\n                        <button @click=\"powerRmsOk('#powerRms_alert')\">确定</button>\r\n                        <button @click=\"closeAlert('#powerRms_alert')\" class=\"cancel_btn\">取消</button>\r\n                    </div>\r\n                </div>\r\n\r\n                <!--单位选择-->\r\n                <div id=\"unitSelect_alert\" class=\"alert_box\" style=\"display: none\">\r\n                    <div class=\"alert_box_header\">\r\n                        单位选择\r\n                    </div>\r\n                    <div class=\"alert_box_content\">\r\n                        <p>单位选择：\r\n                            <select v-model=\"unitSelect\" @change=\"\" id=\"unit_select\" v-cloak=\"\">\r\n                                <option value=\"g\" v-show=\"unitSrc=='g' || unitSrc=='m/s²' || unitSrc=='m/s2'\">g</option>\r\n                                <option value=\"m/s²\" v-show=\"unitSrc=='g' || unitSrc=='m/s²' || unitSrc=='m/s2'\">m/s²\r\n                                </option>\r\n                                <option value=\"mm/s\" v-show=\"unitType != 3 ? specType==2 ? unitSrc=='mm/s' : unitSrc=='gD' || unitSrc=='°' || unitSrc == 'mV' || unitSrc == 'rpm' ? false: true : false\">\r\n                                    mm/s</option>\r\n                                <option value=\"μm\" v-show=\"unitType != 3 ? specType==2 ? unitSrc=='μm': unitSrc=='gD' || unitSrc=='°' || unitSrc == 'mV' || unitSrc == 'rpm' ? false : true : false\">\r\n                                    μm</option>\r\n                            </select>\r\n                        </p>\r\n                    </div>\r\n                    <div class=\"alert_box_footer\">\r\n                        <button @click=\"unitSelectOk('#unitSelect_alert')\">确定</button>\r\n                        <button @click=\"closeAlert('#unitSelect_alert')\" class=\"cancel_btn\">取消</button>\r\n                    </div>\r\n                </div>\r\n                <!--导入基准波形选择-->\r\n                <div id=\"waveSelect_alert\" class=\"alert_box\" style=\"display: none\">\r\n                    <div class=\"alert_box_header\">\r\n                        选择导入方式\r\n                    </div>\r\n                    <div class=\"alert_box_content\">\r\n                        <div class=\"waveAlert_div\">\r\n                            <label><input type=\"radio\" name=\"radios\" value=\"1\" v-model=\"ifImportBaseWave\">导入基准波形</label>\r\n                        </div>\r\n                        <div class=\"waveAlert_div\">\r\n                            <label><input type=\"radio\" name=\"radios\" value=\"3\" v-model=\"ifImportBaseWave\">导入基准波形并覆盖参数</label>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"alert_box_footer\">\r\n                        <button @click=\"waveSelectOk('#waveSelect_alert')\">确定</button>\r\n                        <button @click=\"closeAlert('#waveSelect_alert')\" class=\"cancel_btn\">取消</button>\r\n                    </div>\r\n                </div>\r\n                <!--采样设置弹窗-->\r\n                <div id=\"samp_alert\" class=\"alert_box\" v-show=\"isSampAlert\">\r\n                    <div class=\"alert_box_header\" v-text=\"'采样设置'\">\r\n                        <div class=\"alert_box_header_right\"><span class=\"alert_box_close\" @click=\"closeAlert('#samp_alert')\"></span></div>\r\n                    </div>\r\n                    <div class=\"alert_box_content\">\r\n                        <div class=\"select-group\">\r\n                            <span class=\"lableName\">测点选择：</span>\r\n                            <select class=\"select\" v-model=\"chooseSampId\">\r\n                                <option v-for=\"item in sampPosList\" :value=\"item.ch_id\" :title=\"item.pos_name\">{{item.pos_name}}</option>\r\n                            </select>\r\n                        </div>\r\n                        <div class=\"select-group\">\r\n                            <span class=\"lableName\">分析频率：</span>\r\n                            <select class=\"select\" v-model=\"chooseSampFreq\">\r\n                                <option v-for=\"(val,key) in captureFreqSources\" :value=\"key\" :title=\"val\">{{val}}</option>\r\n                            </select>\r\n                        </div>\r\n                        <div class=\"select-group\">\r\n                            <span class=\"lableName\">采集时间：</span>\r\n                            <select class=\"select\" v-model=\"chooseSampTime\">\r\n                                <option v-for=\"(val,key) in captureTimeSources\" :value=\"val\" :title=\"key\">{{key}}</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"alert_box_footer\">\r\n                        <button @click=\"hideSampOk()\">开始采集</button>\r\n                        <button @click=\"closeSampAlert()\" class=\"cancel_btn\">取消</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import WaveChart from 'viewInterface/components/wave/WaveChart'\r\n    /*import flatpickr from 'flatpickr';\r\n    import 'flatpickr/dist/flatpickr.min.css'*/\r\n    import html2canvas from 'html2canvas';\r\n    import {compareName,captureFreqSourcesObj,freqToCaptureTime,getUnit1} from 'utils/utils'\r\n    import getApi from 'network/getApi'\r\n    import head from '@/viewInterface/assets/common/headCommon.js'\r\n\r\n    export default {\r\n        name: \"Wave\",\r\n        components: {WaveChart},\r\n        mixins: [head],\r\n        data() {\r\n            return {\r\n                posOrderList:[8,9,16],//阶次测点类型:振动阶次，包络阶次，冲击阶次\r\n                dataResult:[],//获取组织、机组原始信息\r\n                folderList:[],//初始组织列表\r\n                macList:{},//初始机组列表\r\n                posList:{},//初始测点列表\r\n                // chooseMacList:[],//选择的机组列表\r\n                // choosePosList:[],//选择的测点列表\r\n                // chooseTid:'',//所选的组织id\r\n                chooseTroot:'',//所选组织的类型\r\n                // chooseMacId:'',//所选的机组id\r\n                // choosePosTypeId: \"\",//所选的测点id\r\n                choosePosName:\"\",//所选的测点名\r\n                // toggleText:'实时',//实时与历史按钮文字\r\n                // chooseIsRealType:1,//1是历史数据，2是实时数据\r\n                activeNum:2,//当前界面的index\r\n                noRealData:false,//有没有实时波形\r\n\r\n                axisPointerColor: \"#FA9A4D\", //频谱图tooltip的标示线的颜色\r\n                axisPointerColor_wave: \"#FA9A4D\", //波形图tooltip的标示线的颜色\r\n                axisPointerColor_his: \"#FA9A4D\", //趋势图的tooltip的标示线的颜色\r\n                click_offsetX: 0, //点击频谱图的点的x轴位置\r\n                clickNum: 0, //点击的图标0表示没有点击，1表示波形图，2表示频谱图，3表示趋势图\r\n                xIndex_history: 0, //点击的趋势图的点的横坐标下标\r\n                xIndex: -1, //点击的频谱图的点的横坐标下标\r\n                xValue: 0, //点击的频谱图的点的横坐标值\r\n                xf_index: 0, //校准倍频时频谱图点击的点的横坐标下标\r\n                xf_xValue: 0, //校准倍频时频谱图点击的点的横坐标值\r\n                xIndexWave: 0, //点击的波形图的点的横坐标下标\r\n                flag_wave_extend: 0, //时间差是否画周期性延展线\r\n                flag_spec_extend: 0, //频谱图对称频率差是否画三条等间隔线\r\n                arr_B: [], //倍频数组\r\n                arr_C: [], //差频数组\r\n                specType: 1, //频谱图类型：1频谱 2阶次\r\n                spectrumStyle: 'line', //频谱图显示类型\r\n                timeColor: \"#fff\", //时间差图标的颜色\r\n                titleScale1: '最大化', //最大化按钮的提示文字\r\n                iconScale1: 'path://M18.9,15.2L31.8,2.2 M31.8,31.8L18.9,18.9 M15.1,15.2L2.2,2.2 M15.1,18.9L2.2,31.8 M22.1,1.3h10.7v9.9 M22.8,32.7h9.9V22.1   M11.1,1.3H1.2v10.7 M1.3,22.8v9.9h10.7', //最大化的logo\r\n                titleScale2: '最大化', //最大化按钮的提示文字\r\n                iconScale2: 'path://M18.9,15.2L31.8,2.2 M31.8,31.8L18.9,18.9 M15.1,15.2L2.2,2.2 M15.1,18.9L2.2,31.8 M22.1,1.3h10.7v9.9 M22.8,32.7h9.9V22.1   M11.1,1.3H1.2v10.7 M1.3,22.8v9.9h10.7', //最大化的logo\r\n                titleScale3: '最大化', //最大化按钮的提示文字\r\n                iconScale3: 'path://M18.9,15.2L31.8,2.2 M31.8,31.8L18.9,18.9 M15.1,15.2L2.2,2.2 M15.1,18.9L2.2,31.8 M22.1,1.3h10.7v9.9 M22.8,32.7h9.9V22.1   M11.1,1.3H1.2v10.7 M1.3,22.8v9.9h10.7', //最大化的logo\r\n                startTime: 0,\r\n                endTime: 0,\r\n                pickerOptions: {\r\n                    shortcuts: [{\r\n                        text: '最近一周',\r\n                        onClick(picker) {\r\n                            const end = new Date();\r\n                            const start = new Date();\r\n                            start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\r\n                            picker.$emit('pick', [start, end]);\r\n                        }\r\n                    }, {\r\n                        text: '最近一个月',\r\n                        onClick(picker) {\r\n                            const end = new Date();\r\n                            const start = new Date();\r\n                            start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\r\n                            picker.$emit('pick', [start, end]);\r\n                        }\r\n                    }, {\r\n                        text: '最近三个月',\r\n                        onClick(picker) {\r\n                            const end = new Date();\r\n                            const start = new Date();\r\n                            start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\r\n                            picker.$emit('pick', [start, end]);\r\n                        },\r\n                    }, {\r\n                        text: '最近半年',\r\n                        onClick(picker) {\r\n                            const end = new Date();\r\n                            const start = new Date();\r\n                            start.setTime(start.getTime() - 3600 * 1000 * 24 * 180);\r\n                            picker.$emit('pick', [start, end]);\r\n                        },\r\n                    }, {\r\n                        text: '最近1年',\r\n                        onClick(picker) {\r\n                            const end = new Date();\r\n                            const start = new Date();\r\n                            start.setTime(start.getTime() - 3600 * 1000 * 24 * 365);\r\n                            picker.$emit('pick', [start, end]);\r\n                        },\r\n                    }\r\n                    ]\r\n                },\r\n                timeValue: [new Date(new Date - 60*24*3600*1000), new Date],//日历起止时间\r\n                minSpeed: 0,\r\n                maxSpeed: 2000,\r\n                requestTime: 0, //时间节点，用于请求数据 0=实时\r\n                timer: null, //计时器\r\n                sourceWaveX: [], //原始波形\r\n                sourceWaveY: [],\r\n                waveX: [],\r\n                waveY: [], //波形图数据\r\n                historyData: [], //趋势图数据\r\n                srcSpectrum: {}, //不做汉宁窗的原始频谱，用于计算波形\r\n                countSpectrum: {}, //参与计算波形的频谱\r\n                sourceSpectrumX: [], //原始频谱X\r\n                sourceSpectrumY: [],\r\n                scoreSpectrumY: [], //积分后的频谱Y\r\n                spectrumX: [], //显示频谱X\r\n                spectrumY: [], //频谱图数据\r\n                machines: [],\r\n                sortPositions: [], //测点重新排序\r\n                selectMachine: {}, //选中机组\r\n                selectMachineId: '', //选中机组Id\r\n                // gSelectMacId:\"\",\r\n                selectPosition: {}, //选中测点\r\n                selectPositionId: '', //选中测点ID\r\n                selectPositionName: '', //选中测点名称\r\n                curSpeed: 0, //转速rpm\r\n                last_xWave: {}, //上一个选中点\r\n                last_xWave_time: {}, //时间差上一个选中点\r\n                last_xSpec: {}, //上一个选中点\r\n                last_xSpec_time: {}, //对称频率差上一个选中点\r\n                oneFreq: 0, //1倍频\r\n                fMaxFZ: 0, //最大幅值\r\n                maxFreq: 0, //最大频率\r\n                samples: 0, //总采样点数\r\n                freqX: [], //频谱图X轴刻度值\r\n                spectral: 0, //采样点数\r\n                peakIndexArr: [], //自动寻峰10个坐标索引\r\n                flag_real: 1, //实时状态\r\n                flag_subTime: 0, //时间差\r\n                flag_winFunc: 0, //汉宁窗\r\n                flag_subFreq: 0, //频差\r\n                flag_showGate: 1, //显示闸门，默认开启\r\n                gateText: '开启闸门', //开启闸门的按钮文字\r\n                flag_oneF: 0, //1倍频标记\r\n                flag_nx: 0, //标注倍频\r\n                flag_f_nx: { //阶比\r\n                    val: 0,\r\n                    isChange: false\r\n                },\r\n                // flag_f_nx: 0,//阶比\r\n                flag_addLabel: 0, //添加标注\r\n                // str_realState:\"获取中\",\r\n                // str_realBtn:\"停止\",//实时按钮label\r\n                nxArrayWave: [], //带标签竖线\r\n                hide_low: 0, //低频过滤\r\n                sc_power_a: 0, //有效频率初始下限\r\n                power_a: -1, //有效频率下限\r\n                power_b: 0, //有效频率上限\r\n                nxArraySpec: [], //带标签竖线\r\n                autoPeakNum: -1, //自动寻峰计数\r\n                labelList: [], //标注列表\r\n                unitSelect: \"\", //当前操作的单位\r\n                unitSrc: \"\", //\r\n                unitType: 1, //当前操作的图谱单位\r\n                unitWave: \"\", //波形单位\r\n                srcUnitWave: \"\", //设置的波形单位\r\n                unitRms: \"\", //rms的单位\r\n                unitXWave: \"s\",\r\n                unitSpec: \"\", //频谱图单位\r\n                srcUnitSpec: \"\", //设置的频谱单位\r\n                unitXSpec: \"Hz\",\r\n                unitTrend: \"\", //趋势图单位\r\n                srcUnitTrend: '', // 设置的趋势图单位\r\n                zoomStartXWave: 0, //波形图X轴缩放起始位置（百分比）\r\n                zoomEndXWave: 100, //波形图X轴缩放结束位置（百分比）\r\n                zoomStartXSpec: 0, //频谱图X轴缩放起始位置（百分比）\r\n                zoomEndXSpec: 100, //频谱图X轴缩放结束位置（百分比）\r\n                gearList: [], //啮合频率\r\n                bearList: [], //轴承通过频率\r\n                speedList: [], //转频\r\n                failureList: [], //故障频率明细列表\r\n                failureList_detail: [], //故障频率明细列表\r\n                rotateSpeed: 0, //rpm\r\n                validValue: 0, //rms\r\n                changeTime: \"\", //初始化时间\r\n                oriChangeTime:\"\",//初始原始时间\r\n                showType1: 1, //是否显示全部\r\n                showType2: 2, //是否显示全部\r\n                showType3: 3, //是否显示全部\r\n                flag_show: 0, //是否点击显示全部按钮\r\n                freq_speed_failure: 0, //发电机输入轴转速\r\n                interValNum_spectrumX: 1, //频谱图x轴刻度间隔值\r\n                interValNum_waveX: 1, //波形图x轴刻度间隔值\r\n                sourceHistoryY: [], // 历史数据原始y轴坐标值\r\n                historyX: [], //历史数据x轴坐标值\r\n                historyY: [], // 历史数据y轴坐标值\r\n                freqXtrum: [], //x轴阶比功能时x轴的值\r\n                selIndex: 0, //选中的测点下标\r\n                hasPos: false, //是否有默认测点传入\r\n                failureUnit: \"Hz\", //故障频率和故障明细的单位\r\n                failureUnit_detail: \"Hz\", //故障频率明细的单位\r\n                hd_speed: false, //转速测点的高密度波形，低密度波形\r\n                click_num: 0, //记录点击次数\r\n                name_type: \"\", //故障频率传动链名字尾缀，阶次测点显示“阶次”，其他测点显示“频率”\r\n                name_type_speed: \"\", //故障频率传动链转速名字尾缀，阶次测点显示“动阶次”，其他测点显示“频”\r\n                alarm_type: 1, //当前fft算法计算的频谱为峰值。0=有效值，1=峰值，2=峰峰值\r\n                flag_addPeak: true, //校准倍频按钮，默认启用\r\n                click_peak: \"click\", //校准倍频时tooltip为none，其他时候为“click”\r\n                flag_toolTip: false, //频谱图toolTip的内容区域是否显示\r\n                flag_his_toolTip: false, //趋势图的toolTip的内容区域是否显示\r\n                flag_wave_toolTip: false, //波形图的toolTip的内容区域是否显示\r\n                flag_keyBoard: false, //是否开启鼠标事件\r\n                isLoading: true, // 是否显示趋势图加载提示\r\n                search_data: {\r\n                    mac_id: -1,\r\n                    pos_name: \"\",\r\n                    value_type: -1,\r\n                    end_time: new Date,\r\n                    start_time: new Date(new Date - 60*24*3600*1000),\r\n                    max_speed: 2000,\r\n                    min_speed: 50,\r\n                    mac_name_y: \"\",\r\n                    pos_name_y: \"\",\r\n                    value_type_y: -1,\r\n                    // mac_type:1\r\n                },\r\n                isSetPower: false, // 是否设置有效频率\r\n                choose_factory: {\r\n                    db_type: \"root_test_127.0.0.1_3306_1\",\r\n                    factory_id: 1535681473331,\r\n                    factory_name: \"\",\r\n                    country: \"\",\r\n                    province: \"\",\r\n                    normalNum: 0,\r\n                    warningNum: 0,\r\n                    alarmNum: 0,\r\n                    offNum: 0,\r\n                    allNum: 0,\r\n                    onNum: 0,\r\n                    type: 0, //现场类型 0风电；3水电；1水泥；4旋转机械设备\r\n                    factory_type: 1,\r\n                },\r\n                choose_machine: {\r\n                    db_type: \"\",\r\n                    factory_id: -1,\r\n                    factory_name: \"\",\r\n                    factory_type: 1,\r\n                    machine_name: \"\",\r\n                    machine_type: 0,\r\n                    machine_id: \"\",\r\n                    pump_id: -1,\r\n                    line_idx: 1,\r\n                    station_id: -1,\r\n                    rate_speed: 1\r\n                },\r\n                choose_position: {\r\n                    db_type: \"\", //数据库类型\r\n                    factory_id: -1, //现场id\r\n                    factory_name: \"\", //现场名称\r\n                    factory_type: 1, //根据数据库类型返回现场类型 1：风电 4：水电 8：水泥厂\r\n                    machine_name: \"\", //机组名称\r\n                    machine_type: 0, //机组类型\r\n                    machine_id: -1, //机组id\r\n                    pump_id: -1, //机泵id\r\n                    station_id: -1, //水电机组绑定水电站id\r\n                    rate_speed: 1, //机泵额定转速\r\n                    position_name: \"\", //测点名称\r\n                    activity: -1,\r\n                    line_idx: 1,\r\n                    position_id: -1, //测点id\r\n                    position_type: -1, //测点类型\r\n                    key_id: -1, ///key id\r\n                    unit: \"\",\r\n                    unit_sensor: \"\", //传感器器类型单位\r\n                    flange_id: '', //法兰id\r\n                    flange_name: '', //法兰名称\r\n                    tower_channel: 1, //区分塔顶倾角和塔底沉降，2表示沉降\r\n                    angle_time: \"2018-11-16 09:16:17\", //倾角时间\r\n                    angle_val: 0, //倾角幅值\r\n                    angle_place: 0, //倾角相位\r\n                    rock1_id: 0, //倾角x轴id\r\n                    rock2_id: 0, //倾角y轴id\r\n                    offset_angle: 0, //偏置角度\r\n                    condition_rock: \"其他工况：\", //工况\r\n                    isWheel: false\r\n                },\r\n\r\n                toolTip: { // 点击提示信息\r\n                    backgroundColor: '#FA9A4D',\r\n                    fontStyle: {\r\n                        size: '12px'\r\n                    }\r\n                },\r\n                symbol: {\r\n                    color: '',\r\n                },\r\n                waveOptions: {\r\n                    title: {\r\n                        align: 'left', // 波形图标题离容器左侧距离\r\n                        fontSize: '20px', // 波形图标题字体大小\r\n                        color: '#999', //  波形图标题颜色\r\n                    },\r\n                    series: {\r\n                        fontSize: '12px', // 波形图坐标刻度字体大小\r\n                    },\r\n                    grid: {\r\n                        left: 80, // 波形图离容器左侧距离\r\n                        top: 80, // 波形图离容器上侧距离\r\n                        right: 30, // 波形图离容器右侧距离\r\n                        bottom: 60 // 波形图离容器下侧距离\r\n                    }\r\n                },\r\n                spectrumOptions: {\r\n                    title: {\r\n                        align: 'left', // 频谱图标题离容器左侧距离\r\n                        fontSize: '20px', //  频谱图标题字体大小\r\n                        color: '#999', //  频谱图标题颜色\r\n                    },\r\n                    series: {\r\n                        fontSize: '12px', // 频谱图坐标刻度字体大小\r\n                    },\r\n                    grid: {\r\n                        left: 80, // 频谱图离容器左侧距离\r\n                        top: 80, // 频谱图离容器上侧距离\r\n                        right: 30, // 频谱图离容器右侧距离\r\n                        bottom: 60 // 频谱图离容器下侧距离\r\n                    }\r\n                },\r\n                historyOptions: {\r\n                    title: {\r\n                        align: 'left', // 趋势图标题离容器左侧距离\r\n                        fontSize: '20px', //  趋势图标题字体大小\r\n                        color: '#999', //  趋势图标题颜色\r\n                    },\r\n                    series: {\r\n                        fontSize: '12px', // 趋势图坐标刻度字体大小\r\n                    },\r\n                    grid: {\r\n                        left: 80, // 趋势图离容器左侧距离\r\n                        top: 60, // 趋势图离容器上侧距离\r\n                        right: 30, // 趋势图离容器右侧距离\r\n                        bottom: 60 // 趋势图离容器下侧距离\r\n                    },\r\n                },\r\n                spectrumColor: {\r\n                    font: '#999', // 字体颜色\r\n                    background: '#131F4D', // 保存图片背景颜色\r\n                    line: '#3D77FF', // 图谱颜色\r\n                    yLine: '#fff', // 趋势图轴线颜色\r\n                    bLineColor: 'yellow',\r\n                    color:'#999',//轴线颜色\r\n                },\r\n                fileName: '', // 导出文件名称\r\n                maxRestoreHeight: {\r\n                    maxHeight: '500px', // 最大化坐标高度\r\n                    waveHeight: '', // 波形图和频谱图还原后高度\r\n                    historyHeight: '220px', // 趋势图还原后高度\r\n                },\r\n                showSymbol: false, // 趋势图标识显示/隐藏\r\n                spectrumXNum: 1,\r\n                waveXNum: 1,\r\n                changePos: false,\r\n                // changeTrend: true,\r\n                cutSpectrum: {},\r\n                spectrumTools: [],\r\n                selectPos: '', // 上一次选择的测点 (position_type + position_id + machine_id)\r\n                allPos: [], // 所有测点\r\n                sourceAllPower: [], // 所有测点原始频率\r\n                allPower: [], // 所有测点频率\r\n                posIndex: 0, // 当前测点下标\r\n                boxShow: false,\r\n                isRealAll: false, // 所有测点频率提示\r\n                loadWave: true, // 波形频谱图加载提示\r\n                changeTrend: false, // 是否只改变趋势图\r\n                curPosFlag: null, // 当前选中测点\r\n                curPosName: '', // 当前选中测点名字\r\n                ifImportBaseWave: 2,//是否是导入的基准波形,1导入基准，2，非导入的基准\r\n                baseInfo:{},//导入基准的解析信息\r\n                isSampAlert: false,//采样设置弹窗\r\n                chooseSampId:'',//选择的手动长采样的测点的通道id\r\n                chooseSampFreq:'',//选择的手动长采样的分析频率\r\n                chooseSampTime:'',//选择的手动长采样的采集时间\r\n                captureFreqSources:captureFreqSourcesObj,//手动长采样分析频率下拉选项\r\n            }\r\n        },\r\n        created: function() {\r\n            this.$emit('ievent', this.activeNum);\r\n        },\r\n        mounted: function() {\r\n            this.getHeadData(2);\r\n            this.spectrumTools = this.$refs.spectrumTools.children;\r\n        },\r\n        computed: {\r\n            sortFolderList: function () {\r\n                return this.folderList.sort(compareName('t_name'));\r\n            },\r\n            sortMacList: function () {\r\n                return this.chooseMacList.sort(compareName('mac_me'));\r\n            },\r\n            captureTimeSources(){//手动长采样采集时间下拉选项\r\n                return freqToCaptureTime(this.chooseSampFreq);\r\n            },\r\n            //手动长采样测点列表\r\n            sampPosList(){\r\n                let list = this.choosePosList;\r\n                let arr = [];\r\n                if(list && list.length){\r\n                    list.forEach(pos=>{\r\n                        if(pos.pos_type==200 && Number(pos.capture_mode)===1){\r\n                            arr.push(pos);\r\n                        }\r\n                    })\r\n                }\r\n                return arr;\r\n            },\r\n            waveOption: function() {\r\n                var that = this;\r\n                if(!this.selectMachine.mac_me){\r\n                    this.selectMachine.mac_me = '';\r\n                }\r\n                if(!this.selectPosition.pos_name){\r\n                    this.selectPosition.pos_name = '';\r\n                }\r\n                this.fileName = this.selectMachine.mac_me+'_'+this.selectPosition.pos_name;\r\n                return {\r\n                    type: {\r\n                        chart: \"1\" /* 1.波形频谱图 2.对比分析 */,\r\n                        chartType: \"wave\" /* 波形（wave）,频谱（spectrum）,趋势图（trend） */\r\n                    },\r\n                    // 图谱标题\r\n                    title: {\r\n                        show: true, // 是否显示标题\r\n                        name: '波形图', // 标题名字\r\n                        // 标题字体样式\r\n                        fontStyle: {\r\n                            weight: 'bold', // 粗细，默认 'bold'\r\n                            size: this.waveOptions.title.fontSize, // 大小，默认 '20px'\r\n                            family: 'sans-serif', // 字体，默认 'Arial'\r\n                            color: this.waveOptions.title.color, // 颜色，默认 '#000'\r\n                            align: this.waveOptions.title.align, // 对齐方式，默认 'left'\r\n                        }\r\n                    },\r\n                    // 图谱位置\r\n                    grid: that.waveOptions.grid,\r\n                    // x 轴信息\r\n                    x: {\r\n                        name: this.unitXWave, // 名称(单位)\r\n                        type: 'category', // 坐标轴类型\r\n                        data: this.waveX, // 数据\r\n                        lineStyle: { // 轴线样式\r\n                            color: that.spectrumColor.font, // 颜色，默认 '#000'\r\n                        },\r\n                        nameStyle: { // 名称(单位)字体样式\r\n                            color: this.spectrumColor.font, // 颜色，默认 '#000'\r\n                        },\r\n                        fontStyle: { // 刻度字体样式\r\n                            color: this.spectrumColor.font, // 颜色，默认 '#000'\r\n                            size: this.waveOptions.series.fontSize,\r\n                        },\r\n                    },\r\n                    // y 轴信息\r\n                    y: {\r\n                        name: this.unitWave, // 名称(单位)\r\n                        data: this.waveY, // 数据\r\n                        lineStyle: { // 轴线样式\r\n                            color: that.spectrumColor.font, // 颜色，默认 '#000'\r\n                        },\r\n                        fontStyle: { // 刻度字体样式\r\n                            color: this.spectrumColor.color, // 颜色，默认 '#000'\r\n                            size: this.waveOptions.series.fontSize,\r\n                        },\r\n                        nameStyle: { // 名称(单位)字体样式\r\n                            color: this.spectrumColor.font, // 颜色，默认 '#000'\r\n                        },\r\n                    },\r\n                    // 图谱信息\r\n                    series: {\r\n                        type: 'line', // 类型，默认 'line'\r\n                        lineStyle: { // 样式\r\n                            color: that.spectrumColor.line, // 颜色，默认 '#0032ff\r\n                            width: 1, // 粗细，默认 1\r\n                        },\r\n                        markLine: { // 标线\r\n                            data: [],\r\n                            lineStyle: { // 样式\r\n                                color: '#ebd662', // 颜色，默认 '#ebd662'\r\n                                width: 1, // 粗细，默认 1\r\n                            },\r\n                            fontStyle: { // 标注字体样式\r\n                                color: '#fff', // 颜色，默认 '#ebd662'\r\n                                size: '12px', // 大小，默认 '12px'\r\n                                family: 'Microsoft YaHei', // 字体，默认 'Microsoft YaHei'\r\n                                weight: 'normal' // 粗细，默认 'normal'\r\n                            }\r\n                        },\r\n                        // 闸门信息\r\n                        gateMsg: {\r\n                            isShow: this.flag_showGate,\r\n                            fStart: this.selectPosition.fStart,\r\n                            fWidth: this.selectPosition.fWidth,\r\n                            fThreshold: this.selectPosition.fThreshold,\r\n                            lineStyle:{\r\n                                color: 'red', // 颜色，默认 '#ebd662'\r\n                                width: 2, // 粗细，默认 1\r\n                            }\r\n                        },\r\n                        symbol: this.symbol,\r\n                    },\r\n                    // 标注信息\r\n                    toolTip: {\r\n                        symbol: this.symbol,\r\n                        lineStyle: { // 标线样式\r\n                            color: this.axisPointerColor_wave, // 颜色，默认 '#FA9A4D'\r\n                        },\r\n                        fontStyle: {\r\n                            size: this.toolTip.fontStyle.size,\r\n                            color: \"#fff\",\r\n                        },\r\n                        background: { // 提示框背景\r\n                            color: this.toolTip.backgroundColor, // 颜色，默认 'rgba(50, 50, 50, 0.3)'\r\n                        },\r\n                        formatter: function() {\r\n                            that.boxShow = false;\r\n                        }\r\n                    },\r\n                    tools: {\r\n                        // 开窗放大\r\n                        enlarge: {\r\n                            show: true,\r\n                            dom: document.getElementsByClassName('dataZoom')[0],\r\n                        },\r\n                        // 最大化 / 还原\r\n                        maxOrMin: {\r\n                            show: true,\r\n                            dom: document.getElementsByClassName('max')[0],\r\n                        },\r\n                        // 重置\r\n                        restore: {\r\n                            show: true,\r\n                            dom: document.getElementsByClassName('restore')[0],\r\n                        },\r\n                        // 时间差\r\n                        timeDifferent: {\r\n                            show: true,\r\n                            dom: document.getElementsByClassName('subTime')[0],\r\n                        },\r\n                        // 导出图片\r\n                        exportImage: {\r\n                            show: true,\r\n                            dom: document.getElementsByClassName('exportImage')[0],\r\n                            imageName: this.fileName + '-波形图',\r\n                            formatter: function(bool) {\r\n                                if (bool) {\r\n                                    that.keepPage();\r\n                                }\r\n                            }\r\n                        },\r\n                        // 导出数据\r\n                        exportData: {\r\n                            fileName: this.fileName,\r\n                            show: true,\r\n                            dom: document.getElementsByClassName('exportData')[0],\r\n                        },\r\n                        // 导出音频\r\n                        exportAudio: {\r\n                            fileName: this.fileName + '_音频',\r\n                            show: true,\r\n                            dom: document.getElementsByClassName('exportMusic')[0],\r\n                            maxFreq: this.maxFreq,\r\n                        }\r\n                    },\r\n                    backgroundColor: that.spectrumColor.background, // 图谱背景颜色，默认 '#fff'\r\n                    changePos: this.changePos, // 是否切换测点 / 机组，默认 false\r\n                }\r\n            },\r\n            specturmOption: function() {\r\n                var that = this;\r\n                if(!this.selectMachine.mac_me){\r\n                    this.selectMachine.mac_me = '';\r\n                }\r\n                if(!this.selectPosition.pos_name){\r\n                    this.selectPosition.pos_name = '';\r\n                }\r\n                this.fileName = this.selectMachine.mac_me+'_'+this.selectPosition.pos_name;\r\n                return {\r\n                    type: {\r\n                        chart: \"1\" /* 1.波形频谱图 2.对比分析 */,\r\n                        chartType: \"spectrum\" /* 波形（wave）,频谱（spectrum）,趋势图（trend） */\r\n                    },\r\n                    // 图谱标题\r\n                    title: {\r\n                        show: true, // 是否显示标题\r\n                        name: '频谱图', // 标题名字\r\n                        // 标题字体样式\r\n                        fontStyle: {\r\n                            weight: 'bold', // 粗细，默认 'bold'\r\n                            size: this.spectrumOptions.title.fontSize, // 大小，默认 '20px'\r\n                            family: 'sans-serif', // 字体，默认 'Arial'\r\n                            color: this.spectrumOptions.title.color, // 颜色，默认 '#000'\r\n                            align: this.spectrumOptions.title.align, // 对齐方式，默认 'left'\r\n                        }\r\n                    },\r\n                    // 图谱位置\r\n                    grid: that.spectrumOptions.grid,\r\n                    // x 轴信息\r\n                    x: {\r\n                        name: this.unitXSpec, // 名称(单位)\r\n                        type: 'category', // 坐标轴类型\r\n                        freqData: this.freqXtrum, // 阶比数据\r\n                        data: this.spectrumX, // 数据\r\n                        lineStyle: { // 轴线样式\r\n                            color: this.spectrumColor.font, // 颜色，默认 '#000'\r\n                        },\r\n                        nameStyle: { // 名称(单位)字体样式\r\n                            color: this.spectrumColor.font, // 颜色，默认 '#000'\r\n                        },\r\n                        fontStyle: { // 刻度字体样式\r\n                            color: this.spectrumColor.font, // 颜色，默认 '#000'\r\n                            size: this.spectrumOptions.series.fontSize,\r\n                        },\r\n                    },\r\n                    // y 轴信息\r\n                    y: {\r\n                        name: this.unitSpec, // 名称(单位)\r\n                        data: this.spectrumY, // 数据\r\n                        lineStyle: { // 轴线样式\r\n                            color: that.spectrumColor.font, // 颜色，默认 '#000'\r\n                        },\r\n                        nameStyle: { // 名称(单位)字体样式\r\n                            color: this.spectrumColor.font, // 颜色，默认 '#000'\r\n                        },\r\n                        fontStyle: { // 刻度字体样式\r\n                            color: this.spectrumColor.font, // 颜色，默认 '#000'\r\n                            size: this.spectrumOptions.series.fontSize,\r\n                        },\r\n                    },\r\n                    // 图谱信息\r\n                    series: {\r\n                        type: this.spectrumStyle, // 类型，默认 'line'\r\n                        lineStyle: { // 样式\r\n                            color: that.spectrumColor.line, // 颜色，默认 '#0032ff\r\n                            width: 1, // 粗细，默认 1\r\n                        },\r\n                        markLine: { // 标线\r\n                            data: this.nxArraySpec,\r\n                            lineStyle: { // 样式\r\n                                color: '#ebd662', // 颜色，默认 '#ebd662'\r\n                                width: 1, // 粗细，默认 1\r\n                            },\r\n                            fontStyle: { // 标注字体样式\r\n                                color: '#fff', // 颜色，默认 '#ebd662'\r\n                                size: '12px', // 大小，默认 '12px'\r\n                                family: 'Microsoft YaHei', // 字体，默认 'Microsoft YaHei'\r\n                                weight: 'normal' // 粗细，默认 'normal'\r\n                            }\r\n                        },\r\n                        dataMsg: {\r\n                            oneFreq: this.oneFreq,\r\n                            rotateSpeed: this.rotateSpeed,\r\n                            specType: this.specType,\r\n                            setPower: this.isSetPower,\r\n                            spectral: this.spectral,\r\n                        },\r\n                        symbol: this.symbol\r\n                    },\r\n                    // 标注信息\r\n                    toolTip: {\r\n                        lineStyle: { // 标线样式\r\n                            color: this.axisPointerColor, // 颜色，默认 '#FA9A4D'\r\n                        },\r\n                        symbol: this.symbol,\r\n                        background: { // 提示框背景\r\n                            color: this.toolTip.backgroundColor, // 颜色，默认 'rgba(50, 50, 50, 0.3)'\r\n                        },\r\n                        fontStyle: {\r\n                            size: this.toolTip.fontStyle.size,\r\n                        },\r\n                        formatter: function() {\r\n                            that.boxShow = false;\r\n                        }\r\n                    },\r\n                    tools: {\r\n                        // 开窗放大\r\n                        enlarge: {\r\n                            show: true,\r\n                            dom: document.getElementsByClassName('dataZoom')[1],\r\n                        },\r\n                        // 最大化 / 还原\r\n                        maxOrMin: {\r\n                            show: true,\r\n                            dom: document.getElementsByClassName('max')[1],\r\n                        },\r\n                        // 重置\r\n                        restore: {\r\n                            show: true,\r\n                            dom: document.getElementsByClassName('restore')[1],\r\n                            formatter: function(isRestore) {\r\n                                if (isRestore) {\r\n                                    that.hide_low = 0;\r\n                                    that.power_a = 0;\r\n                                    that.power_b = 0;\r\n                                    that.flag_f_nx.val = 1;\r\n                                    that.specType == 1 && that.rotateSpeed !== 0?\r\n                                        that.setFreq_or_nx(2) : that.makeFftData(2);\r\n                                    document.getElementsByClassName('tool_list')[0].children[2].className = '';\r\n                                    document.getElementsByClassName('tool_list')[0].children[0].className = '';\r\n                                    document.getElementsByClassName('tool_list')[0].children[6].className = '';\r\n                                }\r\n                            }\r\n                        },\r\n                        // 差频\r\n                        subFreq: {\r\n                            show: true,\r\n                            dom: this.spectrumTools[0],\r\n                        },\r\n                        // 1倍频\r\n                        oneFreq: {\r\n                            show: true,\r\n                            dom: this.spectrumTools[3],\r\n                            formatter: function(bool) {\r\n                                bool && (that.spectrumTools[6].className = '');\r\n                            }\r\n                        },\r\n                        // 标注倍频\r\n                        labelFreq: {\r\n                            show: true,\r\n                            dom: this.spectrumTools[6],\r\n                        },\r\n                        // 寻峰\r\n                        peakSearch: {\r\n                            show: true,\r\n                            dom: this.spectrumTools[9],\r\n                        },\r\n                        // 添加标注\r\n                        addLabel: {\r\n                            show: true,\r\n                            dom: this.spectrumTools[7],\r\n                        },\r\n                        // 取消标注\r\n                        cancelLabel: {\r\n                            show: true,\r\n                            dom: this.spectrumTools[8],\r\n                        },\r\n                        // 校准倍频\r\n                        setPeak: {\r\n                            show: true,\r\n                            dom: this.spectrumTools[10],\r\n                        },\r\n                        // 导出图片\r\n                        exportImage: {\r\n                            show: true,\r\n                            dom: document.getElementsByClassName('exportImage')[1],\r\n                            imageName: this.fileName + '-频谱图',\r\n                            formatter: function(bool) {\r\n                                if (bool) {\r\n                                    that.keepPage();\r\n                                }\r\n                            }\r\n                        },\r\n                        // 导出数据\r\n                        exportData: {\r\n                            fileName: this.fileName,\r\n                            show: true,\r\n                            dom: document.getElementsByClassName('exportData')[1],\r\n                        },\r\n                    },\r\n                    backgroundColor: that.spectrumColor.background, // 图谱背景颜色，默认 '#fff'\r\n                    changePos: this.changePos, // 是否切换测点 / 机组，默认 false\r\n                    // isloading: function (res) {if (!res) that.$refs.loadWave.style.display = 'none'}\r\n                }\r\n            },\r\n            historyOption: function() {\r\n                var that = this;\r\n                if(!this.selectMachine.mac_me){\r\n                    this.selectMachine.mac_me = '';\r\n                }\r\n                if(!this.selectPosition.pos_name){\r\n                    this.selectPosition.pos_name = '';\r\n                }\r\n                this.fileName = this.selectMachine.mac_me+'_'+this.selectPosition.pos_name;\r\n                return {\r\n                    type: {\r\n                        chart: \"1\" /* 1.波形频谱图 2.对比分析 */,\r\n                        chartType: \"trend\" /* 波形（wave）,频谱（spectrum）,趋势图（trend） */\r\n                    },\r\n                    // 图谱标题\r\n                    title: {\r\n                        show: true, // 是否显示标题\r\n                        name: '趋势图', // 标题名字\r\n                        // 标题字体样式\r\n                        fontStyle: {\r\n                            weight: 'bold', // 粗细，默认 'bold'\r\n                            size: that.historyOptions.title.fontSize, // 大小，默认 '20px'\r\n                            family: 'sans-serif', // 字体，默认 'Arial'\r\n                            color: this.historyOptions.title.color, // 颜色，默认 '#000'\r\n                            align: that.historyOptions.title.align, // 对齐方式，默认 'left'\r\n                        }\r\n                    },\r\n                    // 图谱位置\r\n                    grid: that.historyOptions.grid,\r\n                    // x 轴信息\r\n                    x: {\r\n                        type: 'time', // 坐标轴类型\r\n                        data: this.historyX, // 数据\r\n                        lineStyle: { // 轴线样式\r\n                            color: that.spectrumColor.font, // 颜色，默认 '#000'\r\n                        },\r\n                        fontStyle: { // 刻度字体样式\r\n                            color: this.spectrumColor.color, // 颜色，默认 '#000'\r\n                            size: this.historyOptions.series.fontSize,\r\n                        },\r\n                    },\r\n                    // y 轴信息\r\n                    y: {\r\n                        name: this.unitTrend, // 名称(单位)\r\n                        data: this.historyY, // 数据\r\n                        lineStyle: { // 轴线样式\r\n                            color: that.spectrumColor.font, // 颜色，默认 '#000'\r\n                        },\r\n                        wtype: 'wave_trend',\r\n                        nameStyle: { // 名称(单位)字体样式\r\n                            color: this.spectrumColor.font, // 颜色，默认 '#000'\r\n                        },\r\n                        fontStyle: { // 刻度字体样式\r\n                            color: this.spectrumColor.color, // 颜色，默认 '#000'\r\n                            size: this.historyOptions.series.fontSize,\r\n                        },\r\n                    },\r\n                    // 图谱信息\r\n                    series: {\r\n                        type: \"line\", // 类型，默认 'line'\r\n                        lineStyle: { // 样式\r\n                            color: that.spectrumColor.line, // 颜色，默认 '#0032ff\r\n                            width: 1, // 粗细，默认 1\r\n                        },\r\n                        markLine: { // 标线\r\n                            data: [],\r\n                            lineStyle: { // 样式\r\n                                color: '#ebd662', // 颜色，默认 '#ebd662'\r\n                                width: 1, // 粗细，默认 1\r\n                            },\r\n                            fontStyle: { // 标注字体样式\r\n                                color: '#FA9A4D', // 颜色，默认 '#ebd662'\r\n                                size: '12px', // 大小，默认 '12px'\r\n                                family: 'Microsoft YaHei', // 字体，默认 'Microsoft YaHei'\r\n                                weight: 'normal' // 粗细，默认 'normal'\r\n                            }\r\n                        },\r\n                        symbol: {\r\n                            show: true,\r\n                        },\r\n                    },\r\n                    // 标注信息\r\n                    toolTip: {\r\n                        lineStyle: { // 标线样式\r\n                            color: this.axisPointerColor, // 颜色，默认 '#FA9A4D'\r\n                        },\r\n                        background: { // 提示框背景\r\n                            color: this.toolTip.backgroundColor, // 颜色，默认 'rgba(50, 50, 50, 0.3)'\r\n                        },\r\n                        fontStyle: {\r\n                            size: this.toolTip.fontStyle.size,\r\n                        },\r\n                        formatter: function(params) {\r\n                            that.boxShow = false;\r\n                            that.changePos = false;\r\n                            that.ifImportBaseWave = 2;\r\n                            if (that.flag_real == 1) { //点击趋势图时，强制停止实时按钮\r\n                                that.setRealBtn();\r\n                            }\r\n                            that.searchWave(params.val);\r\n                        },\r\n                        symbol: this.symbol,\r\n                    },\r\n                    tools: {\r\n                        // 开窗放大\r\n                        enlarge: {\r\n                            show: true,\r\n                            dom: document.getElementsByClassName('dataZoom')[2],\r\n                        },\r\n                        // 最大化 / 还原\r\n                        maxOrMin: {\r\n                            show: true,\r\n                            dom: document.getElementsByClassName('max')[2],\r\n                        },\r\n                        // 重置\r\n                        restore: {\r\n                            show: true,\r\n                            dom: document.getElementsByClassName('restore')[2],\r\n                        },\r\n                        // 导出图片\r\n                        exportImage: {\r\n                            show: true,\r\n                            dom: document.getElementsByClassName('exportImage')[2],\r\n                            imageName: this.fileName + '-趋势图',\r\n                            formatter: function(bool) {\r\n                                if (bool) {\r\n                                    that.keepPage();\r\n                                }\r\n                            }\r\n                        },\r\n                    },\r\n                    backgroundColor: that.spectrumColor.background, // 图谱背景颜色，默认 '#fff'\r\n                    changePos: this.changePos, // 是否切换测点 / 机组，默认 false\r\n                }\r\n            },\r\n            tools: function() {\r\n                return [{\r\n                    text: \"对称频率差\",\r\n                    icon: require(\"viewInterface/assets/img/tool_icons/dcplc.png\"),\r\n                    toolFunc: this.setDouble_sub_freq\r\n                }, {\r\n                    text: \"汉宁窗\",\r\n                    icon: require(\"viewInterface/assets/img/tool_icons/hnc.png\"),\r\n                    toolFunc: this.setHanning\r\n                }, {\r\n                    text: \"切换x轴阶比\",\r\n                    icon: require(\"viewInterface/assets/img/tool_icons/qhxzqb.png\"),\r\n                    toolFunc: this.setFreq_or_nx\r\n                }, {\r\n                    text: \"定位到1倍频\",\r\n                    icon: require(\"viewInterface/assets/img/tool_icons/dwdybp.png\"),\r\n                    toolFunc: this.setTo_1_X\r\n                }, {\r\n                    text: \"低频过滤\",\r\n                    icon: require(\"viewInterface/assets/img/tool_icons/dpgl.png\"),\r\n                    toolFunc: this.showHideLow\r\n                }, {\r\n                    text: \"有效频率设置\",\r\n                    icon: require(\"viewInterface/assets/img/tool_icons/yxplzsz.png\"),\r\n                    toolFunc: this.showPowerRms\r\n                }, {\r\n                    text: \"标注倍频\",\r\n                    icon: require(\"viewInterface/assets/img/tool_icons/bzbp.png\"),\r\n                    toolFunc: this.setLabel_nx\r\n                }, {\r\n                    text: \"添加标注\",\r\n                    icon: require(\"viewInterface/assets/img/tool_icons/tjbz.png\"),\r\n                    toolFunc: this.setAdd_label\r\n                }, {\r\n                    text: \"取消所有标注\",\r\n                    icon: require(\"viewInterface/assets/img/tool_icons/qxbz.png\"),\r\n                    toolFunc: this.setClear_label\r\n                }, {\r\n                    text: \"循环寻峰\",\r\n                    icon: require(\"viewInterface/assets/img/tool_icons/xhxf.png\"),\r\n                    toolFunc: this.setAuto_tip\r\n                }, {\r\n                    text: \"校准倍频\",\r\n                    icon: require(\"viewInterface/assets/img/tool_icons/fztk.png\"),\r\n                    toolFunc: this.setPeak_nx\r\n                },\r\n                ]\r\n            }\r\n        },\r\n        destroyed:function () {\r\n            let that = this;\r\n            clearInterval(that.timer);//离开界面时清掉实时数据的定时器\r\n            that.timer = null;\r\n            if(this.chooseTid && this.chooseTid != ''){\r\n                let chooseDgmType;\r\n                if(!$.isEmptyObject(this.selectPosition)){\r\n                    chooseDgmType = this.selectPosition.dgm_type;\r\n                }\r\n                else{\r\n                    chooseDgmType = null;\r\n                }\r\n                this.paramsConfig={\r\n                    chooseTree:this.chooseTree,\r\n                    chooseDgmList:this.chooseDgmList,\r\n                    choosePosList:this.choosePosList,\r\n                    choosePos:this.choosePos,\r\n                    chooseMacList:this.reSetMacList,\r\n                    chooseTid:this.chooseTid,\r\n                    chooseDgmType:chooseDgmType,\r\n                    chooseTroot:this.chooseTroot,\r\n                    chooseMacId:this.chooseMacId,\r\n                    choosePosTypeId: this.choosePosTypeId,//所选的测点id\r\n                    choosePosName:this.choosePosName,//所选的测点名\r\n                    toggleText:this.toggleText,//实时与历史按钮文字\r\n                };\r\n                if(this.flag_real==1){\r\n                    this.paramsConfig.chooseIsRealType = 2;\r\n                    this.paramsConfig.isReal = true;//1是历史数据，2是实时数据\r\n                }\r\n                else{\r\n                    this.paramsConfig.chooseIsRealType = 1;\r\n                    this.paramsConfig.isReal = false;//1是历史数据，2是实时数据\r\n                }\r\n            }\r\n            else{\r\n                this.paramsConfig={};\r\n            }\r\n            sessionStorage.setItem('paramsConfig',JSON.stringify(this.paramsConfig));\r\n        },\r\n        watch:{\r\n            choosePosTypeId(val,oldVal){\r\n                if(val){\r\n                    /**如果风场类型不是水电或者石化并且测点为转速测点的情况下有高低密度波形选择**/\r\n                    if (!$.isEmptyObject(this.selectPosition) && this.selectPosition.pos_type == 1) {\r\n                        $('#hd_choose').css('display', 'inline-block');\r\n                    /**如果测点为转速测点的情况下低密度波形，单位为“rpm”,高密度波形，单位为“MV”**/\r\n                        if (this.hd_speed) {\r\n                            this.selectPosition.unitName[0] = \"mV\";\r\n                        } else {\r\n                            this.selectPosition.unitName[0] = \"rpm\";\r\n                        }\r\n                     }\r\n                     else {\r\n                         $('#hd_choose').css('display', 'none');\r\n\r\n                    }\r\n                    this.getOrigUnit();\r\n                    this.searchTrend();\r\n                }\r\n                else{\r\n                    this.historyData = [];\r\n                    this.historyX = [];\r\n                    this.historyY = [];\r\n                    this.waveX = [];\r\n                    this.waveY = [];\r\n                    this.spectrumX = [];\r\n                    this.spectrumY = [];\r\n                    // swal({\r\n                    //     title: \"提示\",\r\n                    //     text: '无测点',\r\n                    //      button: \"确认\",\r\n                    // });\r\n                }\r\n                \r\n            },\r\n        },\r\n        methods: {\r\n            //时间选择之后\r\n            change(){\r\n                this.search_data.start_time = this.timeValue[0];\r\n                this.search_data.end_time = this.timeValue[1];\r\n                this.searchTrend();\r\n            },\r\n            //获取组织、机组信息\r\n            // getHeadData() {\r\n            //     let that = this;\r\n            //     let params=null;\r\n            //     that.selectPosition = {};\r\n            //     that.selectMachine = {};\r\n            //     params={\r\n            //         type:2,\r\n            //         t_ids:JSON.parse(sessionStorage.getItem('getTidList')),\r\n            //     };\r\n            //     this.$axios.post('getPositionDataConfig',params)\r\n            //         .then(res => {\r\n            //             if(res.msg===0){\r\n            //                 that.dataResult = res.list;\r\n            //                 let result = res.list;\r\n            //                 if(result.length>0){\r\n            //                     that.folderList.length=0;\r\n            //                     for(let i=0;i<result.length; i++){\r\n            //                         that.folderList.push({'t_id':result[i].t_id,'t_root':result[i].t_root,'t_name':result[i].t_name});\r\n            //                         that.macList[result[i].t_id]=[];\r\n            //                         if('mac_list' in result[i] && result[i].mac_list.length>0){\r\n            //                             for(let j=0;j<result[i].mac_list.length;j++){\r\n            //                                 that.macList[result[i].t_id].push({'mac_id':result[i].mac_list[j].mac_id,'mac_me':result[i].mac_list[j].mac_me});\r\n            //                                 that.posList[result[i].mac_list[j].mac_id]=[];\r\n            //                                 if('positions_list' in result[i].mac_list[j] && result[i].mac_list[j].positions_list.length>0){\r\n            //                                     for(let m=0;m<result[i].mac_list[j].positions_list.length;m++){\r\n            //                                         that.posList[result[i].mac_list[j].mac_id].push(result[i].mac_list[j].positions_list[m]);\r\n            //                                     }\r\n            //                                 }\r\n            //                             }\r\n            //                         }\r\n\r\n            //                     }\r\n            //                     that.chooseTid = that.sortFolderList[0].t_id;\r\n            //                     that.chooseTroot = that.sortFolderList[0].t_root;\r\n            //                     if(!$.isEmptyObject(that.macList)){\r\n            //                         that.chooseMacList = that.macList[that.sortFolderList[0].t_id].concat();\r\n            //                         if(that.chooseMacList.length>0){\r\n            //                             that.chooseMacId = that.sortMacList[0].mac_id;\r\n            //                             that.selectMachineId = that.sortMacList[0].mac_id;\r\n            //                             that.selectMachine = that.sortMacList[0];\r\n            //                             if(!$.isEmptyObject(that.posList)){\r\n            //                                 that.choosePosList = that.posList[that.sortMacList[0].mac_id].concat();\r\n            //                                 that.choosePosList = that.sortPositionsName(that.choosePosList);\r\n            //                                 if(that.choosePosList.length>0){\r\n            //                                     that.choosePosTypeId = that.choosePosList[this.selIndex].pos_type + '_' + that.choosePosList[this.selIndex].pos_id;\r\n            //                                     that.choosePosName = that.choosePosList[this.selIndex].pos_name;\r\n            //                                     that.selectPosition=that.choosePosList[this.selIndex];\r\n            //                                     that.selectPositionId = that.choosePosList[this.selIndex].pos_type + '_' + that.choosePosList[this.selIndex].pos_id;\r\n            //                                     that.selectPositionName = that.choosePosList[this.selIndex].pos_name;\r\n            //                                 }\r\n            //                             }\r\n            //                         }\r\n            //                     }\r\n            //                     let linkInfo = JSON.parse(sessionStorage.getItem('paramsConfig'));\r\n            //                     if(!$.isEmptyObject(linkInfo)) {\r\n            //                         that.selectPosition = {};\r\n            //                         if (linkInfo.chooseTid != undefined && linkInfo.chooseMacId != undefined && linkInfo.chooseTid != \"\" && linkInfo.chooseMacId != \"\" && that.macList[linkInfo.chooseTid].length > 0) {\r\n            //                             that.chooseTid = linkInfo.chooseTid;//所选的组织id\r\n            //                             that.chooseTroot = linkInfo.chooseTroot;//所选的组织类型\r\n            //                             that.chooseMacList = that.macList[that.chooseTid].concat();\r\n            //                             that.chooseMacId = linkInfo.chooseMacId;//所选的机组id\r\n            //                             that.chooseMacList.forEach(machine => {\r\n            //                                 if (machine.mac_id == that.chooseMacId) {\r\n            //                                     that.selectMachine = machine;\r\n            //                                 }\r\n            //                             });\r\n            //                             that.selectMachineId = that.chooseMacId;\r\n            //                             that.choosePosList = that.posList[that.chooseMacId].concat();\r\n            //                             that.choosePosList = that.sortPositionsName(that.choosePosList);\r\n\r\n            //                             if (linkInfo.hasOwnProperty(\"choosePosTypeId\") && linkInfo.choosePosTypeId != '_') {\r\n            //                                 let posType = linkInfo.choosePosTypeId.split('_')[0];\r\n            //                                 let posId = linkInfo.choosePosTypeId.split('_')[1];\r\n            //                                 let choosePosTypeId = \"\";\r\n            //                                 if(that.choosePosList.length){\r\n            //                                     that.choosePosList.forEach(position => {\r\n            //                                         if (position.pos_type == posType && position.pos_id == posId) {\r\n            //                                             choosePosTypeId = linkInfo.choosePosTypeId;\r\n            //                                             that.selectPosition = position;\r\n            //                                         }\r\n            //                                     });\r\n            //                                 }\r\n            //                                 if (choosePosTypeId !== \"\") {\r\n            //                                     that.choosePosTypeId = linkInfo.choosePosTypeId;//所选的测点id\r\n            //                                     that.choosePosName = linkInfo.choosePosName;//所选的测点名\r\n            //                                 } else {\r\n            //                                     if(that.choosePosList.length){\r\n            //                                         that.choosePosTypeId = that.choosePosList[this.selIndex].pos_type + '_' + that.choosePosList[this.selIndex].pos_id;\r\n            //                                         that.choosePosName = that.choosePosList[this.selIndex].pos_name;//所选的测点名\r\n            //                                         that.selectPosition = that.choosePosList[this.selIndex];\r\n            //                                     }\r\n            //                                 }\r\n            //                                 that.toggleText = linkInfo.toggleText;//实时与历史按钮文字\r\n            //                                 if (linkInfo.isReal == 1) {\r\n            //                                     that.isReal = true;//是否实时\r\n            //                                     that.flag_real = 1;\r\n            //                                     that.chooseIsRealType = 2;\r\n            //                                 } else {\r\n            //                                     that.isReal = false;//是否实时\r\n            //                                     that.flag_real = 0;\r\n            //                                     that.chooseIsRealType = 1;\r\n            //                                 }\r\n            //                             } else {\r\n            //                                 that.choosePosTypeId = that.choosePosList[this.selIndex].pos_type + '_' + that.choosePosList[this.selIndex].pos_id;\r\n            //                                 that.choosePosName = that.choosePosList[this.selIndex].pos_name;//所选的测点名\r\n            //                                 that.toggleText = \"实时\";//实时与历史按钮文字\r\n            //                                 that.isReal = true;//是否实时\r\n            //                                 that.flag_real = 1;\r\n            //                                 that.chooseIsRealType = 2;//1是历史数据，2是实时数据\r\n            //                                 that.selectPosition = that.choosePosList[this.selIndex];\r\n            //                             }\r\n            //                             if(that.choosePosList.length){\r\n            //                                 for (let i = 0; i < that.choosePosList.length; i++) {\r\n            //                                     if (that.choosePosList[i].pos_type == that.choosePosTypeId.split('_')[0] && that.choosePosList[i].pos_id == that.choosePosTypeId.split('_')[1]) {\r\n            //                                         that.selectPosition = that.choosePosList[i];\r\n            //                                     }\r\n            //                                 }\r\n            //                             }\r\n            //                             that.selectPositionId = that.choosePosTypeId.split('_')[1];\r\n            //                             that.selectPositionName = that.choosePosName;\r\n            //                             /**如果风场类型不是水电或者石化并且测点为转速测点的情况下有高低密度波形选择**/\r\n            //                             if (!$.isEmptyObject(that.selectPosition) && that.selectPosition.pos_type == 1) {\r\n            //                                 $('#hd_choose').css('display', 'inline-block');\r\n            //                                 /**如果测点为转速测点的情况下低密度波形，单位为“rpm”,高密度波形，单位为“MV”**/\r\n            //                                 if (that.hd_speed) {\r\n            //                                     that.selectPosition.unitName[0] = \"mV\";\r\n            //                                 } else {\r\n            //                                     that.selectPosition.unitName[0] = \"rpm\";\r\n            //                                 }\r\n            //                             }\r\n            //                             else {\r\n            //                                 $('#hd_choose').css('display', 'none');\r\n\r\n            //                             }\r\n            //                         }\r\n            //                         that.getOrigUnit();\r\n            //                         that.searchTrend();\r\n            //                     }\r\n            //                     else{\r\n            //                         that.getOrigUnit();\r\n            //                         that.searchTrend();\r\n            //                     }\r\n            //                 }\r\n            //                 else{\r\n            //                     swal({\r\n            //                         title: \"提示\",\r\n            //                         text: '无数据',\r\n            //                         button: \"确认\",\r\n            //                     });\r\n            //                 }\r\n            //             }\r\n            //         }).catch(err => {\r\n            //         console.log(err)\r\n            //     })\r\n            // },\r\n            //获取初始单位\r\n            getOrigUnit(){\r\n                if (typeof this.selectPosition.unitName == \"string\") {//水电：如果返回的unit不是数组而是字符串就直接显示字符串\r\n                    this.unitTrend = this.selectPosition.unitName;\r\n                    this.unitWave = this.selectPosition.unitName;\r\n                    this.unitRms = this.selectPosition.unitName;//rms的单位\r\n                    this.unitSpec = this.selectPosition.unitName;\r\n                    this.srcUnitWave = this.selectPosition.unitName;\r\n                    this.srcUnitSpec = this.selectPosition.unitName;\r\n                }\r\n                else {\r\n                    var t_unitArr = [];\r\n                    var byIntegral = 0;\r\n                    var unit0 = \"g\";//积分前单位\r\n                    var unit1 = \"g\";//积分后单位\r\n                    if (this.selectPosition != null && typeof this.selectPosition !== \"undefined\" && !$.isEmptyObject(this.selectPosition)) {\r\n                        if (this.selectPosition.hasOwnProperty(\"power_a\")) {\r\n                            if (this.selectPosition.power_a == \"NaN\" || this.selectPosition.power_a == null) {\r\n                                this.selectPosition.power_a = 0;\r\n                            }\r\n                            this.sc_power_a = parseInt(this.selectPosition.power_a);\r\n                        } else {\r\n                            this.sc_power_a = 0;\r\n                        }\r\n                        byIntegral = parseInt(this.selectPosition.byIntegral);\r\n                        if (this.power_a == -1) {\r\n                            this.power_a = this.sc_power_a;\r\n                        }\r\n                        if (this.power_a == \"NaN\") {\r\n                            this.power_a = 0;\r\n                        }\r\n                        if (this.sc_power_a == \"NaN\") {\r\n                            this.sc_power_a = 0;\r\n                        }\r\n                        unit0 = this.selectPosition.unitName[0];\r\n                        if (unit0 == \"§\") {\r\n                            unit0 = \"gD\";\r\n                        } else if (unit0 == \"m/s?\") {\r\n                            unit0 = \"m/s²\";\r\n                        }\r\n                        if (this.selectPosition && this.selectPosition.byIntegral && this.selectPosition.unitName) {\r\n                            unit1 = getUnit1(byIntegral, unit0);\r\n                        }\r\n                        else {\r\n                            unit1 = unit0;\r\n                        }\r\n                        this.srcUnitWave = unit0;\r\n                        this.srcUnitSpec = unit0;\r\n                        this.srcUnitTrend = unit0;\r\n                        if (this.hd_speed) {\r\n                            this.unitTrend = \"mV\";//高密度波形情况下，单位为“mV\"\r\n                        }\r\n                        if ((this.selectPosition.dgm_type == 3 || this.selectPosition.dgm_type == 4 || this.selectPosition.dgm_type == 9 ) && this.selectPosition.pos_type == 3) {\r\n                            this.unitTrend = unit1;//振动传感器或者MHD传感器，DGU2000E采集器的振动测点的趋势图单位为积分后的单位\r\n                            this.unitWave = unit0;\r\n                            this.unitSpec = unit1;\r\n                            this.unitRms = unit1;\r\n                        }\r\n                        else if(this.selectPosition.dgm_type == 10 && this.selectPosition.pos_type == 3){\r\n                            this.unitTrend = 'm/s²';//WL9100振动的单位定死为'm/s²'\r\n                            this.unitWave = 'm/s²';\r\n                            this.unitSpec = 'm/s²';\r\n                            this.srcUnitWave = 'm/s²';\r\n                            this.srcUnitSpec = 'm/s²';\r\n                            this.srcUnitTrend = 'm/s²';\r\n                        }\r\n                        else {\r\n                            this.unitTrend = unit0;//趋势图都是有效值，用积分前单位\r\n                            this.unitWave = unit0;\r\n                            this.unitSpec = unit0;\r\n                            this.unitRms = unit0;\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            //改变所选组织\r\n            selectFolder(){\r\n                this.chooseMacList.length = 0;\r\n                this.choosePosList.length = 0;\r\n                this.selectPosition={};\r\n                let that = this;\r\n                this.sortFolderList.forEach(folder =>{\r\n                    if(folder.t_id == that.chooseTid){\r\n                        that.chooseTroot = folder.t_root;\r\n                    }\r\n                });\r\n                if(!$.isEmptyObject(this.macList)){\r\n                    this.chooseMacList = this.macList[this.chooseTid].concat();\r\n                    if(this.chooseMacList.length>0){\r\n                        this.chooseMacId = this.sortMacList[0].mac_id;\r\n                        this.selectMachineId = this.sortMacList[0].mac_id;\r\n                        this.selectMachine = this.sortMacList[0];\r\n                        if(!$.isEmptyObject(this.posList)){\r\n                            this.choosePosList = this.posList[this.sortMacList[0].mac_id].concat();\r\n                            this.choosePosList = this.sortPositionsName(this.choosePosList);\r\n                            if(this.choosePosList.length>0){\r\n                                this.choosePosTypeId = this.choosePosList[this.selIndex].pos_type + '_' + this.choosePosList[this.selIndex].pos_id;\r\n                                this.choosePosName = this.choosePosList[this.selIndex].pos_name;\r\n                                this.selectPosition=this.choosePosList[this.selIndex];\r\n                                this.selectPositionId = this.choosePosList[this.selIndex].pos_type + '_' + this.choosePosList[this.selIndex].pos_id;\r\n                                this.selectPositionName = this.choosePosList[this.selIndex].pos_name;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                this.getOrigUnit();\r\n                this.searchTrend();\r\n            },\r\n            //改变机组选择\r\n            selectMac(){\r\n                this.choosePosList.length = 0;\r\n                this.selectPosition = {};\r\n                this.chooseMacList.forEach( machine =>{\r\n                    if(machine.mac_id==this.chooseMacId){\r\n                        this.selectMachine = machine;\r\n                    }\r\n                });\r\n                if(!$.isEmptyObject(this.posList)){\r\n                    this.choosePosList = this.posList[this.chooseMacId].concat();\r\n                    this.choosePosList = this.sortPositionsName(this.choosePosList);\r\n                    if(this.choosePosList.length>0){\r\n                        this.choosePosTypeId = this.choosePosList[this.selIndex].pos_type + '_' + this.choosePosList[this.selIndex].pos_id;\r\n                        this.choosePosName = this.choosePosList[this.selIndex].pos_name;\r\n                        this.selectPosition=this.choosePosList[this.selIndex];\r\n                        this.selectPositionId = this.choosePosList[this.selIndex].pos_type + '_' + this.choosePosList[this.selIndex].pos_id;\r\n                        this.selectPositionName = this.choosePosList[this.selIndex].pos_name;\r\n                        /**如果测点类型是阶次**/\r\n                        if (this.selectPosition.pos_type == 8 || this.selectPosition.pos_type == 9) {\r\n                            this.name_type = \"阶次\";\r\n                            this.name_type_speed = \"动阶次\";\r\n                        } else {\r\n                            this.name_type = \"频率\";\r\n                            this.name_type_speed = \"频\";\r\n                        }\r\n                        // if (this.choose_factory.factory_type == 8) {\r\n                        //     this.setSignalArr(this.selectMachine.xml_channel);\r\n                        // } else {\r\n                        //     this.setSignalArr(this.selectMachine.mach_model_xml);\r\n                        // }\r\n                        /**测点为阶次，显示柱状图，其他的测点显示折线图**/\r\n                        if (this.selectPosition.pos_type == 8 || this.selectPosition.pos_type == 9) {\r\n                            this.spectrumStyle = 'bar';\r\n                        } else {\r\n                            this.spectrumStyle = 'line';\r\n                        }\r\n                        /**长采样测点的处理，如果capture_mode=0是自动采样，=1是手动采样**/\r\n                        /*if (this.selectPosition.pos_type == 200) {\r\n                            if (this.selectPosition.capture_mode == 0) {\r\n                                this.selectPositionId = 200 + \"_\" + parseInt(this.selectPosition.capture_byId - 1);\r\n                                this.selectPosition.pos_id = this.selectPosition.capture_byId - 1;\r\n                                this.selectPositionName = this.selectPosition.pos_name;\r\n                            } else {\r\n                                this.selectPositionId = 200 + \"_\" + parseInt(this.selectPosition.channel_id + 16);\r\n                                this.selectPosition.pos_id = parseInt(this.selectPosition.channel_id + 16);\r\n                                this.selectPositionName = this.selectPosition.pos_name;\r\n                            }\r\n                        }*/\r\n                        // /**如果风场类型不是水电或者石化并且测点为转速测点的情况下有高低密度波形选择**/\r\n                        // if (this.choose_factory.factory_type != 4 && this.selectPosition.position_type == 1) {\r\n                        //     $('#hd_choose').css('display', 'inline-block');\r\n                        //     /**如果测点为转速测点的情况下低密度波形，单位为“rpm”,高密度波形，单位为“MV”**/\r\n                        //     if (this.hd_speed) {\r\n                        //         this.selectPosition.unitName[0] = \"mV\";\r\n                        //     } else {\r\n                        //         this.selectPosition.unitName[0] = \"rpm\";\r\n                        //     }\r\n                        //\r\n                        // } else {\r\n                        //     $('#hd_choose').css('display', 'none');\r\n                        // }\r\n\r\n                    }\r\n                }\r\n                this.getOrigUnit();\r\n                this.searchTrend();\r\n            },\r\n            //改变测点选择\r\n            selectPosTypeId(){\r\n                this.unitWave = \"\";\r\n                this.unitSpec = \"\";\r\n                this.hd_speed = false;\r\n                this.changePos = true;\r\n                this.selectPosition = {};\r\n                if(this.choosePosTypeId!=undefined){\r\n                    for(let i=0;i<this.choosePosList.length;i++){\r\n                        if(this.choosePosList[i].pos_type==this.choosePosTypeId.split('_')[0] && this.choosePosList[i].pos_id==this.choosePosTypeId.split('_')[1]){\r\n                            this.choosePosName = this.choosePosList[i].pos_name;\r\n                            this.selectPositionName = this.choosePosList[i].pos_name;\r\n                            this.selectPosition = this.choosePosList[i];\r\n                        }\r\n                    }\r\n                    this.requestTime = 0; //获取波形，0表示实时\r\n\r\n                    /**长采样测点的处理，如果capture_mode=0是自动采样，=1是手动采样**/\r\n                    // console.log(this.selectPosition);\r\n                    /*if (this.selectPosition.pos_type == 200) {\r\n                        if (this.selectPosition.capture_mode == 0) {\r\n                            this.selectPositionId = 200 + \"_\" + parseInt(this.selectPosition.capture_byId - 1);\r\n                            this.selectPosition.pos_id = this.selectPosition.capture_byId - 1;\r\n                            this.selectPositionName = this.selectPosition.position_name;\r\n                        } else {\r\n                            this.selectPositionId = 200 + \"_\" + parseInt(this.selectPosition.channel_id + 16);\r\n                            this.selectPosition.pos_id = parseInt(this.selectPosition.channel_id + 16);\r\n                            this.selectPositionName = this.selectPosition.pos_name;\r\n                        }\r\n                        this.choosePosTypeId = this.selectPositionId;\r\n                    }*/\r\n                    /**如果风场类型不是水电或者石化并且测点为转速测点的情况下有高低密度波形选择**/\r\n                    if (this.selectPosition.pos_type == 1) {\r\n                        /**如果是MHD采集器，转速则默认显示高密度**/\r\n                        if(this.selectPosition.dgm_type==4){\r\n                            this.hd_speed = true;\r\n                        }\r\n                        $('#hd_choose').css('display', 'inline-block');\r\n                        /**如果测点为转速测点的情况下低密度波形，单位为“rpm”,高密度波形，单位为“MV”**/\r\n                        if (this.hd_speed) {\r\n                            this.selectPosition.unitName[0] = \"mV\";\r\n                        } else {\r\n                            this.selectPosition.unitName[0] = \"rpm\";\r\n                        }\r\n                    }\r\n                    else {\r\n                        $('#hd_choose').css('display', 'none');\r\n\r\n                    }\r\n                    /**如果测点类型是阶次**/\r\n                    if (this.selectPosition.pos_type == 8 || this.selectPosition.pos_type == 9) {\r\n                        this.name_type = \"阶次\";\r\n                        this.name_type_speed = \"动阶次\";\r\n                    }\r\n                    else if(this.selectPosition.pos_type == 4 || this.selectPosition.pos_type == 9){\r\n                        this.selectPosition.unitName[0] = \"gD\";\r\n                        this.unitWave = \"gD\";\r\n                        this.unitSpec = \"gD\";\r\n                    }\r\n                    else {\r\n                        this.name_type = \"频率\";\r\n                        this.name_type_speed = \"频\";\r\n                    }\r\n                    /*if (this.choose_factory.factory_type == 8) {\r\n                        this.setSignalArr(this.selectMachine.xml_channel);\r\n                    } else {\r\n                        this.setSignalArr(this.selectMachine.mach_model_xml);\r\n                    }*/\r\n                };\r\n                this.getOrigUnit();\r\n                this.searchTrend();\r\n            },\r\n            //切换按钮\r\n            toggleBtn(){\r\n                this.flag_real = Math.abs(this.flag_real - 1);\r\n                if(this.flag_real){\r\n                    this.toggleText = '实时';\r\n                    this.chooseIsRealType = 2;\r\n                }\r\n                else{\r\n                    this.toggleText = '历史';\r\n                    this.chooseIsRealType = 1;\r\n                }\r\n            },\r\n            //转换日期方法\r\n            translateDate(value){\r\n                value = new Date(value);\r\n                value = value.getFullYear() + '-'\r\n                    + (value.getMonth() + 1) + '-'\r\n                    + this.fixTime(value.getDate()) + ' '\r\n                    + this.fixTime(value.getHours()) + ':'\r\n                    + this.fixTime(value.getMinutes());\r\n                return value;\r\n            },\r\n            //补0\r\n            fixTime (str) {\r\n                if (Number(str) < 10) {\r\n                    str = \"0\" + str;\r\n                }\r\n                return str;\r\n            },\r\n            hideBox: function(e) {\r\n                this.boxShow = e.target.id === 'posName' || e.target.tagName === 'IMG' ? !this.boxShow : false;\r\n            },\r\n            allToCurPower: function() {\r\n                for (let i = 0, l = this.allPos.length; i < l; i++) {\r\n                    if ((this.selectPositionId.split('_')[0] == this.allPos[i].type &&\r\n                        this.selectPositionId.split('_')[1] == this.allPos[i].id) ||\r\n                        (this.allPos[i].name === this.curPosFlag.name &&\r\n                            this.allPos[i].ppid == this.curPosFlag.ppid)\r\n                    ) {\r\n                        this.power_a = this.sourceAllPower[i].a\r\n                        this.power_b = this.sourceAllPower[i].b\r\n                        break;\r\n                    }\r\n                }\r\n            },\r\n            setAllPower: function() {\r\n                if (this.allPower.length > 0) {\r\n                    if (this.posIndex === 0) {\r\n                        for (let i = 0, l = this.allPos.length; i < l; i++) {\r\n                            this.curPosName = this.allPos[i].name;\r\n                            break;\r\n                        }\r\n                    } else {\r\n                        this.curPosName = this.allPos[this.posIndex].name;\r\n                    }\r\n                    for (let i = 0, l = this.allPos.length; i < l; i++) {\r\n                        if (this.curPosName === this.allPos[i].name) {\r\n                            this.posIndex = i\r\n                            break;\r\n                        }\r\n                    }\r\n                    this.$refs.powerA.value = this.allPower[this.posIndex].a;\r\n                    this.$refs.powerB.value = this.allPower[this.posIndex].b;\r\n                    this.$refs.allPower.style.display = 'block';\r\n                }\r\n            },\r\n            allPowerOk: function() {\r\n                this.sourceAllPower = this.allPower;\r\n                this.allToCurPower();\r\n                this.makeFftData(2);\r\n                this.$refs.allPower.style.display = 'none';\r\n            },\r\n            selectAllPos: function(e) {\r\n                this.boxShow = false;\r\n                this.posIndex = e.currentTarget.getAttribute('data-id');\r\n                this.curPosName = this.allPos[this.posIndex].name;\r\n                // this.$refs.curPos.title = this.allPos[this.posIndex].name;\r\n                this.$refs.powerA.value = this.allPower[this.posIndex].a;\r\n                this.$refs.powerB.value = this.allPower[this.posIndex].b;\r\n            },\r\n            setAllPowerA: function(e) {\r\n                if (this.isReal()) return\r\n                this.allPower[this.posIndex].a = Number(e.currentTarget.value);\r\n            },\r\n            setAllPowerB: function(e) {\r\n                if (this.isReal()) return\r\n                this.allPower[this.posIndex].b = Number(e.currentTarget.value);\r\n            },\r\n            isReal: function() {\r\n                let powerA, powerB;\r\n                this.$refs.powerA && (powerA = Number(this.$refs.powerA.value))\r\n                this.$refs.powerB && (powerB = Number(this.$refs.powerB.value))\r\n                this.isRealAll = powerA > powerB && powerB !== 0\r\n                return powerA > powerB && powerB !== 0;\r\n            },\r\n            getMax: function(num) {\r\n                this.isLoading === num ? false : true;\r\n            },\r\n            sortMachines: function(arr) {\r\n                for (var j = 0; j < arr.length - 1; j++) {\r\n                    for (var i = 0; i < arr.length - 1 - j; i++) {\r\n                        if (parseInt(arr[i].m_me.replace(/[^0-9]/ig, \"\")) > parseInt(arr[i + 1].m_me.replace(/[^0-9]/ig, \"\"))) {\r\n                            var temp = arr[i];\r\n                            arr[i] = arr[i + 1];\r\n                            arr[i + 1] = temp;\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            searchWave: function(date) { //获取实时或历史波形\r\n                this.requestTime = date;\r\n                let that = this;\r\n                let params = null;\r\n                if(that.choosePosTypeId && that.choosePosTypeId!=undefined){\r\n                    params={\r\n                        p_type:that.choosePosTypeId.split('_')[0],\r\n                        machine_id:that.chooseMacId,\r\n                        p_id:that.choosePosTypeId.split('_')[1],\r\n                        currTime:date,\r\n                        hd_wave:that.hd_speed,\r\n                    };\r\n                    this.$axios.post('getWave',params)\r\n                        .then(res => {\r\n                            that.initParams();\r\n                            if(res.msg===0 && res.waveObject!=null){\r\n                                that.setWave(res,date);\r\n                            }\r\n                            else{\r\n                                that.sourceWaveX = [];\r\n                                that.sourceWaveY = [];\r\n                                that.waveX=[];\r\n                                that.waveY=[];\r\n                                that.sourceSpectrumX=[];\r\n                                that.sourceSpectrumY=[];\r\n                                that.spectrumX=[];\r\n                                that.spectrumY=[];\r\n                                if(that.flag_real == 1){//选择不同的测点时，强制停止实时按钮\r\n                                    that.setRealBtn();\r\n                                }\r\n                                // swal('没有波形')\r\n                                that.noRealData=true;\r\n                            }\r\n\r\n                        }).catch(err => {\r\n                        console.log(err);\r\n                    })\r\n                }\r\n            },\r\n            setWave: function(result,date) {\r\n                var that = this;\r\n                if (!$.isEmptyObject(result)) {\r\n                    // that.initParams();\r\n                    if (!that.changePos) {\r\n                        that.flag_subFreq && ($('.tool_list>li')[0].className = 'active')\r\n                        that.flag_nx && ($('.tool_list>li')[6].className = 'active')\r\n                    }\r\n\r\n                    var speed = result.value.speed;\r\n                    var t_time;\r\n                    if (that.choose_factory.factory_type == 4) {\r\n                        that.alarm_type = parseInt(that.selectPosition.alarm_type);\r\n                    }\r\n                    t_time = result.value.saveTime_Com;\r\n                    that.curSpeed = speed;\r\n                    that.rotateSpeed = Math.round(speed);\r\n                    if (that.choose_factory.factory_type != 4 && that.selectPosition.pos_type == 1) {\r\n                        that.validValue = -1;\r\n                    }\r\n                    else {\r\n                        that.validValue = Math.round(result.value.rms * 10000) / 10000;\r\n                    }\r\n                    that.oriChangeTime = t_time;\r\n                    that.changeTime = that.timetrans(t_time);\r\n                    that.oneFreq = speed == 0 ? 0.908 / 60 : speed / 60;\r\n                    var freq = result.waveObject.freq;\r\n                    that.maxFreq = freq;\r\n                    that.samples = result.waveObject.samples;\r\n                    const jcPosList = [8,9,16];//阶次测点类型\r\n                    let posType = Number(that.selectPosition.pos_type);\r\n                    if (jcPosList.includes(posType)) {\r\n                        that.specType = 2;\r\n                        that.unitXWave = \"smpl\";\r\n                        that.unitXSpec = \"NX\";\r\n                        that.spectrumStyle = 'bar-line';\r\n                        that.unitXSpec = 'NX';\r\n                    }\r\n                    else {\r\n                        that.specType = 1;\r\n                        that.unitXWave = \"s\";\r\n                        that.unitXSpec = \"Hz\";\r\n                        that.spectrumStyle = 'line';\r\n                        that.unitXSpec = 'Hz';\r\n                    }\r\n                    if(that.selectPosition.pos_type == 14){\r\n                        that.unitXWave = \"μs\"\r\n                    }\r\n                    if (that.specType == 2) {\r\n                        if (result.waveObject.cycles > 0 && result.waveObject.samples > 0) {\r\n                            that.spectral = result.waveObject.samples / result.waveObject.cycles;\r\n                        }\r\n                        else if (result.waveObject.b[2] > 0 && result.waveObject.samples) {\r\n                            that.spectral = result.waveObject.samples / result.waveObject.b[2];\r\n                        }\r\n                        else {\r\n                            that.spectral = 1;\r\n                        }\r\n                    }\r\n                    var wave_y = [];\r\n                    var wave_x = [];\r\n                    var len = wave_y.length;\r\n                    var i = 0;\r\n                    if(that.selectPosition.pos_type == 14){\r\n                        wave_y = result.waveObject;\r\n                    }\r\n                    else{\r\n                        wave_y = result.waveObject.wave;\r\n                    }\r\n\r\n                    if (that.specType == 2) {\r\n                        let len=wave_y.length;\r\n                        for (i = 0; i < len; i++) {\r\n                            wave_x.push(i);\r\n                        }\r\n                    }\r\n                    else if(that.selectPosition.pos_type == 14){\r\n                        let len=wave_y.length;\r\n                        let t_y=[];\r\n                        let spaceTime = 10;//UT目前每隔10ns(spaceTime)采一个点，且转换成um显示波形横坐标(暂时写死，以后要改再说)\r\n                        let wStart = Number(that.selectPosition.wStart);//波形起始位置\r\n                        let wRange = Number(that.selectPosition.wRange);//波形范围\r\n                        for(let i=0; i<len; i++){\r\n                            let val_x = i*spaceTime/1000;\r\n                            if(val_x < wStart){\r\n                                continue;\r\n                            }\r\n                            if(wRange > 0 && val_x > Number(wStart + wRange)){\r\n                                continue;\r\n                            }\r\n                            wave_x.push(val_x);\r\n                            t_y.push(wave_y[i]);\r\n                        }\r\n                        wave_y = t_y;\r\n                    }\r\n                    else {\r\n                        let len=wave_y.length;\r\n                        for (i = 0; i < len; i++) {\r\n                            wave_x.push(i / freq );\r\n                        }\r\n                    }\r\n                    that.sourceWaveX = wave_x;\r\n                    that.sourceWaveY = wave_y;\r\n                    that.waveX = wave_x;\r\n                    that.waveY = wave_y;\r\n\r\n                        that.setSrcSpectrum();//计算原始频谱，用于计算波形\r\n                        that.setHanning();//计算频谱\r\n\r\n                    $('.tool_list>li:nth-child(2)').addClass('active');\r\n                    $('.tool_list>li:nth-child(11)').addClass('active');\r\n                    // that.waveSetIntervalNum();\r\n\r\n\r\n                    var newUnitWave = \"\";\r\n                    var newUnitSpec = \"\";\r\n                    /**波形图单位选择单位改变数据也要改变**/\r\n                    if (that.unitWave != that.srcUnitWave) {\r\n                        newUnitWave = that.unitWave;\r\n                        that.unitWave = that.srcUnitWave;\r\n                        that.setUnitSelect(newUnitWave,1);\r\n                    }\r\n                    /**频谱图单位选择单位改变数据也要改变**/\r\n                    if (that.unitSpec != that.srcUnitSpec) {\r\n                        newUnitSpec = that.unitSpec;\r\n                        that.unitSpec = that.srcUnitSpec;\r\n                        that.setUnitSelect(newUnitSpec,2);\r\n                    }\r\n                    that.choose_position.unit_sensor = that.unitWave;\r\n                    /*that.failureOk();*///故障频率暂时屏蔽\r\n                    if (date == 0 && that.flag_real) {\r\n                        that.changePos = false;\r\n                        window.clearTimeout(that.timer);\r\n                        that.timer = null;\r\n                        that.timer = setTimeout(function () {\r\n                            that.searchWave(0);\r\n                        }, 5000);\r\n                    }\r\n                    that.noRealData=false;\r\n                } else {\r\n                    that.noRealData=true;\r\n                    that.sourceWaveX = [];\r\n                    that.sourceWaveY = [];\r\n                    that.waveX = [];\r\n                    that.waveY = [];\r\n                    that.srcSpectrum = {};\r\n                    that.countSpectrum = {};\r\n                    that.sourceSpectrumX = [];\r\n                    that.sourceSpectrumY = [];\r\n                    that.scoreSpectrumY = [];\r\n                    that.spectrumX = [];\r\n                    that.spectrumY = [];\r\n                    swal({\r\n                        title: \"提示\",\r\n                        text: '请求波形失败',\r\n                        button: \"确认\",\r\n                    });\r\n                    if (that.flag_real == 1) { //选择不同的测点时，强制停止实时按钮\r\n                        that.setRealBtn();\r\n                    }\r\n                }\r\n                if (!this.changePos && this.flag_f_nx.isChange) {\r\n                    $('.tool_btn')[2].click();\r\n                }\r\n            },\r\n            change_hd: function() {\r\n\r\n                if ($('#hd_low_radio').is(\":checked\")) {\r\n                    this.hd_speed = false;\r\n                } else {\r\n                    this.hd_speed = true;\r\n                }\r\n                /**如果是低密度波形，单位为“rpm”,高密度波形，单位为“MV”**/\r\n                if (this.hd_speed) {\r\n                    this.selectPosition.unitName[0] = \"mV\";\r\n                } else {\r\n                    this.selectPosition.unitName[0] = \"rpm\";\r\n                }\r\n                this.requestTime = 0; //获取波形，0表示实时\r\n                this.searchTrend();\r\n            },\r\n            buildTime: function(date) {\r\n                var t = new Date(date);\r\n                return t.getFullYear() + '-' +\r\n                    (this.fixTime(t.getMonth() + 1)) + '-' +\r\n                    this.fixTime(t.getDate());\r\n            },\r\n            //时间戳转化时分秒\r\n            timestampToTime(timestamp) {\r\n                if(timestamp!=0 && timestamp){\r\n                    var date = new Date(timestamp);\r\n                }\r\n                else{\r\n                    var date = new Date();//时间戳为10位需*1000，时间戳为13位的话不需乘1000\r\n                }\r\n\r\n                var Y = date.getFullYear() + '-';\r\n                var M = (date.getMonth()+1 < 10 ? '0'+(date.getMonth()+1) : date.getMonth()+1) + '-';\r\n                var D = (date.getDate() < 10 ? '0'+date.getDate() : date.getDate()) + ' ';\r\n                var h = (date.getHours() < 10 ? '0'+date.getHours() : date.getHours()) + ':';\r\n                var m = (date.getMinutes() < 10 ? '0'+date.getMinutes() : date.getMinutes()) + ':';\r\n                var s = (date.getSeconds() < 10 ? '0'+date.getSeconds() : date.getSeconds());\r\n\r\n                let strDate = Y+M+D+h+m+s;\r\n                return strDate;\r\n            },\r\n            hasWave: function(pos_type) { //测点过滤\r\n                if (pos_type == 3 || pos_type == 4 || pos_type == 6 || pos_type == 8 || pos_type == 9 || pos_type == 12 || pos_type == 200 || pos_type == 1) {\r\n                    return true;\r\n                } else {\r\n                    return false;\r\n                }\r\n            },\r\n            setSelectVal: function(position) {\r\n                if (position) {\r\n                    return position.position_type + \"_\" + position.position_id;\r\n                }\r\n            },\r\n            isInArray: function(arr, value) {\r\n                for (var i = 0; i < arr.length; i++) {\r\n                    if (value == arr[i]) {\r\n                        return true;\r\n                    }\r\n                }\r\n                return false;\r\n            },\r\n            initMacPosSet: function() { //初始化选中机组和测点\r\n                // console.log(this.selectMachineId);\r\n                if (this.machines.length > 0) {\r\n                    var machines_id = [];\r\n                    for (var k = 0; k < this.machines.length; k++) {\r\n                        machines_id.push(this.machines[k].machine_id.split(\"_\")[0]);\r\n                    }\r\n                    // console.log(this.isInArray(machines_id, this.choose_machine.machine_id));\r\n                    if (this.choose_machine.machine_id == \"\" || this.isInArray(machines_id, this.choose_machine.machine_id) == false) { //如果带过来的机组没有测点就默认显示第一个机组\r\n                        this.selectMachineId = this.machines[0].machine_id;\r\n                    }\r\n\r\n                    for (var i = 0; i < this.machines.length; i++) {\r\n                        if (this.machines[i].machine_id == this.selectMachineId) {\r\n                            this.selectMachine = this.machines[i];\r\n                            this.sortPositions = this.sortPositionsName(this.machines[i].c_machine_positions);\r\n                            /**如果测点类型是阶次，故障频率文案改变为阶次，其他为频率**/\r\n                            if (this.selectPosition.position_type == 8 || this.selectPosition.position_type == 9) {\r\n                                this.name_type = \"阶次\";\r\n                                this.name_type_speed = \"动阶次\";\r\n                            } else {\r\n                                this.name_type = \"频率\";\r\n                                this.name_type_speed = \"频\";\r\n                            }\r\n                            /**水泥厂的传动链“xml_channel”,其他的是“mach_model_xml”**/\r\n                            if (this.choose_factory.factory_type == 8) {\r\n                                this.setSignalArr(this.selectMachine.xml_channel);\r\n                            } else {\r\n                                this.setSignalArr(this.selectMachine.mach_model_xml);\r\n                            }\r\n                            break;\r\n                        }\r\n                    }\r\n                    var positions = this.sortPositions;\r\n                    if (this.selectPositionId == -1 || this.selectPositionId == \"-1_-1\" || this.choose_position.position_type == 2 || this.choose_position.position_type == 5 || this.choose_position.position_type == 7 || this.choose_position.position_type == 10 || this.choose_position.position_type == 11 || this.choose_position.position_type == 13 || this.choose_position.position_type == 200) { //没有带入测点，默认显示第一个振动测点\r\n                        this.selectPositionId = positions[this.selIndex].position_type + \"_\" + positions[this.selIndex].position_id;\r\n                        this.selectPosition = positions[this.selIndex];\r\n                        this.selectPositionName = positions[this.selIndex].position_name;\r\n                    } else { //选中带入的测点\r\n                        for (i = 0; i < positions.length; i++) {\r\n                            if (positions[i].position_id == Number(this.selectPositionId.split(/_/)[1]) && positions[i].position_type == Number(this.selectPositionId.split(/_/)[0])) {\r\n                                this.selectPosition = positions[i];\r\n                                this.selectPositionName = positions[i].position_name;\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                    // console.log(this.selectPosition);\r\n                    /**当测点为阶次时显示柱状图**/\r\n                    if (this.selectPosition.position_type == 8 || this.selectPosition.position_type == 9) {\r\n                        this.spectrumStyle = 'bar-line';\r\n                        this.name_type = \"阶次\";\r\n                        this.name_type_speed = \"动阶次\";\r\n                    } else {\r\n                        this.spectrumStyle = 'line';\r\n                        this.name_type = \"频率\";\r\n                        this.name_type_speed = \"频\";\r\n                    }\r\n\r\n                    /**长采样测点的处理，如果capture_mode=0是自动采样，=1是手动采样**/\r\n                    if (this.selectPosition.position_type == 200) {\r\n                        if (this.selectPosition.xmlValMap.capture_mode == 0) {\r\n                            this.selectPositionId = 200 + \"_\" + parseInt(this.selectPosition.xmlValMap.capture_byId - 1);\r\n                            this.selectPosition.position_id = this.selectPosition.xmlValMap.capture_byId - 1;\r\n                            this.selectPositionName = this.selectPosition.position_name;\r\n                        } else {\r\n                            this.selectPositionId = 200 + \"_\" + parseInt(this.selectPosition.channel_id + 16);\r\n                            this.selectPosition.position_id = parseInt(this.selectPosition.channel_id + 16);\r\n                            this.selectPositionName = this.selectPosition.position_name;\r\n                        }\r\n                    }\r\n                    /**如果风场类型不是水电或者石化并且测点为转速测点的情况下有高低密度波形选择**/\r\n                    if (this.selectPosition.position_type == 1) {\r\n                        $('#hd_choose').css('display', 'inline-block');\r\n                        /**如果低密度波形，单位为“rpm”,高密度波形，单位为“MV”**/\r\n                        if (this.hd_speed) {\r\n                            this.selectPosition.unitName[0] = \"mV\";\r\n                        } else {\r\n                            this.selectPosition.unitName[0] = \"rpm\";\r\n                        }\r\n                    } else {\r\n                        $('#hd_choose').css('display', 'none');\r\n                    }\r\n                    this.searchTrend();\r\n                }\r\n            },\r\n            searchTrend: function() { //搜索数据\r\n                let that = this;\r\n                let params = null;\r\n                that.ifImportBaseWave = 2;\r\n                if(this.choosePosTypeId && this.choosePosTypeId!=undefined){\r\n                    params={\r\n                        p_type:this.choosePosTypeId.split('_')[0],\r\n                        machine_id:this.chooseMacId,\r\n                        p_id:this.choosePosTypeId.split('_')[1],\r\n                        endTime:new Date(this.search_data.end_time).getTime(),\r\n                        startTime:new Date(this.search_data.start_time).getTime(),\r\n                        hd_wave:this.hd_speed\r\n                    };\r\n                    this.$axios.post('getWaveValue',params)\r\n                        .then(res => {\r\n                            if(res.msg===0 && res.list.length>0){\r\n                                if (typeof that.selectPosition.unitName == \"string\") { //水电：如果返回的unit不是数组而是字符串就直接显示字符串\r\n                                    that.unitTrend = that.selectPosition.unitName;\r\n                                    that.srcUnitTrend = that.unitTrend;\r\n                                }\r\n                                else if(that.selectPosition.unitName === undefined){\r\n                                    that.unitTrend = 'g';\r\n                                    that.srcUnitTrend = that.unitTrend;\r\n                                }\r\n                                else if(that.selectPosition.dgm_type == 10 && that.selectPosition.pos_type == 3){\r\n                                    that.unitTrend = 'm/s²';//WL9100振动测点的单位定死为'm/s²'\r\n                                    that.srcUnitTrend = that.unitTrend;\r\n                                }\r\n                                else {\r\n\r\n                                    that.unitTrend = that.selectPosition.unitName[0];\r\n                                    that.srcUnitTrend = that.unitTrend;\r\n                                }\r\n                                that.setTrend(res.list);\r\n                            }\r\n                            else{\r\n                                that.historyData = [];\r\n                                that.historyX = [];\r\n                                that.historyY = [];\r\n                                that.waveX = [];\r\n                                that.waveY = [];\r\n                                that.spectrumX = [];\r\n                                that.spectrumY = [];\r\n                                swal({\r\n                                    title: \"提示\",\r\n                                    text: '该时段内无历史数据',\r\n                                    button: \"确认\",\r\n                                });\r\n                            }\r\n                            that.searchWave(that.requestTime); //获取波形\r\n\r\n                        }).catch(err => {\r\n                        console.log(err)\r\n                    });\r\n                }\r\n            },\r\n            setTrend: function(result) {\r\n                var that = this;\r\n                if (result != null && result.length > 0) {\r\n                    var history_data = [];\r\n                    var historyXdata = [];\r\n                    var historyYdata = [];\r\n                    var value = 0;\r\n                    var startValue;\r\n                    var save_time;\r\n                    result.sort((a, b) => {\r\n                        return a.saveTime_Com - b.saveTime_Com\r\n                    })\r\n                    for (var i = 0, len = result.length; i < len; i++) {\r\n                        save_time = new Date(result[i].saveTime_Com);\r\n                        value = result[i].tempValue.toFixed(4);\r\n                        if (i == 0) {\r\n                            startValue = save_time;\r\n                        }\r\n                        history_data.push([result[i].saveTime_Com, value]);\r\n                        historyXdata.push(Number(result[i].saveTime_Com));\r\n                        historyYdata.push(Number(value));\r\n                    }\r\n                    that.sourceHistoryY = historyYdata;\r\n                    that.historyY = historyYdata;\r\n                    that.historyData = history_data;\r\n                    that.historyX = historyXdata;\r\n\r\n                    var newUnitWave = \"\";\r\n                    var newUnitSpec = \"\";\r\n                    /**趋势图单位选择单位改变数据也要改变**/\r\n                    if (that.unitTrend != that.srcUnitTrend) {\r\n                        newUnitSpec = that.unitTrend;\r\n                        that.unitTrend = that.srcUnitTrend;\r\n                        that.setUnitSelect(newUnitSpec,3);\r\n                    }\r\n                    // that.searchWave(that.requestTime);//获取波形\r\n                } else {\r\n                    that.historyData = [];\r\n                    that.historyX = [];\r\n                    that.waveX = [];\r\n                    that.waveY = [];\r\n                    that.spectrumX = [];\r\n                    that.spectrumY = [];\r\n                    swal({\r\n                        title: \"提示\",\r\n                        text: '该时段内无历史数据',\r\n                        button: \"确认\",\r\n                    });\r\n                }\r\n            },\r\n            isPosVibSeries: function(position_type) { //是否为振动系的测点\r\n                var isVibSeries = false;\r\n                switch (position_type) {\r\n                    case 3:\r\n                    case 4:\r\n                    case 6:\r\n                    case 8:\r\n                    case 9:\r\n                    case 12:\r\n                        isVibSeries = true;\r\n                        break;\r\n                }\r\n                return isVibSeries;\r\n            },\r\n            /**测点排序方法**/\r\n            sortPositionsName: function(arr_result) {\r\n                var that = this;\r\n                var sortArr = [];\r\n                var pos_speed = []; //转速测点\r\n                var pos_vibrate = []; //振动测点\r\n                var pos_envelope = []; //包络测点\r\n                var pos_vibrateOrder = []; //振动阶次测点\r\n                var pos_envelopeOrder = []; //包络阶次测点\r\n                var pos_samp = []; //长采样测点\r\n                var pos_slosh = []; //晃度测点\r\n                var pos_overturn = []; //倾覆测点\r\n                var pos_inclinate = []; //倾角测点\r\n                var pos_synthetic = []; //合成倾角测点\r\n                var pos_temp = []; //合成倾角测点\r\n                var pos_process = []; //过程量测点\r\n                var pos_digital = []; //数字量测点\r\n                var pos_crafts = []; //工艺量测点\r\n                var pos_bolt = []; //螺栓测点\r\n                var pos_shock = []; //冲击测点\r\n                var pos_shockOrder = []; //冲击阶次测点\r\n                var pos_rail = [];//轨道波磨测点\r\n                if (arr_result != null && arr_result.length > 0) {\r\n                    for (var m = 0, posLen = arr_result.length; m < posLen; m++) {\r\n                        let pos_type = arr_result[m].pos_type;\r\n                        switch (pos_type) {\r\n                            case 1:\r\n                                pos_speed.push(arr_result[m]);\r\n                                break;\r\n                            case 3:\r\n                                pos_vibrate.push(arr_result[m]);\r\n                                break;\r\n                            case 4:\r\n                                pos_envelope.push(arr_result[m]);\r\n                                break;\r\n                            case 8:\r\n                                pos_vibrateOrder.push(arr_result[m]);\r\n                                break;\r\n                            case 9:\r\n                                pos_envelopeOrder.push(arr_result[m]);\r\n                                break;\r\n                            case 200:\r\n                                pos_samp.push(arr_result[m]);\r\n                                break;\r\n                            case 6:\r\n                                pos_slosh.push(arr_result[m]);\r\n                                break;\r\n                            case 11:\r\n                                pos_overturn.push(arr_result[m]);\r\n                                break;\r\n                            case 12:\r\n                                pos_inclinate.push(arr_result[m]);\r\n                                break;\r\n                            case 13:\r\n                                pos_synthetic.push(arr_result[m]);\r\n                                break;\r\n                            case 7:\r\n                                pos_temp.push(arr_result[m]);\r\n                                break;\r\n                            case 2:\r\n                                pos_process.push(arr_result[m]);\r\n                                break;\r\n                            case 5:\r\n                                pos_digital.push(arr_result[m]);\r\n                                break;\r\n                            case 10:\r\n                                pos_crafts.push(arr_result[m]);\r\n                                break;\r\n                            case 14:\r\n                                pos_bolt.push(arr_result[m]);\r\n                                break;\r\n                            case 15:\r\n                                pos_shock.push(arr_result[m]);\r\n                                break;\r\n                            case 16:\r\n                                pos_shockOrder.push(arr_result[m]);\r\n                                break;\r\n                            case 17:\r\n                                pos_rail.push(arr_result[m]);\r\n                                break;\r\n                            default:\r\n                                break;\r\n                        }\r\n                    }\r\n                    pos_speed = pos_speed.sort(compareName('pos_name'));//根据测点名的assic码排序\r\n                    pos_vibrate = pos_vibrate.sort(compareName('pos_name'));\r\n                    pos_envelope = pos_envelope.sort(compareName('pos_name'));\r\n                    pos_vibrateOrder = pos_vibrateOrder.sort(compareName('pos_name'));\r\n                    pos_envelopeOrder = pos_envelopeOrder.sort(compareName('pos_name'));\r\n                    pos_slosh = pos_slosh.sort(compareName('pos_name'));\r\n                    pos_overturn = pos_overturn.sort(compareName('pos_name'));\r\n                    pos_inclinate = pos_inclinate.sort(compareName('pos_name'));\r\n                    pos_synthetic = pos_synthetic.sort(compareName('pos_name'));\r\n                    pos_temp = pos_temp.sort(compareName('pos_name'));\r\n                    pos_process = pos_process.sort(compareName('pos_name'));\r\n                    pos_digital = pos_digital.sort(compareName('pos_name'));\r\n                    pos_crafts = pos_crafts.sort(compareName('pos_name'));\r\n                    pos_bolt = pos_bolt.sort(compareName('pos_name'));\r\n                    pos_samp = pos_samp.sort(compareName('pos_name'));\r\n                    pos_shock = pos_shock.sort(compareName('pos_name'));\r\n                    pos_shockOrder = pos_shockOrder.sort(compareName('pos_name'));\r\n                    pos_rail = pos_rail.sort(compareName('pos_name'));\r\n                    sortArr = pos_speed.concat(pos_vibrate, pos_envelope, pos_vibrateOrder, pos_envelopeOrder, pos_samp, pos_slosh, pos_overturn, pos_inclinate, pos_synthetic, pos_temp, pos_process, pos_digital, pos_crafts, pos_bolt,pos_shock,pos_shockOrder,pos_rail);\r\n                    if (sortArr.length > 0) {\r\n                        /**没有振动取第一个测点**/\r\n                        if (pos_vibrate.length == 0) {\r\n                            that.selIndex = 0;\r\n                        } else {\r\n                            that.selIndex = pos_speed.length;\r\n                        }\r\n                    }\r\n                }\r\n                return sortArr;\r\n            },\r\n            factory_type: function() {\r\n                if (this.db_type.length > 0) {\r\n                    var db_strs = this.db_type.split(/_/ig);\r\n                    var db_type_n = Number(db_strs[db_strs.length - 1][0]);\r\n                    return db_type_n\r\n                }\r\n            },\r\n            removeItem: function(arr, item) { //数组中移除某特定元素的方法\r\n                var result = [];\r\n                for (var i = 0; i < arr.length; i++) {\r\n                    if (arr[i].dgm_type != item) {\r\n                        result.push(arr[i]);\r\n                    }\r\n                }\r\n                return result;\r\n            },\r\n            copyArr: function(arr) { //简单的复制数组对象方法\r\n                var t_arr = [];\r\n                var t_obj = {};\r\n                for (var i = 0; i < arr.length; i++) {\r\n                    t_obj = {};\r\n                    t_obj = this.copyObj(arr[i]);\r\n                    t_arr.push(t_obj);\r\n                }\r\n                return t_arr;\r\n            },\r\n            copyObj: function(obj) { //简单的复制对象方法\r\n                var t_obj = {};\r\n                for (var key in obj) {\r\n                    t_obj[key] = obj[key]\r\n                }\r\n                return t_obj;\r\n            },\r\n            setSignalArr: function(xmlStr) { //构造故障频率树结构\r\n                if (xmlStr == null || xmlStr == \"\") {\r\n                    return;\r\n                }\r\n                var xmlDoc;\r\n                if (window.DOMParser) {\r\n                    var parser = new DOMParser();\r\n                    xmlDoc = parser.parseFromString(xmlStr, \"text/xml\");\r\n                } else // Internet Explorer\r\n                {\r\n                    xmlDoc = new ActiveXObject(\"Microsoft.XMLDOM\");\r\n                    xmlDoc.async = false;\r\n                    xmlDoc.loadXML(xmlStr);\r\n                }\r\n                var model_xml = xmlDoc.childNodes[0];\r\n                var itemList = model_xml.childNodes;\r\n\r\n                this.gearList = [{\r\n                    id: 0,\r\n                    name: \"啮合\" + this.name_type,\r\n                    label: \"啮合\" + this.name_type,\r\n                    state: false,\r\n                    children: []\r\n                }];\r\n                this.bearList = [{\r\n                    id: 1,\r\n                    name: \"轴承通过\" + this.name_type,\r\n                    label: \"轴承通过\" + this.name_type,\r\n                    state: false,\r\n                    children: []\r\n                }];\r\n                this.speedList = [{\r\n                    id: 2,\r\n                    name: \"转\" + this.name_type_speed,\r\n                    label: \"转\" + this.name_type_speed,\r\n                    state: false,\r\n                    children: []\r\n                }];\r\n                var children_gear1 = [{\r\n                    id: 0,\r\n                    name: \"啮合\" + this.name_type,\r\n                    label: \"\",\r\n                    state: false,\r\n                    type: \"GMF\"\r\n                }];\r\n                var children_gear2 = [{\r\n                    id: 0,\r\n                    name: \"定齿啮合\" + this.name_type,\r\n                    label: \"\",\r\n                    state: false,\r\n                    type: \"GMF\"\r\n                }, {\r\n                    id: 1,\r\n                    name: \"太阳轮啮合\" + this.name_type,\r\n                    label: \"\",\r\n                    state: false,\r\n                    type: \"GMF\"\r\n                }];\r\n                var children_bear = [{\r\n                    id: 0,\r\n                    name: \"外环通过\" + this.name_type,\r\n                    label: \"\",\r\n                    state: false,\r\n                    type: \"BPFO\"\r\n                }, {\r\n                    id: 1,\r\n                    name: \"内环通过\" + this.name_type,\r\n                    label: \"\",\r\n                    state: false,\r\n                    type: \"BPFI\"\r\n                }, {\r\n                    id: 2,\r\n                    name: \"滚动体通过\" + this.name_type,\r\n                    label: \"\",\r\n                    state: false,\r\n                    type: \"BSF\"\r\n                }, {\r\n                    id: 3,\r\n                    name: \"2倍滚动体通过\" + this.name_type,\r\n                    label: \"\",\r\n                    state: false,\r\n                    type: \"2xBSF\"\r\n                }, {\r\n                    id: 4,\r\n                    name: \"保持架通过\" + this.name_type,\r\n                    label: \"\",\r\n                    state: false,\r\n                    type: \"FTF\"\r\n                }, ];\r\n                var i = 0;\r\n                var j = 0;\r\n                var len = (itemList.length - 1) / 2;\r\n                var itemType = -1; //部件类型\r\n                var itemType2 = -1;\r\n                var ids = [];\r\n                var ids2 = [];\r\n                var obj = {};\r\n                var obj2 = {};\r\n                var item = {}; //叶节点\r\n                var t_children = [];\r\n                var fix_teeth_num = 0; //定齿数（行星轮）\r\n                var plant_teeth_num = 0; //行星齿数（行星轮）\r\n                var sun_teeth_num = 0; //太阳齿数（行星轮）\r\n                /**啮合频率**/\r\n                for (i = 1; i <= len; i++) {\r\n                    itemType = Number(itemList[2 * i - 1].getAttribute(\"itemtype\"));\r\n                    if (!(itemType == 5 || itemType == 6 || itemType == 9 || itemType == 10)) {\r\n                        continue;\r\n                    }\r\n                    obj = {};\r\n                    ids = itemList[2 * i - 1].getAttribute(\"id\").split(\"_\");\r\n                    obj.id = Number(ids[ids.length - 1]);\r\n                    obj.name = itemList[2 * i - 1].getAttribute(\"name\");\r\n                    obj.label = \"\";\r\n                    obj.itemType = itemType;\r\n                    obj.state = false;\r\n                    obj.speedRate = Number(itemList[2 * i - 1].getAttribute(\"speedRate\"));\r\n                    obj.children = [];\r\n                    obj.parent = this.gearList;\r\n                    var gearBoth = false;\r\n                    if (itemType == 5) { //直齿\r\n                        for (j = 0; j < this.gearList[0].children.length; j++) {\r\n                            obj2 = this.gearList[0].children[j];\r\n                            if (obj2.itemType == 5) {\r\n                                if (Number(itemList[2 * i - 1].getAttribute(\"up\")) == obj2.id || Number(itemList[2 * i - 1].getAttribute(\"down\")) == obj2.id) {\r\n                                    obj2.name = obj2.name + \"/\" + obj.name;\r\n                                    gearBoth = true;\r\n                                    break;\r\n                                }\r\n                            }\r\n                        }\r\n                        if (gearBoth) {\r\n                            continue;\r\n                        }\r\n                        t_children = this.copyArr(children_gear1);\r\n                        t_children[0].value = Number(itemList[2 * i - 1].getAttribute(\"gear_teeth_num\"));\r\n                        t_children[0].speedRate = obj.speedRate;\r\n                        t_children[0].parent = obj;\r\n                        obj.children = this.copyArr(t_children);\r\n                    } else if (itemType == 6 || itemType == 9) {\r\n                        t_children = this.copyArr(children_gear2);\r\n                        t_children[0].value = Number(itemList[2 * i - 1].getAttribute(\"fix_teeth_num\"));\r\n                        t_children[0].speedRate = obj.speedRate;\r\n                        t_children[0].parent = obj;\r\n                        t_children[1].value = Number(itemList[2 * i - 1].getAttribute(\"fix_teeth_num\"));\r\n                        t_children[1].speedRate = obj.speedRate;\r\n                        t_children[1].parent = obj;\r\n                        obj.children = this.copyArr(t_children);\r\n                    } else if (itemType == 10) {\r\n                        for (j = 1; j < len; j++) {\r\n                            itemType2 = Number(itemList[2 * j - 1].getAttribute(\"itemtype\"));\r\n                            if (!(itemType2 == 6 || itemType2 == 9 || itemType2 == 10)) {\r\n                                continue;\r\n                            }\r\n                            obj2 = {};\r\n                            ids2 = itemList[2 * j - 1].getAttribute(\"id\").split(\"_\");\r\n                            obj2.id = Number(ids2[ids2.length - 1]);\r\n                            if (Number(itemList[2 * i - 1].getAttribute(\"left2\")) == obj2.id) {\r\n                                obj2.speedRate = Number(itemList[2 * j - 1].getAttribute(\"speedRate\"));\r\n                                break;\r\n                            }\r\n                        }\r\n                        fix_teeth_num = Number(itemList[2 * i - 1].getAttribute(\"fix_teeth_num\"));\r\n                        plant_teeth_num = Number(itemList[2 * i - 1].getAttribute(\"plant_teeth_num\"));\r\n                        sun_teeth_num = Number(itemList[2 * i - 1].getAttribute(\"sun_teeth_num\"));\r\n                        t_children = this.copyArr(children_gear2);\r\n                        t_children[0].value = fix_teeth_num;\r\n                        t_children[0].speedRate = obj.speedRate + obj2.speedRate;\r\n                        t_children[0].parent = obj;\r\n                        t_children[1].value = sun_teeth_num;\r\n                        t_children[1].speedRate = (1 + fix_teeth_num / sun_teeth_num) * obj2.speedRate + (fix_teeth_num / sun_teeth_num) * obj.speedRate - obj2.speedRate;\r\n                        t_children[1].parent = obj;\r\n                        obj.children = this.copyArr(t_children);\r\n                    }\r\n                    this.gearList[0].children.push(obj);\r\n                }\r\n                /**轴承通过频率**/\r\n                /**轴承**/\r\n                for (i = 1; i <= len; i++) {\r\n                    itemType = Number(itemList[2 * i - 1].getAttribute(\"itemtype\"));\r\n                    if (itemType != 7) {\r\n                        continue;\r\n                    }\r\n                    obj = {};\r\n                    ids = itemList[2 * i - 1].getAttribute(\"id\").split(\"_\");\r\n                    obj.id = Number(ids[ids.length - 1]);\r\n                    obj.name = itemList[2 * i - 1].getAttribute(\"name\");\r\n                    obj.label = \"\";\r\n                    obj.itemType = itemType;\r\n                    obj.state = false;\r\n                    obj.speedRate = Number(itemList[2 * i - 1].getAttribute(\"speedRate\"));\r\n                    obj.children = [];\r\n                    obj.parent = this.bearList;\r\n                    t_children = this.copyArr(children_bear);\r\n                    t_children[0].value = Number(itemList[2 * i - 1].getAttribute(\"bpfo\"));\r\n                    t_children[0].speedRate = obj.speedRate;\r\n                    t_children[1].value = Number(itemList[2 * i - 1].getAttribute(\"bpfi\"));\r\n                    t_children[1].speedRate = obj.speedRate;\r\n                    t_children[2].value = Number(itemList[2 * i - 1].getAttribute(\"bsf\"));\r\n                    t_children[2].speedRate = obj.speedRate;\r\n                    t_children[3].value = 2 * Number(itemList[2 * i - 1].getAttribute(\"bsf\"));\r\n                    t_children[3].speedRate = obj.speedRate;\r\n                    t_children[4].value = Number(itemList[2 * i - 1].getAttribute(\"ftf\"));\r\n                    t_children[4].speedRate = obj.speedRate;\r\n                    obj.children = this.copyArr(t_children);\r\n                    this.bearList[0].children.push(obj);\r\n                }\r\n                /**发电机前、后轴承**/\r\n                for (i = 1; i <= len; i++) {\r\n                    itemType = Number(itemList[2 * i - 1].getAttribute(\"itemtype\"));\r\n                    if (itemType != 8) {\r\n                        continue;\r\n                    }\r\n                    /**前轴承**/\r\n                    obj = {};\r\n                    ids = itemList[2 * i - 1].getAttribute(\"id\").split(\"_\");\r\n                    obj.id = Number(ids[ids.length - 1]) * 100 + 1;\r\n                    obj.name = itemList[2 * i - 1].getAttribute(\"name\") + \"前轴承\";\r\n                    obj.label = \"\";\r\n                    obj.itemType = itemType;\r\n                    obj.state = false;\r\n                    obj.speedRate = Number(itemList[2 * i - 1].getAttribute(\"speedRate\"));\r\n                    obj.children = [];\r\n                    t_children = this.copyArr(children_bear);\r\n                    t_children[0].value = Number(itemList[2 * i - 1].getAttribute(\"comp1Freq3\"));\r\n                    t_children[0].speedRate = obj.speedRate;\r\n                    t_children[1].value = Number(itemList[2 * i - 1].getAttribute(\"comp1Freq4\"));\r\n                    t_children[1].speedRate = obj.speedRate;\r\n                    t_children[2].value = Number(itemList[2 * i - 1].getAttribute(\"comp1Freq2\"));\r\n                    t_children[2].speedRate = obj.speedRate;\r\n                    t_children[3].value = 2 * Number(itemList[2 * i - 1].getAttribute(\"comp1Freq2\"));\r\n                    t_children[3].speedRate = obj.speedRate;\r\n                    t_children[4].value = Number(itemList[2 * i - 1].getAttribute(\"comp1Freq1\"));\r\n                    t_children[4].speedRate = obj.speedRate;\r\n                    obj.children = this.copyArr(t_children);\r\n                    this.bearList[0].children.push(obj);\r\n                    /**后轴承**/\r\n                    obj = {};\r\n                    ids = itemList[2 * i - 1].getAttribute(\"id\").split(\"_\");\r\n                    obj.id = Number(ids[ids.length - 1]) * 100 + 2;\r\n                    obj.name = itemList[2 * i - 1].getAttribute(\"name\") + \"后轴承\";\r\n                    obj.label = \"\";\r\n                    obj.itemType = itemType;\r\n                    obj.state = false;\r\n                    obj.speedRate = Number(itemList[2 * i - 1].getAttribute(\"speedRate\"));\r\n                    obj.children = [];\r\n                    t_children = this.copyArr(children_bear);\r\n                    t_children[0].value = Number(itemList[2 * i - 1].getAttribute(\"comp2Freq3\"));\r\n                    t_children[0].speedRate = obj.speedRate;\r\n                    t_children[1].value = Number(itemList[2 * i - 1].getAttribute(\"comp2Freq4\"));\r\n                    t_children[1].speedRate = obj.speedRate;\r\n                    t_children[2].value = Number(itemList[2 * i - 1].getAttribute(\"comp2Freq2\"));\r\n                    t_children[2].speedRate = obj.speedRate;\r\n                    t_children[3].value = 2 * Number(itemList[2 * i - 1].getAttribute(\"comp2Freq2\"));\r\n                    t_children[3].speedRate = obj.speedRate;\r\n                    t_children[4].value = Number(itemList[2 * i - 1].getAttribute(\"comp2Freq1\"));\r\n                    t_children[4].speedRate = obj.speedRate;\r\n                    obj.children = this.copyArr(t_children);\r\n                    this.bearList[0].children.push(obj);\r\n                }\r\n                /**齿轮**/\r\n                for (i = 1; i <= len; i++) {\r\n                    itemType = Number(itemList[2 * i - 1].getAttribute(\"itemtype\"));\r\n                    if (!(itemType == 6 || itemType == 9 || itemType == 10)) {\r\n                        continue;\r\n                    }\r\n                    obj = {};\r\n                    ids = itemList[2 * i - 1].getAttribute(\"id\").split(\"_\");\r\n                    obj.id = Number(ids[ids.length - 1]);\r\n                    obj.name = itemList[2 * i - 1].getAttribute(\"name\");\r\n                    obj.label = \"\";\r\n                    obj.itemType = itemType;\r\n                    obj.state = false;\r\n                    obj.speedRate = Number(itemList[2 * i - 1].getAttribute(\"speedRate\"));\r\n                    obj.children = [];\r\n                    t_children = this.copyArr(children_bear);\r\n                    if (itemType == 10) {\r\n                        for (j = 1; j < len; j++) {\r\n                            itemType2 = Number(itemList[2 * j - 1].getAttribute(\"itemtype\"));\r\n                            if (!(itemType2 == 6 || itemType2 == 9 || itemType2 == 10)) {\r\n                                continue;\r\n                            }\r\n                            obj2 = {};\r\n                            ids2 = itemList[2 * j - 1].getAttribute(\"id\").split(\"_\");\r\n                            obj2.id = Number(ids2[ids2.length - 1]);\r\n                            if (Number(itemList[2 * i - 1].getAttribute(\"left2\")) == obj2.id) {\r\n                                obj2.speedRate = Number(itemList[2 * j - 1].getAttribute(\"speedRate\"));\r\n                                break;\r\n                            }\r\n                        }\r\n                        obj.speedRate = Math.abs(obj.speedRate - obj2.speedRate) * (Number(itemList[2 * i - 1].getAttribute(\"fix_teeth_num\")) / Number(itemList[2 * i - 1].getAttribute(\"plant_teeth_num\")));\r\n                    } else {\r\n                        obj.speedRate = obj.speedRate * Number(itemList[2 * i - 1].getAttribute(\"fix_teeth_num\")) / Number(itemList[2 * i - 1].getAttribute(\"plant_teeth_num\"));\r\n                    }\r\n                    t_children[0].value = Number(itemList[2 * i - 1].getAttribute(\"bpfo\"));\r\n                    t_children[0].speedRate = obj.speedRate;\r\n                    t_children[1].value = Number(itemList[2 * i - 1].getAttribute(\"bpfi\"));\r\n                    t_children[1].speedRate = obj.speedRate;\r\n                    t_children[2].value = Number(itemList[2 * i - 1].getAttribute(\"bsf\"));\r\n                    t_children[2].speedRate = obj.speedRate;\r\n                    t_children[3].value = 2 * Number(itemList[2 * i - 1].getAttribute(\"bsf\"));\r\n                    t_children[3].speedRate = obj.speedRate;\r\n                    t_children[4].value = Number(itemList[2 * i - 1].getAttribute(\"ftf\"));\r\n                    t_children[4].speedRate = obj.speedRate;\r\n                    obj.children = this.copyArr(t_children);\r\n                    this.bearList[0].children.push(obj);\r\n                }\r\n                /**转频**/\r\n                for (i = 1; i <= len; i++) {\r\n                    itemType = Number(itemList[2 * i - 1].getAttribute(\"itemtype\"));\r\n                    if (itemType != 2) {\r\n                        continue;\r\n                    }\r\n                    obj = {};\r\n                    ids = itemList[2 * i - 1].getAttribute(\"id\").split(\"_\");\r\n                    obj.id = Number(ids[ids.length - 1]);\r\n                    obj.name = itemList[2 * i - 1].getAttribute(\"name\") + \"转\" + this.name_type_speed;\r\n                    obj.label = \"\";\r\n                    obj.itemType = itemType;\r\n                    obj.state = false;\r\n                    obj.value = 1;\r\n                    obj.speedRate = Number(itemList[2 * i - 1].getAttribute(\"speedRate\"));\r\n                    obj.type = \"F\";\r\n                    this.speedList[0].children.push(obj);\r\n                }\r\n            },\r\n            initParams: function() { //初始化参数\r\n                this.noRealData = false;//是否有实时波形\r\n                this.last_xWave = {}; //上一个选中点\r\n                this.last_xSpec = {}; //上一个选中点\r\n                this.oneFreq = 0; //1倍频\r\n                this.fMaxFZ = 0; //最大幅值\r\n                this.maxFreq = 0; //最大频率\r\n                this.samples = 0; //谱线数\r\n                this.peakIndexArr = []; //自动寻峰10个坐标索引\r\n                this.flag_winFunc = 0; //汉宁窗\r\n                this.flag_oneF = 0; //1倍频标记\r\n                this.flag_f_nx.val = 0; //阶比\r\n                this.flag_addLabel = 0; //添加标注\r\n                this.nxArrayWave = []; //带标签竖线\r\n                // this.spectrumXNum = this.interValNum_spectrumX;\r\n\r\n                this.flag_show = 0;\r\n                this.waveXNum = 1;\r\n                this.interValNum_waveX = 1;\r\n                this.spectrumXNum = 1;\r\n                this.flag_addPeak = true;\r\n                this.timeColor = this.spectrumColor.font;\r\n                this.isSampAlert = false;//采样设置按钮关闭\r\n                this.chooseSampId ='';//选择的手动长采样的测点的通道id\r\n                this.chooseSampFreq='';//选择的手动长采样的分析频率\r\n                this.chooseSampTime='';//选择的手动长采样的采集时间\r\n                if (this.changePos) {\r\n                    this.ifImportBaseWave = 2;\r\n                    this.flag_nx = 0; //标注倍频\r\n                    this.flag_subFreq = 0; //频差\r\n                    this.interValNum_spectrumX = 1;\r\n                    this.flag_f_nx.isChange = false;\r\n                   /* this.sc_power_a = 0;\r\n                    this.hide_low = 0; //低频过滤\r\n                    this.power_a = -1; //有效频率下限*/\r\n                    this.power_b = 0; //有效频率上限\r\n                    this.zoomStartXWave = 0; //波形图X轴缩放起始位置（百分比）\r\n                    this.zoomEndXWave = 100; //波形图X轴缩放结束位置（百分比）\r\n                    this.zoomStartXSpec = 0; //频谱图X轴缩放起始位置（百分比）\r\n                    this.zoomEndXSpec = 100; //频谱图X轴缩放结束位置（百分比）\r\n                    this.failureList.length = 0; //故障频率画线清除\r\n                    this.failureList_detail.length = 0; //故障频率明细列表\r\n                    this.nxArraySpec.length = 0; //带标签竖线\r\n                    this.freq_speed_failure = 0; //发电机输入轴转速\r\n                    if (this.choose_factory.type != 3) // 水电没有转速测点\r\n                        this.setSignalArr();\r\n                    $('#chooseYes').attr('checked', false);\r\n                    this.chooseSpeed();\r\n                }\r\n                // this.nxArraySpec = [];//带标签竖线\r\n                this.autoPeakNum = -1; //自动寻峰计数\r\n                this.labelList = []; //标注列表\r\n                // this.unitSelect=\"g\";//当前操作的单位\r\n                // this.gearList=[],//啮合频率\r\n                // this.bearList=[],//轴承通过频率\r\n                // this.speedList=[],//转频\r\n                this.rotateSpeed = 0;\r\n                this.validValue = 0;\r\n                this.changeTime = \"\";\r\n                this.flag_toolTip = false;\r\n                this.flag_wave_toolTip = false;\r\n                // this.spectrumStyle = 'line';//阶比初始化为折线图\r\n                // this.name_type= \"频率\";//故障频率传动链名字尾缀，阶次测点显示“阶次”，其他测点显示“频率”\r\n                // this.name_type_speed= \"频\";//故障频率传动链转速名字尾缀，阶次测点显示“动阶次”，其他测点显示“频”\r\n                if (this.selectPosition.pos_type != 1) {\r\n                    this.hd_speed = false; //转速测点的true高密度波形，false低密度波形\r\n                }\r\n                $('.tool_list li').removeClass('active'); //右侧功能键恢复未选中状态\r\n                this.$nextTick(function() {\r\n                    this.keepPage();\r\n                })\r\n            },\r\n            waveFFT: function(data, freq, nFirst, nCount, mi) {\r\n                if(this.selectPosition.pos_type==14) {//2600螺栓测点没有频谱图,不参与fft计算\r\n                    return [[],[],[]];\r\n                }\r\n                var nPointNumber = 1;\r\n                for (var i = 0; i < mi; i++)\r\n                    nPointNumber *= 2;\r\n\r\n                var pBegin = nFirst;\r\n                var nWaveCount = data.length;\r\n                if (nFirst >= nWaveCount)\r\n                    return -1;\r\n                if ((nFirst + nCount) > nWaveCount)\r\n                    nCount = nWaveCount - nFirst;\r\n\r\n                var all_count = nCount;\r\n                var fDF = freq / nPointNumber;\r\n                if (this.specType == 2) {\r\n                    fDF = fDF * this.spectral / this.maxFreq;\r\n                }\r\n\r\n                // 抽取\r\n                var x_arr = [];\r\n                var y_arr = [];\r\n                // x_arr.length = (nPointNumber + 1);\r\n                x_arr[0] = 0; // 插入空白点\r\n                for (i = 0; i < (nPointNumber - 1); i++) {\r\n                    // i * nCount 可能很大，超过int的范围\r\n                    // 因此用double进行计算\r\n                    var pos = i;\r\n                    pos = parseInt((pos * (nCount - 1)) / nPointNumber);\r\n                    var ipos0 = pos;\r\n                    var ipos1 = ipos0 + 1;\r\n                    var v0 = data[pBegin + ipos0];\r\n                    // // console.log(pBegin + ipos0);\r\n                    var v1 = data[pBegin + ipos1];\r\n                    // 插值\r\n                    var t = pos - ipos0;\r\n                    var v = v0 + (v1 - v0) * t;\r\n                    x_arr.push(v);\r\n                }\r\n                x_arr.push(data[pBegin + nCount - 1]); // 插入最后一个点\r\n\r\n                //\t\t\tif (x_arr.length != (nPointNumber+1))\r\n                //\t\t\t\treturn -1;\r\n\r\n                // 计算平均值average，并且令x[i] -= average以消除直流分量\r\n                var sum = 0;\r\n                for (i = 1; i < x_arr.length; i++)\r\n                    sum += x_arr[i];\r\n                var average = sum / nPointNumber;\r\n                for (i = 1; i < x_arr.length; i++)\r\n                    x_arr[i] -= average;\r\n\r\n                // y_arr.length = (nPointNumber + 1);\r\n                this.offt(1, mi, x_arr, y_arr, nPointNumber);\r\n                // 处理计算结果\r\n                var t_fMaxFZ = 0;\r\n                var number = parseInt(nPointNumber / 2.56);\r\n                var OutX = [];\r\n                var OutY = [];\r\n                var OutPhase = [];\r\n                var pAlarm = 1; //计算因数：默认峰值\r\n                switch (this.alarm_type) {\r\n                    case 0: //有效值\r\n                        pAlarm = Math.sqrt(2) / 2;\r\n                        break;\r\n                    case 2: //峰峰值\r\n                        pAlarm = 2\r\n                        break;\r\n                }\r\n                // OutX.length = number;\r\n                // OutY.length = number;\r\n                // OutPhase.length = number;\r\n                for (i = 0; i < number; i++) {\r\n                    var xi = x_arr[i + 1];\r\n                    var yi = y_arr[i + 1];\r\n                    // 频率\r\n                    // OutX.push(Math.round(i * fDF * 10000) / 10000);\r\n                    OutX.push(Math.ceil(i * fDF * 100000) / 100000);\r\n                    // 幅值 mantis 695 *4 改为 *2\r\n                    // OutY.push(Math.round(Math.sqrt(xi * xi + yi * yi) * 2 / nPointNumber * pAlarm * 1000000) / 1000000);\r\n                     OutY.push(((Math.sqrt(xi ** 2 + yi ** 2) * 2) / nPointNumber) * pAlarm);\r\n                    // 相位 (弧度)\r\n                    OutPhase.push(Math.atan2(yi, xi));\r\n                    // 最大幅值\r\n                    t_fMaxFZ = Math.max(OutY[i], t_fMaxFZ);\r\n                }\r\n\r\n                if (t_fMaxFZ < Number.NEGATIVE_INFINITY || t_fMaxFZ > Number.POSITIVE_INFINITY) {\r\n                    t_fMaxFZ = -1;\r\n                    this.fMaxFZ = t_fMaxFZ;\r\n                    return t_fMaxFZ;\r\n                }\r\n                this.fMaxFZ = t_fMaxFZ;\r\n                return [OutX, OutY, OutPhase];\r\n            },\r\n            offt: function(dir, i_dianshu_mi, x, y, i_dianshu) {\r\n                i_dianshu = i_dianshu || 0;\r\n                var i, j, k, l, m, l1;\r\n                var t1, t2, u1, u2, w1, w2, p2, z;\r\n\r\n                // Calculate the number of points\r\n                if (i_dianshu == 0) {\r\n                    i_dianshu = 1;\r\n                    for (i = 0; i < i_dianshu_mi; i++)\r\n                        i_dianshu *= 2;\r\n                }\r\n\r\n                // y.length = i_dianshu + 1;\r\n                for (i = 0; i <= i_dianshu; i++)\r\n                    y[i] = 0;\r\n\r\n                j = 1;\r\n\r\n                for (l = 1; l <= (i_dianshu - 1); l++) {\r\n                    if (l < j) {\r\n                        t1 = x[j];\r\n                        //\t\t\t\t\tt2 = y[j];\r\n                        x[j] = x[l];\r\n                        //\t\t\t\t\ty[j] = y[l];\r\n                        x[l] = t1;\r\n                        //\t\t\t\t\ty[l] = t2;\r\n                    }\r\n                    k = (i_dianshu) >> 1;\r\n                    while (k < j) {\r\n                        j -= k;\r\n                        k = k >> 1;\r\n                    }\r\n                    j = j + k;\r\n                }\r\n                m = 1;\r\n\r\n                for (i = 1; i <= i_dianshu_mi; i++) {\r\n                    u1 = 1;\r\n                    u2 = 0;\r\n                    k = m;\r\n                    m = m << 1;\r\n                    p2 = Math.PI / k;\r\n                    w1 = (Math.cos(p2));\r\n                    //\t\t\t\tw2 = (-Math.sin(p2));\r\n                    //\t\t\t\tw2 = -w2;\r\n                    w2 = (Math.sin(p2));\r\n                    for (j = 1; j <= k; j++) {\r\n                        for (l = j; l <= i_dianshu; l += m) {\r\n                            l1 = l + k;\r\n                            t1 = x[l1] * u1 - y[l1] * u2;\r\n                            t2 = x[l1] * u2 + y[l1] * u1;\r\n                            x[l1] = x[l] - t1;\r\n                            y[l1] = y[l] - t2;\r\n                            x[l] += t1;\r\n                            y[l] += t2;\r\n                        }\r\n                        z = u1 * w1 - u2 * w2;\r\n                        u2 = u1 * w2 + u2 * w1;\r\n                        u1 = z;\r\n                    }\r\n                }\r\n            },\r\n            makeFftData: function(type, arrayY) { //单位转换、低频过滤、有效频率上下限等处理\r\n                /**arrayY=单位转换后的频谱数据**/\r\n                var t_sourceSpectrumY = [];\r\n                if (type == 1) { //单位转换\r\n                    t_sourceSpectrumY = arrayY.concat();\r\n                } else {\r\n                    t_sourceSpectrumY = this.scoreSpectrumY.concat();\r\n                }\r\n                var i = 0;\r\n                var len = t_sourceSpectrumY.length;\r\n                var tmpSpectrumY = [];\r\n                var tmpSpectrumX = [];\r\n                var t_hideLow = this.hide_low;\r\n                var a_index = 0;\r\n                var b_index = 0;\r\n                /**低频过滤**/\r\n                for (i = 0; i < len; i++) {\r\n                    if (t_hideLow > 0 && this.sourceSpectrumX[i] <= t_hideLow) {\r\n                        tmpSpectrumY.push(0);\r\n                    } else {\r\n                        tmpSpectrumY.push(t_sourceSpectrumY[i]);\r\n                    }\r\n                }\r\n                /**有效频率上下限**/\r\n                if (this.power_a == \"NaN\") {\r\n                    this.power_a = 0;\r\n                }\r\n                if (Number(this.power_a) < Number(this.power_b) || this.power_b == 0) {\r\n                    this.isSetPower = true;\r\n                    tmpSpectrumX = this.sourceSpectrumX.concat();\r\n                    if (Number(this.power_a) < tmpSpectrumX[tmpSpectrumX.length - 1]) {\r\n                        if (this.specType == 2) {\r\n                            a_index = this.indexOfArray(tmpSpectrumX, this.power_a, 1);\r\n                        } else {\r\n                            a_index = this.indexOfArray(tmpSpectrumX, this.power_a, 1);\r\n                        }\r\n                        if (this.power_b == 0) {\r\n                            b_index = tmpSpectrumX.length;\r\n                        } else {\r\n                            if (this.specType == 2) {\r\n                                b_index = this.indexOfArray(tmpSpectrumX, this.power_b, -1) + 1;\r\n                            } else {\r\n                                b_index = this.indexOfArray(tmpSpectrumX, this.power_b, -1) + 1;\r\n                            }\r\n                        }\r\n                        if (this.flag_f_nx.val == 1) {\r\n                            tmpSpectrumX = this.freqXtrum.slice(a_index, b_index);\r\n                        } else {\r\n                            tmpSpectrumX = tmpSpectrumX.slice(a_index, b_index);\r\n                        }\r\n                        tmpSpectrumY = tmpSpectrumY.slice(a_index, b_index);\r\n                    } else {\r\n                        if (this.flag_f_nx.val == 1) {\r\n                            tmpSpectrumX = this.freqXtrum;\r\n                        }\r\n                        tmpSpectrumY = this.sourceSpectrumY;\r\n                    }\r\n                } else {\r\n\r\n                }\r\n                this.spectrumX = tmpSpectrumX;\r\n                this.spectrumY = tmpSpectrumY;\r\n                // this.labelLineSpec();\r\n            },\r\n            indexOfArray: function(arr, value, flag) { //获取最匹配点的下标\r\n                /**flag=0，最近点；flag=1，右边最近点；flag=-1，左边最近点**/\r\n                var index = -1;\r\n                var flag_pm = false;\r\n                var dx = Number.POSITIVE_INFINITY;\r\n                for (var i = 0; i < arr.length; i++) {\r\n                    switch (flag) {\r\n                        case -1:\r\n                            flag_pm = arr[i] - value <= 0 ? dx > Math.abs(arr[i] - value) : false;\r\n                            break;\r\n                        case 0:\r\n                            flag_pm = dx > Math.abs(arr[i] - value);\r\n                            break;\r\n                        case 1:\r\n                            flag_pm = arr[i] - value >= 0 ? dx > Math.abs(arr[i] - value) : false;\r\n                            break;\r\n                    }\r\n                    if (flag_pm) {\r\n                        dx = Math.abs(arr[i] - value);\r\n                        index = i;\r\n                        if (dx == 0) {\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                return index;\r\n            },\r\n            getUnitIndex: function(unitName) { //根据测点名称获取测点索引\r\n                var unitIndex = 0;\r\n                switch (unitName) {\r\n                    case \"g\":\r\n                        unitIndex = 0;\r\n                        break;\r\n                    case \"m/s²\":\r\n                        unitIndex = 1;\r\n                        break;\r\n                    case \"mm/s\":\r\n                        unitIndex = 2;\r\n                        break;\r\n                    case \"μm\":\r\n                        unitIndex = 3;\r\n                        break;\r\n                }\r\n                return unitIndex;\r\n            },\r\n            funDownload: function(content, filename) { //导出文件\r\n                var eleLink = document.createElement('a'); // 创建隐藏的可下载链接\r\n                eleLink.download = filename;\r\n                eleLink.style.display = 'none';\r\n                var blob = new Blob([content]); // 字符内容转变成blob地址\r\n                eleLink.href = URL.createObjectURL(blob);\r\n                document.body.appendChild(eleLink); // 触发点击\r\n                eleLink.click();\r\n                document.body.removeChild(eleLink); // 然后移除\r\n            },\r\n            getPeakIndexArr: function(yArr, count) { //获取最大的峰值下标\r\n                /*yArr=频谱y数组 count=需要获取的最大下标数目*/\r\n                if (yArr.length <= 1) {\r\n                    return [0];\r\n                }\r\n                var indexArr = [],\r\n                    xVal = [];\r\n                var t_yArr = []; //构造包含索引和y最大极值的数组\r\n                var i = 0;\r\n                var j = 0;\r\n                var len = yArr.length;\r\n                var obj = {};\r\n                if (yArr[0] > yArr[1]) {\r\n                    obj.key = 0;\r\n                    obj.value = yArr[0];\r\n                    t_yArr.push(obj);\r\n                }\r\n                for (i = 1; i < len - 1; i++) {\r\n                    if (yArr[i] > yArr[i - 1] && yArr[i] > yArr[i + 1]) {\r\n                        obj = {};\r\n                        obj.key = i;\r\n                        obj.value = yArr[i];\r\n                        t_yArr.push(obj);\r\n                    }\r\n                }\r\n                if (yArr[len - 2] < yArr[len - 1]) {\r\n                    obj = {};\r\n                    obj.key = len - 1;\r\n                    obj.value = yArr[len - 1];\r\n                    t_yArr.push(obj);\r\n                }\r\n                len = t_yArr.length;\r\n                for (i = 0; i < count; i++) {\r\n                    for (j = i + 1; j < len; j++) {\r\n                        if (t_yArr[i].value < t_yArr[j].value) {\r\n                            obj = t_yArr[i];\r\n                            t_yArr[i] = t_yArr[j];\r\n                            t_yArr[j] = obj;\r\n                        }\r\n                    }\r\n                }\r\n                if (count > len) {\r\n                    count = len;\r\n                }\r\n                if (this.spectrumX.length !== this.cutSpectrum.x.length) {\r\n                    for (i = 0; i < count; i++) {\r\n                        xVal.push(this.cutSpectrum.x[t_yArr[i].key]);\r\n                    }\r\n                    for (i = 0, l = xVal.length; i < l; i++) {\r\n                        indexArr.push(this.indexOfArray(this.spectrumX, xVal[i], 0))\r\n                    }\r\n                } else {\r\n                    for (i = 0; i < count; i++) {\r\n                        indexArr.push(t_yArr[i].key);\r\n                    }\r\n                }\r\n                return indexArr;\r\n            },\r\n            /***\r\n             * 采样设置\r\n             * */\r\n            hideSampOk(){\r\n                let params = null;\r\n                if(this.chooseSampId===\"\"){\r\n                    swal({\r\n                        title: \"提示\",\r\n                        text: '请选择需要采集的测点',\r\n                        button: \"确认\"\r\n                    })\r\n                    return false;\r\n                }\r\n                else if(this.chooseSampFreq==\"\"){\r\n                    swal({\r\n                        title: \"提示\",\r\n                        text: '请选择分析频率',\r\n                        button: \"确认\"\r\n                    })\r\n                    return false;\r\n                }\r\n                else if(this.chooseSampTime==\"\"){\r\n                    swal({\r\n                        title: \"提示\",\r\n                        text: '请选择采集时间',\r\n                        button: \"确认\"\r\n                    })\r\n                    return false;\r\n                }\r\n                params = {\r\n                    dgm_id:this.selectPosition.dgm_id,//采集器id\r\n                    channel_id:this.chooseSampId,//测点所在通道id\r\n                    time:this.chooseSampTime,//采集时间\r\n                    freq:this.chooseSampFreq,//分析频率\r\n                };\r\n                getApi.getCaptureWaveByClick(params)\r\n                    .then(res=>{\r\n                        this.isSampAlert = false;\r\n                        if(res.msg==0){\r\n                            swal({\r\n                                title: \"提示\",\r\n                                text: '开始采集',\r\n                                button: \"确认\"\r\n                            })\r\n\r\n                        }\r\n                        else if(res.msg==1){\r\n                            console.log('参数为空！');\r\n                        }\r\n                        else if(res.msg==2){\r\n                            console.log('后台运行错误！');\r\n                        }\r\n                        else if(res.msg==3){\r\n                            console.log('获取json数据时为空！');\r\n                        }\r\n                    })\r\n                    .catch(err=>{\r\n                        this.isSampAlert = false;\r\n                        console.log('请求错误' ,err)\r\n                    })\r\n            },\r\n            /***\r\n             * 打开采样设置弹窗\r\n             * */\r\n            showSampAlert(){\r\n                this.isSampAlert = true;\r\n            },\r\n            /***\r\n             * 关闭采样设置弹窗\r\n             * */\r\n            closeSampAlert(){\r\n                this.isSampAlert = false;\r\n            },\r\n            closeAlert: function(t_id) {\r\n                //关闭弹窗\r\n                $(t_id).css({\r\n                    \"display\": \"none\"\r\n                });\r\n            },\r\n            integralWave: function(t_waveY, samples, deltaT, dcCorr, t_sourceIndex) { //波形积分\r\n                var i = 0;\r\n                var result = [dcCorr];\r\n                if (t_sourceIndex == 0) {\r\n                    for (i = 0; i < samples; i++) {\r\n                        t_waveY[i] = t_waveY[i] * 9.8;\r\n                    }\r\n                }\r\n                for (i = 1; i < samples; i++) {\r\n                    result[i] = result[i - 1] + (t_waveY[i] + t_waveY[i - 1]) * deltaT / 2;\r\n                }\r\n                return result;\r\n            },\r\n            waveDCOut: function(t_waveY, len) { //去直流\r\n                var i = 0;\r\n                var avg = 0;\r\n                // 求平均值\r\n                for (i = 0; i < len; i++) {\r\n                    avg += t_waveY[i] / len;\r\n                }\r\n                //去掉直流量\r\n                for (i = 0; i < len; i++) {\r\n                    t_waveY[i] = t_waveY[i] - avg;\r\n                }\r\n                return t_waveY;\r\n            },\r\n            integralFft: function(t_specY, len, deltaF, t_sourceIndex) { //频谱积分\r\n                var i = 0;\r\n                var result = [0];\r\n                //首次计算时 单位是g的时候乘以9.8 不是则不乘\r\n                var g = 1;\r\n                if (t_sourceIndex == 0) {\r\n                    g = 9.8;\r\n                }\r\n                for (i = 1; i < len; i++) {\r\n                    result[i] = t_specY[i] * g * 1000 / (2 * Math.PI * deltaF * i);\r\n                }\r\n                return result;\r\n            },\r\n            labelLineWave: function() { //带标签的竖线\r\n                /**带标签的竖线**/\r\n                if (this.nxArrayWave.length > 0) {\r\n                    this.nxArrayWave = [];\r\n                }\r\n                var t_nxArray = [];\r\n                var index = -1;\r\n                var i = 0;\r\n                var nx0 = -1; //锁定光标位置\r\n                var nx1 = -1; //画周期性延展线\r\n                var index1 = -1;\r\n                var dx = -1; //基准线和时间差线的距离\r\n                /**画光标线**/\r\n                if ((this.flag_subTime == 1) && this.last_xWave != null && this.last_xWave.nx0 >= 0) {\r\n                    nx0 = this.last_xWave.nx0;\r\n                    index = this.indexOfArray(this.waveX, nx0, 0);\r\n                    t_nxArray.push({\r\n                        name: nx0 + \",\" + this.waveY[index].toFixed(4),\r\n                        xAxis: index\r\n                    });\r\n                    this.flag_wave_extend = 1;\r\n                } else if ((this.flag_subTime == 1) && this.last_xWave.nx0 == undefined) { //开启时间差功能前没有点击页面，将基准线定在0的位置\r\n                    index = 0;\r\n                    t_nxArray.push({\r\n                        name: 0 + \",\" + this.waveY[index].toFixed(4),\r\n                        xAxis: index\r\n                    });\r\n                    this.flag_wave_extend = 1;\r\n                }\r\n                /**画时间差的延展线**/\r\n                if (this.flag_wave_extend && (this.flag_subTime == 1) && this.last_xWave_time != null) {\r\n                    nx1 = this.last_xWave_time.nx0;\r\n                    if (nx1 != undefined) {\r\n                        index1 = this.indexOfArray(this.waveX, nx1, 0);\r\n                        dx = Math.abs(index1 - index);\r\n                        if (dx == 0) {\r\n                            return;\r\n                        }\r\n                        var x0 = index1 % dx;\r\n                        for (var x = x0; x < this.waveX.length; x += dx) {\r\n                            if (x == index) {\r\n                                continue;\r\n                            }\r\n                            t_nxArray.push({\r\n                                name: \"\",\r\n                                xAxis: x,\r\n                                lineStyle: {\r\n                                    color: \"red\"\r\n                                }\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n                if (t_nxArray.length > 0) {\r\n                    this.nxArrayWave = t_nxArray;\r\n                }\r\n            },\r\n            labelLineSpec: function() { //带标签的竖线\r\n\r\n\r\n            },\r\n            setRealBtn: function() { //实时数据按钮响应\r\n                this.flag_real = Math.abs(this.flag_real - 1);\r\n                this.$store.commit('setIsReal', this.flag_real)\r\n                if (this.flag_real == 1) { //实时\r\n                    this.getRealData();\r\n                } else {\r\n                    this.stopRealData();\r\n                }\r\n            },\r\n            getRealData: function() { //开始获取实时数据\r\n                var that = this;\r\n                // that.searchWave(0);\r\n                if(that.flag_real){\r\n                    that.toggleText = '实时';\r\n                    that.chooseIsRealType = 2;\r\n                }\r\n                else{\r\n                    that.toggleText = '历史';\r\n                    that.chooseIsRealType = 1;\r\n                }\r\n                clearInterval(that.timer);\r\n                that.timer = null;\r\n                this.timer = window.setInterval(function() {\r\n                    that.searchWave(0);\r\n                }, 5000);\r\n            },\r\n            stopRealData: function() { //停止获取实时数据\r\n                this.toggleText = \"历史\";\r\n                let that = this;\r\n                clearInterval(that.timer);\r\n                that.timer = null;\r\n            },\r\n            setSubTime: function() { //波形时间差\r\n                var that = this;\r\n                that.flag_subTime = Math.abs(that.flag_subTime - 1);\r\n                if (that.flag_subTime == 1) {\r\n                    that.timeColor = '#3bb5ff';\r\n                } else {\r\n                    that.timeColor = that.spectrumColor.font;\r\n                }\r\n                that.labelLineWave();\r\n            },\r\n            setDataExport: function(type) { //数据导出 type= 1波形，2频谱\r\n                var str = \"\\ufeffX,Y\\r\\n\"; //导出数据（中文兼容）\r\n                var fileName = this.fileName; //导出文件名\r\n                var i = 0;\r\n                var len = 0;\r\n                if (type == 1) {\r\n                    fileName += \"_波形.csv\";\r\n                    len = this.waveY.length;\r\n                    for (i = 0; i < len; i++) {\r\n                        str += this.sourceWaveX[i] + \",\" + this.waveY[i].toFixed(4) * 1 + \"\\r\\n\";\r\n                    }\r\n                } else {\r\n                    fileName += \"_频谱.csv\";\r\n                    len = this.scoreSpectrumY.length;\r\n                    for (i = 0; i < len; i++) {\r\n                        str += this.sourceSpectrumX[i] + \",\" + this.scoreSpectrumY[i].toFixed(4) * 1 + \"\\r\\n\";\r\n                    }\r\n                }\r\n                this.funDownload(str, fileName);\r\n\r\n            },\r\n            setDisplayAll: function(type) { //显示全部\r\n                let maxWidth = 100% - 20;\r\n                let waveWidth = (window.innerWidth - 320)/2 + 'px';\r\n                if (this.flag_show % 2 == 0) {\r\n                    switch (type) {\r\n                        case 1:\r\n                            this.showType2 = 0;\r\n                            this.showType3 = 0;\r\n                            this.titleScale1 = \"返回\";\r\n                            this.iconScale1 = \"path://M32.8,1.3L19.8,14.2 M19.8,19.8l12.9,12.9 M1.2,1.3l12.9,12.9 M1.3,32.7l12.9-12.9 M29.5,15.2H18.9V5.3 M28.8,18.9h-9.9v10.7   M5.2,15.2h9.9V4.5 M15.1,28.8v-9.9H4.4\";\r\n                            $('.wave-chart').height(this.maxHeight).width(maxWidth + 'px').resize();\r\n                            if (this.xIndexWave) {\r\n                                this.wave_chart.dispatchAction({\r\n                                    type: 'showTip',\r\n                                    // 系列的 index，在 tooltip 的 trigger 为 axis 的时候可选。\r\n                                    seriesIndex: 0,\r\n                                    // 数据的 index，如果不指定也可以通过 name 属性根据名称指定数据\r\n                                    dataIndex: this.xIndexWave,\r\n                                });\r\n                            }\r\n                            this.flag_show++;\r\n                            break;\r\n                        case 2:\r\n                            this.showType1 = 0;\r\n                            this.showType3 = 0;\r\n                            this.titleScale2 = \"返回\";\r\n                            this.iconScale2 = \"path://M32.8,1.3L19.8,14.2 M19.8,19.8l12.9,12.9 M1.2,1.3l12.9,12.9 M1.3,32.7l12.9-12.9 M29.5,15.2H18.9V5.3 M28.8,18.9h-9.9v10.7   M5.2,15.2h9.9V4.5 M15.1,28.8v-9.9H4.4\";\r\n                            $('.wave-chart').height(this.maxHeight).width(maxWidth + 'px').resize();\r\n                            if (this.xIndex) {\r\n                                this.chart.dispatchAction({\r\n                                    type: 'showTip',\r\n                                    // 系列的 index，在 tooltip 的 trigger 为 axis 的时候可选。\r\n                                    seriesIndex: 0,\r\n                                    // 数据的 index，如果不指定也可以通过 name 属性根据名称指定数据\r\n                                    dataIndex: this.xIndex,\r\n                                });\r\n                            }\r\n                            this.flag_show++;\r\n                            break;\r\n                        case 3:\r\n                            this.showType1 = 0;\r\n                            this.showType2 = 0;\r\n                            this.titleScale3 = \"返回\";\r\n                            this.iconScale3 = \"path://M32.8,1.3L19.8,14.2 M19.8,19.8l12.9,12.9 M1.2,1.3l12.9,12.9 M1.3,32.7l12.9-12.9 M29.5,15.2H18.9V5.3 M28.8,18.9h-9.9v10.7   M5.2,15.2h9.9V4.5 M15.1,28.8v-9.9H4.4\";\r\n                            $('.wave-chart').height(this.maxHeight).width(maxWidth + 'px').resize();\r\n                            if (this.xIndex_history) {\r\n                                this.his_chart.dispatchAction({\r\n                                    type: 'showTip',\r\n                                    // 系列的 index，在 tooltip 的 trigger 为 axis 的时候可选。\r\n                                    seriesIndex: 0,\r\n                                    // 数据的 index，如果不指定也可以通过 name 属性根据名称指定数据\r\n                                    dataIndex: this.xIndex_history,\r\n                                });\r\n                            }\r\n                            this.flag_show++;\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                } else {\r\n                    this.titleScale1 = \"最大化\";\r\n                    this.iconScale1 = \"path://M18.9,15.2L31.8,2.2 M31.8,31.8L18.9,18.9 M15.1,15.2L2.2,2.2 M15.1,18.9L2.2,31.8 M22.1,1.3h10.7v9.9 M22.8,32.7h9.9V22.1   M11.1,1.3H1.2v10.7 M1.3,22.8v9.9h10.7\";\r\n                    this.titleScale2 = \"最大化\";\r\n                    this.iconScale2 = \"path://M18.9,15.2L31.8,2.2 M31.8,31.8L18.9,18.9 M15.1,15.2L2.2,2.2 M15.1,18.9L2.2,31.8 M22.1,1.3h10.7v9.9 M22.8,32.7h9.9V22.1   M11.1,1.3H1.2v10.7 M1.3,22.8v9.9h10.7\";\r\n                    this.titleScale3 = \"最大化\";\r\n                    this.iconScale3 = \"path://M18.9,15.2L31.8,2.2 M31.8,31.8L18.9,18.9 M15.1,15.2L2.2,2.2 M15.1,18.9L2.2,31.8 M22.1,1.3h10.7v9.9 M22.8,32.7h9.9V22.1   M11.1,1.3H1.2v10.7 M1.3,22.8v9.9h10.7\";\r\n                    $('.wave-chart').show();\r\n                    this.showType1 = 1;\r\n                    this.showType2 = 2;\r\n                    this.showType3 = 3;\r\n                    $('.wave-chart').height(this.waveRestoreHeight).width(waveWidth).resize();\r\n                    $('.wave-chart:nth-child(3)').height(this.historyRestoreHeight).width(maxWidth + 'px').resize();\r\n                    if (this.xIndexWave) {\r\n                        this.wave_chart.dispatchAction({\r\n                            type: 'showTip',\r\n                            // 系列的 index，在 tooltip 的 trigger 为 axis 的时候可选。\r\n                            seriesIndex: 0,\r\n                            // 数据的 index，如果不指定也可以通过 name 属性根据名称指定数据\r\n                            dataIndex: this.xIndexWave,\r\n                        });\r\n                    }\r\n                    if (this.xIndex) {\r\n                        this.chart.dispatchAction({\r\n                            type: 'showTip',\r\n                            // 系列的 index，在 tooltip 的 trigger 为 axis 的时候可选。\r\n                            seriesIndex: 0,\r\n                            // 数据的 index，如果不指定也可以通过 name 属性根据名称指定数据\r\n                            dataIndex: this.xIndex,\r\n                        });\r\n                    }\r\n                    if (this.xIndex_history) {\r\n                        this.his_chart.dispatchAction({\r\n                            type: 'showTip',\r\n                            // 系列的 index，在 tooltip 的 trigger 为 axis 的时候可选。\r\n                            seriesIndex: 0,\r\n                            // 数据的 index，如果不指定也可以通过 name 属性根据名称指定数据\r\n                            dataIndex: this.xIndex_history,\r\n                        });\r\n                    }\r\n                    this.flag_show++;\r\n                }\r\n            },\r\n            setAudioExport: function() { //音频导出\r\n                var i = 0;\r\n                var max = Number.MIN_VALUE;\r\n                var frequency = this.maxFreq; //采样频率\r\n                var pointSize = 16; //采样点大小\r\n                var channelNumber = 1; //声道数量\r\n                var blockSize = channelNumber * pointSize / 8; //采样块大小\r\n                var wave = this.sourceWaveY.concat(); //数据\r\n                var length = wave.length * pointSize / 8; //数据长度\r\n                var buffer = new Uint8Array(length + 44); //wav文件数据\r\n                var view = new DataView(buffer.buffer); //数据视图\r\n                buffer.set(new Uint8Array([0x52, 0x49, 0x46, 0x46])); //\"RIFF\"\r\n                view.setUint32(4, wave.length + 44, true); //总长度\r\n                buffer.set(new Uint8Array([0x57, 0x41, 0x56, 0x45]), 8); //\"WAVE\"\r\n                buffer.set(new Uint8Array([0x66, 0x6D, 0x74, 0x20]), 12); //\"fmt \"\r\n                view.setUint32(16, 16, true); //WAV头大小\r\n                view.setUint16(20, 1, true); //编码方式\r\n                view.setUint16(22, 1, true); //声道数量\r\n                view.setUint32(24, frequency, true); //采样频率\r\n                view.setUint32(28, frequency * blockSize, true); //每秒字节数\r\n                view.setUint16(32, blockSize, true); //采样块大小\r\n                view.setUint16(34, pointSize, true); //采样点大小\r\n                buffer.set(new Uint8Array([0x64, 0x61, 0x74, 0x61]), 36); //\"data\"\r\n                view.setUint32(40, length, true); //数据长度\r\n                for (i = 0; i < wave.length; i++) {\r\n                    if (Math.abs(wave[i]) > max) {\r\n                        max = Math.abs(wave[i]);\r\n                    }\r\n                }\r\n                if (max == 0) { //波形坐标轴最小刻度为0.001\r\n                    max = 0.0001;\r\n                }\r\n                var xs = 32760 / max; //放大系数:short/max，short范围(-32768~32767)\r\n                for (i = 0; i < wave.length; i++) {\r\n                    wave[i] = Math.round(wave[i] * xs); //数据\r\n                }\r\n                buffer.set(new Uint8Array(new Int16Array(wave).buffer), 44); //数据\r\n                var fileName = this.fileName + \"_音频.wav\"; //导出文件名\r\n                this.funDownload(buffer, fileName);\r\n            },\r\n            showUnitSelect: function(type) { //单位选择 type= 1波形，2频谱,3趋势\r\n                this.unitType = type;\r\n                console.log(this.unitType)\r\n                if (type == 1) {\r\n                    this.unitSelect = this.unitWave;\r\n                    this.unitSrc = this.srcUnitWave;\r\n                }\r\n                else if(type == 2){\r\n                    this.unitSelect = this.unitSpec;\r\n                    this.unitSrc = this.srcUnitSpec;\r\n                }\r\n                else if(type == 3){\r\n                    this.unitSelect = this.unitTrend;\r\n                    this.unitSrc = this.srcUnitTrend;\r\n                }\r\n                $(\"#unitSelect_alert\").css({\r\n                    \"display\": \"block\"\r\n                });\r\n            },\r\n            unitSelectOk: function(t_id) { //确定\r\n                this.setUnitSelect(this.unitSelect);\r\n                this.closeAlert(t_id);\r\n            },\r\n            makeFilterWave: function(dPi, outY) { //计算滤波波形\r\n                var i = 0;\r\n                var j = 0;\r\n                var fftObj = {};\r\n                var outX = this.srcSpectrum.outX.slice(0);\r\n                var outP = this.srcSpectrum.outP.slice(0);\r\n                var len = outY.length;\r\n                for (i = 0; i < len; i++) {\r\n                    if (outX[i] < this.sc_power_a) { //低于最低取0\r\n                        outY[i] = 0;\r\n                    } else {\r\n                        break;\r\n                    }\r\n                }\r\n                if (len <= 6400) {\r\n                    fftObj.outY = outY.slice(0);\r\n                    fftObj.outX = outX.slice(0);\r\n                    fftObj.outP = outP.slice(0);\r\n                } else {\r\n                    var indexArr = this.getMaxIndexArr(outY, 6400);\r\n                    var t_outY = [];\r\n                    var t_outX = [];\r\n                    var t_outP = [];\r\n                    for (j = 0; j < indexArr.length; j++) {\r\n                        i = indexArr[j];\r\n                        t_outY.push(outY[i]);\r\n                        t_outX.push(outX[i]);\r\n                        t_outP.push(outP[i]);\r\n                    }\r\n                    fftObj.outY = t_outY.slice(0);\r\n                    fftObj.outX = t_outX.slice(0);\r\n                    fftObj.outP = t_outP.slice(0);\r\n                }\r\n                this.countSpectrum = fftObj;\r\n                this.makeWave();\r\n            },\r\n            getMaxIndexArr: function(outY, len) { //获取最大值数组的索引表\r\n                var i = 0;\r\n                var indexArr = []; //需要返回的索引表\r\n                if (len == 0 || outY == null || outY.length <= len) {\r\n                    return indexArr;\r\n                }\r\n                /**outY.length > len处理**/\r\n                var minIndexs = []; //存储最大值中最小值的索引表（应对重复数据）\r\n                var arr = outY.slice(0);\r\n                /**按数值冒泡（升序）排序，只排末尾最大的len个点**/\r\n                var t = 0;\r\n                for (i = 0; i < len; i++) {\r\n                    for (j = 0; j < outY.length - 1 - i; j++) {\r\n                        if (arr[j] > arr[j + 1]) {\r\n                            t = arr[j];\r\n                            arr[j] = arr[j + 1];\r\n                            arr[j + 1] = t;\r\n                        }\r\n                    }\r\n                }\r\n                var baseValue = arr[arr.length - len]; //最大值中最小的\r\n                for (i = 0; i < outY.length; i++) {\r\n                    if (outY[i] > baseValue) {\r\n                        indexArr.push(i);\r\n                        continue;\r\n                    }\r\n                    if (outY[i] == baseValue) {\r\n                        minIndexs.push(i);\r\n                        continue;\r\n                    }\r\n                }\r\n                for (var j = 0; j < (len - indexArr.length); j++) {\r\n                    i = minIndexs.pop();\r\n                    indexArr.push(i);\r\n                }\r\n                return indexArr;\r\n            },\r\n            makeWave: function() { //构造波形\r\n                var i = 0;\r\n                var j = 0;\r\n                var len = this.countSpectrum.outY.length;\r\n                var t_waveY = []; //需要返回的波形\r\n                for (i = 0; i < this.samples; i++) {\r\n                    t_waveY.push(0);\r\n                }\r\n                for (j = 0; j < len; j++) {\r\n                    if (this.countSpectrum.outY[j] > 0) {\r\n                        var x_1 = 2 * Math.PI * this.countSpectrum.outX[j];\r\n                        for (i = 0; i < this.samples; i++) {\r\n                            var x = i / this.maxFreq * x_1 + this.countSpectrum.outP[j];\r\n                            var value = this.countSpectrum.outY[j] * Math.sin(x);\r\n                            t_waveY[i] += value;\r\n                        }\r\n                    }\r\n                }\r\n                this.waveY = t_waveY;\r\n            },\r\n            makeWaveY: function(t_waveY, freq) { //波形一次积分算法\r\n                var fs = freq;\r\n                var dt = 1 / fs;\r\n                var t = [];\r\n                var i = 0;\r\n                for (i = 0; i < t_waveY.length; i++) {\r\n                    t.push(dt * i);\r\n                }\r\n                var x = t_waveY;\r\n                // for (i = 0; i < t_waveY; i++) {\r\n                //     x.push(Math.sin(2*Math.PI*160*t[i]));\r\n                // }\r\n                var N = x.length;\r\n                this.waveDCOut(x, N);\r\n                var y = [];\r\n                for (i = 0; i < x.length - 1; i++) {\r\n                    y[0] = 0;\r\n                    y[i + 1] = Number(y[i]) + (Number(x[i + 1]) + Number(x[i])) / 2 / fs * 1000;\r\n                }\r\n                var xx = [\r\n                    [],\r\n                    []\r\n                ];\r\n                xx[0][0] = N;\r\n                xx[0][1] = this.sum(t);\r\n                xx[1][0] = this.sum(t);\r\n                var t_2 = [];\r\n                var t_y = [];\r\n                for (i = 0; i < t.length; i++) {\r\n                    t_2[i] = Number(t[i]) * Number(t[i]);\r\n                    t_y[i] = Number(t[i]) * Number(y[i]);\r\n                }\r\n                xx[1][1] = this.sum(t_2);\r\n                var yy = [this.sum(y), this.sum(t_y)];\r\n                var _xx = this.inverse(xx);\r\n                var cof_1_1 = _xx[0][0] * yy[0] + _xx[0][1] * yy[1];\r\n                var cof_2_1 = _xx[1][0] * yy[0] + _xx[1][1] * yy[1];\r\n                for (i = 0; i < t.length - 1; i++) {\r\n                    y[i] = y[i] - (cof_2_1 * t[i] + cof_1_1);\r\n                }\r\n                return y;\r\n            },\r\n            GaussJordanEliminate: function(m, epsilon) {\r\n                // Translated from:\r\n                // http://elonen.iki.fi/code/misc-notes/python-gaussj/index.html\r\n                var eps = (typeof epsilon === 'undefined') ? 1e-10 : epsilon;\r\n\r\n                var h = m.length;\r\n                var w = m[0].length;\r\n                var y = -1;\r\n                var y2, x, c;\r\n\r\n                while (++y < h) {\r\n                    // Pivot.\r\n                    var maxrow = y;\r\n                    y2 = y;\r\n                    while (++y2 < h) {\r\n                        if (Math.abs(m[y2][y]) > Math.abs(m[maxrow][y]))\r\n                            maxrow = y2;\r\n                    }\r\n                    var tmp = m[y];\r\n                    m[y] = m[maxrow];\r\n                    m[maxrow] = tmp;\r\n\r\n                    // Singular\r\n                    if (Math.abs(m[y][y]) <= eps) {\r\n                        return m;\r\n                    }\r\n\r\n                    // Eliminate column\r\n                    y2 = y;\r\n                    while (++y2 < h) {\r\n                        c = m[y2][y] / m[y][y];\r\n                        x = y - 1;\r\n                        while (++x < w) {\r\n                            m[y2][x] -= m[y][x] * c;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                // Backsubstitute.\r\n                y = h;\r\n                while (--y >= 0) {\r\n                    c = m[y][y];\r\n                    y2 = -1;\r\n                    while (++y2 < y) {\r\n                        x = w;\r\n                        while (--x >= y) {\r\n                            m[y2][x] -= m[y][x] * m[y2][y] / c;\r\n                        }\r\n                    }\r\n                    m[y][y] /= c;\r\n\r\n                    // Normalize row\r\n                    x = h - 1;\r\n                    while (++x < w) {\r\n                        m[y][x] /= c;\r\n                    }\r\n                }\r\n\r\n                return m;\r\n            },\r\n            inverse: function(m) { //求逆矩阵的方法\r\n                var n = m.length,\r\n                    identity = this.identity(n),\r\n                    i;\r\n\r\n                // AI\r\n                for (i = 0; i < n; i++) {\r\n                    m[i] = m[i].concat(identity[i]);\r\n                }\r\n\r\n                // inv(IA)\r\n                m = this.GaussJordanEliminate(m);\r\n\r\n                // inv(A)\r\n                for (i = 0; i < n; i++) {\r\n                    m[i] = m[i].slice(n);\r\n                }\r\n\r\n                return m;\r\n            },\r\n            identity: function(n) {\r\n                var result = new Array(n);\r\n\r\n                for (var i = 0; i < n; i++) {\r\n                    result[i] = new Array(n);\r\n                    for (var j = 0; j < n; j++) {\r\n                        result[i][j] = (i === j) ? 1 : 0;\r\n                    }\r\n                }\r\n\r\n                return result;\r\n            },\r\n            sum: function(arr) { //数组求和\r\n                var s = 0;\r\n                arr.forEach(function(val, idx, arr) {\r\n                    s += val;\r\n                }, 0);\r\n                return s;\r\n            },\r\n            setUnitSelect: function(value,type) { //单位选择 type= 1波形，2频谱，3趋势\r\n                this.changePos = false;\r\n                var sourceIndex = -1;\r\n                var oldIndex = -1;\r\n                var newIndex = -1;\r\n                var i = 0;\r\n                var len = 0;\r\n                var t_waveY = [];\r\n                var t_specY = [];\r\n                if(!type){\r\n                    type = this.unitType;\r\n                }\r\n                if (type == 1) { // 波形\r\n                    sourceIndex = this.getUnitIndex(this.srcUnitWave);\r\n                    oldIndex = this.getUnitIndex(this.unitWave);\r\n                    newIndex = this.getUnitIndex(value);\r\n                    len = this.sourceWaveY.length;\r\n                    if (oldIndex != newIndex && (sourceIndex <= newIndex || sourceIndex == 1)) {\r\n                        if (sourceIndex == newIndex) {\r\n                            this.waveY = this.sourceWaveY.concat();\r\n                        } else if (newIndex == 0) {\r\n                            if (sourceIndex == 1) {\r\n                                for (i = 0; i < len; i++) {\r\n                                    t_waveY.push(this.sourceWaveY[i] / 9.8);\r\n                                }\r\n                            }\r\n                            this.waveY = t_waveY;\r\n                        } else if (newIndex == 1) {\r\n                            if (sourceIndex == 0) {\r\n                                for (i = 0; i < len; i++) {\r\n                                    t_waveY.push(this.sourceWaveY[i] * 9.8);\r\n                                }\r\n                            }\r\n                            this.waveY = t_waveY;\r\n                        } else if (newIndex == 2) {\r\n                            this.waveY = this.makeWaveY(this.sourceWaveY, this.maxFreq);\r\n                        } else if (newIndex == 3) {\r\n                            if (sourceIndex < 2) {\r\n                                t_waveY = this.makeWaveY(this.sourceWaveY, this.maxFreq);\r\n                            } else {\r\n                                t_waveY = this.sourceWaveY;\r\n                            }\r\n                            this.waveY = this.makeWaveY(t_waveY, this.maxFreq);\r\n                        }\r\n                        this.unitWave = value;\r\n                    }\r\n                }\r\n                else if (type == 2) { //频谱\r\n                    sourceIndex = this.getUnitIndex(this.srcUnitSpec);\r\n                    oldIndex = this.getUnitIndex(this.unitSpec);\r\n                    newIndex = this.getUnitIndex(value);\r\n                    len = this.sourceSpectrumY.length;\r\n                    if (oldIndex != newIndex && sourceIndex <= newIndex || sourceIndex == 1) {\r\n                        if (sourceIndex == newIndex) {\r\n                            t_specY = this.sourceSpectrumY.concat();\r\n                            this.makeFftData(1, t_specY);\r\n                        } else if (newIndex == 0) {\r\n                            if (sourceIndex == 1) {\r\n                                for (i = 0; i < len; i++) {\r\n                                    t_specY.push(this.sourceSpectrumY[i] / 9.8);\r\n                                }\r\n                            }\r\n                            this.makeFftData(1, t_specY);\r\n                        } else if (newIndex == 1) {\r\n                            if (sourceIndex == 0) {\r\n                                for (i = 0; i < len; i++) {\r\n                                    t_specY.push(this.sourceSpectrumY[i] * 9.8);\r\n                                }\r\n                            }\r\n                            this.makeFftData(1, t_specY);\r\n                        } else if (newIndex == 2) {\r\n                            t_specY = this.integralFft(this.sourceSpectrumY.concat(), len, this.maxFreq / this.samples, sourceIndex);\r\n                            this.makeFftData(1, t_specY);\r\n                        } else if (newIndex == 3) {\r\n                            if (sourceIndex < 2) {\r\n                                t_specY = this.integralFft(this.sourceSpectrumY.concat(), len, this.maxFreq / this.samples, sourceIndex);\r\n                            } else {\r\n                                t_specY = this.sourceSpectrumY.concat();\r\n                            }\r\n                            t_specY = this.integralFft(t_specY.concat(), len, this.maxFreq / this.samples, 2);\r\n                            this.makeFftData(1, t_specY);\r\n                        }\r\n                        this.scoreSpectrumY = t_specY;\r\n                        this.unitSpec = value;\r\n                    }\r\n                }\r\n                else if (type == 3) { // 趋势\r\n                    sourceIndex = this.getUnitIndex(this.srcUnitTrend);\r\n                    oldIndex = this.getUnitIndex(this.unitTrend);\r\n                    newIndex = this.getUnitIndex(value);\r\n                    len = this.historyY.length;\r\n                    if (oldIndex != newIndex && sourceIndex <= newIndex || sourceIndex == 1) {\r\n                        if (sourceIndex == newIndex) {\r\n                            t_specY = this.sourceHistoryY.concat();\r\n                        } else if (newIndex == 0) {\r\n                            if (sourceIndex == 1) {\r\n                                for (i = 0; i < len; i++) {\r\n                                    t_specY.push(this.historyY[i] / 9.8);\r\n                                }\r\n                            }\r\n                        } else if (newIndex == 1) {\r\n                            if (sourceIndex == 0) {\r\n                                for (i = 0; i < len; i++) {\r\n                                    t_specY.push(this.historyY[i] * 9.8);\r\n                                }\r\n                            }\r\n                        } else {\r\n                            this.unitTrend = value;\r\n                            return\r\n                        }\r\n                        this.historyY = t_specY;\r\n                        this.unitTrend = value;\r\n                    }\r\n                }\r\n            },\r\n            setDouble_sub_freq: function() { //对称频率差\r\n                this.flag_subFreq = Math.abs(this.flag_subFreq - 1);\r\n                // this.labelLineSpec();\r\n            },\r\n            showGate(){ //显示闸门\r\n                this.flag_showGate = Math.abs(this.flag_showGate - 1);\r\n                if(this.flag_showGate){\r\n                    this.gateText = '开启闸门';\r\n                }\r\n                else{\r\n                    this.gateText = '关闭闸门';\r\n                }\r\n            },\r\n            setSrcSpectrum: function() { //计算原始频谱，不做汉宁窗，用于计算波形\r\n                var tmpWaveY = [];\r\n                var sum = 0;\r\n                var aver = 0;\r\n                var len = 1;\r\n                var freq = this.maxFreq;\r\n                var spectral = this.waveY.length; //data.getNumberFromConfig(\"spectral\") * 2.56\r\n                var mi = 0;\r\n                var k = Math.floor(Math.log(spectral) / Math.LN2);\r\n                var waveY = this.waveY.concat()\r\n                if (Math.pow(2, k) === waveY.length) {\r\n                    for (; spectral > 1; spectral >>= 1) {\r\n                        mi++;\r\n                    }\r\n                    for (i = 0; i < mi; i++) {\r\n                        len = len * 2\r\n                    }\r\n                    for (i = 0; i < len; i++) {\r\n                        tmpWaveY.push(this.waveY[i]);\r\n                    }\r\n                    if (tmpWaveY.length > 0) {\r\n                        for (i = 0; i < tmpWaveY.length; i++) {\r\n                            sum += tmpWaveY[i];\r\n                        }\r\n                        aver = sum / tmpWaveY.length;\r\n                        for (i = 0; i < tmpWaveY.length; i++) {\r\n                            tmpWaveY[i] -= aver;\r\n                        }\r\n                    }\r\n                } else {\r\n                    var dValue = Math.pow(2, k + 1) - waveY.length\r\n                    var d2 = dValue / 2\r\n                    var before = [],\r\n                        after = []\r\n                    for (var i = 0; i < dValue; i++) {\r\n                        i < d2 ? before.push(0) : after.push(0)\r\n                    }\r\n                    tmpWaveY = before.concat(waveY, after)\r\n                    len = tmpWaveY.length;\r\n                    mi = k + 1\r\n                }\r\n                var specturm_data = this.waveFFT(tmpWaveY, freq, 0, len, mi);\r\n                this.srcSpectrum = {};\r\n                this.srcSpectrum.outX = specturm_data[0];\r\n                this.srcSpectrum.outY = specturm_data[1];\r\n                this.srcSpectrum.outP = specturm_data[2];\r\n            },\r\n            setHanning: function() {\r\n                this.flag_winFunc = Math.abs(this.flag_winFunc - 1);\r\n                var i = 0;\r\n                var tmpWaveY = [];\r\n                var sum = 0;\r\n                var aver = 0;\r\n                var len = 1;\r\n                var freq = this.maxFreq;\r\n                var spectral = this.waveY.length; //data.getNumberFromConfig(\"spectral\") * 2.56\r\n                var mi = 0;\r\n                var k = Math.floor(Math.log(spectral) / Math.LN2);\r\n                var waveY = this.waveY.concat()\r\n                if (Math.pow(2, k) === waveY.length) {\r\n                    for (; spectral > 1; spectral >>= 1) {\r\n                        mi++;\r\n                    }\r\n                    for (i = 0; i < mi; i++) {\r\n                        len = len * 2\r\n                    }\r\n                    for (i = 0; i < len; i++) {\r\n                        tmpWaveY.push(this.waveY[i]);\r\n                    }\r\n                    if (tmpWaveY.length > 0) {\r\n                        for (i = 0; i < tmpWaveY.length; i++) {\r\n                            sum += tmpWaveY[i];\r\n                        }\r\n                        aver = sum / tmpWaveY.length;\r\n                        for (i = 0; i < tmpWaveY.length; i++) {\r\n                            tmpWaveY[i] -= aver;\r\n                        }\r\n                    }\r\n                } else {\r\n                    var dValue = Math.pow(2, k + 1) - waveY.length\r\n                    var d2 = dValue / 2\r\n                    var before = [],\r\n                        after = []\r\n                    for (var i = 0; i < dValue; i++) {\r\n                        i < d2 ? before.push(0) : after.push(0)\r\n                    }\r\n                    tmpWaveY = before.concat(waveY, after)\r\n                    len = tmpWaveY.length;\r\n                    mi = k + 1\r\n                }\r\n                if (this.flag_winFunc == 1) {\r\n                    for (i = 0; i < len; i++) {\r\n                        tmpWaveY[i] = tmpWaveY[i] * (0.5 - 0.5 * Math.cos(2 * Math.PI * i / len));\r\n                    }\r\n                }\r\n                var tmpSpectrumY = [];\r\n                var specturm_data = this.waveFFT(tmpWaveY, freq, 0, len, mi);\r\n                tmpSpectrumY = specturm_data[1];\r\n                len = tmpSpectrumY.length;\r\n                if (this.flag_winFunc == 1) { //加汉宁窗后，幅值补偿\r\n                    for (i = 0; i < len; i++) {\r\n                        tmpSpectrumY[i] *= 2;\r\n                    }\r\n                    if (this.fMaxFZ != -1) {\r\n                        this.fMaxFZ *= 2;\r\n                    }\r\n                }\r\n                this.sourceSpectrumX = specturm_data[0];\r\n                this.sourceSpectrumY = tmpSpectrumY;\r\n                this.scoreSpectrumY = tmpSpectrumY;\r\n                this.spectrumX = specturm_data[0];\r\n                this.spectrumY = tmpSpectrumY;\r\n                var freqXtrumValue = 0;\r\n                this.freqXtrum = [];\r\n                if (this.rotateSpeed != 0) {\r\n                    for (var j = 0; j < this.sourceSpectrumX.length; j++) {\r\n                        freqXtrumValue = Math.round(this.sourceSpectrumX[j] * 60 / this.rotateSpeed * 10000) / 10000;\r\n                        this.freqXtrum.push(freqXtrumValue);\r\n                    }\r\n                } else {\r\n                    this.freqXtrum = specturm_data[0];\r\n                }\r\n                this.allToCurPower();\r\n                this.makeFftData(2);\r\n                if (this.unitSpec != this.srcUnitSpec) {\r\n                    var newUnitSpec = this.unitSpec;\r\n                    this.unitSpec = this.srcUnitSpec;\r\n                    this.setUnitSelect(newUnitSpec,2);\r\n                }\r\n                /*当点击汉宁窗时，数据会重汇，导致tooltip会消失。现处理为当启用峰值停靠时取消tooltip,当关闭峰值停靠时重新tooltip*/\r\n\r\n                /*if(this.flag_addPeak){\r\n          this.click_peak = \"click\";\r\n          if(this.xIndex>0){\r\n              this.chart.dispatchAction({\r\n                  type: 'showTip',\r\n                  seriesIndex: 0,\r\n                  dataIndex: this.xIndex,\r\n              });\r\n          }\r\n          setTimeout(function(){\r\n              this.click_peak = \"none\";\r\n          },1000);\r\n      }else {\r\n          if(this.xIndex>0){\r\n              this.chart.dispatchAction({\r\n                  type: 'showTip',\r\n                  seriesIndex: 0,\r\n                  dataIndex: this.xIndex,\r\n              });\r\n          }\r\n      }*/\r\n            },\r\n            setFreq_or_nx: function(type) { //切换阶比\r\n                this.changePos = false;\r\n                this.changeTrend = false;\r\n                this.flag_f_nx.val = Math.abs(this.flag_f_nx.val - 1);\r\n                if (this.rotateSpeed == 0) {\r\n                    swal({\r\n                        title: \"提示\",\r\n                        text: '转速为0，切换为阶比功能不可用',\r\n                        button: \"确认\",\r\n                    });\r\n                    this.flag_f_nx.val = 0;\r\n                    return;\r\n                } else if (this.rotateSpeed == 1000000000) {\r\n                    if(type!==2){\r\n                        swal({\r\n                            title: \"提示\",\r\n                            text: '无转速，切换为阶比功能不可用',\r\n                            button: \"确认\",\r\n                        });\r\n                    }\r\n                    this.flag_f_nx.val = 0;\r\n                    return;\r\n                } else if (this.rotateSpeed != 0 && (this.posOrderList.includes(Number(this.selectPosition.pos_type)))) {\r\n                    swal({\r\n                        title: \"提示\",\r\n                        text: '已为阶比，切换为阶比功能不可用',\r\n                        button: \"确认\",\r\n                    });\r\n                    this.flag_f_nx.val = 0;\r\n                    return;\r\n                } else {\r\n                    if (this.flag_f_nx.val == 1) { //阶比\r\n                        this.spectrumStyle = 'bar-line';\r\n                        this.unitXSpec = 'NX';\r\n                        this.spectrumX = this.freqXtrum;\r\n                        /*this.setIntervalNum();\r\n          if(this.spectrumX.length>50000){\r\n              this.spectrumStyle = 'line';\r\n              // /!*this.specturmOption.series[0].large = true;*!/\r\n          }else{\r\n              this.spectrumStyle = 'bar-line';\r\n              /!*if(this.specturmOption.series[0].large){\r\n                  delete this.specturmOption.series[0].large;\r\n              }*!/\r\n          }*/\r\n                        this.flag_f_nx.isChange = true\r\n\r\n                    } else {\r\n                        this.spectrumStyle = 'line';\r\n                        this.unitXSpec = 'Hz';\r\n                        this.spectrumX = this.sourceSpectrumX;\r\n                        // this.setIntervalNum();\r\n                        /*if (this.specturmOption.series[0].large) {\r\n              delete this.specturmOption.series[0].large;\r\n          }*/\r\n                        this.flag_f_nx.isChange = false\r\n                    }\r\n                }\r\n                // console.log(this.specturmOption.series[0]);\r\n                /*当点击切换阶比时，数据会重汇，导致tooltip会消失。现处理为当启用峰值停靠时取消tooltip,当关闭峰值停靠时重新tooltip*/\r\n                if (this.flag_f_nx.val) {\r\n                    this.name_type = \"倍频\";\r\n                    this.failureUnit_detail = \"NX\";\r\n                }\r\n                this.makeFftData(2);\r\n                /*this.$nextTick(function () {\r\n              if(this.power_a==\"NaN\"){\r\n                  this.power_a = 0;\r\n              }\r\n              // this.setPowerRms(this.power_a,this.power_b);\r\n              /!*this.failureOk();*!/\r\n              if(this.click_num>1){\r\n                  this.failureOk();\r\n              }\r\n              setTimeout(function () {\r\n                  if(this.clickNum!=3){\r\n                      if(this.flag_addPeak){\r\n                          this.click_peak = \"click\";\r\n                          if(this.xIndex>0){\r\n                              this.chart.dispatchAction({\r\n                                  type: 'showTip',\r\n                                  seriesIndex: 0,\r\n                                  dataIndex: this.xIndex,\r\n                              });\r\n                          }\r\n                          setTimeout(function(){\r\n                              this.click_peak = \"none\";\r\n                          },1000);\r\n                      }\r\n                      else {\r\n                          if(this.xIndex>0){\r\n                              this.chart.dispatchAction({\r\n                                  type: 'showTip',\r\n                                  seriesIndex: 0,\r\n                                  dataIndex: this.xIndex,\r\n                              });\r\n                          }\r\n                      }\r\n                  }\r\n              })\r\n          });*/\r\n\r\n            },\r\n            setTo_1_X: function() { //定位1倍频\r\n                /*if (this.rotateSpeed == 0) { //如果转速为0，定位一倍频功能不可用\r\n          // this.flag_oneF = 0;\r\n          swal('转速为0，定位1倍频功能不可用！');\r\n      } else {\r\n          this.flag_oneF = Math.abs(this.flag_oneF - 1);\r\n          this.labelLineSpec();\r\n      }*/\r\n\r\n            },\r\n            showHideLow: function() { //显示低频过滤设置窗口\r\n                $(\"#hide_low_alert\").css({\r\n                    \"display\": \"block\"\r\n                });\r\n                // this.hideLowOk();\r\n            },\r\n            hideLowOk: function(t_id) { //确定\r\n                // this.setHideLow(this.hide_low);\r\n                this.changePos = false;\r\n                this.changeTrend = false;\r\n                if (Number(this.power_a) > Number(this.power_b) && this.power_b != 0) {\r\n                    return;\r\n                }\r\n                for (let i = 0, l = this.allPos.length; i < l; i++) {\r\n                    if (this.selectPositionId.split('_')[0] == this.allPos[i].type &&\r\n                        this.selectPositionId.split('_')[1] == this.allPos[i].id) {\r\n                        this.sourceAllPower[i].a = this.power_a\r\n                        this.sourceAllPower[i].b = this.power_b\r\n                        break;\r\n                    }\r\n                }\r\n                this.setPowerRms(this.power_a, this.power_b);\r\n                this.closeAlert(t_id);\r\n            },\r\n            showPowerRms: function() { //有效频率上下限窗口\r\n                if (this.power_a == -1) {\r\n                    this.power_a = 0;\r\n                }\r\n                $(\"#powerRms_alert\").css({\r\n                    \"display\": \"block\"\r\n                });\r\n            },\r\n            powerRmsOk: function(t_id) { //确定\r\n                this.changePos = false;\r\n                this.changeTrend = false;\r\n                if (Number(this.power_a) > Number(this.power_b) && this.power_b != 0) {\r\n                    return;\r\n                }\r\n                for (let i = 0, l = this.allPos.length; i < l; i++) {\r\n                    if (this.selectPositionId.split('_')[0] == this.allPos[i].type &&\r\n                        this.selectPositionId.split('_')[1] == this.allPos[i].id ||\r\n                        (this.allPos[i].name === this.curPosFlag.name &&\r\n                            this.allPos[i].ppid == this.curPosFlag.ppid)\r\n                    ) {\r\n                        this.sourceAllPower[i].a = this.power_a\r\n                        this.sourceAllPower[i].b = this.power_b\r\n                        break;\r\n                    }\r\n                }\r\n                this.setPowerRms(this.power_a, this.power_b);\r\n                /*当启用有效频率差时，标注倍频的点如果超出范围应该过滤掉*/\r\n                /*var rms_labelList = [];\r\n      for(var i=0;i<this.labelList.length;i++){\r\n          if(this.spectrumX[Number(this.labelList[i].coord[0])]>this.spectrumX[this.spectrumX.length-1] || this.spectrumX[Number(this.labelList[i].coord[0])]< this.spectrumX[0] ){\r\n              continue;\r\n          }\r\n          else{\r\n              rms_labelList.push(this.labelList[i]);\r\n          }\r\n      }\r\n      this.labelList = rms_labelList;*/\r\n                this.closeAlert(t_id);\r\n                /*当点有效频率时，数据会重汇，导致tooltip会消失。现处理为当启用峰值停靠时取消tooltip,当关闭峰值停靠时重新tooltip*/\r\n                // this.locationIndex();\r\n            },\r\n            setPowerRms: function(a, b) { //设置有效频率上下限\r\n                this.power_a = a;\r\n                this.power_b = b;\r\n\r\n                this.peakIndexArr.length = 0;\r\n                this.autoPeakNum = -1;\r\n                $($('.tool_list > li')[9]).removeClass(\"active\");\r\n                this.labelLineSpec();\r\n                this.makeFftData(2);\r\n                // this.setIntervalNum();\r\n            },\r\n            setLabel_nx: function() { //标注倍频\r\n                this.flag_nx = Math.abs(this.flag_nx - 1);\r\n                // this.labelLineSpec();\r\n            },\r\n            setAuto_tip: function() { //循环寻峰\r\n                // this.peakIndexArr = this.getPeakIndexArr(this.spectrumY,10);\r\n                /*this.peakIndexArr = this.getPeakIndexArr(this.cutSpectrum.y,10);\r\n      this.autoPeakNum++;\r\n      if(this.autoPeakNum >= 10){\r\n          this.autoPeakNum = -1;\r\n      }\r\n      this.labelLineSpec();*/\r\n            },\r\n            setAdd_label: function() { //添加标注\r\n                this.flag_addLabel = Math.abs(this.flag_addLabel - 1);\r\n            },\r\n            setClear_label: function() { //取消所有标注\r\n                this.labelList = new Array();\r\n\r\n            },\r\n            setPeak_nx: function() {\r\n                this.flag_addPeak = !this.flag_addPeak;\r\n                this.peak_tooltip();\r\n            },\r\n            peak_tooltip: function() {\r\n                if (this.flag_addPeak) {\r\n                    this.click_peak = \"none\";\r\n                } else {\r\n                    this.click_peak = \"click\";\r\n                }\r\n            },\r\n            timetrans: function(date) {\r\n                var date = new Date(date); //如果date为10位不需要乘1000\r\n                var Y = date.getFullYear() + '-';\r\n                var M = (date.getMonth() + 1 < 10 ? '0' + (date.getMonth() + 1) : date.getMonth() + 1) + '-';\r\n                var D = (date.getDate() < 10 ? '0' + (date.getDate()) : date.getDate()) + ' ';\r\n                var h = (date.getHours() < 10 ? '0' + date.getHours() : date.getHours()) + ':';\r\n                var m = (date.getMinutes() < 10 ? '0' + date.getMinutes() : date.getMinutes()) + ':';\r\n                var s = (date.getSeconds() < 10 ? '0' + date.getSeconds() : date.getSeconds());\r\n                return Y + M + D + h + m + s;\r\n            },\r\n            keepPage: function() {\r\n                var that = this;\r\n                if(that.selectMachine && that.selectPosition){\r\n                     that.fileName = that.selectMachine.mac_me+'_'+that.selectPosition.pos_name;\r\n                     var fileName = that.fileName + \"_深入分析图.png\"; //导出文件名\r\n                    // console.log(fileName);\r\n                    setTimeout(function() {\r\n                        var canvas2 = document.createElement(\"canvas\");\r\n                        var _canvas = document.querySelector('.line_box');\r\n                        if(_canvas){\r\n                            var w = parseInt(window.getComputedStyle(_canvas).width);\r\n                            var h = parseInt(window.getComputedStyle(_canvas).height);\r\n                            //将canvas画布放大若干倍，然后盛放在较小的容器内，就显得不模糊了\r\n                            canvas2.width = w * 2;\r\n                            canvas2.height = h * 2;\r\n                            canvas2.style.width = w + \"px\";\r\n                            canvas2.style.height = h + \"px\";\r\n                            //context的参数修改,translate指的是偏移量\r\n                            var context = canvas2.getContext(\"2d\");\r\n                            context.scale(2, 2);\r\n                            html2canvas(document.querySelector('.line_box'), {\r\n                                backgroundColor: that.backgroundColor\r\n                            }, {\r\n                                canvas: canvas2\r\n                            }).then(function(canvas) {\r\n                                //canvas转换成url，然后利用a标签的download属性，直接下载，绕过上传服务器再下载\r\n                                if(document.querySelector(\"#keep_download\")!=undefined){\r\n                                    document.querySelector(\"#keep_download\").setAttribute('href', canvas.toDataURL());\r\n                                    document.querySelector(\"#keep_download\").setAttribute('download', fileName);\r\n                                }\r\n                            });\r\n                            $('#keep_download').click();\r\n                        }\r\n                }, 600);\r\n               }\r\n            },\r\n            showFailureAlert: function() {\r\n\r\n                this.click_num = Number(this.click_num + 1);\r\n                if (this.click_num == 1) { //如果是第一次点击，发电机输入轴转速初始化为rpm\r\n                    this.freq_speed_failure = this.rotateSpeed;\r\n                    this.failureOk();\r\n                }\r\n\r\n                if (this.selectPosition.dgm_type == 2) {\r\n                    $('#failure_alert').css('display', 'none');\r\n                    $('#failure_alert_dolt').css('display', 'block');\r\n                } else {\r\n                    $('#failure_alert_dolt').css('display', 'none');\r\n                    $('#failure_alert').css('display', 'block');\r\n                }\r\n            },\r\n            setFailure_alert: function() { //故障频率弹窗\r\n                $('#failure_detail_alert').css('display', 'block');\r\n            },\r\n            clear_failure: function(t_id) {\r\n                this.failureList = [];\r\n                this.nxArraySpec = [];\r\n                $('#failure_alert_dolt').css('display', 'none');\r\n            },\r\n            failureOk: function() { //确定\r\n                this.failureList = [];\r\n                this.failureList_detail = [];\r\n                var i = 0;\r\n                var j = 0;\r\n                var t_num = 0;\r\n                var t_x = 0; //计算频率\r\n                var t_index = 0; //索引\r\n                var t_child = {};\r\n                var t_item = {};\r\n                var t_obj = {};\r\n                var flag_checked = false;\r\n                var xArr = this.sourceSpectrumX;\r\n                /**叶片的情况**/\r\n                if (this.selectPosition.dgm_type == 2) {\r\n                    this.failureList = [];\r\n                    var freq_value;\r\n                    var blade_index;\r\n                    var blade_x;\r\n                    var blade_y;\r\n                    for (var k = 0; k < 6; k++) {\r\n                        var blade_obj = {};\r\n                        freq_value = Number($(\"#freq\" + k).val().trim());\r\n                        if (freq_value < xArr[xArr.length - 1] || freq_value == xArr[xArr.length - 1]) {\r\n                            blade_index = this.indexOfArray(xArr, freq_value, 0);\r\n                            blade_x = Number(xArr[blade_index]).toFixed(2);\r\n                            blade_y = Number(this.sourceSpectrumY[blade_index]).toFixed(5);\r\n                            blade_obj.id = k;\r\n                            blade_obj.num = \"BPF\" + \".\" + (k + 1);\r\n                            blade_obj.name = \"通过频率\" + (k + 1);\r\n                            blade_obj.index = blade_index;\r\n                            blade_obj.x = blade_x;\r\n                            blade_obj.y = blade_y;\r\n                            this.failureList.push(blade_obj);\r\n                        }\r\n                    }\r\n                } else { //非叶片的情况\r\n                    var t_curSpeedRate = 1;\r\n                    if (this.specType == 2 && this.isPosVibSeries(this.selectPosition.position_type)) {\r\n                        t_curSpeedRate = this.selectPosition.speedRate;\r\n                    }\r\n                    if (this.gearList[0].state == true && this.gearList[0].children.length > 0) {\r\n                        t_num = 0;\r\n                        /* console.log(this.gearList[0]);*/\r\n                        for (i = 0; i < this.gearList[0].children.length; i++) {\r\n                            t_child = this.gearList[0].children[i];\r\n                            if (t_child.state == false) {\r\n                                continue;\r\n                            }\r\n                            for (j = 0; j < t_child.children.length; j++) {\r\n                                t_item = t_child.children[j];\r\n                                if (t_item.state == false) {\r\n                                    continue;\r\n                                }\r\n                                t_num++;\r\n                                t_obj = {};\r\n                                t_obj.id = t_item.id;\r\n                                t_obj.num = t_item.type + \".\" + t_num;\r\n                                t_obj.name = t_child.name + \"/\" + t_item.name;\r\n                                if (this.specType == 2) {\r\n                                    t_x = t_item.value * t_item.speedRate / t_curSpeedRate;\r\n                                } else if (this.flag_f_nx.isChange) {\r\n                                    t_x = t_item.value * t_item.speedRate * this.freq_speed_failure / this.rotateSpeed;\r\n                                    xArr = this.freqXtrum;\r\n                                } else {\r\n                                    t_x = t_item.value * t_item.speedRate * this.freq_speed_failure / 60;\r\n                                }\r\n                                if (t_x <= xArr[xArr.length - 1]) {\r\n                                    t_index = this.indexOfArray(xArr, t_x, 0);\r\n                                    t_obj.index = t_index;\r\n                                    t_obj.x = Number(xArr[t_index]).toFixed(2);\r\n                                    t_obj.y = Number(this.sourceSpectrumY[t_index]).toFixed(5);\r\n                                    this.failureList.push(t_obj);\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    if (this.bearList[0].state == true && this.bearList[0].children.length > 0) {\r\n                        t_num = 1;\r\n                        for (i = 0; i < this.bearList[0].children.length; i++) {\r\n                            t_child = this.bearList[0].children[i];\r\n                            if (t_child.state == false) {\r\n                                continue;\r\n                            }\r\n                            flag_checked = false;\r\n                            for (j = 0; j < t_child.children.length; j++) {\r\n                                t_item = t_child.children[j];\r\n                                if (t_item.state == false) {\r\n                                    continue;\r\n                                }\r\n                                t_obj = {};\r\n                                t_obj.id = t_item.id;\r\n                                t_obj.num = t_item.type + \".\" + t_num;\r\n                                t_obj.name = t_child.name + \"/\" + t_item.name;\r\n                                if (this.specType == 2) {\r\n                                    t_x = t_item.value * t_item.speedRate / t_curSpeedRate;\r\n                                } else if (this.flag_f_nx.isChange) {\r\n                                    t_x = t_item.value * t_item.speedRate * this.freq_speed_failure / this.rotateSpeed;\r\n                                    xArr = this.freqXtrum;\r\n                                } else {\r\n                                    t_x = t_item.value * t_item.speedRate * this.freq_speed_failure / 60;\r\n                                }\r\n                                if (t_x <= xArr[xArr.length - 1]) {\r\n                                    t_index = this.indexOfArray(xArr, t_x, 0);\r\n                                    t_obj.index = t_index;\r\n                                    t_obj.x = Number(xArr[t_index]).toFixed(2);\r\n                                    t_obj.y = Number(this.sourceSpectrumY[t_index]).toFixed(5);\r\n                                    this.failureList.push(t_obj);\r\n                                }\r\n                                flag_checked = true;\r\n                            }\r\n                            if (flag_checked) {\r\n                                t_num++;\r\n                            }\r\n                        }\r\n                    }\r\n                    if (this.speedList[0].state == true && this.speedList[0].children.length > 0) {\r\n                        t_num = 0;\r\n                        for (j = 0; j < this.speedList[0].children.length; j++) {\r\n                            t_item = this.speedList[0].children[j];\r\n                            if (t_item.state == false) {\r\n                                continue;\r\n                            }\r\n                            t_num++;\r\n                            t_obj = {};\r\n                            t_obj.id = t_item.id;\r\n                            t_obj.num = t_item.type + \".\" + t_num;\r\n                            t_obj.name = t_item.name;\r\n                            if (this.specType == 2) {\r\n                                t_x = t_item.value * t_item.speedRate / t_curSpeedRate;\r\n                            } else if (this.flag_f_nx.isChange) {\r\n                                t_x = t_item.value * t_item.speedRate * this.freq_speed_failure / this.rotateSpeed;\r\n                                xArr = this.freqXtrum;\r\n                            } else {\r\n                                t_x = t_item.value * t_item.speedRate * this.freq_speed_failure / 60;\r\n                            }\r\n                            if (t_x <= xArr[xArr.length - 1]) {\r\n                                t_index = this.indexOfArray(xArr, t_x, 0);\r\n                                t_obj.index = t_index;\r\n                                t_obj.x = Number(xArr[t_index]).toFixed(2);\r\n                                t_obj.y = Number(this.sourceSpectrumY[t_index]).toFixed(5);\r\n                                this.failureList.push(t_obj);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                this.failureList_detail = this.failureList\r\n                this.labelLineSpec();\r\n                // this.closeAlert(t_id);\r\n            },\r\n            toggleList: function(obj, number) { //故障那个频率弹窗中点击列表下拉\r\n                var el = obj.target;\r\n                var failureList = '.failure_list' + number;\r\n                if (number == 2) {\r\n                    $(el).toggleClass('f-iconJian f-iconJia1');\r\n                } else {\r\n                    $(el).toggleClass('f-iconJia f-iconJian');\r\n                }\r\n\r\n                $(el).parent().find(failureList).slideToggle();\r\n            },\r\n            checkChange: function(flag, list, child, item) {\r\n                var nextState = false; //点击事件后的勾选状态\r\n                var i = 0;\r\n                var j = 0;\r\n                var t_list = {};\r\n                var t_child = {};\r\n                var t_item = {};\r\n                var flag_one_check = false; //至少有一个选中\r\n                switch (flag) {\r\n                    case 0: //根节点\r\n                        nextState = !list.state;\r\n                        if (list.children.length > 0) {\r\n                            for (i = 0; i < list.children.length; i++) {\r\n                                t_child = list.children[i];\r\n                                t_child.state = nextState;\r\n                                if (t_child.hasOwnProperty(\"children\") && t_child.children.length > 0) {\r\n                                    for (j = 0; j < t_child.children.length; j++) {\r\n                                        t_item = t_child.children[j];\r\n                                        t_item.state = nextState;\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                        break;\r\n                    case 1: //子节点\r\n                        nextState = !child.state;\r\n                        if (child.hasOwnProperty(\"children\") && child.children.length > 0) {\r\n                            for (j = 0; j < child.children.length; j++) {\r\n                                t_item = child.children[j];\r\n                                t_item.state = nextState;\r\n                            }\r\n                        }\r\n                        if (nextState == false) {\r\n                            for (i = 0; i < list.children.length; i++) {\r\n                                t_child = list.children[i];\r\n                                if (t_child.id == child.id) {\r\n                                    continue;\r\n                                }\r\n                                if (t_child.state == true) {\r\n                                    flag_one_check = true;\r\n                                    break;\r\n                                }\r\n                            }\r\n                            if (flag_one_check) {\r\n                                list.state = true;\r\n                            } else {\r\n                                list.state = false;\r\n                            }\r\n                        } else {\r\n                            list.state = true;\r\n                        }\r\n                        break;\r\n                    case 2: //叶节点\r\n                        nextState = !item.state;\r\n                        if (nextState == false) {\r\n                            flag_one_check = false;\r\n                            for (j = 0; j < child.children.length; j++) {\r\n                                t_item = child.children[j];\r\n                                if (t_item.id == item.id) {\r\n                                    continue;\r\n                                }\r\n                                if (t_item.state == true) {\r\n                                    flag_one_check = true;\r\n                                    break;\r\n                                }\r\n                            }\r\n                            if (flag_one_check) {\r\n                                child.state = true;\r\n                            } else {\r\n                                child.state = false;\r\n                            }\r\n                        } else {\r\n                            child.state = true;\r\n                        }\r\n                        if (child.state == false) {\r\n                            flag_one_check = false;\r\n                            for (i = 0; i < list.children.length; i++) {\r\n                                t_child = list.children[i];\r\n                                if (t_child.id == child.id) {\r\n                                    continue;\r\n                                }\r\n                                if (t_child.state == true) {\r\n                                    flag_one_check = true;\r\n                                    break;\r\n                                }\r\n                            }\r\n                            if (flag_one_check) {\r\n                                list.state = true;\r\n                            } else {\r\n                                list.state = false;\r\n                            }\r\n                        } else {\r\n                            list.state = true;\r\n                        }\r\n                        break;\r\n                };\r\n                this.$nextTick(function() {\r\n                    this.checkedNum();\r\n                });\r\n            },\r\n            checkedNum: function() {\r\n                /**选中项的相同单位的序号赋值如：GMF.1/GMF.2**/\r\n                var k = 0;\r\n                var l = 0;\r\n                var t_num = 0;\r\n                var t_child_num = {};\r\n                var t_item_num = {};\r\n                var flag_checked = false;\r\n                // console.log(this.gearList[0]);\r\n                if (this.gearList[0].state == true && this.gearList[0].children.length > 0) {\r\n                    t_num = 0;\r\n                    for (k = 0; k < this.gearList[0].children.length; k++) {\r\n                        t_child_num = this.gearList[0].children[k];\r\n                        if (t_child_num.state == false) {\r\n                            continue;\r\n                        }\r\n                        for (l = 0; l < t_child_num.children.length; l++) {\r\n                            t_item_num = t_child_num.children[l];\r\n                            if (t_item_num.state == false) {\r\n                                continue;\r\n                            }\r\n                            t_num++;\r\n                            t_item_num.label = t_num;\r\n                        }\r\n                    }\r\n                }\r\n                if (this.bearList[0].state == true && this.bearList[0].children.length > 0) {\r\n                    t_num = 1;\r\n                    for (k = 0; k < this.bearList[0].children.length; k++) {\r\n                        t_child_num = this.bearList[0].children[k];\r\n                        if (t_child_num.state == false) {\r\n                            continue;\r\n                        }\r\n                        flag_checked = false;\r\n                        for (l = 0; l < t_child_num.children.length; l++) {\r\n                            t_item_num = t_child_num.children[l];\r\n                            if (t_item_num.state == false) {\r\n                                continue;\r\n                            }\r\n                            flag_checked = true;\r\n                            t_item_num.label = t_num;\r\n                        }\r\n                        if (flag_checked) {\r\n                            t_num++;\r\n                        }\r\n                    }\r\n                }\r\n                if (this.speedList[0].state == true && this.speedList[0].children.length > 0) {\r\n                    t_num = 0;\r\n                    for (l = 0; l < this.speedList[0].children.length; l++) {\r\n                        t_item_num = this.speedList[0].children[l];\r\n                        if (t_item_num.state == false) {\r\n                            continue;\r\n                        }\r\n                        t_num++;\r\n                        t_item_num.label = t_num;\r\n                    }\r\n                }\r\n                this.failureOk();\r\n            },\r\n            checkAll: function(number, list) {\r\n                var nextState = !list.state; //点击事件后的勾选状态\r\n                var i = 0;\r\n                var j = 0;\r\n                var child = {};\r\n                var item = {};\r\n                if (list.children.length > 0) {\r\n                    for (i = 0; i < list.children.length; i++) {\r\n                        child = list.children[i];\r\n                        child.state = nextState;\r\n                        if (child.hasOwnProperty(\"children\") && child.children.length > 0) {\r\n                            for (j = 0; j < child.children.length; j++) {\r\n                                item = child.children[j];\r\n                                item.state = nextState;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            chooseSpeed: function() { //是否启用模拟转速\r\n                if ($('#chooseYes').is(':checked')) { //如果选中了启用模拟转速，这输入框可输入数字\r\n                    $('#failure_speed_number').attr('disabled', false);\r\n                } else {\r\n                    $('#failure_speed_number').attr('disabled', true);\r\n                }\r\n            },\r\n            labelChanges: function(item) {\r\n                if (this.selectPosition.position_type == 8 || this.selectPosition.position_type == 9) {\r\n                    this.failureUnit = \"NX\"; //当测点为振动阶次或者包络阶次时，故障频率和故障明细的单位要改变\r\n                    this.failureUnit_detail = \"NX\"\r\n                } else if (this.flag_f_nx.val) {\r\n                    this.failureUnit_detail = \"NX\"\r\n                    this.failureUnit = 'NX';\r\n                } else {\r\n                    this.failureUnit = \"Hz\";\r\n                    this.name_type = \"频率\";\r\n                    this.failureUnit_detail = \"Hz\"\r\n                }\r\n\r\n                var freq = 0;\r\n                if (this.specType == 2) {\r\n                    var t_curSpeedRate = 1;\r\n                    if (this.isPosVibSeries(this.selectPosition.position_type)) {\r\n                        t_curSpeedRate = this.selectPosition.speedRate;\r\n                    }\r\n                    freq = (item.value * item.speedRate / t_curSpeedRate).toFixed(2);\r\n                } else {\r\n                    freq = (item.value * item.speedRate * this.freq_speed_failure / 60).toFixed(2);\r\n                    this.flag_f_nx.val && (freq = (freq * 60 / this.rotateSpeed).toFixed(2));\r\n                }\r\n                var types = \"(\" + item.type + \".\" + item.label + \")\";\r\n                var labelValue = types + freq + this.failureUnit;\r\n                return labelValue;\r\n            },\r\n            addActive: function(event, index) {\r\n                var target = event.currentTarget;\r\n                /**对称频率差**/\r\n                if (index == 0 || index == 1 || index == 6 || index == 10) {\r\n                    $(target).toggleClass('active');\r\n                }\r\n                if (index == 9) { //点击循环寻峰\r\n                    $(target).addClass('active');\r\n                    if (this.autoPeakNum == -1) {\r\n                        $(target).removeClass(\"active\");\r\n                    }\r\n                }\r\n                if (index == 2 && this.rotateSpeed == 0) { //点击切换为阶比功能\r\n                    swal({\r\n                        title: \"提示\",\r\n                        text: '当前转速为0，切换为x轴阶比不可用',\r\n                        button: \"确认\",\r\n                    });\r\n                } else if (index == 2 && this.rotateSpeed != 0 && (!this.posOrderList.includes(Number(this.selectPosition.pos_type)))) {\r\n                    $(target).toggleClass('active');\r\n                }\r\n                if (index == 3 && this.rotateSpeed == 0) { //点击切换为1倍频功能\r\n                    swal({\r\n                        title: \"提示\",\r\n                        text: '当前转速为0，切换为1倍频不可用',\r\n                        button: \"确认\",\r\n                    });\r\n                }\r\n            },\r\n           //2600设为基准\r\n            setBaseWave(baseInfo,type){\r\n                type=Number(type);//type==1:导入基准波形；2非导入的波形；3：导入基准并覆盖参数\r\n                let params = null;\r\n                params = {\r\n                    type: type,\r\n                    dgm_id: this.selectPosition.dgm_id,\r\n                    ch_id: this.selectPosition.ch_id,\r\n                    time: this.oriChangeTime,\r\n                    pos_name: this.selectPosition.pos_name,\r\n                    pos_id: this.selectPosition.pos_id,\r\n                    mac_id: this.chooseMacId,\r\n                };\r\n                switch(type){\r\n                    case 3:\r\n                        params.temperature = baseInfo.temperature;\r\n                        params.wave_x = baseInfo.wave_x;\r\n                        params.wave_y = this.waveY;\r\n                        params.spaceTime = baseInfo.spaceTime;\r\n                        params.fGain = baseInfo.fGain;\r\n                        params.fStart = baseInfo.fStart;\r\n                        params.fWidth = baseInfo.fWidth;\r\n                        params.fThreshold = baseInfo.fThreshold;\r\n                        break;\r\n                    case 1:\r\n                        params.temperature = baseInfo.temperature;\r\n                        params.wave_x = baseInfo.wave_x;\r\n                        params.wave_y = this.waveY;\r\n                        break;\r\n                }\r\n                if(type!==2){\r\n                    params.time = 0;\r\n                }\r\n                this.$getApi.setBasicWave(params)\r\n                    .then(res=>{\r\n                        if(res.msg===0){\r\n                            swal({\r\n                                title: \"提示\",\r\n                                text: '设置成功',\r\n                                button: \"确认\",\r\n                            });\r\n                        }\r\n                        else{\r\n                            swal({\r\n                                title: \"提示\",\r\n                                text: '设置失败',\r\n                                button: \"确认\",\r\n                            });\r\n                        }\r\n                    })\r\n                    .catch(err=>{\r\n                        console.log('请求错误' ,err)\r\n                    })\r\n            },\r\n            // 2600手动采集波形\r\n            getBaseWave(){\r\n                let params = null;\r\n                params = {\r\n                    dgm_id: this.selectPosition.dgm_id,\r\n                    channel: this.selectPosition.ch_id\r\n                };\r\n                this.$getApi.clickToDgmData(params)\r\n                    .then(res=>{\r\n                        if(res.msg===0){\r\n                            swal({\r\n                                title: \"提示\",\r\n                                text: '设置成功',\r\n                                button: \"确认\",\r\n                            });\r\n                        }\r\n                        else{\r\n                            swal({\r\n                                title: \"提示\",\r\n                                text: '设置失败',\r\n                                button: \"确认\",\r\n                            });\r\n                        }\r\n                    })\r\n            },\r\n            // 2600导入基准\r\n            importBaseWave(){\r\n                document.getElementById('waveSelect_alert').style.display = 'block';//模拟点击\r\n            },\r\n            waveSelectOk(dom){\r\n                this.closeAlert(dom);\r\n                document.getElementById('fileLocal').click();\r\n            },\r\n            //解析导入的基准波形\r\n            selectFile(event){//基准波形上传文件\r\n                let that = this;\r\n                let selectedFile = {};//当前选中的文件\r\n                let target = event.target;\r\n                that.waveX = [];\r\n                that.waveY = [];\r\n                if(that.p_isIE() && !target.files) {\r\n                    let filePath = target.value;\r\n                    let fileSystem = new ActiveXObject(\"Scripting.FileSystemObject\");\r\n                    selectedFile = fileSystem.GetFile(filePath);\r\n                } else {\r\n                    selectedFile = target.files;\r\n                }\r\n                for(let i=0;i<selectedFile.length;i++){\r\n                    let size = selectedFile[i].size/1024;\r\n                    if(size>2000){\r\n                        swal({\r\n                            title: \"提示\",\r\n                            text: '附件不能大于2M',\r\n                            button: \"确认\",\r\n                        })\r\n                        target.value=\"\";\r\n                        return;\r\n                    }\r\n                    let fileName=selectedFile[i].name;\r\n                    let suffixName = fileName.substring(fileName.lastIndexOf(\".\")+1).toLowerCase();\r\n                    if(suffixName !=\"csv\"){\r\n                        swal({\r\n                            title: \"提示\",\r\n                            text: '请选择csv格式文件上传！',\r\n                            button: \"确认\",\r\n                        })\r\n                        target.value=\"\";\r\n                        return;\r\n                    }\r\n                    let reader = new FileReader();//这是核心,读取操作就是由它完成.\r\n                    reader.readAsText(selectedFile[i]);//读取文件的内容,也可以读取文件的URL\r\n                    reader.onload = function (event) {\r\n                        //当读取完成后回调这个函数,然后此时文件的内容存储到了result中,直接操作即可\r\n                        let datas = event.target.result;\r\n                        let tmpArr = datas.split(\"\\n\");\r\n                        let len = tmpArr.length;\r\n                        let tObj = [];\r\n                        let value1;//key\r\n                        var i=0;\r\n                        let baseInfo = {};//波形的基本信息\r\n                        for(i=0; i<len; i++){\r\n                            tObj = [];\r\n                            tObj = tmpArr[i].split(\",\");\r\n                            if(tObj.length<2){\r\n                                continue;\r\n                            }\r\n                            value1 = tObj[0];\r\n                            if(value1=='dataBegin'){\r\n                                i++;\r\n                                break;\r\n                            }\r\n                            baseInfo[value1] = tObj[1];\r\n                        }\r\n                        if(baseInfo[\"fileType\"] != 101){\r\n                            swal({\r\n                                title: \"提示\",\r\n                                text: '请选择基准波形的文件',\r\n                                button: \"确认\",\r\n                            });\r\n                            return;\r\n                        }\r\n                        that.baseInfo = baseInfo;\r\n                        let t_spaceTime = Number(baseInfo[\"spaceTime\"]);\r\n                        var _axisX=[];\r\n                        var _axisY=[];\r\n                        that.baseInfo.wave_x = [];\r\n                        for(;i<len;i++){\r\n                            tObj = [];\r\n                            tObj = tmpArr[i].split(\",\");\r\n                            if(tObj.length<2){\r\n                                continue;\r\n                            }\r\n                            value1 = tObj[0];\r\n                            if(value1 == 'dataEnd'){\r\n                                i++;\r\n                                break;\r\n                            }\r\n                            that.baseInfo.wave_x.push(Number(value1));\r\n                            _axisX.push(Number(value1)*t_spaceTime/1000);\r\n                            _axisY.push(tObj[1]);\r\n                        }\r\n                        that.flag_real = 1;//关闭实时\r\n                        that.setRealBtn();\r\n                        // that.ifImportBaseWave = 1;//导入的基准\r\n                        that.waveX = _axisX;\r\n                        that.waveY = _axisY;\r\n                        that.noRealData = false;\r\n                        that.unitXWave = \"μs\";\r\n                        that.unitWave = \"KN\";\r\n                        target.value = '';\r\n                    }\r\n                }\r\n            },\r\n            /**\r\n             *\t浏览器及版本信息\r\n             */\r\n            p_browser(){\r\n                let userAgent = navigator.userAgent.toLowerCase();\r\n                let t_browser = {\r\n                    version: (userAgent.match( /.+(?:rv|it|ra|ie)[\\/: ]([\\d.]+)/ ) || [])[1],\r\n                    safari: /webkit/.test( userAgent ),\r\n                    opera: /opera/.test( userAgent ),\r\n                    msie: /msie/.test( userAgent ) && !/opera/.test( userAgent ),\r\n                    mozilla: /mozilla/.test( userAgent ) && !/(compatible|webkit)/.test( userAgent )\r\n                };\r\n                return t_browser;\r\n            },\r\n            /**\r\n             * 判断是否为IE浏览器\r\n             */\r\n            p_isIE(){\r\n                let t_browser = this.p_browser();\r\n                return t_browser.msie;\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n    $baseBlueColor: #436EF6;\r\n    #wave-content{\r\n        .input-loc-file{\r\n            visibility: hidden;\r\n        }\r\n        .myHeader-data{\r\n            .form-group{\r\n                display: inline-block;\r\n                vertical-align: middle;\r\n            }\r\n            /*关闭状态*/\r\n            .dashDiv{\r\n                position: absolute;\r\n                right: 20px;\r\n                top: 25px;\r\n                border-radius: 20px;\r\n                border: 1px solid #CBCBCB;\r\n                width: 75px;\r\n                height: 30px;\r\n                line-height: 30px;\r\n                box-sizing: border-box;\r\n                background: #CBCBCB;\r\n                cursor: pointer;\r\n                display:flex;\r\n                justify-content:space-between;\r\n            }\r\n            .dashDiv .dashSpan{\r\n                border-radius: 50%;\r\n                border: 1px solid #CBCBCB;\r\n                background-color: #FFFFFF;\r\n                display: inline-block;\r\n                width: 28px;\r\n                height: 28px;\r\n                box-sizing: border-box;\r\n            }\r\n            .dashDiv .dashText{\r\n                display: inline-block;\r\n                padding-right: 6px;\r\n                height: 30px;\r\n                line-height: 28px;\r\n            }\r\n            /*开通状态*/\r\n            .dashDivSelectd{\r\n                position: absolute;\r\n                right: 20px;\r\n                top: 25px;\r\n                border-radius: 20px;\r\n                border: 1px solid $baseBlueColor;\r\n                width: 75px;\r\n                height: 30px;\r\n                line-height: 30px;\r\n                box-sizing: border-box;\r\n                background: $baseBlueColor;\r\n                cursor: pointer;\r\n                display:flex;\r\n                justify-content:space-between;\r\n                transition: .5s;\r\n                flex-flow: row-reverse;\r\n            }\r\n            .dashDivSelectd .dashSpan{\r\n                border-radius: 50%;\r\n                border: 1px solid #fff;\r\n                background-color: #FFFFFF;\r\n                display: inline-block;\r\n                width: 28px;\r\n                height: 28px;\r\n                box-sizing: border-box;\r\n            }\r\n            .dashDivSelectd .dashText{\r\n                display: inline-block;\r\n                padding-left: 6px;\r\n                height: 30px;\r\n                line-height: 28px;\r\n                color: #fff;\r\n            }\r\n            .headerBtn{\r\n                position: absolute;\r\n                right: 20px;\r\n                top: 25px;\r\n                width:100px;\r\n                height:30px;\r\n                background: $baseBlueColor;\r\n                border-radius:4px;\r\n                outline: none;\r\n                border: none;\r\n                color: #fff;\r\n                &:hover{\r\n                    background: darken($baseBlueColor,10%);\r\n                }\r\n                &:active{\r\n                    background: darken($baseBlueColor,2%);\r\n                }\r\n            }\r\n            .header-time{\r\n                display: inline-block;\r\n                vertical-align: middle;\r\n                margin-top: 20px;\r\n                span{\r\n                    font-size: 20px;\r\n                    vertical-align: middle;\r\n                }\r\n                .am-form-field{\r\n                    font-size: 14px;\r\n                    padding: 0 12px;\r\n                    max-width:100px;\r\n                    height:30px;\r\n                    border:1px solid #D9D9D9;\r\n                    border-radius:8px;\r\n                    cursor: pointer;\r\n                    vertical-align: middle;\r\n                    &:focus{\r\n                        outline: none;\r\n                        border:1px solid #C9DBEF;\r\n                    }\r\n                }\r\n            }\r\n            @media (max-width: 1400px) {\r\n                .header-time{\r\n                    margin-left: 15px;\r\n                }\r\n            }\r\n            .speed_choose_div{\r\n                display: none;\r\n                select{\r\n                    font-size: 14px;\r\n                    min-width: 100px;\r\n                    height: 30px;\r\n                    border: 1px solid #d9d9d9;\r\n                    border-radius: 8px;\r\n                    cursor: pointer;\r\n                    vertical-align: middle;\r\n                    margin-top: 22px;\r\n                    &:active,&:focus{\r\n                        outline: none;\r\n                    }\r\n                }\r\n            }\r\n            .btn_samp{\r\n                font-size: 14px;\r\n                min-width: 80px;\r\n                height: 30px;\r\n                border: 1px solid #d9d9d9;\r\n                border-radius: 8px;\r\n                cursor: pointer;\r\n                vertical-align: middle;\r\n                margin-top: 22px;\r\n                background: #fff;\r\n                &:hover,&:active,&:focus{\r\n                    border-color:$baseBlueColor;\r\n                    background:$baseBlueColor;\r\n                    color: #fff;\r\n                }\r\n            }\r\n        }\r\n        .content{\r\n            background: #e4e8f4;\r\n            padding: 20px;\r\n            flex: 1;\r\n        }\r\n        /*右侧图谱样式*/\r\n        #wavespecturm_box {\r\n            /*position: absolute;*/\r\n            /*left: 18%;*/\r\n            /*top: 0.9rem;*/\r\n            /*width: 82%;*/\r\n            /*height: 80%;*/\r\n        }\r\n        .line_info_box, .line_box, .tool_box, .tool_list {\r\n            font-size: 0.18rem;\r\n            color: #AEAEAE;\r\n        }\r\n        .line_box {\r\n            position: relative;\r\n            width: 95%;\r\n            float: left;\r\n        }\r\n        .tool_box, .line_box {\r\n            overflow: hidden;\r\n            height: 93%;\r\n        }\r\n        .tool_box {\r\n            width: 4%;\r\n            float: right;\r\n        }\r\n        .tool_list {\r\n            height: auto;\r\n            margin: 0 auto;\r\n            padding: 5px 0;\r\n            border-radius: 6px;\r\n            background-color: #fff;\r\n        }\r\n        .line_info_box {\r\n            height: 0.5rem;\r\n            line-height: 0.5rem;\r\n            padding-right: 4%;\r\n        }\r\n        /*保存页面按钮*/\r\n        .line_info_right {\r\n            height: 0.5rem;\r\n            line-height: 0.5rem;\r\n            padding: 0;\r\n            float: right;\r\n        }\r\n        @media (max-width: 1400px) {\r\n            .line_info_right {\r\n                padding: 0.1rem 0;\r\n            }\r\n            .select-header{\r\n                width: 80px;\r\n            }\r\n            .myHeader-data{\r\n                .header-time{\r\n                    span{\r\n                        font-size: 16px;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        .line_info_btn {\r\n            background-color: rgba(200,200,200,0.3);\r\n            border-radius: 6px;\r\n            border-color: transparent;\r\n            font-size: 16px;\r\n            margin-bottom: 4px;\r\n            margin-right: 10px;\r\n            text-decoration: none;\r\n            padding: 0.05rem 0.25rem;\r\n        }\r\n        a.keep_btn {\r\n            color: #6BB2FF!important;\r\n        }\r\n        a.keep_btn:hover {\r\n            color: #fff!important;\r\n            background: #6BB2FF;\r\n            cursor: pointer;\r\n        }\r\n        .keep_btn .tool_icon {\r\n            /*background-image: url('../img/save.png');*/\r\n            background-repeat: no-repeat;\r\n            background-size: 0.2rem;\r\n            height: 0.2rem;\r\n            width: 0.2rem;\r\n            line-height: 0.2rem;\r\n            display: inline-block;\r\n        }\r\n        /*波形图和频谱图高度*/\r\n        .wave-chart {\r\n            width:calc((100vw - 320px)/2);\r\n            padding: 10px 0 0 10px;\r\n            float: left;\r\n            height: calc(100vh - 360px);\r\n            background: #fff;\r\n            border-radius: 10px;\r\n            margin-bottom: 20px;\r\n            &:nth-child(3){\r\n                width:calc(100% - 10px);\r\n                height: 200px;\r\n            }\r\n        }\r\n        .wave-chart > span {\r\n            position: relative;\r\n            margin-left: 10px;\r\n            cursor: pointer;\r\n            background-repeat: no-repeat;\r\n            background-position: center center;\r\n            background-size: 100%;\r\n            height: 24px;\r\n            width: 24px;\r\n            float: right;\r\n            z-index: 2;\r\n        }\r\n        .noNowData{\r\n            position: absolute;\r\n            top: 30%;\r\n            left: 21%;\r\n            z-index: 99;\r\n            font-size: 20px;\r\n        }\r\n        .waveTimeText{\r\n            position: absolute;\r\n            top: 14px;\r\n            left: 8%;\r\n            z-index: 99;\r\n            font-size: 14px;\r\n        }\r\n        .wave-btn{\r\n            z-index: 99;\r\n            font-size: 14px;\r\n            height: 30px;\r\n            padding: 0 10px;\r\n            border: 1px solid #d9d9d9;\r\n            border-radius: 8px;\r\n            cursor: pointer;\r\n            background: none;\r\n            &:hover{\r\n                border-color: #eee;\r\n                background: #eee;\r\n            }\r\n        }\r\n        .btn-import{\r\n            position: absolute;\r\n            top: 38px;\r\n            right: calc(50% + 210px);\r\n        }\r\n        .btn-gate{\r\n            position: absolute;\r\n            top: 38px;\r\n            right: calc(50% + 300px);\r\n        }\r\n        .btn-set{\r\n            position: absolute;\r\n            top: 38px;\r\n            right: calc(50% + 120px);\r\n        }\r\n        .btn-get{\r\n            position: absolute;\r\n            top: 38px;\r\n            right: calc(50% + 30px);\r\n        }\r\n        .wave-chart > span:first-child {\r\n            margin-right: 20px;\r\n        }\r\n        .selectUnit {\r\n            background-image: url('~viewInterface/assets/img/selectUnit.svg');\r\n        }\r\n        .max {\r\n            background-image: url('~viewInterface/assets/img/max.svg');\r\n        }\r\n        .exportMusic {\r\n            background-image: url('~viewInterface/assets/img/exportMusic.svg');\r\n        }\r\n        .exportData {\r\n            background-image: url('~viewInterface/assets/img/exportData.svg');\r\n        }\r\n        .restore {\r\n            background-image: url('~viewInterface/assets/img/restore.svg');\r\n        }\r\n        .dataZoom {\r\n            background-image: url('~viewInterface/assets/img/enlarge.svg');\r\n        }\r\n        .exportImage {\r\n            background-image: url('~viewInterface/assets/img/saveImage.svg');\r\n        }\r\n        .subTime {\r\n            background-image: url('~viewInterface/assets/img/subTime.svg');\r\n        }\r\n        .back {\r\n            background-image: url('~viewInterface/assets/img/back.svg');\r\n        }\r\n        .setAllPower{\r\n            background-image: url('~viewInterface/assets/img/setPower.svg');\r\n        }\r\n\r\n        .selectUnit:hover {\r\n            background-image: url('~viewInterface/assets/img/selectUnitActive.svg');\r\n        }\r\n        .max:hover {\r\n            background-image: url('~viewInterface/assets/img/maxActive.svg');\r\n        }\r\n        .exportMusic:hover {\r\n            background-image: url('~viewInterface/assets/img/exportMusicActive.svg');\r\n        }\r\n        .exportData:hover {\r\n            background-image: url('~viewInterface/assets/img/exportDataActive.svg');\r\n        }\r\n        .restore:hover {\r\n            background-image: url('~viewInterface/assets/img/restoreActive.svg');\r\n        }\r\n        .dataZoom:hover {\r\n            background-image: url('~viewInterface/assets/img/enlargeActive.svg');\r\n        }\r\n        .exportImage:hover {\r\n            background-image: url('~viewInterface/assets/img/saveImageActive.svg');\r\n        }\r\n        .subTime:hover {\r\n            background-image: url('~viewInterface/assets/img/subTimeActive.svg');\r\n        }\r\n        .back:hover {\r\n            background-image: url('~viewInterface/assets/img/backActive.svg');\r\n        }\r\n        .setAllPower:hover{\r\n            background-image: url('~viewInterface/assets/img/setPowerActive.svg');\r\n        }\r\n        .wave-chart > span.active {\r\n            background-image: url('~viewInterface/assets/img/subTimeActive.svg');\r\n        }\r\n        /*右侧小工具*/\r\n        .tool_list > li {\r\n            list-style: none;\r\n            height: 40px;\r\n            line-height: 50px;\r\n            text-align: center;\r\n            width: 40px;\r\n            border: 1px solid transparent;\r\n            border-radius: 10px;\r\n            margin: 20px auto;\r\n        }\r\n        @media (max-height: 800px) {\r\n            .tool_list > li {\r\n                margin: 0.15rem auto;\r\n            }\r\n            .btn-set{\r\n                position: absolute;\r\n                top: 38px;\r\n                right: calc(51% + 110px);\r\n            }\r\n            .btn-get{\r\n                position: absolute;\r\n                top: 38px;\r\n                right: calc(51% + 30px);\r\n            }\r\n        }\r\n        .tool_btn {\r\n            margin: 0 auto;\r\n            display: inline-block;\r\n            width: 22px;\r\n            height: 22px;\r\n            cursor: pointer;\r\n        }\r\n        /*小工具弹出框*/\r\n        .alert_box{\r\n            border-radius: 8px;\r\n            background-color: #e4e8f4;\r\n            position: absolute;\r\n            left: 50%;\r\n            top: 50%;\r\n            color: grey;\r\n            z-index: 999;\r\n        }\r\n        i, font, p {\r\n            font-size: 0.18rem;\r\n        }\r\n        #hide_low_alert, #powerRms_alert {\r\n            width: 300px;\r\n            margin-top: -95px;\r\n            margin-left: -150px;\r\n        }\r\n        #hide_low_alert {\r\n            margin-top: -80px;\r\n        }\r\n        .alert_box i{\r\n            font-style:normal;\r\n        }\r\n        .alert_box_header{\r\n            font-size: 16px;\r\n            font-weight: 400;\r\n            height: 40px;\r\n            line-height: 40px;\r\n            margin: 0;\r\n            text-align: left;\r\n            background: #343c45;\r\n            color: #fff;\r\n            padding: 0 0 0 15px;\r\n            border-top-left-radius: 4px;\r\n            border-top-right-radius: 4px;\r\n        }\r\n        .alert_box_header_left{\r\n            padding: 0px;\r\n            float: left;\r\n        }\r\n        .alert_box_header_right{\r\n            padding: 0px;\r\n            text-align: right;\r\n        }\r\n        .alert_box_content{\r\n            padding: 30px 10px;\r\n            border-bottom: 1px solid #ccc;\r\n        }\r\n        #hide_low_alert .alert_box_content{\r\n            height: 50px;\r\n            line-height: 50px;\r\n        }\r\n        .alert_box_content > p, .allPos{\r\n            font-size: 18px;\r\n            height: 40px;\r\n            line-height:40px;\r\n            margin: 0;\r\n            padding: 0px;\r\n        }\r\n        #unit_select{\r\n            width: 175px;\r\n            height: 28px;\r\n            margin-top: -4px;\r\n        }\r\n        .alert_box_content > .alert_box_tips {\r\n            color: red;\r\n            font-size: 12px;\r\n        }\r\n        .allPos {\r\n            position: relative;\r\n        }\r\n        .allPos > div {\r\n            overflow: hidden;\r\n            white-space: nowrap;\r\n            text-overflow: ellipsis;\r\n            vertical-align: middle;\r\n            padding-left: 5px;\r\n            border: 1px solid #a9a9a9;\r\n            width: 175px;\r\n            height: 24px;\r\n            line-height: 24px;\r\n            display: inline-block;\r\n            box-sizing: border-box;\r\n        }\r\n        .allPosBox {\r\n            max-height: 200px;\r\n            position: absolute;\r\n            top: 29px;\r\n            left: 40px;\r\n            z-index: 10;\r\n            width: 175px;\r\n            border: 1px solid #a9a9a9;\r\n            background: #fff;\r\n            overflow-y: auto;\r\n        }\r\n        .allPosBox > li {\r\n            padding: 0 5px;\r\n            height: 30px;\r\n            width: 100%;\r\n            line-height: 30px;\r\n            overflow: hidden;\r\n            white-space: nowrap;\r\n            text-overflow: ellipsis;\r\n            vertical-align: middle;\r\n        }\r\n        .allPosBox > li:hover {\r\n            background: #568ada;\r\n            color: #fff;\r\n        }\r\n        .alert_box_tips{\r\n            position: absolute;\r\n            bottom: 36px;\r\n            left: 60px;\r\n            font-size: 12px;\r\n            color: red;\r\n        }\r\n        .alert_box_content input{\r\n            width: 175px;\r\n            height: 24px;\r\n            margin-top: -4px;\r\n        }\r\n        /*低频过滤*/\r\n\r\n        /*有效频率设置*/\r\n        #powerRms_alert .alert_box_content {\r\n            border-bottom: 1px solid #ccc;\r\n        }\r\n        .alert_box_footer > button {\r\n            width: 50px;\r\n            height: 24px;\r\n            line-height: 24px;\r\n            background: $baseBlueColor;\r\n            border-radius: 4px;\r\n            color: #fff;\r\n            border: none;\r\n            box-shadow: none;\r\n            font-weight: 400;\r\n            font-size: 12px;\r\n            padding: 0;\r\n            margin: 0;\r\n        }\r\n        .alert_box_footer > button.cancel_btn{\r\n            background: #798ca1;\r\n        }\r\n        .tool_list > li.active, .tool_list > li:hover {\r\n            border-color: #6BB2FF;\r\n        }\r\n\r\n        /*单位选择框*/\r\n        #unitSelect_alert {\r\n            font-size: 18px;\r\n            width: 300px;\r\n            margin-top: -80px;\r\n            margin-left: -120px;\r\n        }\r\n        #unitSelect_alert > .alert_box_content {\r\n\r\n        }\r\n        #navigation > .alert_box {\r\n            font-size: 0.18rem;\r\n            width: 300px;\r\n            height: 240px;\r\n            margin-top: -150px;\r\n            margin-left: -120px;\r\n            left: 60%;\r\n            top: 54%;\r\n        }\r\n        .line_box > div:last-child {\r\n            height: 200px;\r\n        }\r\n        @media (max-height: 800px) {\r\n            .line_box > div:last-child {\r\n                height: 200px;\r\n            }\r\n            .myHeader .form-group .select-group .lableName,.myHeader .header-time span{\r\n                font-size: 18px;\r\n            }\r\n            .myHeader .form-group .select-group{\r\n                margin-right: 20px;\r\n            }\r\n            .myHeader .header-time .start_date{\r\n                margin-right: 20px;\r\n            }\r\n        }\r\n        .alert_box_content select{\r\n            min-width: 140px;\r\n            width: 160px;\r\n            margin-left: -4px;\r\n            font-size: 14px;\r\n            height: 30px;\r\n            border: 1px solid #d9d9d9;\r\n            cursor: pointer;\r\n            vertical-align: middle;\r\n        }\r\n        .alert_box_content .select-group{\r\n            margin-bottom: 5px;\r\n        }\r\n        .alert_box_close{\r\n            display: inline-block;\r\n            width: 20px;\r\n            height: 20px;\r\n            margin-top: 4px;\r\n            -webkit-background-size:20px 20px;\r\n            background-size:20px 20px;\r\n            background-position: 50% 50%;\r\n            background-repeat:no-repeat;\r\n            /*background-image: url(\"../img/icon/close_icon.png\") !important;*/\r\n            cursor: pointer;\r\n        }\r\n        .alert_box_close:hover{\r\n            /*background-image: url(\"../img/icon/close_focus.png\") !important;*/\r\n        }\r\n        /*删除组织*/\r\n        #left > .delete {\r\n            font-size: 0.14rem;\r\n            position: absolute;\r\n            top: 0;\r\n            left: 0;\r\n            width: 80px;\r\n            height: 20px;\r\n            line-height: 20px;\r\n            padding: 0 10px;\r\n            border: 1px solid #cdcdcd;\r\n            cursor: pointer;\r\n            text-align: center;\r\n        }\r\n        #left > .delete:hover {\r\n            background: #e9e9e9;\r\n        }\r\n        /*振动、包络切换*/\r\n        .vibOrEnv {\r\n            position: fixed;\r\n            top: 0.4rem;\r\n            right: 3.2%;\r\n            height: 30px;\r\n            line-height: 30px;\r\n            background: rgba(200,200,200,0.3);\r\n            color: #6BB2FF;\r\n            font-size: 16px;\r\n            padding: 0 0.25rem;\r\n            border-radius: 6px;\r\n            cursor: pointer;\r\n        }\r\n        .line_info_box {\r\n            padding-right: 3%;\r\n        }\r\n        .vibOrEnv:hover {\r\n            color: #fff;\r\n            background: #6BB2FF;\r\n        }\r\n        .setFilterBtn {\r\n            right: calc(3.2% + 130px);\r\n        }\r\n        .vibOrEnv > img, .setFilterBtn > img {\r\n            width: 0.2rem;\r\n            height: 0.2rem;\r\n        }\r\n        @media (min-width: 1600px) {\r\n            .setFilterBtn {\r\n                right: calc(3.2% + 150px);\r\n            }\r\n        }\r\n        /*设置滤波上下限*/\r\n        .filterBk, .progress {\r\n            position: fixed;\r\n            width: 100%;\r\n            height: 100%;\r\n            left: 0;\r\n            top: 0;\r\n            z-index: 20;\r\n        }\r\n        .filterBox, .alert_box {\r\n            width: 300px;\r\n            position: absolute;\r\n            left: 50%;\r\n            top: 50%;\r\n            margin-left: -120px;\r\n            margin-top: -100px;\r\n            border-radius: 5px;\r\n            font-size: 16px;\r\n            background: #e4e8f4;\r\n            box-sizing: border-box;\r\n        }\r\n        .alert_box {\r\n            /*height: 220px;*/\r\n        }\r\n        .filterTitle, .alert_box_header_left {\r\n            color: #6BB2FF;\r\n            height: 30px;\r\n            line-height: 30px;\r\n            position: relative;\r\n        }\r\n        .closeFilter {\r\n            /*background: url('../img/icon/close_icon.png') no-repeat;*/\r\n            background-position: 50%;\r\n            background-size: 20px;\r\n            position: absolute;\r\n            height: 20px;\r\n            width: 20px;\r\n            top: 5px;\r\n            right: 0;\r\n            cursor: pointer;\r\n        }\r\n        .closeFilter:hover {\r\n            /*background-image: url('../img/icon/close_focus.png');*/\r\n        }\r\n        .filter, .allPos, .alert_box_content > p {\r\n            font-size: 18px;\r\n            height: 40px;\r\n            line-height: 40px;\r\n            color: #808080;\r\n        }\r\n        .filterTitle, .filterBox > .allPos, .filter {\r\n            padding-left: 15px;\r\n        }\r\n        .allPos > .allPosBox {\r\n            top: 30px;\r\n            left: 63px;\r\n            width: 180px;\r\n            text-align: left;\r\n        }\r\n        .allPosBox, #checkPos, #posName {\r\n            cursor: default;\r\n            text-align: left;\r\n        }\r\n        #checkPos, #posName {\r\n            position: relative;\r\n            width: 180px;\r\n        }\r\n        #checkPos > img, #posName > img {\r\n            position: absolute;\r\n            right: 5px;\r\n            top: 8px;\r\n        }\r\n        .filter > input, .filterBox > .allPos > .checkPos, .alert_box_content > p > input {\r\n            width: 190px;\r\n        }\r\n        .filterBtn, .alert_box_footer {\r\n            height: 40px;\r\n            line-height: 40px;\r\n            text-align: center;\r\n        }\r\n        .filterBtn > button, .alert_box_footer > button {\r\n            width: 50px;\r\n            height: 24px;\r\n            line-height: 24px;\r\n            background: $baseBlueColor;\r\n            border-radius: 4px;\r\n            color: #fff;\r\n            border: none;\r\n            box-shadow: none;\r\n            font-weight: 400;\r\n            font-size: 12px;\r\n            padding: 0;\r\n            margin: 0;\r\n        }\r\n        .filterBtn > button.cancel_btn, .alert_box_footer > button.cancel_btn{\r\n            background: #798ca1;\r\n        }\r\n        /*波形图加载进度条*/\r\n        @keyframes warning-animation {\r\n            0% {\r\n                background-position: 0 0;\r\n            }\r\n            100% {\r\n                background-position: 3em 0;\r\n            }\r\n        }\r\n        .container {\r\n            width: 200px;\r\n            height: 24px;\r\n            line-height: 20px;\r\n            position: absolute;\r\n            left: 50%;\r\n            top: 50%;\r\n            margin-top: -15px;\r\n            margin-left: -100px;\r\n        }\r\n        .warning {\r\n            font-size: 14px;\r\n            font-weight: bold;\r\n            text-align: center;\r\n            color: #fff;\r\n            height: 20px;\r\n            position: relative;\r\n            background-color: #326eb0;\r\n            border: 1px solid #326eb0;\r\n            border-radius: 10px;\r\n            background-size: 3em 3em;\r\n            background-image: linear-gradient(-45deg, transparent 0em, transparent 0.8em, #6BB2FF 0.9em, #6BB2FF 2.1em, transparent 2.1em, transparent 2.9em, #6BB2FF 3.1em);\r\n            -webkit-animation: warning-animation 1000ms infinite linear;\r\n            -moz-animation: warning-animation 1000ms infinite linear;\r\n            animation: warning-animation 1000ms infinite linear;\r\n        }\r\n        .warning:before {\r\n            content: '';\r\n            position: absolute;\r\n            top: 0;\r\n            left: 0;\r\n            right: 0;\r\n            bottom: 0;\r\n            height: 100%;\r\n            border-radius: 10px;\r\n            background-image: linear-gradient(to bottom, #326eb0, rgba(50, 110, 176, 0.6) 15%, transparent 60%, #326eb0);\r\n        }\r\n        .progressPoint {\r\n            width: 150px;\r\n            height: 30px;\r\n            line-height: 13px;\r\n            border-radius: 50px;\r\n            border: 5px solid #6BB2FF;\r\n            background: #fff;\r\n            position: absolute;\r\n            left: 55%;\r\n            top: 52%;\r\n        }\r\n        .progressPoint > div {\r\n            height: 16px;\r\n            width: 16px;\r\n            border-radius: 50%;\r\n            background: #6BB2FF;\r\n            position: absolute;\r\n            top: 2px;\r\n        }\r\n        .progressPoint0 {\r\n            left: 10%;\r\n        }\r\n        .progressPoint1 {\r\n            left: 33%;\r\n        }\r\n        .progressPoint2 {\r\n            right: 33%;\r\n        }\r\n        .progressPoint3 {\r\n            right: 10%;\r\n        }\r\n        #waveSelect_alert {\r\n            .waveAlert_div{\r\n                margin-bottom: 5px;\r\n                margin-left: 40px;\r\n            }\r\n            input{\r\n                width: 18px;\r\n                height: 18px;\r\n                margin-right: 5px;\r\n                vertical-align: middle;\r\n            }\r\n        }\r\n        @media (min-width: 2000px){//2k/4k适配\r\n            .wave-chart {\r\n                width:calc((100vw - 400px)/2);\r\n                padding: 10px 0 0 10px;\r\n                float: left;\r\n                height: calc(100vh - 380px);\r\n                background: #fff;\r\n                border-radius: 10px;\r\n                margin-bottom: 20px;\r\n                &:nth-child(3){\r\n                    width:calc(100% - 10px);\r\n                    height: 200px;\r\n                }\r\n            }\r\n        }\r\n    }\r\n</style>\r\n","<template>\r\n    <div class=\"wave-chart\">\r\n        <span class='selectUnit' @click='setUnit' :title='title.selectUnit'></span>\r\n        <span @click='maxOrMin' class='max' :title='maxData.title'></span>\r\n        <span v-if='otp === 1' class='exportMusic' :title='title.exportMusic'></span>\r\n        <span v-if='otp !== 3' class='exportData' :title='title.exportData'></span>\r\n        <span class='restore' :title='title.restore'></span>\r\n        <span class='dataZoom' :title='title.enlarge'></span>\r\n        <span class='exportImage' :title='title.saveImage'></span>\r\n        <span v-if='otp === 1' class='subTime' :title='title.subTime' @click=\"subTime\"></span>\r\n        <!--<span v-if='otp === 2 && factoryType != 1' class='setAllPower' :title='title.setAllPower' @click='setPower'></span>-->\r\n\r\n    </div >\r\n</template>\r\n\r\n<script>\r\n    import myChart from 'assets/lib/waveChart/myCharts.js'\r\n    export default {\r\n        name: \"WaveChart\",\r\n        props: ['option', 'otp', 'height', 'type', 'change', 'position'],\r\n        data: function() {\r\n            return {\r\n                /*waveChart: {}*/\r\n                chart: null,\r\n                title: {\r\n                    selectUnit: '单位选择',\r\n                    subTime: '时间差',\r\n                    exportMusic: '音频导出',\r\n                    exportData: '数据导出',\r\n                    restore: '重置',\r\n                    saveImage: '保存为图片',\r\n                    enlarge: '放大',\r\n                    setAllPower: '所有测点有效频率',\r\n                    showGate: '显示闸门',\r\n                },\r\n                maxData: {\r\n                    title: '最大化',\r\n                    flag: 1,\r\n                },\r\n                subTimeFlag: 0,\r\n                factoryType: 0, //现场类型 0风电；3水电；1水泥；4旋转机械设备\r\n            }\r\n        },\r\n        mounted: function() {\r\n            this.chart = myChart.init(this.$el);\r\n            this.chart.setOption(this.option);\r\n        },\r\n        watch: {\r\n            //观察option的变化\r\n            option: {\r\n                handler() {\r\n                    this.chart.setOption(this.option);\r\n                    if (this.option.x.data.length > 0 && this.option.y.data.length > 0 && this.otp == 2) {\r\n                        $('.loadWave').css('display', 'none');\r\n                    }\r\n                },\r\n                deep: true //对象内部属性的监听，关键。\r\n            },\r\n            type: function() {\r\n                this.title.subTime = this.type === 2 ? '点数差' : '时间差';\r\n            },\r\n            change: function() {\r\n                if (this.change) {\r\n                    document.getElementsByClassName('subTime')[0].classList.remove('active');\r\n                    this.subTimeFlag = 0;\r\n                }\r\n            }\r\n        },\r\n        methods: {\r\n            maxOrMin: function(e) {\r\n                let thisWave = e.currentTarget.parentNode;\r\n                let waveWidth = (window.innerWidth - 350)/2 + 'px';\r\n                let wave = document.getElementsByClassName('wave-chart');\r\n                if (this.maxData.flag) {\r\n                    this.maxData.title = '返回';\r\n                    e.currentTarget.classList.add('back');\r\n                    thisWave.style.height = this.height.maxHeight;\r\n                    thisWave.style.width = '100%';\r\n                    switch (this.otp) {\r\n                        case 1:\r\n                            wave[1].style.display = 'none';\r\n                            wave[2].style.display = 'none';\r\n                            break;\r\n                        case 2:\r\n                            wave[0].style.display = 'none';\r\n                            wave[2].style.display = 'none';\r\n                            break;\r\n                        case 3:\r\n                            wave[0].style.display = 'none';\r\n                            wave[1].style.display = 'none';\r\n                            break;\r\n                    }\r\n                } else {\r\n                    this.maxData.title = '最大化';\r\n                    e.currentTarget.classList.remove('back');\r\n                    if (this.otp === 3) {\r\n                        thisWave.style.height = this.height.historyHeight;\r\n                        thisWave.style.width = '100%';\r\n                    } else {\r\n                        thisWave.style.height = this.height.waveHeight;\r\n                        thisWave.style.width = waveWidth;\r\n                    }\r\n                    for (let i = 0, l = wave.length; i < l; i++) {\r\n                        wave[i].style.display = 'block';\r\n                    }\r\n                }\r\n                this.$emit('get-max', this.maxData.flag);\r\n                this.maxData.flag = Math.abs(--this.maxData.flag);\r\n            },\r\n            setUnit: function() {\r\n                let noUnitPosType = [200,1,4,9,12,15,16];\r\n                let posType = Number(this.position.pos_type);\r\n                if (this.factoryType != 3 && noUnitPosType.includes(posType)){\r\n                    swal('当前测点类型，单位选择不可用');\r\n                }\r\n                else if(this.position.dgm_type==10 && this.position.pos_type==3){\r\n                    swal('当前测点类型，单位选择不可用');\r\n                }\r\n                else{\r\n                    this.$emit('set-unit', this.otp);\r\n                }\r\n\r\n            },\r\n            subTime: function(e) {\r\n                if (this.subTimeFlag === 1) {\r\n                    e.currentTarget.classList.remove('active');\r\n                    this.subTimeFlag = 0;\r\n                } else {\r\n                    this.subTimeFlag ?\r\n                        e.currentTarget.classList.remove('active') :\r\n                        e.currentTarget.classList.add('active');\r\n                    this.subTimeFlag = Math.abs(--this.subTimeFlag);\r\n                }\r\n            },\r\n            setPower: function() {\r\n                this.$emit('set-power');\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n</style>\r\n","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", { attrs: { id: \"wave-content\" } }, [\n    _c(\"header\", { staticClass: \"myHeader-data\" }, [\n      _c(\"div\", { staticClass: \"form-group\" }, [\n        _c(\n          \"div\",\n          { staticClass: \"select-group\" },\n          [\n            _c(\"span\", { staticClass: \"lableName\" }, [_vm._v(\"组织：\")]),\n            _vm._v(\" \"),\n            _c(\"treeselect\", {\n              staticClass: \"select-header\",\n              attrs: {\n                noOptionsText: _vm.noTips,\n                multiple: false,\n                options: _vm.options,\n                clearable: false,\n                placeholder: \"请选择组织\"\n              },\n              on: { select: _vm.currDeptChange },\n              model: {\n                value: _vm.chooseTid,\n                callback: function($$v) {\n                  _vm.chooseTid = $$v\n                },\n                expression: \"chooseTid\"\n              }\n            })\n          ],\n          1\n        ),\n        _vm._v(\" \"),\n        _c(\n          \"div\",\n          { staticClass: \"select-group\" },\n          [\n            _c(\"span\", { staticClass: \"lableName\" }, [_vm._v(\"机组：\")]),\n            _vm._v(\" \"),\n            _c(\"treeselect\", {\n              staticClass: \"select-header\",\n              attrs: {\n                noOptionsText: _vm.noTips,\n                multiple: false,\n                options: _vm.reSetMacList,\n                clearable: false,\n                placeholder: \"请选择机组\"\n              },\n              on: { select: _vm.currMacChange },\n              model: {\n                value: _vm.chooseMacId,\n                callback: function($$v) {\n                  _vm.chooseMacId = $$v\n                },\n                expression: \"chooseMacId\"\n              }\n            })\n          ],\n          1\n        ),\n        _vm._v(\" \"),\n        _c(\n          \"div\",\n          { staticClass: \"select-group\" },\n          [\n            _c(\"span\", { staticClass: \"lableName\" }, [_vm._v(\"测点名称：\")]),\n            _vm._v(\" \"),\n            _c(\"treeselect\", {\n              staticClass: \"select-header\",\n              attrs: {\n                noOptionsText: _vm.noTips,\n                multiple: false,\n                options: _vm.reSetPosList,\n                clearable: false,\n                placeholder: \"请选择测点\"\n              },\n              on: { select: _vm.dataPosChange },\n              model: {\n                value: _vm.choosePosTypeId,\n                callback: function($$v) {\n                  _vm.choosePosTypeId = $$v\n                },\n                expression: \"choosePosTypeId\"\n              }\n            })\n          ],\n          1\n        )\n      ]),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        { staticClass: \"speed_choose_div\", attrs: { id: \"hd_choose\" } },\n        [\n          _c(\n            \"select\",\n            {\n              directives: [\n                {\n                  name: \"model\",\n                  rawName: \"v-model\",\n                  value: _vm.hd_speed,\n                  expression: \"hd_speed\"\n                }\n              ],\n              staticClass: \"hd_select\",\n              on: {\n                change: [\n                  function($event) {\n                    var $$selectedVal = Array.prototype.filter\n                      .call($event.target.options, function(o) {\n                        return o.selected\n                      })\n                      .map(function(o) {\n                        var val = \"_value\" in o ? o._value : o.value\n                        return val\n                      })\n                    _vm.hd_speed = $event.target.multiple\n                      ? $$selectedVal\n                      : $$selectedVal[0]\n                  },\n                  function($event) {\n                    return _vm.change_hd()\n                  }\n                ]\n              }\n            },\n            [\n              _c(\"option\", { attrs: { value: \"false\", id: \"hd_low_radio\" } }, [\n                _vm._v(\"低密度波形\")\n              ]),\n              _vm._v(\" \"),\n              _c(\"option\", { attrs: { value: \"true\", id: \"hd_high_radio\" } }, [\n                _vm._v(\"高密度波形\")\n              ])\n            ]\n          )\n        ]\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"button\",\n        {\n          directives: [\n            {\n              name: \"show\",\n              rawName: \"v-show\",\n              value: _vm.selectPosition.pos_type == 200,\n              expression: \"selectPosition.pos_type == 200\"\n            }\n          ],\n          staticClass: \"btn_samp\",\n          on: { click: _vm.showSampAlert }\n        },\n        [_vm._v(\"采样设置\")]\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        { staticClass: \"header-time\" },\n        [\n          _c(\"span\", [_vm._v(\"起止时间：\")]),\n          _vm._v(\" \"),\n          _c(\"el-date-picker\", {\n            attrs: {\n              type: \"datetimerange\",\n              \"picker-options\": _vm.pickerOptions,\n              \"range-separator\": \"至\",\n              \"start-placeholder\": \"开始日期\",\n              \"end-placeholder\": \"结束日期\",\n              align: \"right\"\n            },\n            on: {\n              change: function($event) {\n                return _vm.change()\n              }\n            },\n            model: {\n              value: _vm.timeValue,\n              callback: function($$v) {\n                _vm.timeValue = $$v\n              },\n              expression: \"timeValue\"\n            }\n          })\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        {\n          class: [_vm.flag_real ? \"dashDivSelectd\" : \"dashDiv\"],\n          on: { click: _vm.setRealBtn }\n        },\n        [\n          _c(\"span\", { staticClass: \"dashSpan\" }),\n          _vm._v(\" \"),\n          _c(\"span\", { staticClass: \"dashText\" }, [\n            _vm._v(_vm._s(_vm.toggleText))\n          ])\n        ]\n      ),\n      _vm._v(\" \"),\n      _vm._m(0)\n    ]),\n    _vm._v(\" \"),\n    _c(\"div\", { staticClass: \"content\" }, [\n      _c(\"div\", { attrs: { id: \"wavespecturm_box\" } }, [\n        _c(\n          \"div\",\n          { staticClass: \"line_box\" },\n          [\n            _c(\"wave-chart\", {\n              directives: [\n                {\n                  name: \"show\",\n                  rawName: \"v-show\",\n                  value: _vm.showType1 == 1,\n                  expression: \"showType1 == 1\"\n                }\n              ],\n              ref: \"chart1\",\n              attrs: {\n                position: _vm.selectPosition,\n                otp: 1,\n                option: _vm.waveOption,\n                height: _vm.maxRestoreHeight,\n                type: _vm.specType,\n                change: _vm.changePos\n              },\n              on: {\n                \"set-unit\": function($event) {\n                  return _vm.showUnitSelect(1)\n                },\n                \"get-max\": _vm.getMax\n              }\n            }),\n            _vm._v(\" \"),\n            _c(\"wave-chart\", {\n              directives: [\n                {\n                  name: \"show\",\n                  rawName: \"v-show\",\n                  value: _vm.showType2 == 2,\n                  expression: \"showType2 == 2\"\n                }\n              ],\n              ref: \"chart2\",\n              staticStyle: { float: \"right\" },\n              attrs: {\n                position: _vm.selectPosition,\n                otp: 2,\n                option: _vm.specturmOption,\n                height: _vm.maxRestoreHeight\n              },\n              on: {\n                \"set-unit\": function($event) {\n                  return _vm.showUnitSelect(2)\n                },\n                \"get-max\": _vm.getMax,\n                \"set-power\": _vm.setAllPower\n              }\n            }),\n            _vm._v(\" \"),\n            _c(\"wave-chart\", {\n              directives: [\n                {\n                  name: \"show\",\n                  rawName: \"v-show\",\n                  value: _vm.showType3 == 3,\n                  expression: \"showType3 == 3\"\n                }\n              ],\n              ref: \"chart3\",\n              attrs: {\n                position: _vm.selectPosition,\n                otp: 3,\n                option: _vm.historyOption,\n                height: _vm.maxRestoreHeight\n              },\n              on: {\n                \"set-unit\": function($event) {\n                  return _vm.showUnitSelect(3)\n                },\n                \"get-max\": _vm.getMax\n              }\n            }),\n            _vm._v(\" \"),\n            _c(\n              \"p\",\n              {\n                directives: [\n                  {\n                    name: \"show\",\n                    rawName: \"v-show\",\n                    value: _vm.noRealData,\n                    expression: \"noRealData\"\n                  }\n                ],\n                staticClass: \"noNowData\"\n              },\n              [_vm._v(\"没有实时波形\")]\n            ),\n            _vm._v(\" \"),\n            _c(\"p\", { staticClass: \"waveTimeText\" }, [\n              _vm._v(_vm._s(_vm.changeTime))\n            ]),\n            _vm._v(\" \"),\n            _c(\"input\", {\n              staticClass: \"input-loc-file\",\n              attrs: {\n                name: \"fileLocal\",\n                id: \"fileLocal\",\n                type: \"file\",\n                multiple: \"multiple\"\n              },\n              on: {\n                change: function($event) {\n                  return _vm.selectFile($event)\n                }\n              }\n            }),\n            _vm._v(\" \"),\n            _c(\n              \"button\",\n              {\n                directives: [\n                  {\n                    name: \"show\",\n                    rawName: \"v-show\",\n                    value: _vm.selectPosition.pos_type == 14,\n                    expression: \"selectPosition.pos_type==14\"\n                  }\n                ],\n                staticClass: \"wave-btn btn-gate\",\n                on: {\n                  click: function($event) {\n                    return _vm.showGate()\n                  }\n                }\n              },\n              [_vm._v(_vm._s(_vm.gateText))]\n            ),\n            _vm._v(\" \"),\n            _c(\n              \"button\",\n              {\n                directives: [\n                  {\n                    name: \"show\",\n                    rawName: \"v-show\",\n                    value: _vm.selectPosition.pos_type == 14,\n                    expression: \"selectPosition.pos_type==14\"\n                  }\n                ],\n                staticClass: \"wave-btn btn-import\",\n                on: { click: _vm.importBaseWave }\n              },\n              [_vm._v(\"导入基准\")]\n            ),\n            _vm._v(\" \"),\n            _c(\n              \"button\",\n              {\n                directives: [\n                  {\n                    name: \"show\",\n                    rawName: \"v-show\",\n                    value: _vm.selectPosition.pos_type == 14,\n                    expression: \"selectPosition.pos_type==14\"\n                  }\n                ],\n                staticClass: \"wave-btn btn-set\",\n                on: {\n                  click: function($event) {\n                    return _vm.setBaseWave(_vm.baseInfo, _vm.ifImportBaseWave)\n                  }\n                }\n              },\n              [_vm._v(\"设为基准\")]\n            ),\n            _vm._v(\" \"),\n            _c(\n              \"button\",\n              {\n                directives: [\n                  {\n                    name: \"show\",\n                    rawName: \"v-show\",\n                    value: _vm.selectPosition.pos_type == 14,\n                    expression: \"selectPosition.pos_type==14\"\n                  }\n                ],\n                staticClass: \"wave-btn btn-get\",\n                on: { click: _vm.getBaseWave }\n              },\n              [_vm._v(\"采集波形\")]\n            )\n          ],\n          1\n        ),\n        _vm._v(\" \"),\n        _c(\"div\", { staticClass: \"tool_box\" }, [\n          _c(\n            \"ul\",\n            { ref: \"spectrumTools\", staticClass: \"tool_list\" },\n            _vm._l(_vm.tools, function(tool, index) {\n              return _c(\n                \"li\",\n                {\n                  on: {\n                    click: function($event) {\n                      tool.toolFunc()\n                      _vm.addActive($event, index)\n                    }\n                  }\n                },\n                [\n                  _c(\"img\", {\n                    ref: \"tool_btn\",\n                    refInFor: true,\n                    staticClass: \"tool_btn\",\n                    attrs: { title: tool.text, src: tool.icon }\n                  })\n                ]\n              )\n            }),\n            0\n          )\n        ]),\n        _vm._v(\" \"),\n        _c(\n          \"div\",\n          {\n            ref: \"allPower\",\n            staticClass: \"alert_box\",\n            staticStyle: { display: \"none\" },\n            attrs: { id: \"allPower_alert\" },\n            on: { click: _vm.hideBox }\n          },\n          [\n            _c(\"div\", { staticClass: \"alert_box_header\" }, [\n              _c(\"div\", { staticClass: \"alert_box_header_left am-u-lg-8\" }, [\n                _c(\"i\", {\n                  domProps: {\n                    textContent: _vm._s(\n                      _vm.posOrderList.includes(\n                        Number(_vm.selectPosition.pos_type)\n                      )\n                        ? \"所有测点有效阶次\"\n                        : \"所有测点有效频率\"\n                    )\n                  }\n                })\n              ]),\n              _vm._v(\" \"),\n              _c(\"div\", { staticClass: \"alert_box_header_right am-u-lg-4\" }, [\n                _c(\"span\", {\n                  staticClass: \"alert_box_close\",\n                  on: {\n                    click: function($event) {\n                      return _vm.closeAlert(\"#allPower_alert\")\n                    }\n                  }\n                })\n              ])\n            ]),\n            _vm._v(\" \"),\n            _c(\"div\", { staticClass: \"alert_box_content\" }, [\n              _c(\"div\", { staticClass: \"allPos\" }, [\n                _vm._v(\"\\n                        测点：\"),\n                _c(\n                  \"div\",\n                  {\n                    ref: \"curPos\",\n                    attrs: { title: _vm.curPosName, id: \"posName\" }\n                  },\n                  [\n                    _vm._v(\n                      \"\\n                        \" +\n                        _vm._s(_vm.curPosName) +\n                        \"\\n                    \"\n                    )\n                  ]\n                ),\n                _vm._v(\" \"),\n                _c(\n                  \"ul\",\n                  {\n                    directives: [\n                      {\n                        name: \"show\",\n                        rawName: \"v-show\",\n                        value: _vm.boxShow,\n                        expression: \"boxShow\"\n                      }\n                    ],\n                    ref: \"selectBox\",\n                    staticClass: \"allPosBox\"\n                  },\n                  _vm._l(_vm.allPos, function(item, index) {\n                    return _c(\n                      \"li\",\n                      {\n                        attrs: { \"data-id\": index, title: item.name },\n                        on: {\n                          click: function($event) {\n                            $event.stopPropagation()\n                            return _vm.selectAllPos($event)\n                          }\n                        }\n                      },\n                      [\n                        _vm._v(\n                          \"\\n                                \" +\n                            _vm._s(item.name) +\n                            \"\\n                            \"\n                        )\n                      ]\n                    )\n                  }),\n                  0\n                )\n              ]),\n              _vm._v(\" \"),\n              _c(\"p\", [\n                _vm._v(\"下限：\"),\n                _c(\"input\", {\n                  ref: \"powerA\",\n                  attrs: { type: \"text\" },\n                  on: { input: _vm.setAllPowerA }\n                }),\n                _vm._v(\" \"),\n                _c(\"i\", {\n                  domProps: {\n                    textContent: _vm._s(\n                      _vm.posOrderList.includes(\n                        Number(_vm.selectPosition.pos_type)\n                      )\n                        ? \"NX\"\n                        : \"Hz\"\n                    )\n                  }\n                })\n              ]),\n              _vm._v(\" \"),\n              _c(\"p\", [\n                _vm._v(\"上限：\"),\n                _c(\"input\", {\n                  ref: \"powerB\",\n                  attrs: { type: \"text\" },\n                  on: { input: _vm.setAllPowerB }\n                }),\n                _vm._v(\" \"),\n                _c(\"i\", {\n                  domProps: {\n                    textContent: _vm._s(\n                      _vm.posOrderList.includes(\n                        Number(_vm.selectPosition.pos_type)\n                      )\n                        ? \"NX\"\n                        : \"Hz\"\n                    )\n                  }\n                })\n              ]),\n              _vm._v(\" \"),\n              _c(\n                \"p\",\n                {\n                  directives: [\n                    {\n                      name: \"show\",\n                      rawName: \"v-show\",\n                      value: _vm.isRealAll,\n                      expression: \"isRealAll\"\n                    }\n                  ],\n                  staticClass: \"alert_box_tips\"\n                },\n                [_vm._v(\"\\n                        上限需要大于下限\")]\n              )\n            ]),\n            _vm._v(\" \"),\n            _c(\"div\", { staticClass: \"alert_box_footer\" }, [\n              _c(\"button\", { on: { click: _vm.allPowerOk } }, [_vm._v(\"确定\")]),\n              _vm._v(\" \"),\n              _c(\n                \"button\",\n                {\n                  staticClass: \"cancel_btn\",\n                  on: {\n                    click: function($event) {\n                      return _vm.closeAlert(\"#allPower_alert\")\n                    }\n                  }\n                },\n                [_vm._v(\"取消\")]\n              )\n            ])\n          ]\n        ),\n        _vm._v(\" \"),\n        _c(\n          \"div\",\n          {\n            staticClass: \"alert_box\",\n            staticStyle: { display: \"none\" },\n            attrs: { id: \"hide_low_alert\" }\n          },\n          [\n            _c(\n              \"div\",\n              {\n                staticClass: \"alert_box_header\",\n                domProps: {\n                  textContent: _vm._s(\n                    _vm.posOrderList.includes(\n                      Number(_vm.selectPosition.pos_type)\n                    )\n                      ? \"低阶次过滤\"\n                      : \"低频过滤\"\n                  )\n                }\n              },\n              [\n                _c(\"div\", { staticClass: \"alert_box_header_right\" }, [\n                  _c(\"span\", {\n                    staticClass: \"alert_box_close\",\n                    on: {\n                      click: function($event) {\n                        return _vm.closeAlert(\"#hide_low_alert\")\n                      }\n                    }\n                  })\n                ])\n              ]\n            ),\n            _vm._v(\" \"),\n            _c(\"div\", { staticClass: \"alert_box_content\" }, [\n              _c(\"div\", [\n                _c(\"span\", {\n                  domProps: {\n                    textContent: _vm._s(\n                      _vm.posOrderList.includes(\n                        Number(_vm.selectPosition.pos_type)\n                      )\n                        ? \"过滤阶次\"\n                        : \"过滤频率\"\n                    )\n                  }\n                }),\n                _vm._v(\"：\"),\n                _c(\"input\", {\n                  directives: [\n                    {\n                      name: \"model\",\n                      rawName: \"v-model\",\n                      value: _vm.hide_low,\n                      expression: \"hide_low\"\n                    }\n                  ],\n                  attrs: { type: \"text\" },\n                  domProps: { value: _vm.hide_low },\n                  on: {\n                    input: function($event) {\n                      if ($event.target.composing) {\n                        return\n                      }\n                      _vm.hide_low = $event.target.value\n                    }\n                  }\n                })\n              ])\n            ]),\n            _vm._v(\" \"),\n            _c(\"div\", { staticClass: \"alert_box_footer\" }, [\n              _c(\n                \"button\",\n                {\n                  on: {\n                    click: function($event) {\n                      return _vm.hideLowOk(\"#hide_low_alert\")\n                    }\n                  }\n                },\n                [_vm._v(\"确定\")]\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"button\",\n                {\n                  staticClass: \"cancel_btn\",\n                  on: {\n                    click: function($event) {\n                      return _vm.closeAlert(\"#hide_low_alert\")\n                    }\n                  }\n                },\n                [_vm._v(\"取消\")]\n              )\n            ])\n          ]\n        ),\n        _vm._v(\" \"),\n        _c(\n          \"div\",\n          {\n            staticClass: \"alert_box\",\n            staticStyle: { display: \"none\" },\n            attrs: { id: \"powerRms_alert\" }\n          },\n          [\n            _c(\"div\", {\n              staticClass: \"alert_box_header\",\n              domProps: {\n                textContent: _vm._s(\n                  _vm.posOrderList.includes(Number(_vm.selectPosition.pos_type))\n                    ? \"有效阶次\"\n                    : \"有效频率\"\n                )\n              }\n            }),\n            _vm._v(\" \"),\n            _c(\"div\", { staticClass: \"alert_box_content\" }, [\n              _c(\"p\", [\n                _vm._v(\"下限：\"),\n                _c(\"input\", {\n                  directives: [\n                    {\n                      name: \"model\",\n                      rawName: \"v-model\",\n                      value: _vm.power_a,\n                      expression: \"power_a\"\n                    }\n                  ],\n                  attrs: { type: \"text\" },\n                  domProps: { value: _vm.power_a },\n                  on: {\n                    input: function($event) {\n                      if ($event.target.composing) {\n                        return\n                      }\n                      _vm.power_a = $event.target.value\n                    }\n                  }\n                }),\n                _vm._v(\" \"),\n                _c(\"i\", {\n                  domProps: {\n                    textContent: _vm._s(\n                      _vm.posOrderList.includes(\n                        Number(_vm.selectPosition.pos_type)\n                      )\n                        ? \"NX\"\n                        : \"Hz\"\n                    )\n                  }\n                })\n              ]),\n              _vm._v(\" \"),\n              _c(\"p\", [\n                _vm._v(\"上限：\"),\n                _c(\"input\", {\n                  directives: [\n                    {\n                      name: \"model\",\n                      rawName: \"v-model\",\n                      value: _vm.power_b,\n                      expression: \"power_b\"\n                    }\n                  ],\n                  attrs: { type: \"text\" },\n                  domProps: { value: _vm.power_b },\n                  on: {\n                    input: function($event) {\n                      if ($event.target.composing) {\n                        return\n                      }\n                      _vm.power_b = $event.target.value\n                    }\n                  }\n                }),\n                _vm._v(\" \"),\n                _c(\"i\", {\n                  domProps: {\n                    textContent: _vm._s(\n                      _vm.posOrderList.includes(\n                        Number(_vm.selectPosition.pos_type)\n                      )\n                        ? \"NX\"\n                        : \"Hz\"\n                    )\n                  }\n                })\n              ]),\n              _vm._v(\" \"),\n              _c(\n                \"p\",\n                {\n                  directives: [\n                    {\n                      name: \"show\",\n                      rawName: \"v-show\",\n                      value:\n                        Number(_vm.power_a) > Number(_vm.power_b) &&\n                        _vm.power_b != 0,\n                      expression: \"Number(power_a)>Number(power_b)&&power_b!=0\"\n                    }\n                  ],\n                  staticClass: \"alert_box_tips\",\n                  attrs: { id: \"alert_tips\" }\n                },\n                [_vm._v(\"上限需要大于下限\\n                    \")]\n              )\n            ]),\n            _vm._v(\" \"),\n            _c(\"div\", { staticClass: \"alert_box_footer\" }, [\n              _c(\n                \"button\",\n                {\n                  on: {\n                    click: function($event) {\n                      return _vm.powerRmsOk(\"#powerRms_alert\")\n                    }\n                  }\n                },\n                [_vm._v(\"确定\")]\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"button\",\n                {\n                  staticClass: \"cancel_btn\",\n                  on: {\n                    click: function($event) {\n                      return _vm.closeAlert(\"#powerRms_alert\")\n                    }\n                  }\n                },\n                [_vm._v(\"取消\")]\n              )\n            ])\n          ]\n        ),\n        _vm._v(\" \"),\n        _c(\n          \"div\",\n          {\n            staticClass: \"alert_box\",\n            staticStyle: { display: \"none\" },\n            attrs: { id: \"unitSelect_alert\" }\n          },\n          [\n            _c(\"div\", { staticClass: \"alert_box_header\" }, [\n              _vm._v(\"\\n                    单位选择\\n                \")\n            ]),\n            _vm._v(\" \"),\n            _c(\"div\", { staticClass: \"alert_box_content\" }, [\n              _c(\"p\", [\n                _vm._v(\"单位选择：\\n                        \"),\n                _c(\n                  \"select\",\n                  {\n                    directives: [\n                      {\n                        name: \"model\",\n                        rawName: \"v-model\",\n                        value: _vm.unitSelect,\n                        expression: \"unitSelect\"\n                      }\n                    ],\n                    attrs: { id: \"unit_select\" },\n                    on: {\n                      change: [\n                        function($event) {\n                          var $$selectedVal = Array.prototype.filter\n                            .call($event.target.options, function(o) {\n                              return o.selected\n                            })\n                            .map(function(o) {\n                              var val = \"_value\" in o ? o._value : o.value\n                              return val\n                            })\n                          _vm.unitSelect = $event.target.multiple\n                            ? $$selectedVal\n                            : $$selectedVal[0]\n                        },\n                        function($event) {}\n                      ]\n                    }\n                  },\n                  [\n                    _c(\n                      \"option\",\n                      {\n                        directives: [\n                          {\n                            name: \"show\",\n                            rawName: \"v-show\",\n                            value:\n                              _vm.unitSrc == \"g\" ||\n                              _vm.unitSrc == \"m/s²\" ||\n                              _vm.unitSrc == \"m/s2\",\n                            expression:\n                              \"unitSrc=='g' || unitSrc=='m/s²' || unitSrc=='m/s2'\"\n                          }\n                        ],\n                        attrs: { value: \"g\" }\n                      },\n                      [_vm._v(\"g\")]\n                    ),\n                    _vm._v(\" \"),\n                    _c(\n                      \"option\",\n                      {\n                        directives: [\n                          {\n                            name: \"show\",\n                            rawName: \"v-show\",\n                            value:\n                              _vm.unitSrc == \"g\" ||\n                              _vm.unitSrc == \"m/s²\" ||\n                              _vm.unitSrc == \"m/s2\",\n                            expression:\n                              \"unitSrc=='g' || unitSrc=='m/s²' || unitSrc=='m/s2'\"\n                          }\n                        ],\n                        attrs: { value: \"m/s²\" }\n                      },\n                      [_vm._v(\"m/s²\\n                            \")]\n                    ),\n                    _vm._v(\" \"),\n                    _c(\n                      \"option\",\n                      {\n                        directives: [\n                          {\n                            name: \"show\",\n                            rawName: \"v-show\",\n                            value:\n                              _vm.unitType != 3\n                                ? _vm.specType == 2\n                                  ? _vm.unitSrc == \"mm/s\"\n                                  : _vm.unitSrc == \"gD\" ||\n                                    _vm.unitSrc == \"°\" ||\n                                    _vm.unitSrc == \"mV\" ||\n                                    _vm.unitSrc == \"rpm\"\n                                  ? false\n                                  : true\n                                : false,\n                            expression:\n                              \"unitType != 3 ? specType==2 ? unitSrc=='mm/s' : unitSrc=='gD' || unitSrc=='°' || unitSrc == 'mV' || unitSrc == 'rpm' ? false: true : false\"\n                          }\n                        ],\n                        attrs: { value: \"mm/s\" }\n                      },\n                      [_vm._v(\"\\n                                mm/s\")]\n                    ),\n                    _vm._v(\" \"),\n                    _c(\n                      \"option\",\n                      {\n                        directives: [\n                          {\n                            name: \"show\",\n                            rawName: \"v-show\",\n                            value:\n                              _vm.unitType != 3\n                                ? _vm.specType == 2\n                                  ? _vm.unitSrc == \"μm\"\n                                  : _vm.unitSrc == \"gD\" ||\n                                    _vm.unitSrc == \"°\" ||\n                                    _vm.unitSrc == \"mV\" ||\n                                    _vm.unitSrc == \"rpm\"\n                                  ? false\n                                  : true\n                                : false,\n                            expression:\n                              \"unitType != 3 ? specType==2 ? unitSrc=='μm': unitSrc=='gD' || unitSrc=='°' || unitSrc == 'mV' || unitSrc == 'rpm' ? false : true : false\"\n                          }\n                        ],\n                        attrs: { value: \"μm\" }\n                      },\n                      [_vm._v(\"\\n                                μm\")]\n                    )\n                  ]\n                )\n              ])\n            ]),\n            _vm._v(\" \"),\n            _c(\"div\", { staticClass: \"alert_box_footer\" }, [\n              _c(\n                \"button\",\n                {\n                  on: {\n                    click: function($event) {\n                      return _vm.unitSelectOk(\"#unitSelect_alert\")\n                    }\n                  }\n                },\n                [_vm._v(\"确定\")]\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"button\",\n                {\n                  staticClass: \"cancel_btn\",\n                  on: {\n                    click: function($event) {\n                      return _vm.closeAlert(\"#unitSelect_alert\")\n                    }\n                  }\n                },\n                [_vm._v(\"取消\")]\n              )\n            ])\n          ]\n        ),\n        _vm._v(\" \"),\n        _c(\n          \"div\",\n          {\n            staticClass: \"alert_box\",\n            staticStyle: { display: \"none\" },\n            attrs: { id: \"waveSelect_alert\" }\n          },\n          [\n            _c(\"div\", { staticClass: \"alert_box_header\" }, [\n              _vm._v(\"\\n                    选择导入方式\\n                \")\n            ]),\n            _vm._v(\" \"),\n            _c(\"div\", { staticClass: \"alert_box_content\" }, [\n              _c(\"div\", { staticClass: \"waveAlert_div\" }, [\n                _c(\"label\", [\n                  _c(\"input\", {\n                    directives: [\n                      {\n                        name: \"model\",\n                        rawName: \"v-model\",\n                        value: _vm.ifImportBaseWave,\n                        expression: \"ifImportBaseWave\"\n                      }\n                    ],\n                    attrs: { type: \"radio\", name: \"radios\", value: \"1\" },\n                    domProps: { checked: _vm._q(_vm.ifImportBaseWave, \"1\") },\n                    on: {\n                      change: function($event) {\n                        _vm.ifImportBaseWave = \"1\"\n                      }\n                    }\n                  }),\n                  _vm._v(\"导入基准波形\")\n                ])\n              ]),\n              _vm._v(\" \"),\n              _c(\"div\", { staticClass: \"waveAlert_div\" }, [\n                _c(\"label\", [\n                  _c(\"input\", {\n                    directives: [\n                      {\n                        name: \"model\",\n                        rawName: \"v-model\",\n                        value: _vm.ifImportBaseWave,\n                        expression: \"ifImportBaseWave\"\n                      }\n                    ],\n                    attrs: { type: \"radio\", name: \"radios\", value: \"3\" },\n                    domProps: { checked: _vm._q(_vm.ifImportBaseWave, \"3\") },\n                    on: {\n                      change: function($event) {\n                        _vm.ifImportBaseWave = \"3\"\n                      }\n                    }\n                  }),\n                  _vm._v(\"导入基准波形并覆盖参数\")\n                ])\n              ])\n            ]),\n            _vm._v(\" \"),\n            _c(\"div\", { staticClass: \"alert_box_footer\" }, [\n              _c(\n                \"button\",\n                {\n                  on: {\n                    click: function($event) {\n                      return _vm.waveSelectOk(\"#waveSelect_alert\")\n                    }\n                  }\n                },\n                [_vm._v(\"确定\")]\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"button\",\n                {\n                  staticClass: \"cancel_btn\",\n                  on: {\n                    click: function($event) {\n                      return _vm.closeAlert(\"#waveSelect_alert\")\n                    }\n                  }\n                },\n                [_vm._v(\"取消\")]\n              )\n            ])\n          ]\n        ),\n        _vm._v(\" \"),\n        _c(\n          \"div\",\n          {\n            directives: [\n              {\n                name: \"show\",\n                rawName: \"v-show\",\n                value: _vm.isSampAlert,\n                expression: \"isSampAlert\"\n              }\n            ],\n            staticClass: \"alert_box\",\n            attrs: { id: \"samp_alert\" }\n          },\n          [\n            _c(\n              \"div\",\n              {\n                staticClass: \"alert_box_header\",\n                domProps: { textContent: _vm._s(\"采样设置\") }\n              },\n              [\n                _c(\"div\", { staticClass: \"alert_box_header_right\" }, [\n                  _c(\"span\", {\n                    staticClass: \"alert_box_close\",\n                    on: {\n                      click: function($event) {\n                        return _vm.closeAlert(\"#samp_alert\")\n                      }\n                    }\n                  })\n                ])\n              ]\n            ),\n            _vm._v(\" \"),\n            _c(\"div\", { staticClass: \"alert_box_content\" }, [\n              _c(\"div\", { staticClass: \"select-group\" }, [\n                _c(\"span\", { staticClass: \"lableName\" }, [\n                  _vm._v(\"测点选择：\")\n                ]),\n                _vm._v(\" \"),\n                _c(\n                  \"select\",\n                  {\n                    directives: [\n                      {\n                        name: \"model\",\n                        rawName: \"v-model\",\n                        value: _vm.chooseSampId,\n                        expression: \"chooseSampId\"\n                      }\n                    ],\n                    staticClass: \"select\",\n                    on: {\n                      change: function($event) {\n                        var $$selectedVal = Array.prototype.filter\n                          .call($event.target.options, function(o) {\n                            return o.selected\n                          })\n                          .map(function(o) {\n                            var val = \"_value\" in o ? o._value : o.value\n                            return val\n                          })\n                        _vm.chooseSampId = $event.target.multiple\n                          ? $$selectedVal\n                          : $$selectedVal[0]\n                      }\n                    }\n                  },\n                  _vm._l(_vm.sampPosList, function(item) {\n                    return _c(\n                      \"option\",\n                      {\n                        attrs: { title: item.pos_name },\n                        domProps: { value: item.ch_id }\n                      },\n                      [_vm._v(_vm._s(item.pos_name))]\n                    )\n                  }),\n                  0\n                )\n              ]),\n              _vm._v(\" \"),\n              _c(\"div\", { staticClass: \"select-group\" }, [\n                _c(\"span\", { staticClass: \"lableName\" }, [\n                  _vm._v(\"分析频率：\")\n                ]),\n                _vm._v(\" \"),\n                _c(\n                  \"select\",\n                  {\n                    directives: [\n                      {\n                        name: \"model\",\n                        rawName: \"v-model\",\n                        value: _vm.chooseSampFreq,\n                        expression: \"chooseSampFreq\"\n                      }\n                    ],\n                    staticClass: \"select\",\n                    on: {\n                      change: function($event) {\n                        var $$selectedVal = Array.prototype.filter\n                          .call($event.target.options, function(o) {\n                            return o.selected\n                          })\n                          .map(function(o) {\n                            var val = \"_value\" in o ? o._value : o.value\n                            return val\n                          })\n                        _vm.chooseSampFreq = $event.target.multiple\n                          ? $$selectedVal\n                          : $$selectedVal[0]\n                      }\n                    }\n                  },\n                  _vm._l(_vm.captureFreqSources, function(val, key) {\n                    return _c(\n                      \"option\",\n                      { attrs: { title: val }, domProps: { value: key } },\n                      [_vm._v(_vm._s(val))]\n                    )\n                  }),\n                  0\n                )\n              ]),\n              _vm._v(\" \"),\n              _c(\"div\", { staticClass: \"select-group\" }, [\n                _c(\"span\", { staticClass: \"lableName\" }, [\n                  _vm._v(\"采集时间：\")\n                ]),\n                _vm._v(\" \"),\n                _c(\n                  \"select\",\n                  {\n                    directives: [\n                      {\n                        name: \"model\",\n                        rawName: \"v-model\",\n                        value: _vm.chooseSampTime,\n                        expression: \"chooseSampTime\"\n                      }\n                    ],\n                    staticClass: \"select\",\n                    on: {\n                      change: function($event) {\n                        var $$selectedVal = Array.prototype.filter\n                          .call($event.target.options, function(o) {\n                            return o.selected\n                          })\n                          .map(function(o) {\n                            var val = \"_value\" in o ? o._value : o.value\n                            return val\n                          })\n                        _vm.chooseSampTime = $event.target.multiple\n                          ? $$selectedVal\n                          : $$selectedVal[0]\n                      }\n                    }\n                  },\n                  _vm._l(_vm.captureTimeSources, function(val, key) {\n                    return _c(\n                      \"option\",\n                      { attrs: { title: key }, domProps: { value: val } },\n                      [_vm._v(_vm._s(key))]\n                    )\n                  }),\n                  0\n                )\n              ])\n            ]),\n            _vm._v(\" \"),\n            _c(\"div\", { staticClass: \"alert_box_footer\" }, [\n              _c(\n                \"button\",\n                {\n                  on: {\n                    click: function($event) {\n                      return _vm.hideSampOk()\n                    }\n                  }\n                },\n                [_vm._v(\"开始采集\")]\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"button\",\n                {\n                  staticClass: \"cancel_btn\",\n                  on: {\n                    click: function($event) {\n                      return _vm.closeSampAlert()\n                    }\n                  }\n                },\n                [_vm._v(\"取消\")]\n              )\n            ])\n          ]\n        )\n      ])\n    ])\n  ])\n}\nvar staticRenderFns = [\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\n      \"a\",\n      {\n        staticClass: \"am-btn am-btn-default line_info_btn keep_btn\",\n        staticStyle: { visibility: \"hidden\" },\n        attrs: { id: \"keep_download\" }\n      },\n      [_c(\"span\", { staticClass: \"tool_icon\" }), _vm._v(\" 保存页面\")]\n    )\n  }\n]\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", { staticClass: \"wave-chart\" }, [\n    _c(\"span\", {\n      staticClass: \"selectUnit\",\n      attrs: { title: _vm.title.selectUnit },\n      on: { click: _vm.setUnit }\n    }),\n    _vm._v(\" \"),\n    _c(\"span\", {\n      staticClass: \"max\",\n      attrs: { title: _vm.maxData.title },\n      on: { click: _vm.maxOrMin }\n    }),\n    _vm._v(\" \"),\n    _vm.otp === 1\n      ? _c(\"span\", {\n          staticClass: \"exportMusic\",\n          attrs: { title: _vm.title.exportMusic }\n        })\n      : _vm._e(),\n    _vm._v(\" \"),\n    _vm.otp !== 3\n      ? _c(\"span\", {\n          staticClass: \"exportData\",\n          attrs: { title: _vm.title.exportData }\n        })\n      : _vm._e(),\n    _vm._v(\" \"),\n    _c(\"span\", { staticClass: \"restore\", attrs: { title: _vm.title.restore } }),\n    _vm._v(\" \"),\n    _c(\"span\", {\n      staticClass: \"dataZoom\",\n      attrs: { title: _vm.title.enlarge }\n    }),\n    _vm._v(\" \"),\n    _c(\"span\", {\n      staticClass: \"exportImage\",\n      attrs: { title: _vm.title.saveImage }\n    }),\n    _vm._v(\" \"),\n    _vm.otp === 1\n      ? _c(\"span\", {\n          staticClass: \"subTime\",\n          attrs: { title: _vm.title.subTime },\n          on: { click: _vm.subTime }\n        })\n      : _vm._e()\n  ])\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","/* version1.1:\r\n  1. 代码优化;\r\n  2. 一张图可显示多条数据;\r\n  3. 增加3D图谱显示; */\r\n  (function (global, factory) {\r\n    \"use strict\";\r\n    typeof exports === \"object\" && typeof module !== \"undefined\"\r\n      ? (module.exports = factory())\r\n      : typeof define === \"function\" && define.amd\r\n        ? define(factory)\r\n        : ((global = global || self), (global.myChart = factory()));\r\n  })\r\n    (this, function () {\r\n      \"use strict\";\r\n      var chart = function (dom) {\r\n        var option = {\r\n          type: {\r\n            chart: \"\" /* 1.波形频谱图 2.对比分析 */,\r\n            chartType: \"\" /* 波形（wave）,频谱（spectrum）,趋势图（trend） */\r\n          },\r\n          // 图谱标题\r\n          title: {\r\n            show: false, // 是否显示标题\r\n            name: \"\", // 标题名字\r\n            // 标题字体样式\r\n            fontStyle: {\r\n              weight: \"bold\", // 粗细，默认 'bold'\r\n              size: \"20px\", // 大小，默认 '20px'\r\n              family: \"Arial\", // 字体，默认 'Arial'\r\n              color: \"#000\", // 颜色，默认 '#000'\r\n              align: \"left\" // 对齐方式，默认 'left'\r\n            }\r\n          },\r\n          // 图谱位置\r\n          grid: {\r\n            top: 60, // 离容器上边距离，默认 60\r\n            right: \"10%\", // 离容器右边距离，默认 '10%\r\n            left: \"10%\", // 离容器左边距离，默认 '10%'\r\n            bottom: 60 // 离容器下边距离，默认 60\r\n          },\r\n          // x 轴信息\r\n          x: {\r\n            name: \"\", // 名称(单位)\r\n            name2: \"\", // 补充文字\r\n            nameStyle: {\r\n              // 名称(单位)字体样式\r\n              color: \"#000\", // 颜色，默认 '#000''\r\n              size: \"12px\", // 大小，默认 '12px'\r\n              family: \"Arial\", // 字体，默认 'Arial'\r\n              weight: \"bold\", // 粗细，默认 'bold'\r\n              bottom: \"15\", // 单位位置\r\n              bottom2: \"30\", // 单位位置\r\n              align: \"center\" // 对齐方式\r\n            },\r\n            type: \"category\", // 坐标轴类型，默认'category'\r\n            data: [], // 数据\r\n            fontStyle: {\r\n              // 刻度字体样式\r\n              color: \"#000\", // 颜色，默认 '#000'\r\n              size: \"12px\", // 大小，默认 '12px'\r\n              family: \"Arial\" // 字体，默认 'Arial'\r\n            },\r\n            lineStyle: {\r\n              // 轴线样式\r\n              color: \"#000\", // 颜色，默认 '#000'\r\n              width: 1 // 粗细，默认 1\r\n            },\r\n            range: {\r\n              max: 0,\r\n              min: 0\r\n            }\r\n          },\r\n          // y 轴信息\r\n          y: {\r\n            name: \"\", // 名称(单位)\r\n            name2: \"\", // 补充文字\r\n            nameStyle: {\r\n              // 名称(单位)字体样式\r\n              color: \"#000\", // 颜色，默认 '#000'\r\n              size: \"12px\", // 大小，默认 '12px'\r\n              family: \"Arial\", // 字体，默认 'Arial'\r\n              weight: \"bold\", // 粗细，默认 'bold'\r\n              align: \"center\" // 对齐方式\r\n            },\r\n            data: [], // 数据\r\n            fontStyle: {\r\n              // 刻度字体样式\r\n              color: \"#000\", // 颜色，默认 '#000'\r\n              size: \"12px\", // 大小，默认 '12px'\r\n              family: \"Arial\", // 字体，默认 'Arial'\r\n              weight: \"normal\" // 粗细，默认 'normal'\r\n            },\r\n            lineStyle: {\r\n              // 轴线样式\r\n              color: \"#000\", // 颜色，默认 '#000'\r\n              width: 1 // 粗细，默认 1\r\n            },\r\n            splitLineStyle: {\r\n              // 坐标轴分隔线\r\n              color: \"#c1c1c1\", // 颜色，默认 '#c1c1c1'\r\n              width: 1 // 粗细，默认 1\r\n            },\r\n            /* 报警线 */\r\n            markLine: [\r\n              /* {\r\n              data: '',\r\n              lineStyle: {\r\n                color: '',\r\n                width: 1,\r\n              }\r\n            } */\r\n            ]\r\n          },\r\n          // 图谱信息\r\n          series: {\r\n            type: \"line\", // 类型，默认 'line' 'scatter'(散点图)  'bar'(柱状图)  'bar-line'(阶次)\r\n            coordinateSystem:\r\n              \"rectanguler\" /* 坐标系类型, 默认'rectanguler'; 可选: 'rectanguler'(直角坐标系), 'circle'(倾角分布图), 'circleLine'(圆周图), */,\r\n            lineStyle: {\r\n              // 样式\r\n              color: \"#0032ff\", // 颜色，默认 '#0032ff\r\n              width: 1 // 粗细，默认 1\r\n            },\r\n            markLine: {\r\n              // 标线\r\n              data: [],\r\n              lineStyle: {\r\n                // 样式\r\n                color: \"#ebd662\", // 颜色，默认 '#ebd662'\r\n                width: 1 // 粗细，默认 1\r\n              },\r\n              fontStyle: {\r\n                // 标注字体样式\r\n                color: \"#0032ff\", // 颜色，默认 '#ebd662'\r\n                size: \"12px\", // 大小，默认 '12px'\r\n                family: \"Microsoft YaHei\", // 字体，默认 'Microsoft YaHei'\r\n                weight: \"normal\" // 粗细，默认 'normal'\r\n              }\r\n            },\r\n            fontStyle: {\r\n              /* 字体样式(coordinateSystem === 'circle') */\r\n              color: \"#000\" /* 颜色 */,\r\n              size: \"14px\" /* 大小 */,\r\n              faimly: \"Microsoft YaHei\" /* 字体 */\r\n            },\r\n            dataMsg: {\r\n              // 数据信息\r\n              oneFreq: 0, // 一倍频\r\n              rotateSpeed: 0, // 转速\r\n              specType: 1, // 频谱图类型\r\n              spectral: 0, // 采样点数\r\n              setPower: false // 是否设置有效频段，默认 false\r\n            },\r\n            gateMsg: {\r\n              // 闸门数据信息\r\n              isShow: 0,//是否画闸门\r\n              fStart: 0,//闸门起始点\r\n              fWidth: 0,//闸门宽度\r\n              fThreshold: 0,//闸门高度\r\n              lineStyle:{\r\n                  color: 'red', // 颜色，默认 '#ebd662'\r\n                  width: 2, // 粗细，默认 1\r\n              }\r\n            },\r\n            symbol: {\r\n              show: false,\r\n              color: \"\",\r\n              size: 3\r\n            },\r\n            unit: \"\" /* 特征值单位 */,\r\n            data: {\r\n              /* 倾角分布图、沉降跟踪图数据 */\r\n              amplitude: [] /* 幅值 */,\r\n              phase: [] /* 相位 */,\r\n              color: [] /* 点和报警线的颜色 */,\r\n              maxAmplitude: 0.1 /* 最大2倍幅值 */\r\n            },\r\n            circleAlarm: [\r\n              /* {\r\n              data: '',\r\n              lineStyle: {\r\n                width: 1,\r\n                color: '',\r\n              }\r\n            } */\r\n            ] /* 圆周图报警线 */,\r\n            posName: [] /* 如果有多组数据, 测点名 */,\r\n            isRestore: true /* 是否刷新图谱 */\r\n          },\r\n          // 标注信息\r\n          toolTip: {\r\n            isShow: true /* 是否启用点击效果 */,\r\n            symbol: {\r\n              show: true,\r\n              color: \"\",\r\n              size: 3\r\n            },\r\n            lineStyle: {\r\n              // 标线样式\r\n              color: \"#FA9A4D\", // 颜色，默认 '#FA9A4D'\r\n              width: 1 // 粗细，默认 1\r\n            },\r\n            fontStyle: {\r\n              // 标注字体样式\r\n              color: \"#fff\", // 颜色，默认 '#fff'\r\n              size: \"12px\", // 大小，默认 '12px'\r\n              family: \"Microsoft YaHei\", // 字体，默认 'Microsoft YaHei'\r\n              weight: \"normal\" // 粗细，默认 'normal'\r\n            },\r\n            background: {\r\n              // 提示框背景\r\n              color: \"rgba(50, 50, 50, 0.3)\" // 颜色，默认 'rgba(50, 50, 50, 0.3)'\r\n            },\r\n            formatter: function (params) { }, // 单击, params = {key: number, val: number} =>  key: 下标，val: x 值\r\n            dblHandler: function (params) { } // 双击, params = {key: number, val: number} =>  key: 下标，val: x 值\r\n          },\r\n          tools: {\r\n            // 开窗放大\r\n            enlarge: {\r\n              show: false,\r\n              dom: null\r\n            },\r\n            // 最大化 / 还原\r\n            maxOrMin: {\r\n              show: false,\r\n              dom: null\r\n            },\r\n            // 重置\r\n            restore: {\r\n              show: false,\r\n              dom: null,\r\n              formatter (isRestore) { }\r\n            },\r\n            // 时间差\r\n            timeDifferent: {\r\n              show: false,\r\n              dom: null,\r\n              formatter (isTimeDifferent) { }\r\n            },\r\n            // 差频\r\n            subFreq: {\r\n              show: false,\r\n              dom: null,\r\n              formatter (isSubFreq) { }\r\n            },\r\n            // 1倍频\r\n            oneFreq: {\r\n              show: false,\r\n              dom: null,\r\n              formatter: isOneFreq => { }\r\n            },\r\n            // 标注倍频\r\n            labelFreq: {\r\n              show: false,\r\n              dom: null,\r\n              formatter (isLabelFreq) { }\r\n            },\r\n            // 寻峰\r\n            peakSearch: {\r\n              show: false,\r\n              dom: null\r\n            },\r\n            // 添加标注\r\n            addLabel: {\r\n              show: false,\r\n              dom: null\r\n            },\r\n            // 取消标注\r\n            cancelLabel: {\r\n              show: false,\r\n              dom: null\r\n            },\r\n            // 校准倍频\r\n            setPeak: {\r\n              show: false,\r\n              dom: null\r\n            },\r\n            // 导出图片\r\n            exportImage: {\r\n              show: false,\r\n              dom: null,\r\n              imageName: \"\"\r\n            },\r\n            // 导出数据\r\n            exportData: {\r\n              fileName: \"\",\r\n              show: false,\r\n              dom: null\r\n            },\r\n            // 导出音频\r\n            exportAudio: {\r\n              fileName: \"\",\r\n              show: false,\r\n              dom: null,\r\n              maxFreq: null\r\n            },\r\n            //转速脉冲\r\n            speedPulse: {\r\n              show: false,\r\n              dom: null,\r\n              formatter (isSpeedPulse) { }\r\n            }\r\n          },\r\n          backgroundColor: \"rgba(255, 255, 255, 0)\", // 图谱背景颜色，默认 '#fff'\r\n          changePos: false, // 是否切换测点 / 机组，默认 false\r\n          resize: null\r\n        };\r\n        var _chart = function (dom) {\r\n          if (!dom) return;\r\n          this._dom = {\r\n            name: dom,\r\n            id: null,\r\n            width: 0,\r\n            height: 0\r\n          };\r\n          this._computeParams = {\r\n            extremum: {}, // x、y轴边界值：{x:{min, max}, y:{min, max}}\r\n            proportion: {} // 坐标系数：{x:{b, k}, y:{b, k}}\r\n          };\r\n          this._flag = {\r\n            spectrumXName: \"\", // 频谱图 x 轴单位\r\n            spectrumYName: \"\", // 频谱图 y 轴单位\r\n            dataLength: 0, // x 轴数据长度\r\n            zoom: 0, // 是否开窗放大  1：放大\r\n            click: 1, // 是否点击画线  1： 画线\r\n            line: {\r\n              // 鼠标或点击位置对应 x 轴下标和值\r\n              key: -1 /* 对应数据所在数组的索引 */,\r\n              val: -1 /* x轴对应的值 */,\r\n              idx: undefined /* 多组数据时对应数组的索引 */\r\n            },\r\n            firstCommon: {\r\n              /* 用于记录对比分析图首次普通点击 */\r\n              // 鼠标或点击位置对应 x 轴下标和值\r\n              key: -1 /* 对应数据所在数组的索引 */,\r\n              val: -1 /* x轴对应的值 */,\r\n              idx: undefined /* 多组数据时对应数组的索引 */\r\n            },\r\n            last_xWave: {\r\n              // 启用时间差上一次点击的 x 轴下标和值\r\n              key: -1,\r\n              val: -1,\r\n              idx: undefined /* 多组数据时对应数组的索引 */\r\n            },\r\n            labelLine: {\r\n              // 标线信息\r\n              spectrum: [], // 频谱图倍频、差频标线信息\r\n              wave: [] // 波形图时间差标线信息\r\n            },\r\n            maxMin: 0, // 是否最大化  1：最大化\r\n            addPeak: [], // 添加标注, 每次鼠标点击的 x 轴下标和值\r\n            muchaddPeak: [], // 多条数据时添加标注，相较于addPeak多了一个index多组数据时对应数组的索引\r\n            addPeakPos: [], // 添加标注, 需要标注的点位置信息\r\n            dragLabel: false, // 是否拖动已填加标注的框\r\n            peakIndexArr: [], // 循环寻峰标线信息\r\n            arr_B: [], // 倍频数组\r\n            arr_C: [], // 差频数组\r\n            subFreqAxis: -1, // 多组数据时差频的数据索引\r\n            toolCheck: -1, // 最后选择的 tool：0 => 点击；1 => 1倍频；2 => 标注倍频；3 => 寻峰\r\n            tools: {\r\n              flag_subFreq: 0, // 是否启用差频  1：启用\r\n              flag_oneF: 0, // 是否启用一倍频  1：启用\r\n              flag_nx: 0, // 是否启用倍频  1：倍频\r\n              autoPeakNum: -1, // 循环寻峰计数\r\n              flag_addPeak: false, // 是否启用校准倍频\r\n              flag_subTime: 0, // 是否启用时间(点数)差  1：启用\r\n              flag_wave_extend: 0, // 时间差是否画周期性延展线\r\n              flag_wave_Pulse: 0 //是否开启转速脉冲 1：启用\r\n            }\r\n          };\r\n          this._scope = {\r\n            // 数据尺寸\r\n            v: {\r\n              // x 轴\r\n              x: {\r\n                start: null, // 最小值\r\n                end: null, // 最大值\r\n                length: null // 数据长度\r\n              },\r\n              // y 轴\r\n              y: {\r\n                start: null, // 最小值\r\n                end: null, // 最大值\r\n                length: null // 数据长度\r\n              }\r\n            },\r\n            // 图谱尺寸\r\n            r: {\r\n              r: null, // 最右侧位置\r\n              w: null, // 宽度\r\n              b: null, // 最下侧位置\r\n              h: null, // 高度\r\n              x: null, // 纵向中心点位置(圆心x)\r\n              y: null, // 横向中心点位置(圆心y)\r\n              rs: null // 最大半径\r\n            }\r\n          };\r\n          this._movePos = {\r\n            x: {\r\n              start: null, // （显示）最小值\r\n              end: null, // （显示）最大值\r\n              length: null // （显示）数据长度\r\n            },\r\n            y: {\r\n              oldVal: 0,\r\n              newVal: 0,\r\n              move: 0,\r\n              source: 0,\r\n              addLabel: 0\r\n            }\r\n          };\r\n          this._option = null;\r\n          this._drawTools = {\r\n            canvas: {},\r\n            ctx: {}\r\n            // toolDom: null\r\n          };\r\n          this.axis = {\r\n            /* 倾角分布图(沉降跟踪图)每个点坐标 */\r\n            x: [] /* x坐标 */,\r\n            y: [] /* y坐标 */,\r\n            index: [] /* 对应数据下标 */\r\n          };\r\n          // 快捷键组合键\r\n          this.code = {\r\n            code1: 0,\r\n            code2: 0\r\n          };\r\n          this.event = {\r\n            dom: {\r\n              // 点击画线\r\n              click: e => {\r\n                e.stopPropagation();\r\n                const opt = this._option;\r\n                const series = opt.series;\r\n                const r = this._scope.r;\r\n                const dx = e.offsetX;\r\n                const dy = e.offsetY;\r\n                if (series.coordinateSystem === \"rectanguler\") {\r\n                  if (\r\n                    !this._flag.zoom &&\r\n                    opt &&\r\n                    opt.x.data.length > 0 &&\r\n                    !this._flag.dragLabel\r\n                  ) {\r\n                    let dValue;\r\n                    if (dx >= opt.grid.left && dx <= r.r)\r\n                      dValue = this.findNearbyPoint(dx, dy);\r\n                    else return;\r\n                    if (this._flag.tools.flag_addPeak) {\r\n                      dValue.key = this.fft_indexOfWaveX(\r\n                        dValue.val,\r\n                        this._option.y.data[dValue.key],\r\n                        1\r\n                      );\r\n                      dValue.val = this._option.x.data[dValue.key];\r\n                    }\r\n                    if (\r\n                      dx >= opt.grid.left &&\r\n                      dx <= r.r &&\r\n                      dy >= opt.grid.top &&\r\n                      dy <= r.b\r\n                    ) {\r\n                      this._flag.line = {\r\n                        val: dValue.val,\r\n                        key: dValue.key,\r\n                        idx: dValue.index\r\n                      };\r\n                    } else {\r\n                      return;\r\n                    }\r\n                    if (this._flag.click) {\r\n                      if (\r\n                        dx >= this._option.grid.left &&\r\n                        dx <= r.r &&\r\n                        dy >= this._option.grid.top &&\r\n                        dy <= r.b\r\n                      ) {\r\n                        this._option.tools.timeDifferent.show &&\r\n                          this._option.tools.timeDifferent.dom &&\r\n                          this.labelLineWave();\r\n                        if (\r\n                          (this._option.tools.subFreq.show &&\r\n                            this._option.tools.subFreq.dom) ||\r\n                          (this._option.tools.labelFreq.show &&\r\n                            this._option.tools.labelFreq.dom) ||\r\n                          (this._option.tools.oneFreq.show &&\r\n                            this._option.tools.oneFreq.dom) ||\r\n                          (this._option.tools.peakSearch.show &&\r\n                            this._option.tools.peakSearch.dom)\r\n                        ) {\r\n                          this.labelLineSpec();\r\n                        }\r\n                        if (\r\n                          this._flag.tools.flag_subTime ||\r\n                          this._flag.tools.flag_subFreq ||\r\n                          this._flag.tools.flag_nx\r\n                        ) {\r\n                          this.drawLabelLine();\r\n                        } else {\r\n                          this._flag.toolCheck = 0;\r\n                          this._flag.firstCommon = {\r\n                            val: dValue.val,\r\n                            key: dValue.key,\r\n                            idx: dValue.index\r\n                          };\r\n                          this.drawLine(this._flag.line);\r\n                        }\r\n                      }\r\n                    }\r\n                    opt.toolTip.formatter(this._flag.line, \"click\");\r\n                  }\r\n                } else if (series.coordinateSystem === \"circle\") {\r\n                  if (opt && series.data.amplitude.length > 0) {\r\n                    const axis = this.axis;\r\n                    const ax = axis.x;\r\n                    const ay = axis.y;\r\n                    const r = this._scope.r;\r\n                    const rx = r.x;\r\n                    const ry = r.y;\r\n                    const rs = r.rs;\r\n                    if ((dx - rx) ** 2 + (dy - ry) ** 2 <= rs ** 2) {\r\n                      let min = {\r\n                        x: 0,\r\n                        y: 0,\r\n                        index: null,\r\n                        value: Number.MAX_VALUE\r\n                      };\r\n                      for (let i = 0, l = ax.length; i < l; i++) {\r\n                        const d = (ax[i] - dx) ** 2 + (ay[i] - dy) ** 2;\r\n                        if (min.value > d) {\r\n                          min = {\r\n                            x: ax[i],\r\n                            y: ay[i],\r\n                            index: axis.index[i],\r\n                            value: d\r\n                          };\r\n                        }\r\n                      }\r\n                      this.drawPoint(min);\r\n                    }\r\n                  }\r\n                } else if (series.coordinateSystem === \"circleLine\") {\r\n                  if (opt && series.data.phase.length > 0) {\r\n                    const axis = this.axis;\r\n                    const ax = axis.x;\r\n                    const ay = axis.y;\r\n                    const r = this._scope.r;\r\n                    const rx = r.x;\r\n                    const ry = r.y;\r\n                    const rs = r.rs;\r\n                    if ((dx - rx) ** 2 + (dy - ry) ** 2 <= rs ** 2) {\r\n                      let min = {\r\n                        x: 0,\r\n                        y: 0,\r\n                        index: null,\r\n                        value: Number.MAX_VALUE\r\n                      };\r\n                      for (let i = 0, l = ay.length; i < l; i++) {\r\n                        const d = (ax[i].oVal - dx) ** 2 + (ay[i].oVal - dy) ** 2;\r\n                        if (min.value > d) {\r\n                          min = {\r\n                            x: ax[i].oVal,\r\n                            y: ay[i].oVal,\r\n                            index: axis.index[i],\r\n                            value: d\r\n                          };\r\n                        }\r\n                      }\r\n                      this.drawPoint(min, series.coordinateSystem);\r\n                    }\r\n                  }\r\n                }\r\n              },\r\n              // 鼠标按下\r\n              mousedown: e => {\r\n                const flag = this._flag;\r\n                flag.dragLabel = false;\r\n                const movePos = this._movePos;\r\n                movePos.x.move = 0;\r\n                movePos.x.source = e.offsetX;\r\n                movePos.y.source = e.offsetY;\r\n                movePos.x.oldVal = e.offsetX;\r\n                movePos.y.oldVal = e.offsetY;\r\n                for (let i = 0, l = flag.addPeakPos.length; i < l; i++) {\r\n                  let val = flag.addPeakPos[i];\r\n                  if (\r\n                    e.offsetX >= val.x &&\r\n                    e.offsetX <= val.x + 110 &&\r\n                    e.offsetY >= val.y &&\r\n                    e.offsetY <= val.y + 40\r\n                  ) {\r\n                    val.flag = 1;\r\n                    flag.click = 0;\r\n                    break;\r\n                  } else {\r\n                    flag.click = 1;\r\n                  }\r\n                }\r\n                this.addEvent(window, \"mousemove\", this.event.dom.mousemove);\r\n              },\r\n              // 拖动图谱 & 开窗放大 handler\r\n              mousemove: (() => {\r\n                let time = 50;\r\n                let lastTime = new Date().valueOf();\r\n                return e => {\r\n                  /* 节流函数 */\r\n                  let nowTime = new Date().valueOf();\r\n                  // if (nowTime - lastTime < time) {\r\n                  //   return;\r\n                  // }\r\n                  lastTime = nowTime;\r\n                  e.stopPropagation();\r\n                  const dx = e.offsetX;\r\n                  const dy = e.offsetY;\r\n                  const opt = this._option;\r\n                  const r = this._scope.r;\r\n                  /* 出界的判断 */\r\n                  if (\r\n                    dx >= 0 &&\r\n                    dx <= r.r &&\r\n                    dy >= opt.grid.top &&\r\n                    dy <= r.b + 40\r\n                  ) {\r\n                  } else {\r\n                    this.removeEvent(window, \"mousemove\", this.event.dom.mousemove);\r\n                  }\r\n                  let multiple = 0;\r\n                  if (\r\n                    opt &&\r\n                    opt.x.data.length > 0 &&\r\n                    e.target.nodeName === \"CANVAS\"\r\n                  ) {\r\n                    let moveX = this._movePos.x,\r\n                      moveY = this._movePos.y,\r\n                      flag = this._flag,\r\n                      scope = this._scope,\r\n                      scopeR = scope.r,\r\n                      scopeV = scope.v,\r\n                      prop = this._computeParams.proportion,\r\n                      propX = prop.x,\r\n                      propY = prop.y,\r\n                      extrX = this._computeParams.extremum.x,\r\n                      yArr = opt.y.data;\r\n                    moveX.newVal = e.offsetX;\r\n                    moveX.move = moveX.newVal - moveX.oldVal;\r\n                    moveY.newVal = e.offsetY;\r\n                    moveY.move = moveY.newVal - moveY.oldVal;\r\n                    if (moveY.source >= scopeR.b && moveY.source <= scopeR.b + 40) {\r\n                      // 拖动 x 轴\r\n                      multiple = Math.abs(\r\n                        (moveX.newVal - propX.b) / propX.k -\r\n                        (moveX.oldVal - propX.b) / propX.k\r\n                      );\r\n                      if (moveX.move === 0) {\r\n                        return;\r\n                      } else if (moveX.move > 0) {\r\n                        if (scopeV.x.start - multiple <= extrX.min) {\r\n                          scopeV.x.start = extrX.min;\r\n                          scopeV.x.end -= scopeV.x.start - extrX.min;\r\n                        } else {\r\n                          scopeV.x.start -= multiple;\r\n                          scopeV.x.end -= multiple;\r\n                          moveX.oldVal = e.offsetX;\r\n                        }\r\n                      } else {\r\n                        if (scopeV.x.end + multiple >= extrX.max) {\r\n                          scopeV.x.end = extrX.max;\r\n                          scopeV.x.start += extrX.max - scopeV.x.end;\r\n                        } else {\r\n                          scopeV.x.start += multiple;\r\n                          scopeV.x.end += multiple;\r\n                          moveX.oldVal = e.offsetX;\r\n                        }\r\n                      }\r\n                      let data = {\r\n                        min: Number.MAX_VALUE,\r\n                        max: Number.MIN_VALUE * -1\r\n                      },\r\n                        l = yArr.length;\r\n                      this._option.x.type !== \"category\" && (data.min = 0);\r\n                      if (typeof yArr[0] === \"object\" && yArr[0].length >= 0) {\r\n                        data.start = this.findNearbyPoint(\r\n                          opt.grid.left,\r\n                          scopeR.b\r\n                        ).key;\r\n                        data.end = this.findNearbyPoint(scopeR.r, scopeR.b).key + 1;\r\n                        for (let i = 0; i < l; i++) {\r\n                          data.data = yArr[i].slice(data.start, data.end);\r\n                          let len = data.data.length;\r\n                          for (let j = 0; j < len; j++) {\r\n                            const val = data.data[j];\r\n                            data.min > val && (data.min = parseFloat(val));\r\n                            data.max < val && (data.max = parseFloat(val));\r\n                          }\r\n                        }\r\n                      } else {\r\n                        data.start = this.findNearbyPoint(\r\n                          opt.grid.left,\r\n                          scopeR.b\r\n                        ).key;\r\n                        data.end = this.findNearbyPoint(scopeR.r, scopeR.b).key + 1;\r\n                        data.data = yArr.slice(data.start, data.end);\r\n                        for (let i = 0; i < l; i++) {\r\n                          const val = data.data[i];\r\n                          data.min > val && (data.min = parseFloat(val));\r\n                          data.max < val && (data.max = parseFloat(val));\r\n                        }\r\n                      }\r\n                      scopeV.y.start = data.min;\r\n                      scopeV.y.end = data.max + (data.max - data.min) / 10;\r\n                      flag.click = 1;\r\n                      this.restoreAll(2);\r\n                    } else if (moveX.source < opt.grid.left) {\r\n                      // 拖动 y 轴\r\n                      multiple = Math.abs(\r\n                        (moveY.newVal - propY.b) / propY.k -\r\n                        (moveY.oldVal - propY.b) / propY.k\r\n                      );\r\n                      if (moveY.move === 0) {\r\n                        return;\r\n                      } else if (moveY.move < 0) {\r\n                        scopeV.y.start -= multiple;\r\n                        scopeV.y.end -= multiple;\r\n                      } else {\r\n                        scopeV.y.start += multiple;\r\n                        scopeV.y.end += multiple;\r\n                      }\r\n                      moveY.oldVal = e.offsetY;\r\n                      flag.click = 1;\r\n                      this.mappingY(2);\r\n                      this.drawAxis();\r\n                      this.drawMarkY(); //重画报警线\r\n                      this.drawWave();\r\n                      this.zoomLine();\r\n                    } else if (\r\n                      moveX.source >= opt.grid.left &&\r\n                      moveX.source <= scopeR.r &&\r\n                      moveY.source >= opt.grid.top &&\r\n                      moveY.source < scopeR.b\r\n                    ) {\r\n                      if (flag.zoom) {\r\n                        // 开窗放大\r\n                        this.drawEnlargement(1);\r\n                      } else {\r\n                        let addPeakPos = flag.addPeakPos,\r\n                          l = addPeakPos.length;\r\n                        if (l > 0) {\r\n                          let isAddPeak = false;\r\n                          for (let i = 0; i < l; i++) {\r\n                            let val = addPeakPos[i];\r\n                            if (\r\n                              moveX.oldVal >= val.x &&\r\n                              moveX.oldVal <= val.x + 110 &&\r\n                              moveY.oldVal >= val.y &&\r\n                              moveY.oldVal <= val.y + 40 &&\r\n                              val.flag\r\n                            ) {\r\n                              isAddPeak = true;\r\n                              val.x += moveX.move;\r\n                              val.y += moveY.move;\r\n                              this.drawAddLabel(2);\r\n                              moveX.oldVal = moveX.newVal;\r\n                              moveY.oldVal = moveY.newVal;\r\n                              flag.dragLabel = true;\r\n                              break;\r\n                            }\r\n                          }\r\n                        }\r\n                        if (!flag.dragLabel) {\r\n                          flag.tools.flag_subTime && this.labelLineSpec();\r\n                          let dVal = this.findNearbyPoint(\r\n                            moveX.newVal,\r\n                            moveY.newVal\r\n                          );\r\n                          if (flag.tools.flag_addPeak) {\r\n                            if (dVal.index === undefined) {\r\n                              dVal.key = this.fft_indexOfWaveX(\r\n                                dVal.val,\r\n                                opt.y.data[dVal.key],\r\n                                1\r\n                              );\r\n                              dVal.val = opt.x.data[dVal.key];\r\n                            } else {\r\n                              dVal.key = this.fft_indexOfWaveX(\r\n                                dVal.val,\r\n                                opt.y.data[dVal.index][dVal.key],\r\n                                1\r\n                              );\r\n                              dVal.val = opt.x.data[dVal.index][dVal.key];\r\n                            }\r\n                          }\r\n                          flag.line = {\r\n                            key: dVal.key,\r\n                            val: dVal.val,\r\n                            idx: dVal.index\r\n                          };\r\n                          // opt.toolTip.formatter(flag.line);\r\n                          this.zoomLine();\r\n                        }\r\n                        /* } else {\r\n                          flag.tools.flag_subTime && this.labelLineSpec();\r\n                          let dVal = this.findNearbyPoint(moveX.newVal, moveY.newVal);\r\n                          if (flag.tools.flag_addPeak) {\r\n                            if (dVal.index === undefined) {\r\n                              dVal.key = this.fft_indexOfWaveX(dVal.val, opt.y.data[dVal.key], 1)\r\n                              dVal.val = opt.x.data[dVal.key];\r\n                            } else {\r\n                              dVal.key = this.fft_indexOfWaveX(dVal.val, opt.y.data[dVal.index][dVal.key], 1)\r\n                              dVal.val = opt.x.data[dVal.index][dVal.key];\r\n                            }\r\n                          }\r\n                          flag.line = {\r\n                            key: dVal.key,\r\n                            val: dVal.val,\r\n                            idx: dVal.index,\r\n                          }\r\n                          this.zoomLine();\r\n                        } */\r\n                      }\r\n                    } else {\r\n                      return;\r\n                    }\r\n                    // 拖动图谱或者开窗放大时重画故障频率\r\n                    this._option.series.markLine.data.length > 0 &&\r\n                      this.drawMarkLine();\r\n                  } else {\r\n                    return;\r\n                  }\r\n                };\r\n              })(),\r\n              // 鼠标松开\r\n              mouseup: () => {\r\n                this.removeEvent(window, \"mousemove\", this.event.dom.mousemove);\r\n                const flag = this._flag;\r\n                for (let i = 0, l = flag.addPeakPos.length; i < l; i++) {\r\n                  if (flag.addPeakPos[i].flag) {\r\n                    flag.addPeakPos[i].flag = 0;\r\n                    break;\r\n                  }\r\n                }\r\n                this.drawEnlargement();\r\n                if (\r\n                  flag.zoom &&\r\n                  this._movePos.x.source >= this._option.grid.left &&\r\n                  this._movePos.x.source <= this._scope.r.r &&\r\n                  this._movePos.y.source >= this._option.grid.top &&\r\n                  this._movePos.y.source < this._scope.r.b\r\n                ) {\r\n                  this.windowEnlargement();\r\n                }\r\n                if (flag.zoom) {\r\n                  setTimeout(() => {\r\n                    flag.zoom = 0;\r\n                    flag.click = 1;\r\n                  });\r\n                }\r\n              },\r\n              // 缩放\r\n              zoom: e => {\r\n                e.stopPropagation();\r\n                var dx = e.offsetX;\r\n                var dy = e.offsetY;\r\n                var zoomVal = e.deltaY;\r\n                let multiple = null;\r\n                let type = 2,\r\n                  opt = this._option;\r\n                const xArr = opt.x.data;\r\n                if (opt && xArr.length > 0) {\r\n                  if (\r\n                    dx >= opt.grid.left &&\r\n                    dx <= this._scope.r.r &&\r\n                    dy >= opt.grid.top &&\r\n                    dy <= this._scope.r.b + 40\r\n                  ) {\r\n                    let dVal = this.findNearbyPoint(dx, dy); // 鼠标点在当前波形上的位置索引\r\n                    multiple = {\r\n                      start: (dVal.val - this._scope.v.x.start) * 0.1,\r\n                      end: (this._scope.v.x.end - dVal.val) * 0.1\r\n                    };\r\n                    let start, end;\r\n                    if (zoomVal < 0) {\r\n                      start = this._scope.v.x.start + multiple.start;\r\n                      end = this._scope.v.x.end - multiple.end;\r\n                      if (start >= end || 0 >= end) {\r\n                        return;\r\n                      } else {\r\n                        this._scope.v.x.start = start;\r\n                        this._scope.v.x.end = end;\r\n                        type = 2;\r\n                      }\r\n                    } else {\r\n                      start = this._scope.v.x.start - multiple.start;\r\n                      end = this._scope.v.x.end + multiple.end;\r\n                      if (\r\n                        start < this._computeParams.extremum.x.min ||\r\n                        end > this._computeParams.extremum.x.max\r\n                      ) {\r\n                        type = 1;\r\n                      } else {\r\n                        this._scope.v.x.start = start;\r\n                        this._scope.v.x.end = end;\r\n                        type = 2;\r\n                      }\r\n                    }\r\n                    this.mappingX(type);\r\n                    let data = {\r\n                      min: Number.MAX_VALUE,\r\n                      max: Number.MIN_VALUE\r\n                    };\r\n                    if (dVal.index !== undefined) {\r\n                      const yArr = opt.y.data;\r\n                      for (let i = 0, l = yArr.length; i < l; i++) {\r\n                        const yValue = yArr[i];\r\n                        data.start = this.findNearbyPoint(opt.grid.left, 0, i).key;\r\n                        data.end =\r\n                          this.findNearbyPoint(this._scope.r.r, 0, i).key + 1;\r\n                        if (data.start > data.end) {\r\n                          const s = data.start;\r\n                          data.start = data.end;\r\n                          data.end = s;\r\n                        }\r\n                        data.data = yValue.slice(data.start, data.end);\r\n                        for (let j = 0, len = data.data.length; j < len; j++) {\r\n                          const val = data.data[j];\r\n                          data.min > Number(val) && (data.min = Number(val));\r\n                          data.max < Number(val) && (data.max = Number(val));\r\n                        }\r\n                        data.max === Number.MIN_VALUE && (data.max = 0);\r\n                      }\r\n                    } else {\r\n                      data.start = this.findNearbyPoint(opt.grid.left).key;\r\n                      data.end = this.findNearbyPoint(this._scope.r.r).key + 1;\r\n                      if (data.start > data.end) {\r\n                        const s = data.start;\r\n                        data.start = data.end;\r\n                        data.end = s;\r\n                      }\r\n                      data.data = opt.y.data.slice(data.start, data.end);\r\n                      for (let i = 0, l = data.data.length; i < l; i++) {\r\n                        const val = data.data[i];\r\n                        data.min > Number(val) && (data.min = Number(val));\r\n                        data.max < Number(val) && (data.max = Number(val));\r\n                      }\r\n                      data.max === Number.MIN_VALUE && (data.max = 0);\r\n                    }\r\n                    this._scope.v.y.start = data.min;\r\n                    this._scope.v.y.end = data.max + (data.max - data.min) / 10;\r\n                    this.mappingY(type);\r\n                  }\r\n                  else if (\r\n                    dx > 0 &&\r\n                    dx < opt.grid.left &&\r\n                    dy >= opt.grid.top &&\r\n                    dy <= this._scope.r.b + 40\r\n                  ) {\r\n                    // 仅缩放y轴\r\n                    let valY = this._scope.v.y.end - (dy - opt.grid.top) * (this._scope.v.y.end - this._scope.v.y.start) / (this._scope.r.b - opt.grid.top)\r\n                    multiple = {\r\n                      start: (valY - this._scope.v.y.start) * 0.1,\r\n                      end: (this._scope.v.y.end - valY) * 0.1\r\n                    };\r\n                    let start, end;\r\n                    if (zoomVal < 0) {\r\n                      start = this._scope.v.y.start + multiple.start;\r\n                      end = this._scope.v.y.end - multiple.end;\r\n                      if (start >= end || 0 >= end) {\r\n                        return;\r\n                      } else {\r\n                        this._scope.v.y.start = start;\r\n                        this._scope.v.y.end = end;\r\n                        type = 2;\r\n                      }\r\n                    } else {\r\n                      start = this._scope.v.y.start - multiple.start;\r\n                      end = this._scope.v.y.end + multiple.end;\r\n                      if (\r\n                        start < this._computeParams.extremum.y.min ||\r\n                        end > this._computeParams.extremum.y.max\r\n                      ) {\r\n                        type = 1;\r\n                      } else {\r\n                        this._scope.v.y.start = start;\r\n                        this._scope.v.y.end = end;\r\n                        type = 2;\r\n                      }\r\n                    }\r\n                    this.mappingY(type);\r\n                  }\r\n                  this.drawAxis();\r\n                  this.drawWave();\r\n                  this.drawMarkY(); //重画报警线\r\n                  this.zoomLine();\r\n                }\r\n              },\r\n              // 监听按键\r\n              keydown: e => {\r\n                // Esc: key === 'Escape', keyCode === 27\r\n                // left: key === 'ArrowLeft', keyCode === 37\r\n                // right: key === 'ArrowRight', keyCode === 39\r\n                // up: key === 'ArrowUp', keyCode === 38\r\n                // down: key === 'ArrowDown', keyCode === 40\r\n                // w:keyCode === 87 选框放大快捷键\r\n                const flag = this._flag;\r\n                const flagLine = flag.line;\r\n                let xArr = this._option.x.data;\r\n                let option = this._option;\r\n                flagLine.idx !== undefined && (xArr = xArr[flagLine.idx]);\r\n                // 组合键\r\n                if (e.keyCode === 32) {\r\n                  /* 空格 */\r\n                  this.code.code1 = 32;\r\n                }\r\n                if (e.keyCode === 49) {\r\n                  /* 1 */\r\n                  this.code.code2 = 49;\r\n                }\r\n                if (e.keyCode === 73) {\r\n                  /* i */\r\n                  this.code.code2 = 73;\r\n                }\r\n                if (e.keyCode === 69) {\r\n                  /* e */\r\n                  this.code.code2 = 69;\r\n                }\r\n                if (e.keyCode === 65) {\r\n                  /* a */\r\n                  this.code.code2 = 65;\r\n                }\r\n                if (this.code.code1 === 32 && this.code.code2 === 49) {\r\n                  /* 空格+1 一倍频 */\r\n                  if (\r\n                    option.type.chartType == \"spectrum\" &&\r\n                    option.type.chart == 1\r\n                  ) {\r\n                    this.event.tool.oneFreq();\r\n                  }\r\n                  this.code.code1 = 0;\r\n                  this.code.code2 = 0;\r\n                } else if (this.code.code1 === 32 && this.code.code2 === 73) {\r\n                  /* 空格+i 导出图片 */\r\n                  this.event.tool.exportImage();\r\n                  this.code.code1 = 0;\r\n                  this.code.code2 = 0;\r\n                } else if (this.code.code1 === 32 && this.code.code2 === 65) {\r\n                  /* 空格+a 导出音频 */\r\n                  if (option.type.chartType == \"wave\" && option.type.chart == 1) {\r\n                    this.event.tool.exportAudio();\r\n                  }\r\n                  this.code.code1 = 0;\r\n                  this.code.code2 = 0;\r\n                } else if (this.code.code1 === 32 && this.code.code2 === 69) {\r\n                  /* 空格+e 导出数据 */\r\n                  this.event.tool.exportData();\r\n                  this.code.code1 = 0;\r\n                  this.code.code2 = 0;\r\n                }\r\n                if (e.key === \"Escape\" && e.keyCode === 27) {\r\n                  flagLine.key = -1;\r\n                  flagLine.val = -1;\r\n                  flagLine.idx = undefined;\r\n                  const layer = [\r\n                    \"background\", // 背景\r\n                    \"data\", // 数据\r\n                    \"foreground\", // 前景\r\n                    \"speed\", // 转速\r\n                    \"failure\", // 故障频率\r\n                    \"subFreq\", // 差频信息\r\n                    \"nxFreq\", // 倍频信息\r\n                    \"click\", // 操作(点击画线)\r\n                    \"pulse\", // 转速脉冲\r\n                    \"gate\", // 闸门\r\n                    \"zoom\" // 操作(开窗放大)\r\n                  ];\r\n                  for (let i = 2, l = layer.length; i < l; i++) {\r\n                    this._drawTools.ctx[layer[i]].clearRect(\r\n                      0,\r\n                      0,\r\n                      dom.width,\r\n                      dom.height\r\n                    );\r\n                  }\r\n                  flag.addPeak.length = 0;\r\n                  flag.tools.flag_subTime = 0;\r\n                  flag.tools.flag_subFreq = 0;\r\n                  flag.tools.flag_nx = 0;\r\n                  flag.labelLine.spectrum.length = 0;\r\n                  flag.tools.flag_wave_Pulse = 0; //转速脉冲关闭\r\n                  this.zoomLine();\r\n                  this._option.tools.restore.formatter(true);\r\n                } else if (e.key === \"ArrowLeft\" && e.keyCode === 37) {\r\n                  --flagLine.key;\r\n                  flagLine.val = xArr[flagLine.key];\r\n                  if (flag.tools.flag_subFreq == 0) {\r\n                    --flag.arr_B[0]; //键盘左右键移动后变化arr_B,消除了左右键移动的影响对差频的影响\r\n                  }\r\n                  this._option.toolTip.formatter(flagLine);\r\n                  this.zoomLine();\r\n                } else if (e.key === \"ArrowRight\" && e.keyCode === 39) {\r\n                  ++flagLine.key;\r\n                  flagLine.val = xArr[flagLine.key];\r\n                  if (flag.tools.flag_subFreq == 0) {\r\n                    ++flag.arr_B[0];\r\n                  }\r\n                  // ++flagLine.key;\r\n                  // ++flag.arr_B[0];\r\n                  // flagLine.val = xArr[flagLine.key];\r\n                  this._option.toolTip.formatter(flagLine);\r\n                  this.zoomLine();\r\n                } else if (e.keyCode == 87) {\r\n                  /* w,选框放大 */\r\n                  this._flag.zoom = Math.abs(--this._flag.zoom);\r\n                  this._flag.click = Math.abs(--this._flag.click);\r\n                } else if (e.keyCode == 68) {\r\n                  /* d,寻峰 */\r\n                  if (\r\n                    option.type.chartType == \"spectrum\" &&\r\n                    option.type.chart == 1\r\n                  ) {\r\n                    this.event.tool.peakSearch();\r\n                  }\r\n                } else if (e.keyCode === 72) {\r\n                  /* h,倍频 */\r\n                  if (option.type.chartType == \"spectrum\") {\r\n                    this.event.tool.labelFreq();\r\n                    let className = option.tools.labelFreq.dom.className.split(\" \");\r\n                    if (option.type.chart == 1) {\r\n                      if (className.indexOf(\"check-icon\") == -1) {\r\n                        this.addClass(option.tools.labelFreq.dom, \"check-icon\");\r\n                      } else {\r\n                        this.removeClass(option.tools.labelFreq.dom, \"check-icon\");\r\n                      }\r\n                    } else if (option.type.chart == 2) {\r\n                      if (className.indexOf(\"chart-btn-active\") == -1) {\r\n                        this.addClass(\r\n                          option.tools.labelFreq.dom,\r\n                          \"chart-btn-active\"\r\n                        );\r\n                      } else {\r\n                        this.removeClass(\r\n                          option.tools.labelFreq.dom,\r\n                          \"chart-btn-active\"\r\n                        );\r\n                      }\r\n                    }\r\n                  }\r\n                } else if (e.keyCode === 82) {\r\n                  /* r,重置 */\r\n                  this.event.tool.restore();\r\n                }\r\n              },\r\n              // 柱状图鼠标移入\r\n              barMove: e => {\r\n                const params = this._computeParams.proportion;\r\n                const opt = this._option;\r\n                const xArr = opt.x.data;\r\n                const yArr = opt.y.data;\r\n                const scope = this._scope;\r\n                const vx = scope.v.x;\r\n                const ex = e.offsetX;\r\n                const ey = e.offsetY;\r\n                const yk = params.y.k;\r\n                const yb = params.y.b;\r\n                const clickCtx = this._drawTools.ctx.click;\r\n                if (opt.toolTip.isShow) {\r\n                  clickCtx.clearRect(0, 0, this._dom.width, this._dom.height);\r\n                  for (let i = 0, l = yArr.length; i < l; i++) {\r\n                    const y = yArr[i] * yk + yb;\r\n                    const x = scope.v.x.length * i + opt.grid.left;\r\n                    if (\r\n                      ex >= x &&\r\n                      ex <= x + vx.start &&\r\n                      ey <= scope.r.b &&\r\n                      ey >= y\r\n                    ) {\r\n                      let lineX = vx.start / 2 + x;\r\n                      if (parseInt(lineX) === parseFloat(lineX)) {\r\n                        lineX += 0.5;\r\n                      }\r\n                      const ot = opt.toolTip;\r\n                      clickCtx.beginPath();\r\n                      clickCtx.fillStyle = \"#4975c5\";\r\n                      clickCtx.fillRect(x, y, vx.start, scope.r.b - y);\r\n                      const xVal = xArr[i];\r\n                      let tree = xVal[0];\r\n                      let mac = xVal[1];\r\n                      let pos = xVal[2];\r\n                      const W =\r\n                        Math.max(\r\n                          clickCtx.measureText(tree).width,\r\n                          clickCtx.measureText(mac).width,\r\n                          clickCtx.measureText(pos).width\r\n                        ) + 20;\r\n                      let bx = ex + 30;\r\n                      let by = ey + 30;\r\n                      if (bx + W >= scope.r.r) {\r\n                        bx = ex - W - 30;\r\n                      }\r\n                      if (by + 80 >= scope.r.b) {\r\n                        by = ey - 110;\r\n                      }\r\n                      clickCtx.fillStyle = ot.background.color;\r\n                      clickCtx.fillRect(bx, by, W, 80);\r\n                      clickCtx.font = `${ot.fontStyle.size} ${ot.fontStyle.family} ${ot.fontStyle.weight}`;\r\n                      clickCtx.fillStyle = ot.fontStyle.color;\r\n                      clickCtx.textBaseline = \"top\";\r\n                      clickCtx.fillText(tree, bx + 10, by + 5);\r\n                      clickCtx.fillText(mac, bx + 10, by + 25);\r\n                      clickCtx.fillText(pos, bx + 10, by + 45);\r\n                      clickCtx.fillText(\r\n                        `${this.round(yArr[i], 4)}${opt.y.name[i]}`,\r\n                        bx + 10,\r\n                        by + 65\r\n                      );\r\n                      break;\r\n                    }\r\n                  }\r\n                }\r\n              },\r\n              // 柱状图双击\r\n              barDblclick: e => {\r\n                const params = this._computeParams.proportion;\r\n                const opt = this._option;\r\n                const xArr = opt.x.data;\r\n                const yArr = opt.y.data;\r\n                const scope = this._scope;\r\n                const vx = scope.v.x;\r\n                const ex = e.offsetX;\r\n                const ey = e.offsetY;\r\n                const yk = params.y.k;\r\n                const yb = params.y.b;\r\n                if (opt.toolTip.isShow) {\r\n                  for (let i = 0, l = yArr.length; i < l; i++) {\r\n                    const y = yArr[i] * yk + yb;\r\n                    const x = scope.v.x.length * i + opt.grid.left;\r\n                    if (\r\n                      ex >= x &&\r\n                      ex <= x + vx.start &&\r\n                      ey <= scope.r.b &&\r\n                      ey >= y\r\n                    ) {\r\n                      const xVal = xArr[i];\r\n                      const yVal = yArr[i];\r\n                      opt.toolTip.formatter({ xVal, yVal });\r\n                      break;\r\n                    }\r\n                  }\r\n                }\r\n              },\r\n              // 折线图双击\r\n              lineDblclick: e => {\r\n                e.stopPropagation();\r\n                const opt = this._option;\r\n                const r = this._scope.r;\r\n                const dx = e.offsetX;\r\n                const dy = e.offsetY;\r\n                if (\r\n                  dx >= opt.grid.left &&\r\n                  dx <= r.r &&\r\n                  dy >= opt.grid.top &&\r\n                  dy <= r.b\r\n                ) {\r\n                  const dValue = this.findNearbyPoint(dx, dy);\r\n                  this._flag.line = {\r\n                    val: dValue.val,\r\n                    key: dValue.key,\r\n                    idx: dValue.index\r\n                  };\r\n                  opt.toolTip.dblHandler(this._flag.line, \"dblclick\");\r\n                }\r\n              }\r\n            },\r\n            tool: {\r\n              // 开窗放大\r\n              enlarge: e => {\r\n                e.stopPropagation();\r\n                this._flag.zoom = Math.abs(--this._flag.zoom);\r\n                this._flag.click = Math.abs(--this._flag.click);\r\n              },\r\n              // 最大化 / 还原\r\n              maxOrMin: () => {\r\n                this.resize();\r\n              },\r\n              // 重置\r\n              restore: () => {\r\n                let flag = this._flag;\r\n                flag.click = 1;\r\n                flag.toolCheck = -1;\r\n                flag.zoom = 0;\r\n                flag.line = {\r\n                  key: -1,\r\n                  val: -1\r\n                };\r\n                let layer = this._drawTools.ctx;\r\n                for (let key in layer) {\r\n                  layer[key].clearRect(0, 0, this._dom.width, this._dom.height);\r\n                }\r\n                flag.addPeakPos.length = 0;\r\n                flag.addPeak.length = 0;\r\n                flag.tools.flag_subTime = 0;\r\n                flag.tools.flag_wave_Pulse = 0;\r\n                /* 重置关闭转速脉冲  */\r\n                this._option.tools.speedPulse &&\r\n                  this._option.tools.speedPulse.data &&\r\n                  (this._option.tools.speedPulse.data.speedPulse = false);\r\n                flag.tools.flag_subFreq = 0;\r\n                flag.tools.flag_nx = 0;\r\n                flag.labelLine.spectrum.length = 0;\r\n                flag.last_xWave = {\r\n                  key: -1,\r\n                  val: -1,\r\n                  idx: undefined\r\n                };\r\n                this._option.tools.restore.formatter(true);\r\n                this.restoreAll(1);\r\n              },\r\n              // 时间差\r\n              timeDifferent: () => {\r\n                let flag = this._flag,\r\n                  tools = flag.tools,\r\n                  line = flag.line;\r\n                tools.flag_subTime = Math.abs(--tools.flag_subTime);\r\n                tools.flag_subTime &&\r\n                  (flag.last_xWave = {\r\n                    key: line.key,\r\n                    val: line.val,\r\n                    idx: line.idx\r\n                  });\r\n                this._option.tools.timeDifferent.formatter(\r\n                  Boolean(tools.flag_subTime)\r\n                );\r\n                if (tools.flag_subTime) {\r\n                  this._option.tools.timeDifferent.dom\r\n                }\r\n                this.labelLineWave();\r\n                this.drawLabelLine();\r\n              },\r\n              // 循环寻峰\r\n              peakSearch: () => {\r\n                let flag = this._flag,\r\n                  opt = this._option;\r\n                flag.peakIndexArr = this.getPeakIndexArr(opt.y.data, 10);\r\n                flag.tools.autoPeakNum++;\r\n                if (flag.tools.autoPeakNum >= 10) {\r\n                  flag.tools.autoPeakNum = -1;\r\n                }\r\n                this.labelLineSpec();\r\n                let peakSearch = -1;\r\n                for (let i = 0, l = flag.labelLine.spectrum.length; i < l; i++) {\r\n                  if (flag.labelLine.spectrum[i].name.indexOf(\"p\") != -1) {\r\n                    peakSearch = i;\r\n                    break;\r\n                  }\r\n                }\r\n                if (peakSearch > -1) {\r\n                  flag.line = {\r\n                    key: flag.labelLine.spectrum[peakSearch].xAxis,\r\n                    val: opt.x.data[flag.labelLine.spectrum[peakSearch].xAxis]\r\n                  };\r\n                  this.labelLineSpec();\r\n                }\r\n                this._drawTools.ctx.click.clearRect(\r\n                  0,\r\n                  0,\r\n                  this._dom.width,\r\n                  this._dom.height\r\n                );\r\n                if (flag.tools.autoPeakNum == -1) {\r\n                  return;\r\n                }\r\n                this.drawLine(flag.line);\r\n              },\r\n              // 一倍频\r\n              oneFreq: () => {\r\n                let opt = this._option;\r\n                if (opt.series.dataMsg.rotateSpeed == 0) {\r\n                  return;\r\n                } else {\r\n                  let flag = this._flag,\r\n                    paramsX = this._computeParams.proportion.x;\r\n                  flag.tools.flag_oneF = Math.abs(flag.tools.flag_oneF - 1);\r\n                  flag.toolCheck = 1;\r\n                  let index = -1,\r\n                    t_nxArray = [];\r\n                  if (opt.series.dataMsg.specType == 2 || opt.x.name == \"NX\") {\r\n                    //阶次、阶比\r\n                    index = this.indexOfArray(opt.x.data, 1, 0);\r\n                  } else {\r\n                    index = this.indexOfArray(\r\n                      opt.x.data,\r\n                      opt.series.dataMsg.oneFreq,\r\n                      0\r\n                    );\r\n                  }\r\n                  t_nxArray.push({\r\n                    name: \"1x\",\r\n                    xAxis: index\r\n                  });\r\n                  this._drawTools.ctx.click.clearRect(\r\n                    0,\r\n                    0,\r\n                    this._dom.width,\r\n                    this._dom.height\r\n                  );\r\n                  let x = paramsX.k * opt.x.data[t_nxArray[0].xAxis] + paramsX.b;\r\n                  flag.line = {\r\n                    key: t_nxArray[0].xAxis,\r\n                    val: opt.x.data[t_nxArray[0].xAxis]\r\n                  };\r\n                  this.labelLineSpec();\r\n                  if (x && x >= opt.grid.left && x <= this._scope.r.r) {\r\n                    this.drawLine(flag.line);\r\n                  }\r\n                  // 标注倍频开启状态画标注倍频\r\n                  if (flag.tools.flag_nx === 1) {\r\n                    this.drawLabelLine();\r\n                  }\r\n                  // flag.tools.flag_nx = 0;\r\n                  opt.tools.oneFreq.formatter(true);\r\n                }\r\n              },\r\n              // 差频\r\n              subFreq: () => {\r\n                let flag = this._flag,\r\n                  tools = flag.tools;\r\n                tools.flag_subFreq = Math.abs(--tools.flag_subFreq);\r\n                flag.toolCheck = 2;\r\n                Boolean(tools.flag_subFreq) || (flag.subFreqAxis = -1);\r\n                this._option.tools.subFreq.formatter(Boolean(tools.flag_subFreq));\r\n                tools.flag_subFreq ? this.labelLineSpec() : this.drawLabelLine();\r\n              },\r\n              // 倍频\r\n              labelFreq: () => {\r\n                let flag = this._flag;\r\n                flag.tools.flag_nx = Math.abs(--flag.tools.flag_nx);\r\n                flag.toolCheck = 2;\r\n                this._option.tools.labelFreq.formatter(Boolean(flag.tools.flag_nx));\r\n                this.labelLineSpec();\r\n                this.drawLabelLine();\r\n              },\r\n              // 添加标注\r\n              addLabel: e => {\r\n                e.stopPropagation();\r\n                if (this._flag.line.key > -1) {\r\n                  this.drawAddLabel(1);\r\n                }\r\n              },\r\n              // 取消标注\r\n              cancelLabel: () => {\r\n                this._flag.addPeak.length = 0;\r\n                this._flag.addPeakPos.length = 0;\r\n                this._drawTools.ctx.foreground.clearRect(\r\n                  0,\r\n                  0,\r\n                  this._dom.width,\r\n                  this._dom.height\r\n                );\r\n              },\r\n              // 校准倍频\r\n              setPeak: () => {\r\n                this._flag.tools.flag_addPeak = !this._flag.tools.flag_addPeak;\r\n              },\r\n              // 导出图片\r\n              exportImage: () => {\r\n                let img = new Image();\r\n                const opt = this._option;\r\n                const dom = this._dom;\r\n                let canvas = document.createElement(\"canvas\");\r\n                canvas.setAttribute(\"height\", dom.height);\r\n                canvas.setAttribute(\"width\", dom.width);\r\n                let ctx = canvas.getContext(\"2d\");\r\n                ctx.beginPath();\r\n                ctx.fillStyle = opt.backgroundColor;\r\n                ctx.fillRect(0, 0, dom.width, dom.height);\r\n                for (let key in this._drawTools.canvas) {\r\n                  ctx.drawImage(this._drawTools.canvas[key], 0, 0);\r\n                }\r\n                img.src = canvas.toDataURL(\"image/png\", 1.0);\r\n                let downLoad = document.createElement(\"a\");\r\n                let ImgName = opt.tools.exportImage.imageName;\r\n                if (Array.isArray(ImgName)) {\r\n                  const strArr = [];\r\n                  for (let i = 0, l = ImageName.length; i < l; i++) {\r\n                    const nameValue = ImageName[i];\r\n                    if (strArr.includes(nameValue)) {\r\n                      ImageName.splice(-1, 1);\r\n                      i--;\r\n                    } else {\r\n                      strArr.push(nameValue);\r\n                    }\r\n                  }\r\n                  fileName = ImgName.join(\"_\");\r\n                }\r\n                downLoad.href = img.src;\r\n                downLoad.download =\r\n                  opt.tools.exportImage.imageName === \"\"\r\n                    ? opt.title.name\r\n                    : opt.tools.exportImage.imageName;\r\n                +\".png\";\r\n                downLoad.dispatchEvent(new MouseEvent(\"click\"));\r\n              },\r\n              // 数据导出\r\n              exportData: () => {\r\n                const opt = this._option;\r\n                var str = \"\"; //导出数据（中文兼容）\r\n                const name = opt.tools.exportData.fileName;\r\n                let fileName = \"\"; //导出文件名\r\n                const dataX = opt.x.data;\r\n                const dataY = opt.y.data;\r\n                const l = dataX.length;\r\n                if (this.getDataType(dataX[0]) === \"Array\") {\r\n                  let p = 0; /* 最长一组数据长度 */\r\n                  str += `\\ufeff`;\r\n                  for (let i = 0; i < l; i++) {\r\n                    const len = dataX[i].length;\r\n                    p < len && (p = len);\r\n                    str += `X,Y,`;\r\n                    fileName += i === 0 ? `${name[i]}` : `-${name[i]}`;\r\n                  }\r\n                  fileName += \".csv\";\r\n                  str += `\\r\\n`;\r\n                  for (var i = 0; i < p; i++) {\r\n                    for (let j = 0; j < l; j++) {\r\n                      const x = dataX[j][i] || \"\";\r\n                      const y = dataY[j][i] || \"\";\r\n                      str += `${x},${y.toFixed(4) * 1}`;\r\n                    }\r\n                    str += \"\\r\\n\";\r\n                  }\r\n                } else {\r\n                  fileName = `${name}.csv`;\r\n                  str += \"\\ufeffX,Y\\r\\n\";\r\n                  for (var i = 0; i < l; i++) {\r\n                    str += dataX[i] + \",\" + dataY[i].toFixed(4) * 1 + \"\\r\\n\";\r\n                  }\r\n                }\r\n                this.funDownload(str, fileName);\r\n              },\r\n              // 音频导出\r\n              exportAudio: () => {\r\n                const opt = this._option;\r\n                const audio = opt.tools.exportAudio;\r\n                var freq = audio.maxFreq; //采样频率\r\n                var wave = this.cloneObj(opt.y.data, true); //数据\r\n                let buffer = null;\r\n                const name = audio.fileName;\r\n                let fileName = \"\";\r\n                if (this.getDataType(freq) === \"Array\") {\r\n                  for (let i = 0, l = wave.length; i < l; i++) {\r\n                    buffer = this.setAudio(freq[i], wave[i]);\r\n                    fileName = `${name[i]}.wav`;\r\n                    this.funDownload(buffer, fileName);\r\n                  }\r\n                } else {\r\n                  buffer = this.setAudio(freq, wave);\r\n                  fileName = `${name}.wav`; //导出文件名\r\n                  this.funDownload(buffer, fileName);\r\n                }\r\n              },\r\n              // 转速脉冲\r\n              speedPulse: () => {\r\n                let flag = this._flag,\r\n                  tools = flag.tools,\r\n                  line = flag.line;\r\n                let opt = this._option;\r\n                flag.tools.flag_wave_Pulse = Number(\r\n                  this._option.tools.speedPulse.data.speedPulse\r\n                );\r\n                if (this._option.tools.speedPulse.data.XArray.length > 0) {\r\n                  flag.tools.flag_wave_Pulse = Math.abs(\r\n                    --flag.tools.flag_wave_Pulse\r\n                  );\r\n                  this._option.tools.speedPulse.formatter(\r\n                    Boolean(flag.tools.flag_wave_Pulse)\r\n                  );\r\n                } else {\r\n                  flag.tools.flag_wave_Pulse = false;\r\n                }\r\n                this.drawWavePulse();\r\n              }\r\n            }\r\n          };\r\n          this.creat(dom);\r\n          return this;\r\n        };\r\n        _chart.prototype = {\r\n          constructor: _chart,\r\n          // 判断数据类型\r\n          getDataType (data) {\r\n            return Object.prototype.toString.call(data).slice(8, -1);\r\n          },\r\n          // 保留小数\r\n          round (num, dig = 255) {\r\n            let val = Math.abs(num);\r\n            if (val >= 10 ** 8 || val <= 10 ** -8 || val === 0) {\r\n              return num;\r\n            }\r\n            if (dig === 255) {\r\n              dig = 0;\r\n              let value = val;\r\n              while (value < 1) {\r\n                value *= 10;\r\n                dig++;\r\n              }\r\n              dig += 2;\r\n              val >= 1000 && (dig = 0);\r\n              val >= 10 && (dig = 1);\r\n            }\r\n            let len = 10 ** dig;\r\n            return Math.round(num * len) / len;\r\n          },\r\n          // 添加class\r\n          addClass (el, _class) {\r\n            let elClassArr = el.className.split(\" \"); // 把字符串转成数组格式\r\n            let classArr = _class.split(\" \"); // 把字符串转成数组格式\r\n            classArr.forEach(item => {\r\n              if (elClassArr.indexOf(item) === -1) {\r\n                // 避免奇怪的类型混入\r\n                elClassArr.push(String(item));\r\n              }\r\n            });\r\n            el.className = elClassArr.join(\" \"); // 把原数组拼接成字符串\r\n            return el; // 返回dom元素\r\n          },\r\n          // 删除class属性\r\n          removeClass (el, _class) {\r\n            let elClassArr = el.className.split(\" \");\r\n            let classArr = _class.split(\" \");\r\n            classArr.forEach(item => {\r\n              let index = elClassArr.indexOf(item); // 大于0的时候，为对象的索引值\r\n              if (index > -1) {\r\n                elClassArr.splice(index, 1);\r\n              }\r\n            });\r\n            el.className = elClassArr.join(\" \");\r\n            return el;\r\n          },\r\n          // 判断数据是否为原始类型\r\n          isStatic (val) {\r\n            return (\r\n              typeof val === \"string\" ||\r\n              typeof val === \"number\" ||\r\n              typeof val === \"boolean\" ||\r\n              typeof val === \"undefined\" ||\r\n              val === null\r\n            );\r\n          },\r\n          // 复制对象\r\n          cloneObj (val, deep) {\r\n            if (this.isStatic(val)) return val;\r\n            if (Array.isArray(val))\r\n              return val.map(item => (deep ? this.cloneObj(item, deep) : item));\r\n            else if (typeof val === \"object\") {\r\n              const wType = [\"Error\", \"Date\", \"RegExp\"];\r\n              var type = Object.prototype.toString.call(val).slice(8, -1);\r\n              if (wType.includes(type)) return new window[type](val);\r\n              var tag = {};\r\n              for (let key in val) {\r\n                tag[key] = deep ? this.cloneObj(val[key], deep) : val[key];\r\n              }\r\n              return tag;\r\n            }\r\n          },\r\n          // 获取 dom, 绑定监听事件, 创建 canvas\r\n          creat: function (dom) {\r\n            if (typeof dom === \"undefined\") return;\r\n            let _dom = this._dom;\r\n            _dom.id = \"windit_\" + new Date().valueOf();\r\n            for (let i = 0, l = dom.children.length; i < l; i++) {\r\n              const child = dom.children[i];\r\n              if (child.nodeName === \"DIV\") {\r\n                dom.removeChild(child);\r\n                i--;\r\n                l = dom.children.length;\r\n              }\r\n            }\r\n            _dom.height = Math.round(dom.clientHeight);\r\n            _dom.width = Math.round(dom.clientWidth);\r\n            dom.style.position = \"relative\";\r\n            const layer = [\r\n              \"background\", // 背景\r\n              \"data\", // 数据\r\n              \"foreground\", // 前景\r\n              \"speed\", // 转速\r\n              \"failure\", // 故障频率\r\n              \"subFreq\", // 差频信息\r\n              \"nxFreq\", // 倍频信息\r\n              \"click\", // 操作(点击画线)\r\n              \"pulse\", //转速脉冲\r\n              \"gate\", // 闸门\r\n              \"zoom\" // 操作(开窗放大)\r\n            ];\r\n            let div = document.createElement(\"div\");\r\n            // 去除标线\r\n            div.setAttribute(\r\n              \"style\",\r\n              \"height: \" +\r\n              _dom.height +\r\n              \"px;width: \" +\r\n              _dom.width +\r\n              \"px;outline: none;\"\r\n            );\r\n            div.setAttribute(\"tabindex\", 1);\r\n            for (var i = 0, l = layer.length; i < l; i++) {\r\n              let canvas = document.createElement(\"canvas\");\r\n              canvas.setAttribute(\"height\", _dom.height);\r\n              canvas.setAttribute(\"width\", _dom.width);\r\n              canvas.setAttribute(\"style\", \"position: absolute\");\r\n              this._drawTools.canvas[layer[i]] = canvas;\r\n              this._drawTools.ctx[layer[i]] = canvas.getContext(\"2d\");\r\n              div.appendChild(canvas);\r\n              dom.appendChild(div);\r\n            }\r\n          },\r\n          // 处理 option\r\n          setOption: function (opt1, opt2 = option) {\r\n            if (!opt1) return;\r\n            // this.destory();\r\n            const flag = this._flag;\r\n            const mark = opt1.series.markLine;\r\n            let isMarkSame = true;//markLine 是否相同\r\n            if (mark && mark.data) {\r\n              // 长度相同可能是切换\r\n              if (mark.isRefresh !== undefined) {\r\n                if (!mark.isRefresh) {\r\n                  isMarkSame = false\r\n                }\r\n                mark.isRefresh = true\r\n              }\r\n            }\r\n            // if (opt1.x && opt2.x && opt1.x.data && opt2.x.data && opt1.x.data.length != opt2.x.data.length) {\r\n            //   isMarkSame = false\r\n            // }\r\n            if (!isMarkSame) {\r\n              this._option = this.mergeOption(opt2, opt1);\r\n              this._option.resize = this.resize;\r\n              // 防止合并opt2和opt1后，opt1的markLine无数据取了opt2数据\r\n              this._option.series.markLine.data = mark.data\r\n              const coordinateSystem = this._option.series.coordinateSystem;\r\n              if (coordinateSystem === \"rectanguler\") {\r\n                this.drawMarkLine();\r\n              } else if (coordinateSystem === \"circle\") {\r\n                this.getNearPoint(mark.data);\r\n              } else if (!coordinateSystem) {//对比分析图故障频率\r\n                this.drawMarkLine();\r\n              }\r\n              return;\r\n            }\r\n            if (opt1.series.isRestore === false) return;\r\n            let opt = (this._option = this.mergeOption(opt2, opt1));\r\n            mark && (opt.series.markLine.data = mark.data);\r\n            if (opt.x.type === \"bar\" && opt.x.data.length > 12) return;\r\n            this._option.resize = this.resize;\r\n            const coordinateSystem = opt.series.coordinateSystem;\r\n            if (opt.x.data) {\r\n              flag.dataLength || (flag.dataLength = opt.x.data.length);\r\n            }\r\n            flag.spectrumXName === \"\" && (flag.spectrumXName = opt.x.name);\r\n            flag.spectrumYName === \"\" && (flag.spectrumYName = opt.y.name);\r\n            let dom = this._dom;\r\n            opt.series.dataMsg.rotateSpeed == 0 &&\r\n              (opt.series.dataMsg.rotateSpeed = 1);\r\n            this.initParams();\r\n            let grid = opt.grid;\r\n            for (let key in grid) {\r\n              if (typeof grid[key] === \"string\") {\r\n                opt.grid[key] =\r\n                  key === \"left\" || key === \"right\"\r\n                    ? (dom.width * grid[key].slice(0, grid[key].indexOf(\"%\"))) / 100\r\n                    : (dom.height * grid[key].slice(0, grid[key].indexOf(\"%\"))) /\r\n                    100;\r\n              }\r\n            }\r\n            let tools = opt.tools;\r\n            for (let k in tools) {\r\n              if (k === \"setPower\" || k === \"hideLow\") continue;\r\n              const value = tools[k];\r\n              if (value.dom && value.show) {\r\n                // k === \"setPeak\" && (flag.tools.flag_addPeak = value.show);\r\n                this.addEvent(value.dom, \"click\", this.event.tool[k]);\r\n              }\r\n            }\r\n            this._scope.r = {\r\n              r: dom.width - opt.grid.right,\r\n              w: dom.width - opt.grid.right - opt.grid.left,\r\n              b: dom.height - opt.grid.bottom,\r\n              h: dom.height - opt.grid.top - opt.grid.bottom,\r\n              x: null,\r\n              y: null,\r\n              rs: null\r\n            };\r\n            const r = this._scope.r;\r\n            const wr = r.w / 2;\r\n            const hr = r.h / 2;\r\n            r.x = wr + opt.grid.left;\r\n            r.y = hr + opt.grid.top;\r\n            r.rs = Math.min(wr, hr);\r\n            opt.series.type === \"bar\" && (r.b -= 60);\r\n            // 点击画线(描点)\r\n            opt.series.type !== \"bar\" &&\r\n              opt.toolTip.isShow &&\r\n              this.addEvent(dom.name, \"click\", this.event.dom.click);\r\n            let layer = this._drawTools.ctx;\r\n            for (let key in layer) {\r\n              layer[key].clearRect(0, 0, this._dom.width, this._dom.height);\r\n            }\r\n            if (coordinateSystem === \"rectanguler\") {\r\n              if (opt.series.type !== \"bar\") {\r\n                // 拖动图谱 & 开窗放大 handler\r\n                this.addEvent(dom.name, \"mousedown\", this.event.dom.mousedown);\r\n                this.addEvent(dom.name, \"mouseup\", this.event.dom.mouseup);\r\n                // 双击\r\n                this.addEvent(dom.name, \"dblclick\", this.event.dom.lineDblclick);\r\n                // 缩放\r\n                this.addEvent(dom.name, \"mousewheel\", this.event.dom.zoom);\r\n                // dom.name.addEventListener('mousewheel', this.event.dom.zoom, false);\r\n                const div = dom.name.children;\r\n                this.addEvent(\r\n                  div[div.length - 1],\r\n                  \"keydown\",\r\n                  this.event.dom.keydown\r\n                );\r\n              } else if (opt.series.type === \"bar\") {\r\n                this.addEvent(dom.name, \"mousemove\", this.event.dom.barMove);\r\n                this.addEvent(dom.name, \"dblclick\", this.event.dom.barDblclick);\r\n              }\r\n              if (\r\n                opt.x.data !== undefined &&\r\n                opt.x.data !== null &&\r\n                opt.y.data !== undefined &&\r\n                opt.y.data !== null\r\n              ) {\r\n                this.restoreAll(1);\r\n                this.drawMarkLine();\r\n                /* 画报警线 */\r\n                /* const markY = opt.y.markLine;\r\n                if (markY && markY[0].data !== '') {\r\n                  this.drawMarkY();\r\n                } */\r\n              }\r\n            } else if (coordinateSystem === \"circle\") {\r\n              this.restoreAll();\r\n              opt.series.circleAlarm.length > 0 && this.drawCircleAlarm();\r\n            } else if (coordinateSystem === \"circleLine\") {\r\n              this.restoreAll();\r\n            }\r\n          },\r\n          // 初始化参数\r\n          initParams: function () {\r\n            let flag = this._flag;\r\n            const opt = this._option;\r\n            if (opt.changePos) {\r\n              flag.spectrumXName = \"\";\r\n              flag.line = {\r\n                key: -1,\r\n                val: -1,\r\n                idx: undefined\r\n                // idx:0\r\n              };\r\n              flag.arr_B.length = 0;\r\n              flag.arr_C.length = 0;\r\n              flag.toolCheck = -1;\r\n              flag.tools.autoPeakNum = -1;\r\n              flag.addPeak.length = 0;\r\n              flag.addPeakPos.length = 0;\r\n              flag.labelLine = {\r\n                spectrum: [],\r\n                wave: []\r\n              };\r\n              flag.last_xWave = {\r\n                key: -1,\r\n                val: -1,\r\n                idx: undefined\r\n              };\r\n              flag.maxMin = 0;\r\n              flag.peakIndexArr = [];\r\n              flag.tools.flag_subFreq = 0;\r\n              flag.tools.flag_oneF = 0;\r\n              flag.tools.flag_subTime = 0;\r\n              flag.tools.flag_wave_extend = 0;\r\n              flag.tools.flag_nx = 0;\r\n            }\r\n            if (opt.x.data && opt.x.data.length > 0) {\r\n              if (\r\n                this.getDataType(opt.x.data[0]) === \"Array\" &&\r\n                opt.x.data[flag.line.idx] != undefined\r\n              ) {\r\n                let congruenceName = {\r\n                  x: false,\r\n                  y: false\r\n                };\r\n                if (this.getDataType(opt.x.name) === \"Array\") {\r\n                  congruenceName.x =\r\n                    opt.x.name.sort().toString() ===\r\n                    flag.spectrumXName.sort().toString();\r\n                } else {\r\n                  congruenceName.x = opt.x.name === flag.spectrumXName;\r\n                }\r\n                if (this.getDataType(opt.y.name) === \"Array\") {\r\n                  congruenceName.y =\r\n                    opt.y.name.toString() === flag.spectrumYName.sort().toString();\r\n                } else {\r\n                  congruenceName.y = opt.y.name === flag.spectrumYName;\r\n                }\r\n                if (congruenceName.x && congruenceName.y) {\r\n                  if (flag.line.key === -1) {\r\n                    flag.line.val = undefined;\r\n                  } else {\r\n                    flag.line.val = opt.x.data[flag.line.idx][flag.line.key];\r\n                  }\r\n                } else {\r\n                  if (flag.line.key > -1) {\r\n                    flag.line.key = this.indexOfArray(\r\n                      opt.x.data[flag.line.idx],\r\n                      flag.line.val,\r\n                      0\r\n                    );\r\n                    // flag.spectrumXName = opt.x.name[flag.line.idx];\r\n                    // flag.spectrumYName = opt.y.name[flag.line.idx];\r\n                    //推入spectrumXName\r\n                    flag.spectrumXName = [];\r\n                    flag.spectrumYName = [];\r\n                    flag.spectrumXName.push(opt.x.name[flag.line.idx]);\r\n                    flag.spectrumYName.push(opt.y.name[flag.line.idx]);\r\n                  }\r\n                }\r\n              } else {\r\n                if (\r\n                  opt.x.name === flag.spectrumXName ||\r\n                  opt.y.name === flag.spectrumYName\r\n                ) {\r\n                  flag.line.val = opt.x.data[flag.line.key];\r\n                } else {\r\n                  //spectrumXName置空\r\n                  flag.spectrumXName = \"\";\r\n                  flag.spectrumYName = \"\";\r\n                  flag.line.key = this.indexOfArray(opt.x.data, flag.line.val, 0);\r\n                  flag.spectrumXName = opt.x.name;\r\n                  flag.spectrumYName = opt.y.name;\r\n                }\r\n              }\r\n            }\r\n            flag.subFreqAxis = -1;\r\n            flag.zoom = 0;\r\n            flag.click = 1;\r\n            this._scope = {\r\n              // 数据尺寸\r\n              v: {\r\n                // x 轴\r\n                x: {\r\n                  start: null, // 最小值\r\n                  end: null, // 最大值\r\n                  length: null // 数据长度\r\n                },\r\n                // y 轴\r\n                y: {\r\n                  start: null, // 最小值\r\n                  end: null, // 最大值\r\n                  length: null // 数据长度\r\n                }\r\n              },\r\n              // 图谱尺寸\r\n              r: {\r\n                r: null, // 最右侧位置\r\n                w: null, // 宽度\r\n                b: null, // 最下侧位置\r\n                h: null // 高度\r\n              }\r\n            };\r\n            this._movePos = {\r\n              x: {\r\n                oldVal: 0,\r\n                newVal: 0,\r\n                move: 0,\r\n                source: 0,\r\n                addLabel: 0\r\n              },\r\n              y: {\r\n                oldVal: 0,\r\n                newVal: 0,\r\n                move: 0,\r\n                source: 0,\r\n                addLabel: 0\r\n              }\r\n            };\r\n            const drawTools = this._drawTools.ctx;\r\n            for (let key in drawTools) {\r\n              drawTools[key].clearRect(0, 0, this._dom.width, this._dom.height);\r\n            }\r\n          },\r\n          // 深度合并对象\r\n          mergeOption: function (FirstOBJ, SecondOBJ) {\r\n            for (var key in SecondOBJ) {\r\n              FirstOBJ[key] && FirstOBJ[key].toString() === \"[object Object]\"\r\n                ? this.mergeOption(FirstOBJ[key], SecondOBJ[key])\r\n                : (FirstOBJ[key] = SecondOBJ[key]);\r\n            }\r\n            return FirstOBJ;\r\n          },\r\n          // 计算时间格式\r\n          formatDateStr: function (date, type = 1) {\r\n            let time = {},\r\n              str;\r\n            time.yy = new Date(date).getFullYear();\r\n            time.mm = new Date(date).getMonth() + 1;\r\n            time.mm < 10 && (time.mm = \"0\" + time.mm);\r\n            time.dd = new Date(date).getDate();\r\n            time.dd < 10 && (time.dd = \"0\" + time.dd);\r\n            str =\r\n              type === 3\r\n                ? time.mm + \"-\" + time.dd\r\n                : time.yy + \"-\" + time.mm + \"-\" + time.dd;\r\n            if (type === 2 || type === 3) {\r\n              time.h = new Date(date).getHours();\r\n              time.h < 10 && (time.h = \"0\" + time.h);\r\n              time.m = new Date(date).getMinutes();\r\n              time.m < 10 && (time.m = \"0\" + time.m);\r\n              time.s = new Date(date).getSeconds();\r\n              time.s < 10 && (time.s = \"0\" + time.s);\r\n              str += \" \" + time.h + \":\" + time.m + \":\" + time.s;\r\n            }\r\n            return str;\r\n          },\r\n          // 初始化\r\n          restoreAll: function (type) {\r\n            const coordinateSystem = this._option.series.coordinateSystem;\r\n            if (coordinateSystem === \"rectanguler\") {\r\n              this.mappingX(type);\r\n              this.mappingY(type);\r\n              this.drawAxis();\r\n              this.drawWave();\r\n              this.zoomLine();\r\n              /* 画报警线 */\r\n              this.drawMarkY();\r\n            } else if (coordinateSystem === \"circle\") {\r\n              this.drawCircle();\r\n              this.drawPoints();\r\n            } else if (coordinateSystem === \"circleLine\") {\r\n              this.drawCircleAxios();\r\n              this.drawPointsLine();\r\n            }\r\n          },\r\n          // 计算 x 轴比例\r\n          mappingX: function (type) {\r\n            // type：1 => 初始化；2 => 缩放；\r\n            let scope = this._scope,\r\n              params = this._computeParams;\r\n            if (type === 1) {\r\n              const opt = this._option;\r\n              const optX = opt.x;\r\n              const arr = optX.data;\r\n              const l = arr.length;\r\n              if (opt.series.type === \"bar\") {\r\n                /* 柱状图处理 */\r\n                const bar = scope.r.w / l;\r\n                let barWidth = bar / 2;\r\n                let space = bar / 2;\r\n                if (bar > 80) {\r\n                  bar > 80 && (barWidth = 40);\r\n                  space = bar - barWidth;\r\n                }\r\n                params.extremum.x = {\r\n                  min: barWidth,\r\n                  max: space\r\n                };\r\n                scope.v.x.start = params.extremum.x.min;\r\n                scope.v.x.end = params.extremum.x.max;\r\n                scope.v.x.length = bar;\r\n              } else {\r\n                /* x轴最大值、最小值、范围、转换为坐标系的比例系数 */\r\n                params.extremum.x = {\r\n                  min: Number.MAX_VALUE,\r\n                  max: 0\r\n                };\r\n                let i = 0;\r\n                if (this.getDataType(arr[0]) === \"Array\") {\r\n                  for (; i < l; i++) {\r\n                    const value = arr[i];\r\n                    for (let j = 0, len = value.length; j < len; j++) {\r\n                      const val = value[j];\r\n                      params.extremum.x.max < val && (params.extremum.x.max = val);\r\n                      params.extremum.x.min > val && (params.extremum.x.min = val);\r\n                    }\r\n                  }\r\n                } else {\r\n                  const range = optX.range;\r\n                  if (l === 1) {\r\n                    params.extremum.x.max = range.max;\r\n                    params.extremum.x.min = range.min;\r\n                    if (opt.x.type === \"time\") {\r\n                      params.extremum.x.min = arr[0] - 60 * 60 * 24;\r\n                      params.extremum.x.max = arr[0] + 60 * 60 * 24;\r\n                    }\r\n                  } else {\r\n                    for (; i < l; i++) {\r\n                      let val = arr[i];\r\n                      params.extremum.x.max < val && (params.extremum.x.max = val);\r\n                      params.extremum.x.min > val && (params.extremum.x.min = val);\r\n                    }\r\n                  }\r\n                }\r\n                if (params.extremum.x.max === 0) {\r\n                  params.extremum.x.max = 1;\r\n                }\r\n                let divider = params.extremum.x.max - params.extremum.x.min;\r\n                /* 如果所有的点X坐标都是相同的话，那么手动将固定距离为2 */\r\n                if (divider == 0) {\r\n                  params.extremum.x.min = params.extremum.x.min - 1;\r\n                  params.extremum.x.max = params.extremum.x.max + 1;\r\n                  divider = 2;\r\n                }\r\n                let k = scope.r.w / divider;\r\n                let b =\r\n                  (scope.r.r +\r\n                    this._option.grid.left -\r\n                    k * (params.extremum.x.max + params.extremum.x.min)) /\r\n                  2;\r\n                params.proportion.x = {\r\n                  k,\r\n                  b\r\n                };\r\n                scope.v.x.start = params.extremum.x.min;\r\n                scope.v.x.end = params.extremum.x.max;\r\n                scope.v.x.length = divider;\r\n              }\r\n            } else {\r\n              let k = scope.r.w / (scope.v.x.end - scope.v.x.start);\r\n              let b =\r\n                (scope.r.r +\r\n                  this._option.grid.left -\r\n                  k * (scope.v.x.end + scope.v.x.start)) /\r\n                2;\r\n              scope.v.x.length = scope.v.x.end - scope.v.x.start;\r\n              params.proportion.x = {\r\n                k,\r\n                b\r\n              };\r\n            }\r\n          },\r\n          // 计算 y 轴比例\r\n          mappingY: function (type) {\r\n            // type：1 => 初始化；2 => 缩放；\r\n            const wMarkLine = this._option.y.markLine;\r\n            let scope = this._scope,\r\n              params = this._computeParams;\r\n            if (type === 1) {\r\n              let arr = this._option.y.data;\r\n              const l = arr.length;\r\n              if (this._option.x.type === \"category\") {\r\n                params.extremum.y = {\r\n                  min: Number.MAX_VALUE,\r\n                  max: Number.MAX_VALUE * -1\r\n                };\r\n                let val, value;\r\n                for (let i = 0; i < l; i++) {\r\n                  val = arr[i];\r\n                  if (this.getDataType(arr[0]) === \"Array\") {\r\n                    for (let j = 0, len = val.length; j < len; j++) {\r\n                      value = val[j];\r\n                      params.extremum.y.max < value &&\r\n                        (params.extremum.y.max = Number(value));\r\n                      params.extremum.y.min > value &&\r\n                        (params.extremum.y.min = Number(value));\r\n                    }\r\n                  } else if (Number(val) || Number(val) === 0) {\r\n                    params.extremum.y.max < val &&\r\n                      (params.extremum.y.max = Number(val));\r\n                    params.extremum.y.min > val &&\r\n                      (params.extremum.y.min = Number(val));\r\n                  } else continue;\r\n                }\r\n                // 防止统计列表最小值不画柱体的现象\r\n                if (this._option.series.type === \"bar\") {\r\n                  if (params.extremum.y.min == 0) {\r\n                    params.extremum.y.min = params.extremum.y.min - 0.02;\r\n                  } else {\r\n                    params.extremum.y.min =\r\n                      params.extremum.y.min - Math.abs(params.extremum.y.min);\r\n                  }\r\n                }\r\n                // if (this._option.series.type === \"bar\") params.extremum.y.min = 0;\r\n              } else {\r\n                params.extremum.y = {\r\n                  min: 0,\r\n                  max: Number.MAX_VALUE * -1\r\n                };\r\n                for (let i = 0; i < l; i++) {\r\n                  const val = arr[i];\r\n                  if (this.getDataType(arr[0]) === \"Array\") {\r\n                    for (let j = 0, len = val.length; j < len; j++) {\r\n                      const value = val[j];\r\n                      params.extremum.y.max < value &&\r\n                        (params.extremum.y.max = Number(value));\r\n                      params.extremum.y.min > value &&\r\n                        (params.extremum.y.min = Number(value));\r\n                    }\r\n                  } else {\r\n                    params.extremum.y.max < val &&\r\n                      (params.extremum.y.max = Number(val));\r\n                    // 图谱为波形频谱图中的趋势图时，循环取最小值（防止负值为最大值，0为最小值的情况）\r\n                    if (\r\n                      this._option.y.wtype &&\r\n                      this._option.y.wtype == \"wave_trend\"\r\n                    ) {\r\n                      params.extremum.y.min > val &&\r\n                        (params.extremum.y.min = Number(val));\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n              /* 如果最大最小值相同 */\r\n              if (params.extremum.y.max === params.extremum.y.min) {\r\n                params.extremum.y.max += 0.3;\r\n                params.extremum.y.min -= 0.3;\r\n              }\r\n              /* 如果有报警线，需要画出报警线 */\r\n              if (wMarkLine) {\r\n                let min, max;\r\n                wMarkLine.forEach((item, index) => {\r\n                  if (index === 0) {\r\n                    min = item.data;\r\n                    max = item.data;\r\n                  } else {\r\n                    if (min > item.data) {\r\n                      min = item.data;\r\n                    }\r\n                    if (max < item.data) {\r\n                      max = item.data;\r\n                    }\r\n                  }\r\n                });\r\n                /* 如果数据在最大最小值 之外，则报警门限为最大最小值 */\r\n                if (min < params.extremum.y.min) {\r\n                  params.extremum.y.min = min;\r\n                }\r\n                if (max > params.extremum.y.max) {\r\n                  params.extremum.y.max = max;\r\n                }\r\n              }\r\n              const mutiple = (params.extremum.y.max - params.extremum.y.min) / 10;\r\n              scope.v.y.start = params.extremum.y.min;\r\n              scope.v.y.end = this.round(params.extremum.y.max + mutiple, 7);\r\n              let k = scope.r.h / (scope.v.y.start - scope.v.y.end);\r\n              scope.v.y.start === scope.v.y.end && (k = 0);\r\n              let b = scope.r.b - scope.v.y.start * k;\r\n              params.proportion.y = {\r\n                k,\r\n                b\r\n              };\r\n            } else {\r\n              let k, b;\r\n              let n =\r\n                scope.v.y.start === scope.v.y.end\r\n                  ? -1\r\n                  : scope.v.y.start - scope.v.y.end;\r\n              k = scope.r.h / n;\r\n              b = scope.r.b - scope.v.y.start * k;\r\n              params.proportion.y = {\r\n                k,\r\n                b\r\n              };\r\n            }\r\n            scope.v.y.length = scope.v.y.end - scope.v.y.start;\r\n          },\r\n          // 画坐标系\r\n          drawAxis: function () {\r\n            let backCtx = this._drawTools.ctx.background;\r\n            const opt = this._option;\r\n            const scope = this._scope;\r\n            let stationInfo = opt.y.stationInfo;\r\n            backCtx.clearRect(0, 0, this._dom.width, this._dom.height);\r\n            //  画 y 轴\r\n            let nameX = \"\";\r\n            const nameXArr = [];\r\n            let nameY = \"\";\r\n            const nameYArr = [];\r\n            if (this.getDataType(opt.x.name) === \"Array\") {\r\n              for (let name of opt.x.name) {\r\n                if (!nameXArr.includes(name)) {\r\n                  nameX += `${name}/`;\r\n                  nameXArr.push(name);\r\n                }\r\n              }\r\n              nameX = nameX.slice(0, -1);\r\n            } else {\r\n              nameX = opt.x.name;\r\n            }\r\n            if (this.getDataType(opt.y.name) === \"Array\") {\r\n              for (let name of opt.y.name) {\r\n                if (!nameYArr.includes(name)) {\r\n                  nameY += `${name}/`;\r\n                  nameYArr.push(name);\r\n                }\r\n              }\r\n              nameY = nameY.slice(0, -1);\r\n            } else {\r\n              nameY = opt.y.name;\r\n            }\r\n            backCtx.beginPath();\r\n            backCtx.save();\r\n            backCtx.lineWidth = opt.y.lineStyle.width;\r\n            backCtx.strokeStyle = opt.y.lineStyle.color;\r\n            backCtx.moveTo(opt.grid.left + 0.5, this._scope.r.b + 0.5); // 原点\r\n            backCtx.lineTo(opt.grid.left + 0.5, opt.grid.top); // y 轴\r\n            backCtx.stroke();\r\n            backCtx.restore();\r\n            backCtx.font =\r\n              opt.y.nameStyle.weight +\r\n              \" \" +\r\n              opt.y.nameStyle.size +\r\n              \" \" +\r\n              opt.y.nameStyle.family;\r\n            backCtx.textBaseline = \"bottom\";\r\n            backCtx.textAlign = opt.y.nameStyle.align;\r\n            backCtx.fillStyle = opt.y.nameStyle.color;\r\n            if (opt.y.name2 && opt.y.name2 != \"\") {\r\n              if (opt.series.type !== \"bar\") {\r\n                backCtx.fillText(nameY, opt.grid.left, opt.grid.top - 20);\r\n                backCtx.fillText(opt.y.name2, opt.grid.left, opt.grid.top - 5);\r\n              } else {\r\n                const offset = backCtx.measureText(nameY);\r\n                backCtx.fillText(nameY, opt.grid.left, opt.grid.top - 5);\r\n                backCtx.textAlign = \"left\";\r\n                backCtx.fillText(\r\n                  opt.y.name2,\r\n                  opt.grid.left + offset.width,\r\n                  opt.grid.top - 5\r\n                );\r\n              }\r\n            } else {\r\n              backCtx.fillText(nameY, opt.grid.left, opt.grid.top - 5);\r\n            }\r\n            //  画 x 轴\r\n            backCtx.beginPath();\r\n            backCtx.lineWidth = opt.x.lineStyle.width;\r\n            backCtx.strokeStyle = opt.x.lineStyle.color;\r\n            backCtx.moveTo(opt.grid.left + 0.5, this._scope.r.b + 0.5); // 原点\r\n            backCtx.lineTo(this._scope.r.r + 0.5, this._scope.r.b + 0.5); // x 轴\r\n            backCtx.font =\r\n              opt.x.nameStyle.weight +\r\n              \" \" +\r\n              opt.x.nameStyle.size +\r\n              \" \" +\r\n              opt.x.nameStyle.family;\r\n            backCtx.textBaseline = \"middle\";\r\n            backCtx.textAlign = \"right\";\r\n            backCtx.fillStyle = opt.x.nameStyle.color;\r\n            backCtx.fillText(\r\n              nameX,\r\n              this._scope.r.r,\r\n              this._scope.r.b + Number(opt.x.nameStyle.bottom)\r\n            );\r\n            backCtx.fillText(\r\n              opt.x.name2,\r\n              this._scope.r.r,\r\n              this._scope.r.b + Number(opt.x.nameStyle.bottom2)\r\n            );\r\n            backCtx.stroke();\r\n            backCtx.restore();\r\n            //  图谱标题\r\n            if (opt.title.show && opt.title.name !== \"\") {\r\n              backCtx.beginPath();\r\n              backCtx.font =\r\n                opt.title.fontStyle.weight +\r\n                \" \" +\r\n                opt.title.fontStyle.size +\r\n                \" \" +\r\n                opt.title.fontStyle.family;\r\n              backCtx.textAlign = opt.title.fontStyle.align;\r\n              backCtx.fillStyle = opt.title.fontStyle.color;\r\n              backCtx.textBaseline = \"top\";\r\n              let x;\r\n              switch (opt.title.fontStyle.align) {\r\n                case \"left\":\r\n                  x = 0;\r\n                  break;\r\n                case \"center\":\r\n                  x = this._dom.width / 2;\r\n                  break;\r\n                case \"right\":\r\n                  x = this._dom.width;\r\n                  break;\r\n              }\r\n              backCtx.fillText(opt.title.name, x, 5);\r\n            }\r\n            if (opt.x.data === undefined || opt.y.data.length === 0) {\r\n              return;\r\n            }\r\n            backCtx.beginPath();\r\n            backCtx.lineWidth = opt.x.lineStyle.width;\r\n            backCtx.strokeStyle = opt.x.lineStyle.color;\r\n            backCtx.textAlign = \"center\";\r\n            backCtx.textBaseline = \"middle\";\r\n            backCtx.save();\r\n            let position = {\r\n              x: {},\r\n              y: {}\r\n            };\r\n            let fontLen = {\r\n              x: 0,\r\n              y: 0\r\n            };\r\n            //  计算 x 轴刻度\r\n            if (opt.series.type !== \"bar\") {\r\n              position.x.iSegNum = Math.round(this._scope.r.w / 25);\r\n              position.x.minSeg = this._scope.v.x.length / position.x.iSegNum;\r\n              position.x.mi = Math.round(Math.log(position.x.minSeg) * Math.LOG10E);\r\n              position.x.nScale = Math.pow(10, position.x.mi);\r\n              position.x.seg = position.x.nScale / 5;\r\n              position.x.seg < position.x.minSeg &&\r\n                (position.x.seg = position.x.nScale / 2);\r\n              position.x.seg < position.x.minSeg &&\r\n                (position.x.seg = position.x.nScale);\r\n              position.x.seg < position.x.minSeg &&\r\n                (position.x.seg = position.x.nScale * 2);\r\n              position.x.seg < position.x.minSeg &&\r\n                (position.x.seg = position.x.nScale * 5);\r\n              position.x.seg < position.x.minSeg &&\r\n                (position.x.seg = position.x.nScale * 10);\r\n              position.x.seg = parseFloat(position.x.seg.toPrecision(7).toString());\r\n              //  画 x 轴刻度\r\n              backCtx.font = opt.x.fontStyle.size + \" \" + opt.x.fontStyle.family;\r\n              backCtx.fillStyle = opt.x.fontStyle.color;\r\n              let timeLen = this._scope.v.x.end - this._scope.v.x.start;\r\n              let start = opt.x.type === \"time\" ? this._scope.v.x.start : 0;\r\n              for (\r\n                let i = start, j = 0, l = this._scope.v.x.end - position.x.seg;\r\n                i < l;\r\n                i += position.x.seg, j++\r\n              ) {\r\n                let x =\r\n                  i * this._computeParams.proportion.x.k +\r\n                  this._computeParams.proportion.x.b;\r\n                if (x >= opt.grid.left && x <= this._scope.r.r - 30) {\r\n                  // 不要挡住单位\r\n                  if (opt.x.type === \"category\" && j % 2 === 0) {\r\n                    let font = parseFloat(i.toPrecision(6)).toString();\r\n                    if (font.indexOf(\".\") !== -1) {\r\n                      let fl = font.slice(font.indexOf(\".\"));\r\n                      fontLen.x <= fl.length\r\n                        ? (fontLen.x = fl.length)\r\n                        : (font = font + \"0\");\r\n                    } else {\r\n                      if (fontLen.x > 0) {\r\n                        let zero = \".\";\r\n                        for (let k = 1; k < fontLen.x; k++) {\r\n                          zero += \"0\";\r\n                        }\r\n                        font = font + zero;\r\n                      } else if (position.x.seg < 0.5) {\r\n                        font += \".0\";\r\n                      }\r\n                    }\r\n                    backCtx.fillText(font, x, this._scope.r.b + 15);\r\n                    backCtx.moveTo(x + 0.5, this._scope.r.b);\r\n                    backCtx.lineTo(x + 0.5, this._scope.r.b + 5);\r\n                  } else if (opt.x.type === \"time\" && j % 5 === 0) {\r\n                    let font =\r\n                      timeLen > 86400000\r\n                        ? this.formatDateStr(i, 1)\r\n                        : this.formatDateStr(i, 3);\r\n                    backCtx.fillText(font, x, this._scope.r.b + 15);\r\n                    backCtx.moveTo(x + 0.5, this._scope.r.b);\r\n                    backCtx.lineTo(x + 0.5, this._scope.r.b + 5);\r\n                  }\r\n                }\r\n              }\r\n              /* 画站点信息 */\r\n              if (stationInfo) {\r\n                stationInfo.forEach(item => {\r\n                  if (\r\n                    item.distance < start ||\r\n                    item.distance > this._scope.v.x.end - position.x.seg\r\n                  )\r\n                    return;\r\n                  /* item.符合 的站点 */\r\n                  let distance = item.distance;\r\n                  let font = item.station_name;\r\n                  let x =\r\n                    distance * this._computeParams.proportion.x.k +\r\n                    this._computeParams.proportion.x.b;\r\n                  backCtx.fillText(font, x, this._scope.r.b + 40);\r\n                });\r\n              }\r\n              backCtx.stroke();\r\n              backCtx.restore();\r\n            } else {\r\n              if (opt.x.xshow === false) {\r\n                // 画 x 轴刻度\r\n                backCtx.beginPath();\r\n                backCtx.font = opt.x.fontStyle.size + \" \" + opt.x.fontStyle.family;\r\n                backCtx.fillStyle = opt.x.fontStyle.color;\r\n                backCtx.textAlign = \"center\";\r\n                backCtx.textBaseline = \"top\";\r\n                for (let i = 0, l = opt.x.data.length; i < l; i++) {\r\n                  const value = opt.x.data[i];\r\n                  // x轴分数据量赋值柱状图与序号会存在错位的现象\r\n                  let x = scope.v.x.length * i + opt.grid.left + 20;\r\n                  if (opt.x.data.length > 10) {\r\n                    x = scope.v.x.length * i + opt.grid.left + scope.v.x.length / 4;\r\n                  }\r\n  \r\n                  // for (let j = 0, len = value.length; j < len; j++) {\r\n                  //   let text = value[j];\r\n                  //   if (text.length > 6) {\r\n                  //     text = `${text.slice(0, 7)}...`;\r\n                  //   }\r\n                  let a = i + 1;\r\n                  backCtx.fillText(a, x, scope.r.b + 18 + 1.5);\r\n                  // }\r\n                }\r\n              } else {\r\n                // 画 x 轴刻度\r\n                backCtx.beginPath();\r\n                backCtx.font = opt.x.fontStyle.size + \" \" + opt.x.fontStyle.family;\r\n                backCtx.fillStyle = opt.x.fontStyle.color;\r\n                backCtx.textAlign = \"center\";\r\n                backCtx.textBaseline = \"top\";\r\n                for (let i = 0, l = opt.x.data.length; i < l; i++) {\r\n                  const value = opt.x.data[i];\r\n                  const x = scope.v.x.length * i + opt.grid.left + 20;\r\n                  for (let j = 0, len = value.length; j < len; j++) {\r\n                    let text = value[j];\r\n                    if (text.length > 6) {\r\n                      text = `${text.slice(0, 7)}...`;\r\n                    }\r\n                    backCtx.fillText(text, x, scope.r.b + 18 * j + 1.5);\r\n                  }\r\n                }\r\n              }\r\n            }\r\n            //  计算 y 轴刻度\r\n            /* 20等分，每份的长度 */\r\n            position.y.iSegNum = Math.round(this._scope.r.h / 20);\r\n            /* 最大最小值距离 */\r\n            position.y.minSeg = this._scope.v.y.length / position.y.iSegNum;\r\n            position.y.mi = Math.round(Math.log(position.y.minSeg) * Math.LOG10E);\r\n            position.nScaleY = Math.pow(10, position.y.mi);\r\n            // 刻度\r\n            position.y.seg = position.nScaleY / 5;\r\n            position.y.seg < position.y.minSeg &&\r\n              (position.y.seg = position.nScaleY / 2);\r\n            position.y.seg < position.y.minSeg &&\r\n              (position.y.seg = position.nScaleY);\r\n            position.y.seg < position.y.minSeg &&\r\n              (position.y.seg = position.nScaleY * 2);\r\n            position.y.seg < position.y.minSeg &&\r\n              (position.y.seg = position.nScaleY * 5);\r\n            position.y.seg < position.y.minSeg &&\r\n              (position.y.seg = position.nScaleY * 10);\r\n            /* 7位长度 */\r\n            position.y.seg = parseFloat(position.y.seg.toPrecision(7).toString());\r\n            //  画 y 轴刻度\r\n            backCtx.font = opt.y.fontStyle.size + \" \" + opt.y.fontStyle.family;\r\n            backCtx.textAlign = \"right\";\r\n            backCtx.fillStyle = opt.y.fontStyle.color;\r\n            let interval =\r\n              (this._scope.v.y.end - this._scope.v.y.start) / position.y.seg > 7\r\n                ? 2\r\n                : 1;\r\n            position.y.seg <= 0.00001 && (position.y.seg = 0.00001);\r\n            let font = \"\";\r\n            for (\r\n              let i = this._scope.v.y.end, j = 0;\r\n              i >= this._scope.v.y.start;\r\n              j++\r\n            ) {\r\n              let y = this.round(\r\n                i * this._computeParams.proportion.y.k +\r\n                this._computeParams.proportion.y.b\r\n              );\r\n              if (\r\n                y <= this._scope.r.b &&\r\n                y >= opt.grid.top &&\r\n                j % interval === 0 &&\r\n                j !== 0 &&\r\n                i !== font\r\n              ) {\r\n                font = this.round(i);\r\n                /* if (font.indexOf('.') !== -1) {\r\n                  let fl = font.slice(font.indexOf('.'))\r\n                  fontLen.y <= fl.length ?\r\n                    fontLen.y = font.slice(font.indexOf('.')).length :\r\n                    font = font + '0'\r\n                } else {\r\n                  if (fontLen.y > 0) {\r\n                    let zero = '.'\r\n                    for (let k = 1; k < fontLen.y; k++) {\r\n                      zero += '0'\r\n                    }\r\n                    font = font + zero\r\n                  }\r\n                } */\r\n                /* font > 0 ?\r\n                  backCtx.fillText(font, opt.grid.left - 10, y + 0.5) : */\r\n                backCtx.fillText(font, opt.grid.left - 10, y + 0.5);\r\n                backCtx.moveTo(opt.grid.left, y + 0.5);\r\n                backCtx.lineTo(opt.grid.left - 5, y + 0.5);\r\n              }\r\n              i = this.round(i - position.y.seg, 7);\r\n            }\r\n            /* for (let i = 0, j = 0; i <= this._scope.v.y.end; i += position.y.seg, j++) {\r\n              let y = i * this._computeParams.proportion.y.k + this._computeParams.proportion.y.b;\r\n              let font = parseFloat(i.toPrecision(7)).toString();\r\n              if (y <= this._scope.r.b && y >= opt.grid.top && j % interval === 0) {\r\n                if (font.indexOf('.') !== -1) {\r\n                  let fl = font.slice(font.indexOf('.'))\r\n                  fontLen.y <= fl.length ?\r\n                    fontLen.y = font.slice(font.indexOf('.')).length :\r\n                    font = font + '0'\r\n                } else {\r\n                  if (fontLen.y > 0) {\r\n                    let zero = '.'\r\n                    for (let k = 1; k < fontLen.y; k++) {\r\n                      zero += '0'\r\n                    }\r\n                    font = font + zero\r\n                  }\r\n                }\r\n                font > 0 ?\r\n                  backCtx.fillText(font, opt.grid.left - 10, y + 0.5) :\r\n                  font < 0 ?\r\n                  backCtx.fillText(font, opt.grid.left - 10, y + 0.5) :\r\n                  backCtx.fillText(0, opt.grid.left - 10, y + 0.5)\r\n                backCtx.moveTo(opt.grid.left, y + 0.5)\r\n                backCtx.lineTo(opt.grid.left - 5, y + 0.5)\r\n              }\r\n            } */\r\n            backCtx.stroke();\r\n            backCtx.beginPath();\r\n            backCtx.strokeStyle = opt.y.splitLineStyle.color;\r\n            backCtx.lineWidth = opt.y.splitLineStyle.width;\r\n            // 刻度标线 （y轴）\r\n            for (\r\n              let i = this._scope.v.y.end, j = 0;\r\n              i >= this._scope.v.y.start;\r\n              i -= position.y.seg, j++\r\n            ) {\r\n              let y = this.round(\r\n                i * this._computeParams.proportion.y.k +\r\n                this._computeParams.proportion.y.b\r\n              );\r\n              const fonts = Math.round(i * 1000000) / 1000000;\r\n              if (\r\n                y <= this._scope.r.b &&\r\n                y >= opt.grid.top &&\r\n                j % interval === 0 &&\r\n                j !== 0 &&\r\n                fonts !== font\r\n              ) {\r\n                font = fonts;\r\n                backCtx.moveTo(opt.grid.left, y + 0.5);\r\n                backCtx.lineTo(this._scope.r.r, y + 0.5);\r\n              }\r\n            }\r\n            /* for (let i = 0, j = 0; i <= this._scope.v.y.end; i += position.y.seg, j++) {\r\n              let y = i * this._computeParams.proportion.y.k + this._computeParams.proportion.y.b;\r\n              if (y <= this._scope.r.b && y >= opt.grid.top && j % interval === 0) {\r\n                backCtx.moveTo(opt.grid.left, y + 0.5)\r\n                backCtx.lineTo(this._scope.r.r, y + 0.5)\r\n              }\r\n            } */\r\n            backCtx.stroke();\r\n          },\r\n          // 点击画线\r\n          drawLine: function (res) {\r\n            let params = this._computeParams.proportion,\r\n              opt = this._option,\r\n              clickCtx = this._drawTools.ctx.click,\r\n              xOVal = params.x.k * res.val + params.x.b;\r\n            const scopeR = this._scope.r;\r\n            let line = {\r\n              x: {\r\n                oldVal: res.key == 0 ? xOVal + 0.5 : xOVal,\r\n                newVal: xOVal\r\n              },\r\n              y: {\r\n                oldVal: opt.grid.top,\r\n                newVal: scopeR.b\r\n              }\r\n            };\r\n            let circle = {\r\n              x: xOVal,\r\n              y: []\r\n            },\r\n              yVal = [];\r\n            clickCtx.clearRect(0, 0, this._dom.width, this._dom.height);\r\n            if (res.idx !== undefined) {\r\n              const posName = opt.series.posName;\r\n              const str = [];\r\n              let minX = Number.MAX_VALUE;\r\n              let minY = Number.MAX_VALUE;\r\n              let maxX = Number.MAX_VALUE * -1;\r\n              let maxY = Number.MAX_VALUE * -1;\r\n              const unit = opt.y.name;\r\n              for (let i = 0, l = opt.y.data.length; i < l; i++) {\r\n                const valueX = opt.x.data[i];\r\n                const valueY = opt.y.data[i];\r\n                let valueSpeed;\r\n                if (opt.y.speed && opt.y.speed[i]) {\r\n                  valueSpeed = opt.y.speed[i];\r\n                }\r\n                // const valueSpeed = opt.y.speed[i];\r\n                for (let j = 0, len = valueY.length; j < len; j++) {\r\n                  const valX = valueX[j];\r\n                  const valY = valueY[j];\r\n                  if (j === res.key && valX === res.val) {\r\n                    if (valY < minY) {\r\n                      minY = valY;\r\n                      minX = valX;\r\n                    }\r\n                    if (valY > maxY) {\r\n                      maxY = valY;\r\n                      maxX = valX;\r\n                    }\r\n                    const vY = this.round(valY, 4);\r\n                    circle.y.push(valY * params.y.k + params.y.b);\r\n                    if (valueSpeed && valueSpeed[j] !== undefined) {\r\n                      str.push(\r\n                        `${posName[i]}：${vY}${unit[i]}/${localStorage.getItem('language') == 'en' ? 'Speed' : '转速'}：${valueSpeed[j] == null || valueSpeed[j] == undefined || valueSpeed[j] >= 100000000 ? (localStorage.getItem('language') == 'en' ? 'No Data' : '无数据') : valueSpeed[j] + 'rpm'}`\r\n                      );\r\n                    } else {\r\n                      str.push(`${posName[i]}：${vY}${unit[i]}`);\r\n                    }\r\n                    // if (valueSpeed && valueSpeed[j] !== undefined) {\r\n                    //   str.push(`转速：${valueSpeed[j]}rpm`);\r\n                    // }\r\n                    // yVal.push(typeof valY === 'number' ? Number(valY.toFixed(4)).toString() : valY);\r\n                    break;\r\n                  }\r\n                }\r\n              }\r\n              const l = str.length;\r\n              if (l > 0) {\r\n                const tt = opt.toolTip;\r\n                const size = tt.symbol.size;\r\n                const text = this.round(res.val, 4);\r\n                let w = text.toString().length * 12;\r\n                clickCtx.beginPath();\r\n                clickCtx.strokeStyle = tt.lineStyle.color;\r\n                // 画线\r\n                if (tt.symbol.show) {\r\n                  clickCtx.moveTo(line.x.oldVal, line.y.oldVal);\r\n                  for (let i = 0; i < l; i++) {\r\n                    clickCtx.lineTo(xOVal, circle.y[i] - size);\r\n                    clickCtx.moveTo(opt.grid.left, circle.y[i]);\r\n                    clickCtx.lineTo(xOVal - size, circle.y[i]);\r\n                    clickCtx.moveTo(xOVal + size, circle.y[i]);\r\n                    clickCtx.lineTo(scopeR.r, circle.y[i]);\r\n                    clickCtx.moveTo(xOVal, circle.y[i] + size);\r\n                  }\r\n                  clickCtx.lineTo(xOVal, line.y.newVal);\r\n                  clickCtx.stroke();\r\n                  for (let i = 0; i < l; i++) {\r\n                    clickCtx.beginPath();\r\n                    clickCtx.fillStyle =\r\n                      tt.symbol.color !== \"\" ? tt.symbol.color : tt.lineStyle.color;\r\n                    clickCtx.arc(xOVal, circle.y[i], size, 0, Math.PI * 2);\r\n                    clickCtx.fill();\r\n                  }\r\n                } else {\r\n                  clickCtx.moveTo(line.x.oldVal, line.y.oldVal);\r\n                  clickCtx.lineTo(xOVal, line.y.newVal);\r\n                  for (let i = 0; i < l; i++) {\r\n                    clickCtx.moveTo(opt.grid.left, circle.y[i]);\r\n                    clickCtx.lineTo(scopeR.r, circle.y[i]);\r\n                  }\r\n                  clickCtx.stroke();\r\n                }\r\n                // 横坐标\r\n                let rectX = line.x.oldVal - w / 2;\r\n                let rectY = line.y.newVal + 1;\r\n                let alignX = \"center\";\r\n                if (rectX + w > scopeR.r) {\r\n                  rectX -= w / 2;\r\n                  alignX = \"right\";\r\n                }\r\n                clickCtx.beginPath();\r\n                clickCtx.fillStyle = tt.background.color;\r\n                clickCtx.fillRect(rectX, rectY, w, 20);\r\n                clickCtx.fillStyle = tt.fontStyle.color;\r\n                clickCtx.font =\r\n                  tt.fontStyle.weight +\r\n                  \" \" +\r\n                  tt.fontStyle.size +\r\n                  \" \" +\r\n                  tt.fontStyle.family;\r\n                clickCtx.textBaseline = \"top\";\r\n                clickCtx.textAlign = alignX;\r\n                if (opt.x.type === \"category\") {\r\n                  clickCtx.fillText(text, line.x.oldVal, line.y.newVal + 5);\r\n                } else if (opt.x.type === \"time\") {\r\n                  clickCtx.fillText(\r\n                    this.formatDateStr(res.val, 2),\r\n                    line.x.oldVal,\r\n                    line.y.newVal + 5\r\n                  );\r\n                }\r\n                // 浮窗信息\r\n                w = 0;\r\n                for (let value of str) {\r\n                  const offset = clickCtx.measureText(value).width + 10;\r\n                  offset > w && (w = offset);\r\n                }\r\n                maxX = maxX * params.x.k + params.x.b;\r\n                maxY = maxY * params.y.k + params.y.b;\r\n                minX = minX * params.x.k + params.x.b;\r\n                minY = minY * params.y.k + params.y.b;\r\n                const h = l * 30;\r\n                let x = 0;\r\n                let y = 0;\r\n                const separate = (scopeR.h * 2) / 3 + opt.grid.top;\r\n                if (minY >= separate) {\r\n                  x = maxX + 20;\r\n                  y = maxY - 20 - h;\r\n                } else {\r\n                  x = minX + 20;\r\n                  y = minY + 20;\r\n                }\r\n                if (y < opt.grid.top) {\r\n                  y = opt.grid.top;\r\n                } else if (y + h > scopeR.b) {\r\n                  y -= 40 + h + opt.grid.bottom;\r\n                }\r\n                if (x + w + 100 >= scopeR.r) {\r\n                  x -= w + 40;\r\n                }\r\n                clickCtx.beginPath();\r\n                clickCtx.fillStyle = tt.background.color;\r\n                clickCtx.fillRect(x, y, w, h);\r\n                clickCtx.fillStyle = tt.fontStyle.color;\r\n                clickCtx.textAlign = \"left\";\r\n                clickCtx.textBaseline = \"top\";\r\n                for (let i = 0; i < l; i++) {\r\n                  const ty = i === 0 ? 8 : i * 30 + 8;\r\n                  clickCtx.fillText(str[i], x + 6, y + ty);\r\n                }\r\n              }\r\n            } else {\r\n              yVal =\r\n                typeof opt.y.data[res.key] === \"number\"\r\n                  ? [Number(opt.y.data[res.key].toFixed(4)).toString()]\r\n                  : [opt.y.data[res.key]];\r\n              circle = {\r\n                x: xOVal,\r\n                y: [opt.y.data[res.key] * params.y.k + params.y.b]\r\n              };\r\n              const l = circle.y.length;\r\n              let isDraw = false;\r\n              for (let i = 0; i < l; i++) {\r\n                const value = circle.y[i];\r\n                // +0.1防止散点图的点位于0轴出校值\r\n                if (value >= opt.grid.top && value <= this._scope.r.b + 0.1) {\r\n                  isDraw = true;\r\n                  break;\r\n                }\r\n              }\r\n              if (\r\n                line.x.oldVal >= opt.grid.left &&\r\n                line.x.oldVal <= this._scope.r.r &&\r\n                isDraw\r\n              ) {\r\n                // 画线\r\n                if (opt.toolTip.symbol.show) {\r\n                  const l = circle.y.length;\r\n                  let size = opt.toolTip.symbol.size;\r\n                  clickCtx.beginPath();\r\n                  clickCtx.lineWidth = 1;\r\n                  clickCtx.strokeStyle = opt.toolTip.lineStyle.color;\r\n                  // 竖线\r\n                  clickCtx.moveTo(line.x.oldVal, line.y.oldVal);\r\n                  for (let i = 0; i < l; i++) {\r\n                    clickCtx.lineTo(line.x.newVal, circle.y[i] - size);\r\n                    clickCtx.moveTo(line.x.newVal, circle.y[i] + size);\r\n                  }\r\n                  clickCtx.lineTo(line.x.newVal, line.y.newVal);\r\n                  // 横线\r\n                  for (let i = 0; i < l; i++) {\r\n                    clickCtx.moveTo(opt.grid.left, circle.y[i]);\r\n                    clickCtx.lineTo(circle.x - size, circle.y[i]);\r\n                    clickCtx.moveTo(circle.x + size, circle.y[i]);\r\n                    clickCtx.lineTo(this._scope.r.r, circle.y[i]);\r\n                  }\r\n                  clickCtx.stroke();\r\n                  // symbol\r\n                  for (let i = 0; i < l; i++) {\r\n                    clickCtx.beginPath();\r\n                    clickCtx.arc(circle.x, circle.y[i], size, 0, 2 * Math.PI);\r\n                    clickCtx.fillStyle =\r\n                      opt.toolTip.symbol.color !== \"\"\r\n                        ? opt.toolTip.symbol.color\r\n                        : opt.toolTip.lineStyle.color;\r\n                    clickCtx.fill();\r\n                    clickCtx.moveTo(line.x.oldVal, circle.y[i] + size);\r\n                    clickCtx.lineTo(line.x.newVal, line.y.newVal);\r\n                  }\r\n                  clickCtx.stroke();\r\n                } else {\r\n                  clickCtx.beginPath();\r\n                  clickCtx.lineWidth = 1;\r\n                  clickCtx.strokeStyle = opt.toolTip.lineStyle.color;\r\n                  clickCtx.moveTo(line.x.oldVal, line.y.oldVal);\r\n                  clickCtx.lineTo(line.x.newVal, line.y.newVal);\r\n                  clickCtx.moveTo(opt.grid.left, circle.y);\r\n                  clickCtx.lineTo(this._scope.r.r, circle.y);\r\n                  clickCtx.stroke();\r\n                }\r\n                // 画坐标值\r\n                let l = yVal.length;\r\n                let num = 0;\r\n                for (let i = 0; i < l; i++) {\r\n                  yVal[i].length > num && (num = yVal[i].length);\r\n                }\r\n                let width = num === 1 ? 14 : num >= 5 ? num * 10 - 10 : num * 10;\r\n                clickCtx.beginPath();\r\n                clickCtx.fillStyle = opt.toolTip.background.color;\r\n                for (let i = 0; i < circle.y.length; i++) {\r\n                  clickCtx.fillRect(\r\n                    opt.grid.left - width - 1,\r\n                    circle.y[i] - 10,\r\n                    width,\r\n                    20\r\n                  );\r\n                }\r\n                clickCtx.font =\r\n                  opt.toolTip.fontStyle.weight +\r\n                  \" \" +\r\n                  opt.toolTip.fontStyle.size +\r\n                  \" \" +\r\n                  opt.toolTip.fontStyle.family;\r\n                const text = this.round(res.val, 4);\r\n                let w = text.toString().length * 12;\r\n                if (opt.x.type === \"category\") {\r\n                  let rectX = line.x.oldVal - w / 2;\r\n                  let rectY = line.y.newVal + 1;\r\n                  let alignX = \"center\";\r\n                  if (rectX + w > scopeR.r) {\r\n                    rectX -= w / 2;\r\n                    alignX = \"right\";\r\n                  }\r\n                  clickCtx.fillStyle = opt.toolTip.background.color;\r\n                  clickCtx.fillRect(rectX, rectY, w, 20);\r\n                  clickCtx.fillStyle = opt.toolTip.fontStyle.color;\r\n                  clickCtx.textBaseline = \"top\";\r\n                  clickCtx.textAlign = alignX;\r\n                  clickCtx.fillText(text, line.x.oldVal, line.y.newVal + 5);\r\n                  clickCtx.textBaseline = \"middle\";\r\n                  clickCtx.textAlign = \"right\";\r\n                  for (let i = 0; i < yVal.length; i++) {\r\n                    clickCtx.fillText(\r\n                      this.round(yVal[i], 4),\r\n                      opt.grid.left - 5,\r\n                      circle.y[i]\r\n                    );\r\n                  }\r\n                } else if (opt.x.type === \"time\") {\r\n                  let rectX = line.x.oldVal - w / 2;\r\n                  let rectY = line.y.newVal + 1;\r\n                  let alignX = \"center\";\r\n                  if (rectX + w > scopeR.r) {\r\n                    rectX -= w / 2;\r\n                    alignX = \"right\";\r\n                  }\r\n                  clickCtx.fillStyle = opt.toolTip.background.color;\r\n                  clickCtx.fillRect(rectX, rectY, w, 20);\r\n                  clickCtx.fillStyle = opt.toolTip.fontStyle.color;\r\n                  clickCtx.textBaseline = \"middle\";\r\n                  clickCtx.textAlign = \"right\";\r\n  \r\n                  for (let i = 0; i < yVal.length; i++) {\r\n                    clickCtx.fillText(\r\n                      this.round(yVal[i], 4),\r\n                      opt.grid.left - 5,\r\n                      circle.y[i]\r\n                    );\r\n                  }\r\n                  let valueSpeed\r\n                  if (opt.y.speed && typeof opt.y.speed[res.key] != undefined) {\r\n                    valueSpeed = Number(opt.y.speed[res.key]).toFixed(2)\r\n                  }\r\n                  // 绘制转速\r\n                  if (valueSpeed && typeof valueSpeed !== 'undefined') {\r\n                    if (valueSpeed >= 10 ** 8) {\r\n                      valueSpeed = localStorage.getItem('language') == 'en' ? 'No Data' : '无数据'\r\n                    } else {\r\n                      valueSpeed = this.round(valueSpeed, 4) + 'rpm'\r\n                    }\r\n                    let speedCtx = this._drawTools.ctx.speed\r\n                    speedCtx.clearRect(95, 20, 150, 30)\r\n                    speedCtx.beginPath();\r\n                    speedCtx.font = '14px Arial';\r\n                    speedCtx.fillStyle = '#b96600';\r\n                    speedCtx.textBaseline = \"top\";\r\n                    speedCtx.fillText(valueSpeed, 100, 24);\r\n                  }\r\n  \r\n                  clickCtx.textBaseline = \"top\";\r\n                  clickCtx.textAlign = alignX;\r\n                  clickCtx.fillText(\r\n                    this.formatDateStr(res.val, 2),\r\n                    line.x.oldVal,\r\n                    line.y.newVal + 5\r\n                  );\r\n                }\r\n              }\r\n            }\r\n          },\r\n          /* 趋势图多个图谱之间的连接，给下标志，画坐标线 */\r\n          drawLineByX: function (xVal) {\r\n            let obj = {\r\n              val: 0, // 当前 x 轴坐标\r\n              key: 0, // 当前位置下标\r\n              idx: 0 // 鼠标位置距离最近点距离\r\n            };\r\n            const Xarray = this._option.x.data[0];\r\n            for (let i = 0; i < Xarray.length; i++) {\r\n              if (Xarray[i] === xVal) {\r\n                obj.val = xVal;\r\n                obj.key = i;\r\n                this.drawLine(obj);\r\n                break;\r\n              }\r\n            }\r\n          },\r\n          // 画波形图\r\n          drawWave: function () {\r\n            let params = this._computeParams.proportion;\r\n            const dataCtx = this._drawTools.ctx.data;\r\n            const opt = this._option;\r\n            const xArr = opt.x.data || [];\r\n            const xBArr = opt.x.dataSymbol || []; //有波形的点\r\n            const yArr = opt.y.data || [];\r\n            const series = opt.series;\r\n            const color = series.lineStyle.color;\r\n            let yk = params.y.k;\r\n            let yb = params.y.b;\r\n            dataCtx.clearRect(0, 0, this._dom.width, this._dom.height);\r\n            if (series.type === \"bar\") {\r\n              const scope = this._scope;\r\n              const vx = scope.v.x;\r\n              dataCtx.beginPath();\r\n              dataCtx.lineWidth = series.lineStyle.width;\r\n              dataCtx.fillStyle =\r\n                this.getDataType(color) === \"Array\" ? color[i] : color;\r\n              for (let i = 0, l = yArr.length; i < l; i++) {\r\n                const y = yArr[i] * yk + yb;\r\n                const x = scope.v.x.length * i + opt.grid.left;\r\n                dataCtx.fillRect(x, y, vx.start, scope.r.b - y);\r\n              }\r\n              return;\r\n            }\r\n            let xk = params.x.k;\r\n            let xb = params.x.b;\r\n            const scopeV = this._scope.v;\r\n            let real = this._scope.r;\r\n            let x, y;\r\n            let left = scopeV.x.start;\r\n            let right = scopeV.x.end;\r\n            let top = scopeV.y.end;\r\n            let bottom = scopeV.y.start;\r\n            let dx = 1\r\n            if (series.type === \"line\") {\r\n              if (this.getDataType(xArr[0]) === \"Array\") {\r\n                for (let i = xArr.length; i--;) {\r\n                  const val = xArr[i];\r\n                  dataCtx.beginPath();\r\n                  dataCtx.lineWidth = series.lineStyle.width;\r\n                  dataCtx.strokeStyle =\r\n                    this.getDataType(color) === \"Array\" ? color[i] : color;\r\n                  for (let j = val.length; j--;) {\r\n                    if (j === 0) break;\r\n                    const value = val[j];\r\n                    let xn = val[j - 1],\r\n                      yo = yArr[i][j],\r\n                      yn = yArr[i][j - 1];\r\n                    if (\r\n                      xn >= left &&\r\n                      value <= right &&\r\n                      xn <= right &&\r\n                      value >= left &&\r\n                      yn <= top &&\r\n                      yn >= bottom &&\r\n                      yo >= bottom &&\r\n                      yo <= top\r\n                    ) {\r\n                      x = {\r\n                        oVal: xk * value + xb,\r\n                        nVal: xk * xn + xb\r\n                      };\r\n                      y = {\r\n                        oVal: yo * yk + yb,\r\n                        nVal: yn * yk + yb\r\n                      };\r\n                      dataCtx.moveTo(x.oVal, y.oVal);\r\n                      dataCtx.lineTo(x.nVal, y.nVal);\r\n                    }\r\n                  }\r\n                  dataCtx.stroke();\r\n                }\r\n                if (series.symbol.show) {\r\n                  for (let i = 0, l = xArr.length; i < l; i++) {\r\n                    const value = xArr[i];\r\n                    for (let j = 0, len = value.length; j < len; j++) {\r\n                      y = yArr[i][j];\r\n                      let val = value[j];\r\n                      /* 后加的判断，如果有则进入，来画趋势图有波形的点 */\r\n                      if (opt.x.dataSymbol !== undefined) {\r\n                        let XB = opt.x.dataSymbol[i];\r\n                        /* 如果有波形，才会画点 */\r\n                        if (XB.includes(val)) {\r\n                          if (\r\n                            val >= left &&\r\n                            val <= right &&\r\n                            y <= top &&\r\n                            y >= bottom\r\n                          ) {\r\n                            val = val * xk + xb;\r\n                            y = y * yk + yb;\r\n                            dataCtx.beginPath();\r\n                            dataCtx.strokeStyle = series.lineStyle.color[i];\r\n                            dataCtx.fillStyle =\r\n                              series.symbol.color === \"\"\r\n                                ? \"#fff\"\r\n                                : series.symbol.color;\r\n                            dataCtx.arc(val, y, 3, 0, 2 * Math.PI);\r\n                            dataCtx.stroke();\r\n                            dataCtx.fill();\r\n                          }\r\n                        }\r\n                      } else {\r\n                        if (\r\n                          val >= left &&\r\n                          val <= right &&\r\n                          y <= top &&\r\n                          y >= bottom\r\n                        ) {\r\n                          val = val * xk + xb;\r\n                          y = y * yk + yb;\r\n                          dataCtx.beginPath();\r\n                          dataCtx.strokeStyle = series.lineStyle.color[i];\r\n                          dataCtx.fillStyle =\r\n                            series.symbol.color === \"\"\r\n                              ? \"#fff\"\r\n                              : series.symbol.color;\r\n                          dataCtx.arc(val, y, 3, 0, 2 * Math.PI);\r\n                          dataCtx.stroke();\r\n                          dataCtx.fill();\r\n                        }\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n              } else if (Number(xArr[0]) || Number(xArr[0]) === 0) {\r\n                // \r\n                dataCtx.beginPath();\r\n                dataCtx.lineWidth = series.lineStyle.width;\r\n                dataCtx.strokeStyle = series.lineStyle.color;\r\n                // 大于两万个点时且是波形图或者频谱图，再进行数据少画\r\n                if (opt.type && opt.type.chartType && (opt.type.chartType == 'wave' || opt.type.chartType == 'spectrum') && xArr.length > 20000) {\r\n                  var tmp_r = (xk * xArr[1] + xb) - (xk * xArr[0] + xb) /* 第一个点与第二个点的像素差 */\r\n                  if (tmp_r < 1) {\r\n                    if (tmp_r <= Number.MIN_VALUE)\r\n                      return;\r\n                    dx = Math.ceil(1 / tmp_r);//两个点的距离像素的倒数(向上取整)\r\n                    // 当缩到足够小时，坐标转换会出现精度问题，导致dx过大\r\n                    // 当dx大到一定程度，将使得下面的循环变量i不能递增，从而死机\r\n                    // dx 超出波形点的长度是无意义的，因此作如下限制\r\n                    if (dx > xArr.length)\r\n                      dx = xArr.length;\r\n                  }\r\n                  const l = xArr.length;\r\n                  if (l > 1) {\r\n                    for (let i = l; i > 0; i = i - dx) {\r\n                      const val = xArr[i];\r\n                      var max_y = -Number.MAX_VALUE;\r\n                      var min_y = Number.MAX_VALUE;\r\n                      if (dx > 1) {// 取y值得最大值和最小值\r\n                        var b = i;\r\n                        var e = b - dx;\r\n                        if (b > xArr.length) {\r\n                          b = xArr.lengt\r\n                        }\r\n                        if (e < 0) {\r\n                          e = 0\r\n                        }\r\n                        for (let j = b; j > e; j--) {\r\n                          let y = yArr[j]\r\n                          if (y > max_y)\r\n                            max_y = y;\r\n                          if (y < min_y)\r\n                            min_y = y;\r\n                        }\r\n  \r\n                        if (\r\n                          // xn >= left &&\r\n                          // xn <= right &&\r\n                          val >= left &&\r\n                          val <= right &&\r\n                          max_y <= top &&\r\n                          max_y >= bottom &&\r\n                          min_y >= bottom &&\r\n                          min_y <= top\r\n                        ) {\r\n                          x = {\r\n                            oVal: xk * val + xb,\r\n                            nVal: xk * val + xb\r\n                          };\r\n                          y = {\r\n                            oVal: yk * min_y + yb,\r\n                            nVal: yk * max_y + yb\r\n                          };\r\n                          dataCtx.lineTo(x.oVal, y.oVal);\r\n                          dataCtx.moveTo(x.oVal, y.oVal);\r\n                          dataCtx.lineTo(x.nVal, y.nVal);\r\n                        }\r\n                      } else {\r\n                        let xn = xArr[i - 1],\r\n                          yo = yArr[i],\r\n                          yn = yArr[i - 1];\r\n                        if (\r\n                          xn >= left &&\r\n                          xn <= right &&\r\n                          val >= left &&\r\n                          val <= right &&\r\n                          yn <= top &&\r\n                          yn >= bottom &&\r\n                          yo >= bottom &&\r\n                          yo <= top\r\n                        ) {\r\n                          x = {\r\n                            oVal: xk * val + xb,\r\n                            nVal: xk * xn + xb\r\n                          };\r\n                          y = {\r\n                            oVal: yo * yk + yb,\r\n                            nVal: yn * yk + yb\r\n                          };\r\n                          dataCtx.moveTo(x.oVal, y.oVal);\r\n                          dataCtx.lineTo(x.nVal, y.nVal);\r\n                        }\r\n                      }\r\n                    }\r\n                    /* for (let i = l; i--;) {\r\n                      const val = xArr[i];\r\n                      if (i === 0) break;\r\n                      let xn = xArr[i - 1],\r\n                        yo = yArr[i],\r\n                        yn = yArr[i - 1];\r\n                      if (\r\n                        xn >= left &&\r\n                        xn <= right &&\r\n                        val >= left &&\r\n                        val <= right &&\r\n                        yn <= top &&\r\n                        yn >= bottom &&\r\n                        yo >= bottom &&\r\n                        yo <= top\r\n                      ) {\r\n                        x = {\r\n                          oVal: xk * val + xb,\r\n                          nVal: xk * xn + xb\r\n                        };\r\n                        y = {\r\n                          oVal: yo * yk + yb,\r\n                          nVal: yn * yk + yb\r\n                        };\r\n                        dataCtx.moveTo(x.oVal, y.oVal);\r\n                        dataCtx.lineTo(x.nVal, y.nVal);\r\n                      }\r\n                    } */\r\n                    dataCtx.stroke();\r\n                  }\r\n                } else {\r\n                  const l = xArr.length;\r\n                  if (l > 1) {\r\n                    for (let i = l; i--;) {\r\n                      const val = xArr[i];\r\n                      if (i === 0) break;\r\n                      let xn = xArr[i - 1],\r\n                        yo = yArr[i],\r\n                        yn = yArr[i - 1];\r\n                      if (\r\n                        xn >= left &&\r\n                        xn <= right &&\r\n                        val >= left &&\r\n                        val <= right &&\r\n                        yn <= top &&\r\n                        yn >= bottom &&\r\n                        yo >= bottom &&\r\n                        yo <= top\r\n                      ) {\r\n                        x = {\r\n                          oVal: xk * val + xb,\r\n                          nVal: xk * xn + xb\r\n                        };\r\n                        y = {\r\n                          oVal: yo * yk + yb,\r\n                          nVal: yn * yk + yb\r\n                        };\r\n                        dataCtx.moveTo(x.oVal, y.oVal);\r\n                        dataCtx.lineTo(x.nVal, y.nVal);\r\n                      }\r\n                    }\r\n                    dataCtx.stroke();\r\n                  }\r\n                }\r\n                if (series.symbol.show) {\r\n                  for (let i = 0, l = xArr.length; i < l; i++) {\r\n                    let val = xArr[i];\r\n                    y = yArr[i];\r\n                    if (val >= left && val <= right && y <= top && y >= bottom) {\r\n                      val = val * xk + xb;\r\n                      y = y * yk + yb;\r\n                      dataCtx.beginPath();\r\n                      dataCtx.strokeStyle = series.lineStyle.color;\r\n                      dataCtx.fillStyle =\r\n                        series.symbol.color === \"\" ? \"#fff\" : series.symbol.color;\r\n                      dataCtx.arc(val, y, 3, 0, 2 * Math.PI);\r\n                      dataCtx.stroke();\r\n                      dataCtx.fill();\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            } else if (series.type === \"bar-line\") {\r\n              dataCtx.beginPath();\r\n              dataCtx.lineWidth = series.lineStyle.width;\r\n              dataCtx.strokeStyle = series.lineStyle.color;\r\n              for (let i = 0, l = xArr.length; i < l; i++) {\r\n                let val = xArr[i];\r\n                y = yArr[i];\r\n                let cy = yb <= real.b ? yb : real.b;\r\n                if (val >= left && val <= right && y <= top && y >= bottom) {\r\n                  val = val * xk + xb;\r\n                  y = y * yk + yb;\r\n                  dataCtx.moveTo(val, cy);\r\n                  dataCtx.lineTo(val, y + 1);\r\n                }\r\n              }\r\n              dataCtx.stroke();\r\n            } else if (series.type === \"scatter\") {\r\n              //散点图\r\n              for (let i = xArr.length; i--;) {\r\n                const val = xArr[i];\r\n                if (i === 0) break;\r\n                let xn = xArr[i - 1],\r\n                  yo = yArr[i],\r\n                  yn = yArr[i - 1];\r\n                if (val >= left && val <= right && yo >= bottom && yo <= top) {\r\n                  x = {\r\n                    oVal: xk * val + xb\r\n                  };\r\n                  y = {\r\n                    oVal: yo * yk + yb\r\n                  };\r\n                  dataCtx.beginPath();\r\n                  dataCtx.fillStyle = series.symbol.color;\r\n                  dataCtx.arc(\r\n                    x.oVal,\r\n                    y.oVal,\r\n                    series.symbol.size,\r\n                    0,\r\n                    Math.PI * 2,\r\n                    true\r\n                  );\r\n                  dataCtx.fill();\r\n                  dataCtx.closePath(); //注意此处\r\n                }\r\n              }\r\n            }\r\n          },\r\n          // 查找距离鼠标位置最近点\r\n          findNearbyPoint: function (dx, dy, index = -1) {\r\n            let v1,\r\n              v2,\r\n              dValue = {\r\n                val: 0, // 当前 x 轴坐标\r\n                key: 0, // 当前位置下标\r\n                dx: 0 // 鼠标位置距离最近点距离\r\n              };\r\n            let arrX = this._option.x.data;\r\n            const arrY = this._option.y.data;\r\n            const paramsX = this._computeParams.proportion.x;\r\n            const paramsY = this._computeParams.proportion.y;\r\n            const xk = paramsX.k;\r\n            const xb = paramsX.b;\r\n            const yk = paramsY.k;\r\n            const yb = paramsY.b;\r\n            let l = arrX.length;\r\n            if (this.getDataType(arrX[0]) === \"Array\" && index === -1) {\r\n              const key = this._flag.subFreqAxis;\r\n              if (key !== -1) {\r\n                const valX = arrX[key];\r\n                const l = valX.length;\r\n                debugger;\r\n                for (var i = l; i--;) {\r\n                  if (i === l - 1) {\r\n                    v1 = Math.abs(valX[i] * xk + xb - dx);\r\n                    v2 = Math.abs(valX[i - 1] * xk + xb - dx);\r\n                    dValue =\r\n                      v1 > v2\r\n                        ? {\r\n                          index: key,\r\n                          val: valX[i - 1],\r\n                          key: i - 1,\r\n                          dx: v2\r\n                        }\r\n                        : {\r\n                          index: key,\r\n                          val: valX[i],\r\n                          key: i,\r\n                          dx: v1\r\n                        };\r\n                  } else {\r\n                    v1 = Math.abs(valX[i] * xk + xb - dx);\r\n                    if (dValue.dx > v1)\r\n                      dValue = {\r\n                        index: key,\r\n                        val: valX[i],\r\n                        key: i,\r\n                        dx: v1\r\n                      };\r\n                  }\r\n                }\r\n                /* 二分法取 */\r\n                // let ax = (dx - xb) / xk\r\n                // let key = this.binarySerach(valX, ax);\r\n                // dValue = {\r\n                //   val: arrX[key],\r\n                //   key,\r\n                //   index: key,\r\n                // }\r\n              } else {\r\n                for (let i = l; i--;) {\r\n                  const valX = arrX[i];\r\n                  const valY = arrY[i];\r\n                  const len = valX.length;\r\n                  /* for (let j = len; j--;) {\r\n                    const vx1 = (valX[j] * xk + xb - dx) ** 2;\r\n                    const vy1 = (valY[j] * yk + yb - dy) ** 2;\r\n                    if (i === l - 1 && j === len - 1) {\r\n                      const vx2 = (valX[j - 1] * xk + xb - dx) ** 2;\r\n                      const vy2 = (valY[j - 1] * yk + yb - dy) ** 2;\r\n                      v1 = vx1 + vy1;\r\n                      v2 = vx2 + vy2;\r\n                      if (v1 > v2) {\r\n                        dValue = {\r\n                          val: valX[j - 1],\r\n                          key: j - 1,\r\n                          dx: v2,\r\n                          index: i,\r\n                          valY: valY[j - 1]\r\n                        };\r\n                      } else {\r\n                        dValue = {\r\n                          val: valX[j],\r\n                          key: j,\r\n                          dx: v1,\r\n                          index: i,\r\n                          valY: valY[j]\r\n                        };\r\n                      }\r\n                    } else {\r\n                      v1 = vx1 + vy1;\r\n                      if (dValue.dx > v1) {\r\n                        dValue = {\r\n                          val: valX[j],\r\n                          key: j,\r\n                          dx: v1,\r\n                          index: i,\r\n                          valY: valY[j]\r\n                        };\r\n                      }\r\n                    }\r\n                  }*/\r\n                  let ax = (dx - xb) / xk;\r\n                  let key = this.binarySerach(valX, ax);\r\n                  dValue = {\r\n                    val: valX[key],\r\n                    key,\r\n                    index: i,\r\n                    valY: valY[key]\r\n                  };\r\n                }\r\n              }\r\n            } else {\r\n              if (index !== -1) {\r\n                arrX = arrX[index];\r\n                l = arrX.length;\r\n              }\r\n              /* 二分法取值 */\r\n              //ax为dx转坐标值\r\n              let ax = (dx - xb) / xk;\r\n              let key = this.binarySerach(arrX, ax);\r\n              dValue = {\r\n                val: arrX[key],\r\n                key\r\n              };\r\n              // 散点图\r\n              /* 根据x值取x的下标，根据下表确定一个范围，在范围内数据根据距离值点 */\r\n              if (this._option.series.type == \"scatter\" && dy != undefined) {\r\n                let keyMax, keyMin;\r\n                if (arrX.length < 10) {\r\n                  keyMax = arrX.length - 1;\r\n                  keyMin = 0;\r\n                } else if (arrX.length < 100) {\r\n                  if (key > 5) {\r\n                    keyMax = key + 5;\r\n                    keyMax > arrX.length - 1 ? (keyMax = arrX.length - 1) : \"\";\r\n                    keyMin = key - 4 + (keyMax - arrX.length);\r\n                  } else {\r\n                    keyMin = 0;\r\n                    keyMax = 9;\r\n                  }\r\n                } else {\r\n                  let dKeyPercent = 5;\r\n                  let dKeyLen = Math.floor((arrX.length * dKeyPercent) / 100);\r\n                  keyMin = key - dKeyLen < 0 ? 0 : key - dKeyLen;\r\n                  keyMax =\r\n                    key + dKeyLen >= arrX.length ? arrX.length - 1 : key + dKeyLen;\r\n                }\r\n                let arrXSplice = arrX.slice(keyMin, keyMax + 1);\r\n                let arrYSplice = arrY.slice(keyMin, keyMax + 1);\r\n                for (let j = arrXSplice.length; j--;) {\r\n                  const vx1 = (arrXSplice[j] * xk + xb - dx) ** 2;\r\n                  const vy1 = (arrYSplice[j] * yk + yb - dy) ** 2;\r\n                  if (j === arrXSplice.length - 1) {\r\n                    const vx2 = (arrXSplice[j - 1] * xk + xb - dx) ** 2;\r\n                    const vy2 = (arrYSplice[j - 1] * yk + yb - dy) ** 2;\r\n                    v1 = Math.sqrt(vx1 + vy1);\r\n                    v2 = Math.sqrt(vx2 + vy2);\r\n                    if (v1 > v2) {\r\n                      dValue = {\r\n                        val: arrXSplice[j - 1],\r\n                        key: j - 1 + keyMin,\r\n                        dx: v2\r\n                      };\r\n                    } else {\r\n                      dValue = {\r\n                        val: arrXSplice[j],\r\n                        key: j + keyMin,\r\n                        dx: v1\r\n                      };\r\n                    }\r\n                  } else {\r\n                    v1 = Math.sqrt(vx1 + vy1);\r\n                    if (dValue.dx > v1) {\r\n                      dValue = {\r\n                        val: arrXSplice[j],\r\n                        key: j + keyMin,\r\n                        dx: v1\r\n                      };\r\n                    }\r\n                  }\r\n                }\r\n                // for (var i = arrSplice.length; i--;) {\r\n                //   if (i === arrSplice.length - 1) {\r\n                //     v1 = Math.abs(arrSplice[i] * yk + yb - dy);\r\n                //     v2 = Math.abs(arrSplice[i - 1] * yk + yb - dy);\r\n                //     dValue =\r\n                //       v1 > v2\r\n                //         ? {\r\n                //         val: arrX[i - 1 + keyMin],\r\n                //         key: i - 1 + keyMin,\r\n                //           dx: v2\r\n                //         }\r\n                //         : {\r\n                //         val: arrX[i + keyMin],\r\n                //         key: i + keyMin,\r\n                //           dx: v1\r\n                //         };\r\n                //   } else {\r\n                //     v1 = Math.abs(arrSplice[i] * yk + yb - dy);\r\n                //     if (dValue.dx > v1)\r\n                //       dValue = {\r\n                //         val: arrX[i + keyMin],\r\n                //         key: i + keyMin,\r\n                //         dx: v1\r\n                //       };\r\n                //   }\r\n                // }\r\n              }\r\n  \r\n              // for (var i = l; i--;) {\r\n              //   if (i === l - 1) {\r\n              //     v1 = Math.abs(arrX[i] * xk + xb - dx);\r\n              //     v2 = Math.abs(arrX[i - 1] * xk + xb - dx);\r\n              //     dValue =\r\n              //       v1 > v2\r\n              //         ? {\r\n              //           val: arrX[i - 1],\r\n              //           key: i - 1,\r\n              //           dx: v2\r\n              //         }\r\n              //         : {\r\n              //           val: arrX[i],\r\n              //           key: i,\r\n              //           dx: v1\r\n              //         };\r\n              //   } else {\r\n              //     v1 = Math.abs(arrX[i] * xk + xb - dx);\r\n              //     if (dValue.dx > v1)\r\n              //       dValue = {\r\n              //         val: arrX[i],\r\n              //         key: i,\r\n              //         dx: v1\r\n              //       };\r\n              //   }\r\n              // }\r\n            }\r\n            return dValue; // val：在 x 轴上的值；key：在 x 轴上的索引；dx：鼠标位置到点的距离；index: 多条线时对应谱线的索引\r\n          },\r\n          binarySerach: function (arrX, dx) {\r\n            let l = 1,\r\n              r = arrX.length - 2;\r\n            if (arrX.length === 1) return 0;\r\n            while (l <= r) {\r\n              let mid = parseInt((l + r) / 2);\r\n              /* 只有一个点的时候就返回这个点的值 */\r\n              if (dx === arrX[mid]) return mid;\r\n              else if (dx < arrX[mid]) r = mid - 1;\r\n              else if (dx > arrX[mid]) l = mid + 1;\r\n            }\r\n            return Math.abs(dx - arrX[r]) < Math.abs(arrX[l] - dx) ? r : l;\r\n            // let r = arrX.length, l=0\r\n            //   while (r > 0) { { // divide and conquer, find half that contains answer\r\n            //     var _Count2 = r / 2;\r\n            //     let mid = l + _Count2;\r\n            //     if (a[mid] < x)\r\n            //       l = ++mid, r -= _Count2 + 1;\r\n            //     else\r\n            //       r = _Count2;\r\n            //   }\r\n            //   return (l);\r\n            // }\r\n          },\r\n          // 界面调整重新画线\r\n          zoomLine: function () {\r\n            const flag = this._flag;\r\n            this._drawTools.ctx.click.clearRect(\r\n              0,\r\n              0,\r\n              this._dom.width,\r\n              this._dom.height\r\n            );\r\n            this._drawTools.ctx.gate.clearRect(\r\n              0,\r\n              0,\r\n              this._dom.width,\r\n              this._dom.height\r\n            );\r\n            switch (flag.toolCheck) {\r\n              case 0:\r\n                let params = this._computeParams.proportion,\r\n                  left = this._option.grid.left,\r\n                  xOVal = params.x.k * flag.line.val + params.x.b;\r\n                if (xOVal > left) {\r\n                  this.drawLine(flag.line);\r\n                }\r\n                break;\r\n              case 1:\r\n                this.event.tool.oneFreq();\r\n                break;\r\n              case 2:\r\n                (flag.tools.flag_nx || flag.tools.flag_subFreq) &&\r\n                  this.labelLineSpec();\r\n                flag.tools.flag_subTime && this.labelLineWave();\r\n                this.drawLabelLine();\r\n                break;\r\n              case 3:\r\n                this.event.tool.peakSearch();\r\n                break;\r\n            }\r\n            flag.tools.flag_wave_Pulse && this.drawWavePulse();\r\n            // flag.addPeakPos.length > 0 && (type === 1 ? this.drawAddLabel(1) : this.drawAddLabel(2))\r\n            flag.addPeakPos.length > 0 && this.drawAddLabel(2)\r\n            this._option.series.markLine.data && this._option.series.markLine.data.length > 0 && this.drawMarkLine();\r\n            this._option.series.gateMsg.isShow && this.drawGateLine();\r\n          },\r\n          // 绘制开窗放大范围\r\n          drawEnlargement: function (type) {\r\n            let zoomCtx = this._drawTools.ctx.zoom,\r\n              scope = this._scope,\r\n              opt = this._option,\r\n              moveX = this._movePos.x,\r\n              moveY = this._movePos.y,\r\n              paramsX = this._computeParams.proportion.x;\r\n            zoomCtx.clearRect(0, 0, this._dom.width, this._dom.height);\r\n            if (type) {\r\n              this._flag.click = 0;\r\n              zoomCtx.fillStyle = \"rgba(0, 0, 0, 0.2)\";\r\n              if (moveX.newVal >= opt.grid.left && moveX.newVal <= scope.r.r) {\r\n                let pos = {\r\n                  oldPos: this.findNearbyPoint(moveX.oldVal, moveY.oldVal),\r\n                  newPos: this.findNearbyPoint(moveX.newVal, moveY.newVal)\r\n                };\r\n                let yArr = [];\r\n                let num = {\r\n                  min: Number.MAX_VALUE,\r\n                  max: Number.MAX_VALUE * -1\r\n                };\r\n                if (\r\n                  pos.oldPos.index === undefined &&\r\n                  pos.newPos.index === undefined\r\n                ) {\r\n                  if (pos.oldPos.key === pos.newPos.key) {\r\n                    if (moveX.move >= 0) {\r\n                      pos.newPos.key++;\r\n                      pos.newPos.val = opt.x.data[pos.newPos.key];\r\n                    } else {\r\n                      pos.newPos.key--;\r\n                      pos.newPos.val = opt.x.data[pos.newPos.key];\r\n                    }\r\n                  }\r\n                  moveX.move >= 0\r\n                    ? (yArr = opt.y.data.slice(pos.oldPos.key, pos.newPos.key + 1))\r\n                    : (yArr = opt.y.data.slice(pos.newPos.key, pos.oldPos.key + 1));\r\n                  for (let i = 0, l = yArr.length; i < l; i++) {\r\n                    const val = yArr[i];\r\n                    num.max < val && (num.max = val);\r\n                    num.min > val && (num.min = val);\r\n                  }\r\n                } else {\r\n                  if (pos.oldPos.key === pos.newPos.key) {\r\n                    return;\r\n                  } else {\r\n                    let start = 0;\r\n                    let end = -1;\r\n                    if (moveX.move >= 0) {\r\n                      pos.newPos.key++;\r\n                      pos.newPos.val = opt.x.data[pos.newPos.index][pos.newPos.key];\r\n                      start = pos.oldPos.key;\r\n                      end = pos.newPos.key;\r\n                    } else {\r\n                      pos.newPos.key--;\r\n                      pos.newPos.val = opt.x.data[pos.newPos.index][pos.newPos.key];\r\n                      start = pos.newPos.key;\r\n                      end = pos.oldPos.key;\r\n                    }\r\n                    for (let i = 0, l = opt.y.data.length; i < l; i++) {\r\n                      const data = opt.y.data[i].slice(start, end);\r\n                      for (let j = 0, len = data.length; j < len; j++) {\r\n                        const val = data[j];\r\n                        num.max < val && (num.max = val);\r\n                        num.min > val && (num.min = val);\r\n                      }\r\n                    }\r\n                  }\r\n                  // if (moveX.move >= 0) {\r\n                  /* for (let i = 0, l = opt.y.data.length; i < l; i++) {\r\n                    const data = opt.y.data.slice(pos.oldPos.key, pos.newPos.key + 1);\r\n                    for (let j = 0, len = data.length; j < len; j++) {\r\n                      const val = data[j];\r\n                      num.max < val && (num.max = val);\r\n                      num.min > val && (num.min = val);\r\n                    }\r\n                  } */\r\n                  // }\r\n                }\r\n                scope.v.y.end = num.max;\r\n                scope.v.y.start = num.min;\r\n                moveX.oldVal = pos.oldPos.val * paramsX.k + paramsX.b;\r\n                moveX.newVal = pos.newPos.val * paramsX.k + paramsX.b;\r\n                moveX.move = moveX.newVal - moveX.oldVal;\r\n                moveX.move >= 0\r\n                  ? zoomCtx.fillRect(\r\n                    moveX.oldVal,\r\n                    opt.grid.top,\r\n                    moveX.move,\r\n                    scope.r.h\r\n                  )\r\n                  : zoomCtx.fillRect(\r\n                    moveX.newVal,\r\n                    opt.grid.top,\r\n                    Math.abs(moveX.move),\r\n                    scope.r.h\r\n                  );\r\n              }\r\n            }\r\n          },\r\n          // 开窗放大\r\n          windowEnlargement: function () {\r\n            let rx = {\r\n              start: null,\r\n              end: null\r\n            };\r\n            const moveX = this._movePos.x,\r\n              paramsX = this._computeParams.proportion.x,\r\n              scope = this._scope;\r\n            if (moveX.move === 0) return;\r\n            if (moveX.move > 0) {\r\n              rx.start = (moveX.oldVal - paramsX.b) / paramsX.k;\r\n              rx.end = (moveX.newVal - paramsX.b) / paramsX.k;\r\n            } else {\r\n              rx.start = (moveX.newVal - paramsX.b) / paramsX.k;\r\n              rx.end = (moveX.oldVal - paramsX.b) / paramsX.k;\r\n            }\r\n            scope.v.x.start = rx.start;\r\n            scope.v.x.end = rx.end + (rx.end - rx.start) / 10;\r\n            this.mappingX(2);\r\n            this.mappingY(2);\r\n            this.drawAxis();\r\n            this.drawWave();\r\n            this.zoomLine();\r\n          },\r\n          /*当前点坐标\r\n          type=0，普通光标 type=1，标注倍频*/\r\n          fft_indexOfWaveX: function (valueX, valueY, type) {\r\n            try {\r\n              let optX = this._option.x,\r\n                optY = this._option.y;\r\n              let xArr = optX.data;\r\n              let yArr = optY.data;\r\n              if (this.getDataType(xArr[0]) === \"Array\") {\r\n                xArr = xArr[this._flag.line.idx];\r\n                // if (xArr.length >= this._flag.line.key) {\r\n                yArr = yArr[this._flag.line.idx];\r\n                /* } else {\r\n                  for (let i = 0, l = opt.x.data.length; i < l; i++) {\r\n                    const value = opt.x.data[i];\r\n                    if (value[this._flag.line.key]) {\r\n                      xArr = value;\r\n                      yArr = opt.y.data[i];\r\n                      break;\r\n                    }\r\n                  }\r\n                } */\r\n              }\r\n              if (null == xArr || xArr.length == 0) {\r\n                return -1;\r\n              }\r\n              var di = xArr.length / 800;\r\n              if (type == 1) {\r\n                di = Math.round(di / 4);\r\n              }\r\n              if (di < 3) {\r\n                di = 3;\r\n              }\r\n              var tmpIndex = this.indexOfArray(xArr, valueX, 0);\r\n              if (tmpIndex >= xArr.length) tmpIndex = xArr.length;\r\n              else if (tmpIndex > 0) {\r\n                if (\r\n                  Math.abs(xArr[tmpIndex] - valueX) >\r\n                  Math.abs(xArr[tmpIndex - 1] - valueX)\r\n                ) {\r\n                  tmpIndex = tmpIndex - 1;\r\n                }\r\n              }\r\n              var index_a = tmpIndex - di;\r\n              var index_b = tmpIndex + di;\r\n              var index = tmpIndex;\r\n              if (index_a <= 0) {\r\n                index_a = 0;\r\n              }\r\n              if (index_b >= yArr.length) {\r\n                index_b = yArr.length - 1;\r\n              }\r\n              for (var i = index_a; i <= index_b; i++) {\r\n                if (yArr[i] > yArr[index]) {\r\n                  index = i;\r\n                }\r\n              }\r\n              return index;\r\n            } catch (err) { }\r\n            return -1;\r\n          },\r\n          // 找最近点索引\r\n          indexOfArray: function (arr, value, flag) {\r\n            if (arr) {\r\n              //获取最匹配点的下标\r\n              /* flag=0，最近点；flag=1，右边最近点；flag=-1，左边最近点 */\r\n              var index = -1;\r\n              var flag_pm = false;\r\n              var dx = Number.POSITIVE_INFINITY; //无穷大\r\n              for (var i = 0; i < arr.length; i++) {\r\n                switch (flag) {\r\n                  case -1:\r\n                    flag_pm =\r\n                      arr[i] - value <= 0 ? dx > Math.abs(arr[i] - value) : false;\r\n                    break;\r\n                  case 0:\r\n                    flag_pm = dx > Math.abs(arr[i] - value);\r\n                    break;\r\n                  case 1:\r\n                    flag_pm =\r\n                      arr[i] - value >= 0 ? dx > Math.abs(arr[i] - value) : false;\r\n                    break;\r\n                }\r\n                if (flag_pm) {\r\n                  dx = Math.abs(arr[i] - value);\r\n                  index = i;\r\n                  if (dx == 0) {\r\n                    break;\r\n                  }\r\n                }\r\n              }\r\n              return index;\r\n            }\r\n          },\r\n          // 计算波形图时间差\r\n          labelLineWave: function () {\r\n            //带标签的竖线\r\n            /**带标签的竖线**/\r\n            let _flag = this._flag;\r\n            _flag.labelLine.wave.length > 0 && (_flag.labelLine.wave.length = 0);\r\n            var t_nxArray = [];\r\n            var index = -1;\r\n            var i = 0;\r\n            var nx0 = -1; //锁定光标位置\r\n            var nx1 = -1; //画周期性延展线\r\n            var index1 = -1;\r\n            var dx = -1; //基准线和时间差线的距离\r\n            /**画光标线**/\r\n            if (_flag.tools.flag_subTime == 1 && _flag.last_xWave.key != -1) {\r\n              nx0 = _flag.last_xWave.val;\r\n              index = _flag.last_xWave.key;\r\n              t_nxArray.push({\r\n                name: nx0 + \",\" + index.toFixed(4),\r\n                xAxis: index\r\n              });\r\n              _flag.tools.flag_wave_extend = 1;\r\n            } else if (\r\n              _flag.tools.flag_subTime == 1 &&\r\n              _flag.last_xWave.key == -1\r\n            ) {\r\n              //开启时间差功能前没有点击页面，将基准线定在0的位置\r\n              // 对比分析多条数据的情况_flag.firstCommon.idx != undefined\r\n              if (this.getDataType(this._option.x.data[0]) == \"Array\") {\r\n                if (_flag.firstCommon.idx == undefined) _flag.firstCommon.idx = 0;\r\n                _flag.last_xWave = {\r\n                  key: 0,\r\n                  val: this._option.x.data[_flag.firstCommon.idx][0]\r\n                };\r\n                t_nxArray.push({\r\n                  name:\r\n                    0 +\r\n                    \",\" +\r\n                    this._option.x.data[_flag.firstCommon.idx][0].toFixed(4),\r\n                  xAxis: 0\r\n                });\r\n              } else {\r\n                _flag.last_xWave = {\r\n                  key: 0,\r\n                  val: this._option.x.data[0]\r\n                };\r\n                t_nxArray.push({\r\n                  name: 0 + \",\" + this._option.x.data[0].toFixed(4),\r\n                  xAxis: 0\r\n                });\r\n              }\r\n              _flag.tools.flag_wave_extend = 1;\r\n            }\r\n            /**画时间差的延展线**/\r\n            if (\r\n              _flag.tools.flag_wave_extend &&\r\n              _flag.tools.flag_subTime == 1 &&\r\n              _flag.line.key !== _flag.last_xWave.key\r\n            ) {\r\n              if (_flag.line.val != -1) {\r\n                index1 = _flag.line.key;\r\n                dx = Math.abs(index1 - index);\r\n                if (dx == 0) {\r\n                  return;\r\n                }\r\n                var x0 = index1 % dx;\r\n                if (this.getDataType(this._option.x.data[0]) != \"Array\") {\r\n                  for (var x = x0; x < this._option.x.data.length; x += dx) {\r\n                    if (x == index) {\r\n                      continue;\r\n                    }\r\n                    t_nxArray.push({\r\n                      name: \"\",\r\n                      xAxis: x,\r\n                      lineStyle: {\r\n                        color: \"red\"\r\n                      }\r\n                    });\r\n                  }\r\n                } else {\r\n                  /* 防止对比分析图删除数据后数据缺失报错 */\r\n                  if (this._option.x.data[_flag.firstCommon.idx]) {\r\n                    for (\r\n                      var x = x0;\r\n                      x < this._option.x.data[_flag.firstCommon.idx].length;\r\n                      x += dx\r\n                    ) {\r\n                      if (x == index) {\r\n                        continue;\r\n                      }\r\n                      t_nxArray.push({\r\n                        name: \"\",\r\n                        xAxis: x,\r\n                        lineStyle: {\r\n                          color: \"red\"\r\n                        }\r\n                      });\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            }\r\n            if (t_nxArray.length > 0) {\r\n              _flag.labelLine.wave = t_nxArray;\r\n            }\r\n          },\r\n          // 计算频谱图差频、倍频、一倍频等\r\n          labelLineSpec: function () {\r\n            //带标签的竖线\r\n            /**带标签的竖线**/\r\n            let _flag = this._flag,\r\n              opt = this._option;\r\n            _flag.labelLine.spectrum.length > 0 &&\r\n              (_flag.labelLine.spectrum.length = 0);\r\n            var t_nxArray = [];\r\n            var index = -1;\r\n            var i = 0;\r\n            var index1 = -1; //第二次点击三条等距线的光标的下标\r\n            var dx = -1; //基准线和对称频率差线的距离\r\n            /**自动寻峰**/\r\n            if (_flag.peakIndexArr.length > _flag.tools.autoPeakNum) {\r\n              t_nxArray.push({\r\n                name: _flag.tools.autoPeakNum + 1 + \"p\",\r\n                xAxis: _flag.peakIndexArr[_flag.tools.autoPeakNum]\r\n              });\r\n            }\r\n            if (_flag.tools.autoPeakNum == -1) {\r\n              //初始化不自动寻峰；当点击循环寻峰次数超过10次就取消寻峰\r\n              t_nxArray.length = 0;\r\n            }\r\n            /*获取倍频和差频的index*/\r\n            if (_flag.tools.flag_subFreq == 1) {\r\n              //启用了差频\r\n              _flag.arr_C = [];\r\n              if (_flag.arr_B[0] >= 0 && _flag.arr_B[0] != -1) {\r\n              } else {\r\n                _flag.arr_B[0] = 0;\r\n              }\r\n              var indexB0 = _flag.arr_B[0];\r\n              if (_flag.tools.flag_nx == 1) {\r\n                //同时开启了倍频的效果\r\n                _flag.arr_B = [];\r\n                if (_flag.line.idx != undefined) {\r\n                  // for (var i = 0; i < 10; i++) {\r\n                  //   var index_b = indexB0 * (i + 1);\r\n                  //   if (index_b >= opt.x.data[_flag.line.idx].length) {\r\n                  //     break;\r\n                  //   }\r\n                  //   _flag.arr_B.push(index_b);\r\n                  // }\r\n                  for (var i = 0; i < 10; i++) {\r\n                    var index_b;\r\n                    // 对比分析图多图谱情况\r\n                    index_b = this.indexOfArray(\r\n                      opt.x.data[_flag.line.idx],\r\n                      opt.x.data[_flag.line.idx][indexB0] * (i + 1),\r\n                      0\r\n                    );\r\n                    // 防止倍频超出边界时错误的取到数组最大值\r\n                    if (\r\n                      opt.x.data[_flag.line.idx][\r\n                      opt.x.data[_flag.line.idx].length - 1\r\n                      ] <\r\n                      opt.x.data[_flag.line.idx][indexB0] * (i + 1)\r\n                    ) {\r\n                      break;\r\n                    }\r\n                    _flag.arr_B.push(index_b);\r\n                  }\r\n                } else {\r\n                  for (var i = 0; i < 10; i++) {\r\n                    var index_b;\r\n                    // 对比分析图多图谱情况\r\n                    index_b = this.indexOfArray(\r\n                      opt.x.data,\r\n                      opt.x.data[indexB0] * (i + 1),\r\n                      0\r\n                    );\r\n                    // 防止倍频超出边界时错误的取到数组最大值\r\n                    if (\r\n                      opt.x.data[opt.x.data.length - 1] <\r\n                      opt.x.data[indexB0] * (i + 1)\r\n                    ) {\r\n                      break;\r\n                    }\r\n                    _flag.arr_B.push(index_b);\r\n                  }\r\n                }\r\n              }\r\n              index = _flag.arr_B[0];\r\n              index1 = _flag.line.key;\r\n              dx = Math.abs(index1 - index);\r\n  \r\n              if (dx != 0) {\r\n                var x0 = index1 % dx; //左边界第一条线\r\n                var x_left = index - 3 * dx;\r\n                var x_right = index + 3 * dx;\r\n                if (x_left < x0) {\r\n                  x_left = x0;\r\n                }\r\n                const xArr = opt.x.data;\r\n                /* if (x_right > opt.x.data.length) {\r\n                  x_right = opt.x.data.length;\r\n                } */\r\n                //判断点击对称频率差后点击图谱在进行操作\r\n                if (_flag.line.idx && _flag.line.idx != \"\") {\r\n                  if (this.getDataType(xArr[0]) === \"Array\") {\r\n                    // 防止对比分析图删除图谱后拿不到当前图谱的值\r\n                    if (xArr[_flag.line.idx]) {\r\n                      x_right > xArr[_flag.line.idx].length &&\r\n                        (x_right = xArr[_flag.line.idx].length);\r\n                    }\r\n                  } else {\r\n                    x_right > xArr.length && (x_right = xArr.length);\r\n                  }\r\n                }\r\n                // if(x_right>this.cutSpectrum.x.length){\r\n                //     x_right = this.cutSpectrum.x.length;\r\n                // }\r\n                for (var x = x_left; x <= x_right; x += dx) {\r\n                  var item = {};\r\n                  if (x == index) {\r\n                    item.line = true;\r\n                    item.value = x;\r\n                  } else {\r\n                    item.line = false;\r\n                    item.value = x;\r\n                  }\r\n                  _flag.arr_C.push(item);\r\n                }\r\n              } else {\r\n                _flag.line.idx !== undefined &&\r\n                  (_flag.subFreqAxis = _flag.line.idx);\r\n                // 如果差频为0则只画做差频的标线\r\n                _flag.arr_C.push({ line: true, value: index });\r\n              }\r\n            } else if (_flag.tools.flag_nx == 1) {\r\n              //启用了倍频\r\n              _flag.arr_B = [];\r\n              for (var i = 0; i < 10; i++) {\r\n                if (_flag.line.val == -1) {\r\n                  _flag.arr_B = [];\r\n                } else {\r\n                  if (opt.series.dataMsg.specType == 2) {\r\n                    //阶次\r\n                    if (_flag.line.idx == undefined) {\r\n                      if (\r\n                        _flag.line.val * (i + 1) >=\r\n                        opt.series.dataMsg.spectral / 2.56\r\n                      ) {\r\n                        break;\r\n                      }\r\n                    } else {\r\n                      if (\r\n                        _flag.line.val * (i + 1) >=\r\n                        opt.x.data[_flag.line.idx][\r\n                        opt.x.data[_flag.line.idx].length - 1\r\n                        ]\r\n                      ) {\r\n                        break;\r\n                      }\r\n                    }\r\n                  } else {\r\n                    // 若取值大于图谱x轴最大值\r\n                    // 对比分析图多图谱情况\r\n                    if (_flag.line.idx == undefined) {\r\n                      if (\r\n                        _flag.line.val * (i + 1) >=\r\n                        opt.x.data[opt.x.data.length - 1]\r\n                      ) {\r\n                        break;\r\n                      }\r\n                    } else {\r\n                      if (\r\n                        _flag.line.val * (i + 1) >=\r\n                        opt.x.data[_flag.line.idx][\r\n                        opt.x.data[_flag.line.idx].length - 1\r\n                        ]\r\n                      ) {\r\n                        break;\r\n                      }\r\n                    }\r\n                  }\r\n                  if (_flag.tools.flag_nx == 0 && i > 0) {\r\n                    break;\r\n                  }\r\n                  var index_b_nx;\r\n                  // 对比分析图多图谱情况\r\n                  if (_flag.line.idx == undefined) {\r\n                    index_b_nx = this.indexOfArray(\r\n                      opt.x.data,\r\n                      _flag.line.val * (i + 1),\r\n                      0\r\n                    );\r\n                  } else {\r\n                    index_b_nx = this.indexOfArray(\r\n                      opt.x.data[_flag.line.idx],\r\n                      _flag.line.val * (i + 1),\r\n                      0\r\n                    );\r\n                  }\r\n                  _flag.arr_B.push(index_b_nx);\r\n                }\r\n              }\r\n            } else {\r\n              _flag.arr_B[0] = _flag.line.key;\r\n            }\r\n            /**标注倍频**/\r\n            if (_flag.tools.flag_nx == 1) {\r\n              var max_arr = new Array(_flag.arr_B.length);\r\n              for (i = 0; i < _flag.arr_B.length; i++) {\r\n                let index = _flag.arr_B[i] >= 0 ? _flag.arr_B[i] : 0;\r\n                // 对比分析图多图谱情况\r\n                let dataX, dataY, dataXName;\r\n                if (_flag.line.idx == undefined) {\r\n                  dataX = opt.x.data;\r\n                  dataY = opt.y.data;\r\n                  dataXName = opt.x.name;\r\n                } else {\r\n                  dataX = opt.x.data[_flag.line.idx];\r\n                  dataY = opt.y.data[_flag.line.idx];\r\n                  dataXName = opt.x.name[_flag.line.idx];\r\n                }\r\n                max_arr[i] = this.fft_indexOfWaveX(dataX[index], dataY[index], 1); //标注倍频时校准倍频\r\n                if (_flag.tools.flag_addPeak) {\r\n                  //启用了校准倍频\r\n                  if (i == 0) {\r\n                    t_nxArray.push({\r\n                      xAxis: index,\r\n                      name:\r\n                        i +\r\n                        1 +\r\n                        \"X\" +\r\n                        \",\" +\r\n                        Number(dataX[index]).toFixed(4) +\r\n                        dataXName +\r\n                        \",\" +\r\n                        dataY[index].toFixed(4),\r\n                      lineStyle: {\r\n                        color: opt.toolTip.lineStyle.color\r\n                      }\r\n                    });\r\n                  } else {\r\n                    t_nxArray.push({\r\n                      name:\r\n                        i +\r\n                        1 +\r\n                        \"X\" +\r\n                        \",\" +\r\n                        Number(dataX[max_arr[i]]).toFixed(4) +\r\n                        dataXName +\r\n                        \",\" +\r\n                        dataY[max_arr[i]].toFixed(4),\r\n                      xAxis: max_arr[i],\r\n                      lineStyle: {\r\n                        color: opt.toolTip.lineStyle.color\r\n                      }\r\n                    });\r\n                  }\r\n                } else {\r\n                  //取消了校准倍频\r\n                  t_nxArray.push({\r\n                    name:\r\n                      i +\r\n                      1 +\r\n                      \"X\" +\r\n                      \",\" +\r\n                      Number(dataX[index]).toFixed(4) +\r\n                      dataXName +\r\n                      \",\" +\r\n                      dataY[index].toFixed(4),\r\n                    xAxis: index,\r\n                    lineStyle: {\r\n                      color: opt.toolTip.lineStyle.color\r\n                    }\r\n                  });\r\n                }\r\n              }\r\n            }\r\n  \r\n            /*画对称频率差的三条等距线*/\r\n            if (_flag.tools.flag_subFreq == 1) {\r\n              let xArr = [];\r\n              let yArr = [];\r\n              // if (_flag.line.idx && _flag.line.idx != '') {\r\n              xArr = opt.x.data;\r\n              yArr = opt.y.data;\r\n              if (this.getDataType(xArr[0]) === \"Array\") {\r\n                xArr = _flag.line.idx ? opt.x.data[_flag.line.idx] : opt.x.data[0];\r\n                // if (xArr.length >= _flag.line.key) {\r\n                yArr = _flag.line.idx ? opt.y.data[_flag.line.idx] : opt.x.data[0];\r\n                /* } else {\r\n                  for (let i = 0, l = opt.x.data.length; i < l; i++) {\r\n                    const value = opt.x.data[i];\r\n                    if (value[_flag.line.key]) {\r\n                      xArr = value;\r\n                      yArr = opt.y.data[i];\r\n                      break;\r\n                    }\r\n                  }\r\n                } */\r\n              }\r\n              var max_sub_arr = new Array(_flag.arr_C.length);\r\n              for (i = 0; i < _flag.arr_C.length; i++) {\r\n                max_sub_arr[i] = this.fft_indexOfWaveX(\r\n                  xArr[_flag.arr_C[i].value],\r\n                  yArr[_flag.arr_C[i].value],\r\n                  1\r\n                ); //对称频率差时校准倍频\r\n                if (_flag.arr_C[i].line == true) {\r\n                  if (_flag.tools.flag_nx == 1) {\r\n                    t_nxArray.push({\r\n                      name: \"\",\r\n                      xAxis: _flag.arr_C[i].value\r\n                    });\r\n                  } else {\r\n                    t_nxArray.push({\r\n                      name:\r\n                        xArr[_flag.arr_C[i].value].toFixed(4) +\r\n                        \",\" +\r\n                        yArr[_flag.arr_C[i].value].toFixed(4),\r\n                      xAxis: _flag.arr_C[i].value\r\n                    });\r\n                  }\r\n                } else {\r\n                  t_nxArray.push({\r\n                    name: \"\",\r\n                    xAxis: _flag.arr_C[i].value,\r\n                    lineStyle: {\r\n                      color: \"red\"\r\n                    }\r\n                  });\r\n                }\r\n              }\r\n            }\r\n            if (t_nxArray.length > 0) {\r\n              _flag.labelLine.spectrum = t_nxArray;\r\n            }\r\n          },\r\n          // 时间(点数)差、差频和倍频画线\r\n          drawLabelLine: function () {\r\n            let subCtx = this._drawTools.ctx.subFreq,\r\n              clickCtx = this._drawTools.ctx.click,\r\n              flag = this._flag,\r\n              opt = this._option,\r\n              optX = opt.x,\r\n              optY = opt.y,\r\n              scopeR = this._scope.r,\r\n              params = this._computeParams.proportion,\r\n              xk = params.x.k,\r\n              xb = params.x.b,\r\n              yk = params.y.k,\r\n              yb = params.y.b;\r\n            const flagLine = flag.line;\r\n            subCtx.clearRect(0, 0, this._dom.width, this._dom.height);\r\n            clickCtx.clearRect(0, 0, this._dom.width, this._dom.height);\r\n            // 时间差\r\n            if (\r\n              flag.tools.flag_subTime &&\r\n              opt.tools.timeDifferent.show &&\r\n              flag.line.key > -1\r\n            ) {\r\n              if (flag.last_xWave.key !== flag.line.key) {\r\n                let font = null;\r\n                // 增加考虑对比分析图 /* optX.data[flag.firstCommon.idx] != undefined 防止对比分析图删除数据后出现数据缺失 */\r\n                if (\r\n                  optX.name === \"s\" ||\r\n                  (flag.line.idx != undefined &&\r\n                    flag.firstCommon.idx != undefined &&\r\n                    optX.name[flag.line.idx] == \"s\" &&\r\n                    optX.data[flag.firstCommon.idx] != undefined)\r\n                ) {\r\n                  if (flag.line.idx == undefined) {\r\n                    font = {\r\n                      x: optX.data[flag.line.key] * xk + xb,\r\n                      time:\r\n                        (localStorage.getItem('language') == 'en' ? 'Time:' : \"时间：\") + this.round(optX.data[flag.line.key]) + optX.name,\r\n                      timeDif:\r\n                        (localStorage.getItem('language') == 'en' ? 'delta-t:' : \"时间差：\") +\r\n                          Math.round(\r\n                            Math.abs(flag.line.val - optX.data[flag.last_xWave.key]) *\r\n                            10000\r\n                          ) /\r\n                          10000 +\r\n                          optX.name,\r\n                      subFreq:\r\n                        (localStorage.getItem('language') == 'en' ? 'Delta F:' : \"频率差：\") +\r\n                          Math.round(\r\n                            (1 / Math.abs(flag.last_xWave.val - flag.line.val)) *\r\n                            10000\r\n                          ) /\r\n                          10000 +\r\n                          \"Hz\",\r\n                      amplitude:\r\n                        (localStorage.getItem('language') == 'en' ? 'amplitude:' : \"幅值：\") +\r\n                          Math.round(optY.data[flag.line.key] * 10000) / 10000 +\r\n                          optY.name\r\n                    };\r\n                    if (flag.last_xWave.key === -1)\r\n                      font.timeDif =\r\n                        (localStorage.getItem('language') == 'en' ? 'delta-t:' : \"时间差：\") +\r\n                        Math.round(Math.abs(flag.line.val - optX.data[0]) * 10000) /\r\n                        10000 +\r\n                        optX.name;\r\n                  } else {\r\n                    if (flag.last_xWave.idx == undefined) flag.last_xWave.idx = 0;\r\n                    font = {\r\n                      x: optX.data[flag.firstCommon.idx][flag.line.key] * xk + xb,\r\n                      time:\r\n                        localStorage.getItem('language') == 'en' ? 'Time:' : \"时间：\" +\r\n                        this.round(optX.data[flag.firstCommon.idx][flag.line.key]) +\r\n                        optX.name[flag.firstCommon.idx],\r\n                      timeDif:\r\n                        localStorage.getItem('language') == 'en' ? 'delta-t:' : \"时间差：\" +\r\n                        Math.round(\r\n                          Math.abs(\r\n                            flag.line.val -\r\n                            optX.data[flag.firstCommon.idx][flag.last_xWave.key]\r\n                          ) * 10000\r\n                        ) /\r\n                        10000 +\r\n                        optX.name,\r\n                      subFreq:\r\n                        localStorage.getItem('language') == 'en' ? 'Delta F:' :\"频率差：\" +\r\n                        Math.round(\r\n                          (1 / Math.abs(flag.last_xWave.val - flag.line.val)) *\r\n                          10000\r\n                        ) /\r\n                        10000 +\r\n                        \"Hz\",\r\n                      amplitude: []\r\n                    };\r\n                    for (let i = 0; i < optX.data.length; i++) {\r\n                      const valueX = optX.data[i];\r\n                      const valueY = optY.data[i];\r\n                      for (let j = 0; j < valueY.length; j++) {\r\n                        const valX = valueX[j];\r\n                        const valY = valueY[j];\r\n                        if (j == flag.line.key && valX == flag.line.val) {\r\n                          font.amplitude.push([\r\n                            `${localStorage.getItem('language') == 'en' ? 'amplitude' : \"幅值\"}${font.amplitude.length}：${this.round(\r\n                              (valY * 10000) / 10000\r\n                            ) + optY.name}`\r\n                          ]);\r\n                        }\r\n                      }\r\n                    }\r\n                    if (flag.last_xWave.key === -1)\r\n                      font.timeDif =\r\n                        localStorage.getItem('language') == 'en' ? 'delta-t:' : \"时间差：\" +\r\n                        Math.round(\r\n                          Math.abs(\r\n                            flag.line.val - optX.data[flag.firstCommon.idx][0]\r\n                          ) * 10000\r\n                        ) /\r\n                        10000 +\r\n                        optX.name;\r\n                  }\r\n                  font.x - opt.grid.left >= scopeR.w / 2 && (font.x -= 150);\r\n                  if (font.x >= opt.grid.left && font.x + 150 <= scopeR.r) {\r\n                    if (this.getDataType(font.amplitude) != \"Array\") {\r\n                      subCtx.beginPath();\r\n                      subCtx.fillStyle = opt.toolTip.background.color;\r\n                      subCtx.fillRect(font.x, opt.grid.top, 150, 70);\r\n                      subCtx.font =\r\n                        optY.fontStyle.size + \" \" + optY.fontStyle.family;\r\n                      // subCtx.fillStyle = opt.series.lineStyle.color;\r\n                      subCtx.fillStyle = opt.backgroundColor;\r\n                      subCtx.textBaseline = \"top\";\r\n                      subCtx.fillText(font.time, font.x + 10, opt.grid.top + 8);\r\n                      subCtx.fillText(font.timeDif, font.x + 10, opt.grid.top + 23);\r\n                      subCtx.fillText(font.subFreq, font.x + 10, opt.grid.top + 38);\r\n                      subCtx.fillText(\r\n                        font.amplitude,\r\n                        font.x + 10,\r\n                        opt.grid.top + 53\r\n                      );\r\n                    } else {\r\n                      subCtx.beginPath();\r\n                      subCtx.fillStyle = opt.toolTip.background.color;\r\n                      subCtx.fillRect(\r\n                        font.x,\r\n                        opt.grid.top,\r\n                        150,\r\n                        60 + 20 * font.amplitude.length\r\n                      );\r\n                      subCtx.font =\r\n                        optY.fontStyle.size + \" \" + optY.fontStyle.family;\r\n                      // subCtx.fillStyle = opt.series.lineStyle.color;\r\n                      subCtx.fillStyle = opt.backgroundColor;\r\n                      subCtx.textBaseline = \"top\";\r\n                      subCtx.fillText(font.time, font.x + 10, opt.grid.top + 8);\r\n                      subCtx.fillText(font.timeDif, font.x + 10, opt.grid.top + 23);\r\n                      subCtx.fillText(font.subFreq, font.x + 10, opt.grid.top + 38);\r\n                      for (let i = 0; i < font.amplitude.length; i++) {\r\n                        subCtx.fillText(\r\n                          font.amplitude[i],\r\n                          font.x + 10,\r\n                          opt.grid.top + 38 + 20 * (i + 1)\r\n                        );\r\n                      }\r\n                    }\r\n                  }\r\n                } else if (\r\n                  optX.name === \"smpl\" ||\r\n                  (flag.line.idx != undefined &&\r\n                    flag.firstCommon.idx != undefined &&\r\n                    optX.name[flag.line.idx] == \"smpl\" &&\r\n                    optX.data[flag.firstCommon.idx] != undefined)\r\n                ) {\r\n                  if (flag.line.idx == undefined) {\r\n                    font = {\r\n                      x: flag.line.val * xk + xb,\r\n                      time: localStorage.getItem('language') == 'en' ?'order:':\"点序：\" + this.round(flag.line.val),\r\n                      timeDif:\r\n                        localStorage.getItem('language') == 'en' ? 'order:' :\"点数差：\" +\r\n                        this.round(flag.line.val - optX.data[flag.last_xWave.key]),\r\n                      amplitude: localStorage.getItem('language') == 'en' ? 'value:' :\"波形值：\" + this.round(optY.data[flag.line.key])\r\n                    };\r\n                    if (flag.last_xWave.key === -1)\r\n                      font.timeDif =\r\n                        localStorage.getItem('language') == 'en' ? 'order:' :\"点数差：\" + this.round(flag.line.val - optX.data[0]);\r\n                  } else {\r\n                    if (flag.last_xWave.idx == undefined) flag.last_xWave.idx = 0;\r\n                    font = {\r\n                      x: flag.line.val * xk + xb,\r\n                      time: localStorage.getItem('language') == 'en' ? 'order：' :\"点序：\" + this.round(flag.line.val),\r\n                      timeDif:\r\n                        localStorage.getItem('language') == 'en' ? 'order：' :\"点数差：\" +\r\n                        this.round(\r\n                          flag.line.val -\r\n                          optX.data[flag.firstCommon.idx][flag.last_xWave.key]\r\n                        ),\r\n                      amplitude: [] //\"波形值：\" + this.round(optY.data[flag.firstCommon.idx][flag.line.key])\r\n                    };\r\n                    for (let i = 0; i < optX.data.length; i++) {\r\n                      const valueX = optX.data[i];\r\n                      const valueY = optY.data[i];\r\n                      for (let j = 0; j < valueY.length; j++) {\r\n                        const valX = valueX[j];\r\n                        const valY = valueY[j];\r\n                        if (j == flag.line.key && valX == flag.line.val) {\r\n                          font.amplitude.push([\r\n                            `${localStorage.getItem('language') == 'en' ? 'value:' :'波形值'}${font.amplitude.length}：${this.round(valY)}`\r\n                          ]);\r\n                        }\r\n                      }\r\n                    }\r\n                    if (flag.last_xWave.key === -1)\r\n                      font.timeDif =\r\n                        localStorage.getItem('language') == 'en' ? 'order:' :\"点数差：\" +\r\n                        this.round(\r\n                          flag.line.val - optX.data[flag.firstCommon.idx][0]\r\n                        );\r\n                  }\r\n                  if (flag.last_xWave.key === -1)\r\n                    font.timeDif =\r\n                      localStorage.getItem('language') == 'en' ? 'order:' :\"点数差：\" +\r\n                      this.round(\r\n                        flag.line.val - optX.data[flag.firstCommon.idx][0]\r\n                      );\r\n                  font.x - opt.grid.left >= scopeR.w / 2 && (font.x -= 106);\r\n                  if (font.x >= opt.grid.left && font.x + 110 <= scopeR.r) {\r\n                    if (this.getDataType(font.amplitude) != \"Array\") {\r\n                      subCtx.beginPath();\r\n                      subCtx.fillStyle = opt.toolTip.background.color;\r\n                      subCtx.fillRect(font.x, opt.grid.top, 106, 60);\r\n                      subCtx.font =\r\n                        optY.fontStyle.size + \" \" + optY.fontStyle.family;\r\n                      subCtx.fillStyle = opt.series.lineStyle.color;\r\n                      subCtx.textBaseline = \"top\";\r\n                      subCtx.fillText(font.time, font.x + 10, opt.grid.top + 8);\r\n                      subCtx.fillText(font.timeDif, font.x + 10, opt.grid.top + 23);\r\n                      subCtx.fillText(\r\n                        font.amplitude,\r\n                        font.x + 10,\r\n                        opt.grid.top + 38\r\n                      );\r\n                    } else {\r\n                      subCtx.beginPath();\r\n                      subCtx.fillStyle = opt.toolTip.background.color;\r\n                      subCtx.fillRect(\r\n                        font.x,\r\n                        opt.grid.top,\r\n                        106,\r\n                        50 + 20 * font.amplitude.length\r\n                      );\r\n                      subCtx.font =\r\n                        optY.fontStyle.size + \" \" + optY.fontStyle.family;\r\n                      subCtx.fillStyle = opt.series.lineStyle.color;\r\n                      subCtx.textBaseline = \"top\";\r\n                      subCtx.fillText(font.time, font.x + 10, opt.grid.top + 8);\r\n                      subCtx.fillText(font.timeDif, font.x + 10, opt.grid.top + 23);\r\n                      for (let i = 0; i < font.amplitude.length; i++) {\r\n                        subCtx.fillText(\r\n                          font.amplitude[i],\r\n                          font.x + 10,\r\n                          opt.grid.top + 38 + 20 * (i + 1)\r\n                        );\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n              if (opt.toolTip.symbol.show) {\r\n                let size = opt.toolTip.symbol.size;\r\n                for (let i = 1, l = flag.labelLine.wave.length; i < l; i++) {\r\n                  // 对比分析图多条数据情况\r\n                  let line = {\r\n                    x: optX.data[flag.labelLine.wave[i].xAxis] * xk + xb,\r\n                    y: optY.data[flag.labelLine.wave[i].xAxis] * yk + yb\r\n                  };\r\n                  let line1 = {\r\n                    x: optX.data[flag.labelLine.wave[i].xAxis] * xk + xb,\r\n                    y: optY.data[flag.labelLine.wave[i].xAxis] * yk + yb\r\n                  };\r\n                  if (\r\n                    flag.line.idx != undefined &&\r\n                    flag.firstCommon.idx != undefined\r\n                  ) {\r\n                    let x1 = [],\r\n                      y1 = [];\r\n                    // 用百分比取下标\r\n                    let maxX = 0;\r\n                    let maxIndex = 0;\r\n                    let maxLength = -1;\r\n                    // 获取x值最大的值与最大值的长度和下标\r\n                    for (let k = 0; k < optX.data.length; k++) {\r\n                      if (optX.data[k][optX.data[k].length - 1] > maxX) {\r\n                        maxX = optX.data[k][optX.data[k].length - 1];\r\n                        maxLength = optX.data[k].length;\r\n                        maxIndex = k;\r\n                      }\r\n                    }\r\n                    for (let k = 0; k < optX.data.length; k++) {\r\n                      const valueX = optX.data[k];\r\n                      const valueY = optY.data[k];\r\n                      let index = Math.round(\r\n                        (valueX.length *\r\n                          optX.data[flag.firstCommon.idx][\r\n                          optX.data[flag.firstCommon.idx].length - 1\r\n                          ] *\r\n                          flag.labelLine.wave[i].xAxis) /\r\n                        (optX.data[flag.firstCommon.idx].length *\r\n                          valueX[valueX.length - 1])\r\n                      );\r\n                      // if (maxIndex == flag.firstCommon.idx ){\r\n                      //   //通过百分比计算下标：选中的点/选中下表长度 = index/当前下标长度\r\n                      //   index = flag.labelLine.wave[i].xAxis * optX.data[k].length / maxX;\r\n                      // } else {\r\n                      //   index = flag.labelLine.wave[i].xAxis * optX.data[k].length / optX.data[flag.firstCommon.idx].length\r\n                      // }\r\n                      x1.push(optX.data[k][index] * xk + xb);\r\n                      y1.push(optY.data[k][index] * yk + yb);\r\n                      // for (let j = 0; j < valueY.length; j++) {\r\n                      //   const valX = valueX[j];\r\n                      //   const valY = valueY[j];\r\n                      //   if (valX == optX.data[flag.firstCommon.idx][flag.labelLine.wave[i].xAxis]) {\r\n                      //     x1.push(optX.data[k][j] * xk + xb,)\r\n                      //     y1.push(optY.data[k][j] * yk + yb)\r\n                      //   }\r\n                      // }\r\n                    }\r\n                    line1 = {\r\n                      x: x1,\r\n                      y: y1\r\n                    };\r\n                    line = {\r\n                      x:\r\n                        optX.data[flag.firstCommon.idx][\r\n                        flag.labelLine.wave[i].xAxis\r\n                        ] *\r\n                        xk +\r\n                        xb,\r\n                      y:\r\n                        optY.data[flag.firstCommon.idx][\r\n                        flag.labelLine.wave[i].xAxis\r\n                        ] *\r\n                        yk +\r\n                        yb\r\n                    };\r\n                  }\r\n                  if (\r\n                    line.x >= opt.grid.left &&\r\n                    line.x <= scopeR.r &&\r\n                    line.y >= opt.grid.top &&\r\n                    line.y <= scopeR.b\r\n                  ) {\r\n                    subCtx.beginPath();\r\n                    subCtx.strokeStyle = flag.labelLine.wave[i].lineStyle.color;\r\n                    subCtx.fillStyle = flag.labelLine.wave[i].lineStyle.color;\r\n                    subCtx.moveTo(line.x, opt.grid.top);\r\n                    subCtx.lineTo(line.x, line.y - size);\r\n                    subCtx.stroke();\r\n                    if (this.getDataType(line1.x) == \"Array\") {\r\n                      for (let j = 0; j < line1.x.length; j++) {\r\n                        subCtx.beginPath();\r\n                        subCtx.arc(line1.x[j], line1.y[j], size, 0, 2 * Math.PI);\r\n                        subCtx.fillStyle =\r\n                          opt.toolTip.symbol.color !== \"\"\r\n                            ? opt.toolTip.symbol.color\r\n                            : flag.labelLine.wave[j].lineStyle.color;\r\n                        subCtx.fill();\r\n                      }\r\n                    } else {\r\n                      subCtx.beginPath();\r\n                      subCtx.arc(line.x, line.y, size, 0, 2 * Math.PI);\r\n                      subCtx.fillStyle =\r\n                        opt.toolTip.symbol.color !== \"\"\r\n                          ? opt.toolTip.symbol.color\r\n                          : flag.labelLine.wave[i].lineStyle.color;\r\n                      subCtx.fill();\r\n                    }\r\n                    subCtx.moveTo(line.x, line.y + size);\r\n                    subCtx.lineTo(line.x, scopeR.b);\r\n                    subCtx.stroke();\r\n                  }\r\n                }\r\n              } else {\r\n                subCtx.beginPath();\r\n                for (let i = 1, l = flag.labelLine.wave.length; i < l; i++) {\r\n                  if (i === 0) break;\r\n                  // 对比分析图多条数据情况\r\n                  let x = optX.data;\r\n                  let y = optY.data;\r\n                  if (\r\n                    flag.line.idx != undefined &&\r\n                    flag.firstCommon.idx != undefined\r\n                  ) {\r\n                    x = optX.data[flag.firstCommon.idx];\r\n                    y = optY.data[flag.firstCommon.idx];\r\n                  }\r\n                  let line = {\r\n                    x: x[flag.labelLine.wave[i].xAxis] * xk + xb,\r\n                    y: y[flag.labelLine.wave[i].xAxis] * yk + yb\r\n                  };\r\n                  if (\r\n                    line.x >= opt.grid.left &&\r\n                    line.x <= scopeR.r &&\r\n                    line.y >= opt.grid.top &&\r\n                    line.y <= scopeR.b\r\n                  ) {\r\n                    subCtx.strokeStyle = flag.labelLine.wave[i].lineStyle.color;\r\n                    subCtx.fillStyle = flag.labelLine.wave[i].lineStyle.color;\r\n                    subCtx.moveTo(line.x, opt.grid.top);\r\n                    subCtx.lineTo(line.x, scopeR.b);\r\n                  }\r\n                }\r\n                subCtx.stroke();\r\n              }\r\n              this.drawLine(flag.last_xWave);\r\n            }\r\n            // 差频\r\n            if (\r\n              flag.tools.flag_subFreq &&\r\n              opt.tools.subFreq.show &&\r\n              flagLine.key > -1\r\n            ) {\r\n              let unit = optX.name;\r\n              let xArr = optX.data;\r\n              let yArr = optY.data;\r\n              const isArrData = this.getDataType(xArr[0]) === \"Array\";\r\n              if (isArrData) {\r\n                xArr = xArr[flagLine.idx];\r\n                yArr = yArr[flagLine.idx];\r\n              }\r\n              let font = {\r\n                x: xArr[flagLine.key] * xk + xb,\r\n                amplitude: `${localStorage.getItem('language') == 'en' ? 'amplitude' : \"幅值\"}：${this.round(yArr[flagLine.key])}`,\r\n                subFreq: `${localStorage.getItem('language') == 'en' ? ' beat' : \"差频\"}：${this.round(\r\n                  flagLine.val - xArr[flag.arr_B[0]]\r\n                )}${unit}`\r\n              };\r\n              let height = 70;\r\n              let index = 0;\r\n              // 防止倍频出现无限大\r\n              if (opt.series.dataMsg.rotateSpeed === 0) {\r\n                opt.series.dataMsg.rotateSpeed = 1;\r\n              }\r\n              if (this.getDataType(unit) === \"Array\") {\r\n                font = {\r\n                  x: xArr[flagLine.key] * xk + xb,\r\n                  freq: `${localStorage.getItem('language') == 'en' ? ' frequency' : \"频率\"}：${this.round(flagLine.val)}${unit[flagLine.idx]}`,\r\n                  subFreq: `${localStorage.getItem('language') == 'en' ? ' beat' : \"差频\"}：${this.round(\r\n                    flagLine.val - xArr[flag.arr_B[0]]\r\n                  )}${unit[flagLine.idx]}`\r\n                };\r\n                for (let i = 0, l = optY.data.length; i < l; i++) {\r\n                  const value = optY.data[i];\r\n                  if (value[flagLine.key]) {\r\n                    font[`amplitude${i + 1}`] = `${localStorage.getItem('language') == 'en' ? 'amplitude' : \"幅值\"}：${this.round(\r\n                      value[flagLine.key]\r\n                    )}`;\r\n                    index++;\r\n                  }\r\n                }\r\n                height = (index + 3) * 15;\r\n              } else if (unit === \"NX\") {\r\n                font.freq = `${localStorage.getItem('language') == 'en' ? ' frequency' : \"频率\"}：${this.round(\r\n                  (flagLine.val * opt.series.dataMsg.rotateSpeed) / 60\r\n                )}Hz`;\r\n                font.nxFreq = `${localStorage.getItem('language') == 'en' ? 'SHG' : \"倍频\"}：${this.round(flagLine.val)}${unit}`;\r\n              } else {\r\n                font.freq = `${localStorage.getItem('language') == 'en' ? ' frequency' : \"频率\"}：${this.round(flagLine.val)}${unit}`;\r\n                font.nxFreq = `${localStorage.getItem('language') == 'en' ? 'SHG' : \"倍频\"}：${this.round(\r\n                  (flagLine.val * 60) / opt.series.dataMsg.rotateSpeed\r\n                )}NX`;\r\n              }\r\n              font.x - opt.grid.left >= scopeR.w / 2 && (font.x -= 125);\r\n              if (font.x >= opt.grid.left && font.x + 125 <= scopeR.r) {\r\n                subCtx.beginPath();\r\n                subCtx.lineWidth = 1;\r\n                subCtx.fillStyle = opt.toolTip.background.color;\r\n                subCtx.fillRect(font.x, opt.grid.top, 130, height);\r\n                subCtx.font = optY.fontStyle.size + \" \" + optY.fontStyle.family;\r\n                subCtx.fillStyle = opt.series.markLine.fontStyle.color;\r\n                subCtx.textBaseline = \"top\";\r\n                subCtx.fillText(font.freq, font.x + 10, opt.grid.top + 8);\r\n                if (isArrData) {\r\n                  subCtx.fillText(font.subFreq, font.x + 10, opt.grid.top + 23);\r\n                  index = 0;\r\n                  for (const key in font) {\r\n                    if (key.indexOf(\"amplitude\") > -1) {\r\n                      subCtx.fillText(\r\n                        font[key],\r\n                        font.x + 10,\r\n                        opt.grid.top + 38 + 15 * index\r\n                      );\r\n                      index++;\r\n                    }\r\n                  }\r\n                } else {\r\n                  subCtx.fillText(font.nxFreq, font.x + 10, opt.grid.top + 23);\r\n                  subCtx.fillText(font.subFreq, font.x + 10, opt.grid.top + 38);\r\n                  subCtx.fillText(font.amplitude, font.x + 10, opt.grid.top + 53);\r\n                }\r\n              }\r\n              if (opt.toolTip.symbol.show) {\r\n                let size = opt.toolTip.symbol.size;\r\n                for (let i = 0, l = flag.labelLine.spectrum.length; i < l; i++) {\r\n                  if (\r\n                    flag.labelLine.spectrum[i].name === \"\" &&\r\n                    flag.labelLine.spectrum[i].lineStyle\r\n                  ) {\r\n                    subCtx.strokeStyle = flag.labelLine.spectrum[i].lineStyle.color;\r\n                    subCtx.fillStyle =\r\n                      opt.toolTip.symbol.color !== \"\"\r\n                        ? opt.toolTip.symbol.color\r\n                        : flag.labelLine.spectrum[i].lineStyle.color;\r\n                    index = flag.labelLine.spectrum[i].xAxis;\r\n                    let x = xArr[index] * xk + xb;\r\n                    let y = yArr[index] * yk + yb;\r\n                    if (!x) {\r\n                      for (let j = 0, len = optX.data.length; j < len; j++) {\r\n                        const value = optX.data[j][index];\r\n                        if (value) {\r\n                          x = value * xk + xb;\r\n                          y = value * yk + yb;\r\n                          break;\r\n                        }\r\n                      }\r\n                    }\r\n                    if (\r\n                      x &&\r\n                      y &&\r\n                      x >= opt.grid.left &&\r\n                      x <= scopeR.r &&\r\n                      y >= opt.grid.top &&\r\n                      y <= scopeR.b\r\n                    ) {\r\n                      subCtx.beginPath();\r\n                      subCtx.moveTo(x, opt.grid.top);\r\n                      subCtx.lineTo(x, y - size);\r\n                      subCtx.stroke();\r\n                      subCtx.beginPath();\r\n                      subCtx.arc(x, y, size, 0, 2 * Math.PI);\r\n                      subCtx.fill();\r\n                      subCtx.moveTo(x, y + size);\r\n                      subCtx.lineTo(x, scopeR.b);\r\n                      subCtx.stroke();\r\n                    }\r\n                  }\r\n                  if (\r\n                    !flag.labelLine.spectrum[i].lineStyle &&\r\n                    flag.labelLine.spectrum[i].name.indexOf(\"p\") === -1 &&\r\n                    flag.labelLine.spectrum[i].name.indexOf(\"x\") === -1\r\n                  ) {\r\n                    index = flag.labelLine.spectrum[i].xAxis;\r\n                    let x = xArr[index] * xk + xb;\r\n                    let y = yArr[index] * yk + yb;\r\n                    if (!x) {\r\n                      for (let j = 0, len = optX.data.length; j < len; j++) {\r\n                        const value = optX.data[j][index];\r\n                        if (value) {\r\n                          x = value * xk + xb;\r\n                          y = value * yk + yb;\r\n                          break;\r\n                        }\r\n                      }\r\n                    }\r\n                    if (\r\n                      x &&\r\n                      y &&\r\n                      x >= opt.grid.left &&\r\n                      x <= scopeR.r &&\r\n                      y >= opt.grid.top &&\r\n                      y <= scopeR.b\r\n                    ) {\r\n                      subCtx.beginPath();\r\n                      subCtx.strokeStyle = opt.toolTip.lineStyle.color;\r\n                      subCtx.moveTo(x, opt.grid.top);\r\n                      subCtx.lineTo(x, y - size);\r\n                      subCtx.stroke();\r\n                      subCtx.beginPath();\r\n                      subCtx.fillStyle =\r\n                        opt.toolTip.symbol.color !== \"\"\r\n                          ? opt.toolTip.symbol.color\r\n                          : opt.toolTip.lineStyle.color;\r\n                      subCtx.arc(x, y, size, 0, 2 * Math.PI);\r\n                      subCtx.fill();\r\n                      subCtx.moveTo(x, y + size);\r\n                      subCtx.lineTo(x, scopeR.b);\r\n                      subCtx.stroke();\r\n                    }\r\n                  }\r\n                }\r\n              } else {\r\n                for (let i = 0, l = flag.labelLine.spectrum.length; i < l; i++) {\r\n                  if (\r\n                    flag.labelLine.spectrum[i].name === \"\" &&\r\n                    flag.labelLine.spectrum[i].lineStyle\r\n                  ) {\r\n                    subCtx.strokeStyle = flag.labelLine.spectrum[i].lineStyle.color;\r\n                    subCtx.fillStyle = flag.labelLine.spectrum[i].lineStyle.color;\r\n                    let x = xArr[flag.labelLine.spectrum[i].xAxis] * xk + xb;\r\n                    let y = yArr[flag.labelLine.spectrum[i].xAxis] * yk + yb;\r\n                    if (\r\n                      x >= opt.grid.left &&\r\n                      x <= scopeR.r &&\r\n                      y >= opt.grid.top &&\r\n                      y <= scopeR.b\r\n                    ) {\r\n                      subCtx.beginPath();\r\n                      subCtx.moveTo(x, opt.grid.top);\r\n                      subCtx.lineTo(x, scopeR.b);\r\n                      subCtx.stroke();\r\n                    }\r\n                  }\r\n                  if (\r\n                    !flag.labelLine.spectrum[i].lineStyle &&\r\n                    flag.labelLine.spectrum[i].name.indexOf(\"p\") === -1 &&\r\n                    flag.labelLine.spectrum[i].name.indexOf(\"x\") === -1\r\n                  ) {\r\n                    let oneLine = {\r\n                      x: xArr[flag.labelLine.spectrum[i].xAxis] * xk + xb,\r\n                      y: yArr[flag.labelLine.spectrum[i].xAxis] * yk + yb\r\n                    };\r\n                    if (\r\n                      oneLine.x >= opt.grid.left &&\r\n                      oneLine.x <= scopeR.r &&\r\n                      oneLine.y >= opt.grid.top &&\r\n                      oneLine.y <= scopeR.b\r\n                    ) {\r\n                      subCtx.beginPath();\r\n                      subCtx.strokeStyle = opt.toolTip.lineStyle.color;\r\n                      subCtx.moveTo(oneLine.x, opt.grid.top);\r\n                      subCtx.lineTo(oneLine.x, scopeR.b);\r\n                      subCtx.stroke();\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            }\r\n            // 倍频\r\n            if (flag.tools.flag_nx && opt.tools.labelFreq.show) {\r\n              if (opt.toolTip.symbol.show) {\r\n                let size = opt.toolTip.symbol.size;\r\n                for (let i = 0, l = flag.labelLine.spectrum.length; i < l; i++) {\r\n                  if (\r\n                    flag.labelLine.spectrum[i].name !== \"\" &&\r\n                    flag.labelLine.spectrum[i].lineStyle\r\n                  ) {\r\n                    // 适应对比分析图多图谱\r\n                    let x, y;\r\n                    if (flag.line.idx == undefined) {\r\n                      x = optX.data[flag.labelLine.spectrum[i].xAxis] * xk + xb;\r\n                      y = optY.data[flag.labelLine.spectrum[i].xAxis] * yk + yb;\r\n                    } else {\r\n                      x =\r\n                        optX.data[flag.line.idx][flag.labelLine.spectrum[i].xAxis] *\r\n                        xk +\r\n                        xb;\r\n                      y =\r\n                        optY.data[flag.line.idx][flag.labelLine.spectrum[i].xAxis] *\r\n                        yk +\r\n                        yb;\r\n                    }\r\n  \r\n                    if (\r\n                      x > opt.grid.left &&\r\n                      x <= scopeR.r &&\r\n                      y >= opt.grid.top &&\r\n                      y <= scopeR.b\r\n                    ) {\r\n                      let font = flag.labelLine.spectrum[i].name;\r\n                      let color = flag.labelLine.spectrum[i].lineStyle.color;\r\n                      clickCtx.beginPath();\r\n                      clickCtx.lineWidth = 1;\r\n                      clickCtx.strokeStyle = color;\r\n                      clickCtx.fillStyle = color;\r\n                      clickCtx.font =\r\n                        optY.fontStyle.size + \" \" + optY.fontStyle.family;\r\n                      clickCtx.save();\r\n                      clickCtx.moveTo(x, opt.grid.top);\r\n                      clickCtx.lineTo(x, y - size);\r\n                      clickCtx.translate(x - scopeR.h, 110 + opt.grid.top);\r\n                      clickCtx.rotate((-90 * Math.PI) / 180);\r\n                      clickCtx.textAlign = \"right\";\r\n                      clickCtx.textBaseline = \"bottom\";\r\n                      clickCtx.fillText(font, 40 + opt.grid.top, scopeR.h);\r\n                      clickCtx.restore();\r\n                      clickCtx.stroke();\r\n                      clickCtx.beginPath();\r\n                      clickCtx.arc(x, y, size, 0, 2 * Math.PI);\r\n                      clickCtx.fillStyle =\r\n                        opt.toolTip.symbol.color !== \"\"\r\n                          ? opt.toolTip.symbol.color\r\n                          : color;\r\n                      clickCtx.fill();\r\n                      clickCtx.moveTo(x, y + size);\r\n                      clickCtx.lineTo(x, scopeR.b);\r\n                      clickCtx.stroke();\r\n                    }\r\n                  }\r\n                }\r\n              } else {\r\n                for (let i = 0, l = flag.labelLine.spectrum.length; i < l; i++) {\r\n                  if (\r\n                    flag.labelLine.spectrum[i].name !== \"\" &&\r\n                    flag.labelLine.spectrum[i].lineStyle\r\n                  ) {\r\n                    // 适应对比分析图多图谱\r\n                    let x, y;\r\n                    if (flag.line.idx == undefined) {\r\n                      x = optX.data[flag.labelLine.spectrum[i].xAxis] * xk + xb;\r\n                      y = optY.data[flag.labelLine.spectrum[i].xAxis] * yk + yb;\r\n                    } else {\r\n                      x =\r\n                        optX.data[flag.line.idx][flag.labelLine.spectrum[i].xAxis] *\r\n                        xk +\r\n                        xb;\r\n                      y =\r\n                        optY.data[flag.line.idx][flag.labelLine.spectrum[i].xAxis] *\r\n                        yk +\r\n                        yb;\r\n                    }\r\n                    if (\r\n                      x > opt.grid.left &&\r\n                      x <= scopeR.r &&\r\n                      y >= opt.grid.top &&\r\n                      y <= scopeR.b\r\n                    ) {\r\n                      let font = flag.labelLine.spectrum[i].name;\r\n                      let color = flag.labelLine.spectrum[i].lineStyle.color;\r\n                      clickCtx.beginPath();\r\n                      clickCtx.lineWidth = 1;\r\n                      clickCtx.strokeStyle = color;\r\n                      clickCtx.fillStyle = color;\r\n                      clickCtx.fillStyle = color;\r\n                      clickCtx.font =\r\n                        optY.fontStyle.size + \" \" + optY.fontStyle.family;\r\n                      clickCtx.save();\r\n                      clickCtx.moveTo(x, opt.grid.top);\r\n                      clickCtx.lineTo(x, scopeR.b);\r\n                      clickCtx.translate(x - scopeR.h, 110 + opt.grid.top);\r\n                      clickCtx.rotate((-90 * Math.PI) / 180);\r\n                      clickCtx.textAlign = \"right\";\r\n                      clickCtx.textBaseline = \"bottom\";\r\n                      clickCtx.fillText(font, 40 + opt.grid.top, scopeR.h);\r\n                      clickCtx.restore();\r\n                      clickCtx.stroke();\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            }\r\n  \r\n            flag.toolCheck = 2;\r\n          },\r\n          drawWavePulse: function () {\r\n            let pulse = this._drawTools.ctx.pulse,\r\n              flag = this._flag,\r\n              opt = this._option,\r\n              optX = opt.x,\r\n              optY = opt.y,\r\n              scopeR = this._scope.r,\r\n              params = this._computeParams.proportion,\r\n              xk = params.x.k,\r\n              xb = params.x.b,\r\n              yk = params.y.k,\r\n              yb = params.y.b;\r\n            const flagLine = flag.line;\r\n            pulse.clearRect(0, 0, this._dom.width, this._dom.height);\r\n            flag.tools.flag_wave_Pulse = Number(\r\n              opt.tools.speedPulse.data.speedPulse\r\n            );\r\n            // 转速脉冲\r\n            if (flag.tools.flag_wave_Pulse && opt.tools.speedPulse.show) {\r\n              let size = opt.toolTip.symbol.size;\r\n              if (opt.toolTip.symbol.show) {\r\n                let size = opt.toolTip.symbol.size;\r\n                const xArray = this._option.tools.speedPulse.data.XArray; //转速脉冲点X轴数据\r\n                const yArray = this._option.tools.speedPulse.data.YArray;\r\n                let xArr = optX.data; //X轴数据\r\n                let speedPulesIndex = 0; //转速脉冲点X轴数据下标\r\n                for (let i = 0, l = xArr.length; i < l; i++) {\r\n                  if (xArr[i] == xArray[speedPulesIndex]) {\r\n                    let x = xArray[speedPulesIndex] * xk + xb;\r\n                    let y = yArray[speedPulesIndex] * yk + yb;\r\n                    if (\r\n                      x > opt.grid.left &&\r\n                      x <= scopeR.r &&\r\n                      y >= opt.grid.top &&\r\n                      y <= scopeR.b\r\n                    ) {\r\n                      pulse.beginPath();\r\n                      pulse.arc(x, y, size, 0, 2 * Math.PI);\r\n                      pulse.strokeStyle = opt.series.markLine.lineStyle.color;\r\n                      pulse.fillStyle = opt.series.markLine.lineStyle.color;\r\n                      pulse.fill();\r\n                      pulse.stroke();\r\n                    }\r\n                    speedPulesIndex++;\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          },\r\n          //数据时标注信息(增加多条数据时数组数据下标的判断)\r\n          drawAddLabel: function (type = 1) {\r\n            // type：1 => 点击添加标注；2 => 点击最大化\r\n            let _flag = this._flag,\r\n              opt = this._option,\r\n              foreCtx = this._drawTools.ctx.foreground;\r\n            let l = _flag.addPeak.length;\r\n            let size = {\r\n              width: this._scope.v.x.end.toFixed(4).length >= 8 ? 120 : 110,\r\n              height: 40\r\n            };\r\n            let n = ~~(this._scope.r.w / (size.width + 10));\r\n            let xArr = opt.x.data;\r\n            let yArr = opt.y.data;\r\n            let xMax = xArr[xArr.length - 1];\r\n            for (let i = 0; i < l; i++) {\r\n              // 增加判断，防止有效频段过滤频率后产生偏差\r\n              if (!Array.isArray(xArr[0])) {\r\n                if (_flag.addPeakPos[i].value == opt.x.data[_flag.addPeak[i]]) {\r\n                  break;\r\n                } else {\r\n                  //xArr变化过，需要重新取下标\r\n                  for (let n = 0, len = xArr.length; n < len; n++) {\r\n                    if (_flag.addPeakPos[i].value == xArr[n]) {\r\n                      _flag.addPeak[i] = n\r\n                      _flag.line.key = n\r\n                      _flag.line.val = xArr[n]\r\n                    }\r\n                  }\r\n                }\r\n              } else {\r\n                if (_flag.addPeakPos[i].value == opt.x.data[_flag.muchaddPeak[i].idx][_flag.addPeak[i]]) {\r\n                  break;\r\n                } else {\r\n                  //xArr变化过，需要重新取下标\r\n                  for (let n = 0, len = xArr[_flag.muchaddPeak[i].idx].length; n < len; n++) {\r\n                    if (_flag.addPeakPos[i].value == xArr[_flag.muchaddPeak[i].idx][n]) {\r\n                      _flag.addPeak[i] = n\r\n                      _flag.line.key = n\r\n                      _flag.line.val = xArr[_flag.muchaddPeak[i].idx][n]\r\n                      _flag.muchaddPeak[i].key = n\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            }\r\n            if (type === 1 && l < n) {\r\n              if (l !== 0) {\r\n                for (let i = 0; i < l; i++) {\r\n                  if (_flag.addPeak[i] === _flag.line.key) {\r\n                    return;\r\n                  }\r\n                }\r\n                _flag.addPeak.push(_flag.line.key);\r\n                _flag.muchaddPeak.push({\r\n                  key: _flag.line.key,\r\n                  idx: _flag.line.idx\r\n                });\r\n                l++;\r\n              } else if (l === n) {\r\n                return;\r\n              } else {\r\n                _flag.addPeak.push(_flag.line.key);\r\n                _flag.muchaddPeak.push({\r\n                  key: _flag.line.key,\r\n                  idx: _flag.line.idx\r\n                });\r\n                l++;\r\n              }\r\n              // 排序\r\n              _flag.addPeak.sort((a, b) => {\r\n                return a - b;\r\n              });\r\n              _flag.addPeakPos.length = 0;\r\n              if (Array.isArray(xArr[0])) {\r\n                //多组数据\r\n                for (let i = 0; i < l; i++) {\r\n                  let idx;\r\n                  let xFreq;\r\n                  _flag.muchaddPeak.forEach(item => {\r\n                    if (item.key === _flag.addPeak[i]) {\r\n                      idx = item.idx;\r\n                    }\r\n                  });\r\n                  if (idx !== undefined) {\r\n                    xFreq = xArr[idx][_flag.addPeak[i]];\r\n                  }\r\n                  if (!xFreq) {\r\n                    // 若当前下标下的x值不存在取\r\n                    for (let j = 0, len = xArr.length; j < len; j++) {\r\n                      const value = xArr[j];\r\n                      if (j !== idx && value[_flag.addPeak[i]]) {\r\n                        xFreq = value[_flag.addPeak[i]];\r\n                        break;\r\n                      }\r\n                    }\r\n                  }\r\n                  _flag.addPeakPos.push({\r\n                    xName: opt.x.name[idx],\r\n                    value: xFreq,\r\n                    freq: this.round(xFreq),\r\n                    x: i * (size.width + 5) + opt.grid.left + 0.5,\r\n                    y: opt.grid.top,\r\n                    flag: 0\r\n                  });\r\n                }\r\n              } else {\r\n                //一组数据\r\n                for (let i = 0; i < l; i++) {\r\n                  _flag.addPeakPos.push({\r\n                    xName: opt.x.name,\r\n                    value: opt.x.data[_flag.addPeak[i]],\r\n                    freq: this.round(opt.x.data[_flag.addPeak[i]]),\r\n                    x: i * (size.width + 5) + opt.grid.left + 0.5,\r\n                    y: opt.grid.top,\r\n                    flag: 0\r\n                  });\r\n                }\r\n              }\r\n            } else if (type === 2) {\r\n              let movePos = null,\r\n                peak = null,\r\n                flag = -1;\r\n              for (let i = 0; i < l; i++) {\r\n                if (_flag.addPeakPos[i].flag) {\r\n                  peak = _flag.addPeak[i];\r\n                  movePos = _flag.addPeakPos[i];\r\n                  flag = i;\r\n                  _flag.addPeak.splice(i, 1);\r\n                  _flag.addPeakPos.splice(i, 1);\r\n                  break;\r\n                }\r\n              }\r\n              if (flag > -1) {\r\n                _flag.addPeak.push(peak);\r\n                _flag.addPeakPos.push(movePos);\r\n              }\r\n            }\r\n            if (\r\n              opt.series.dataMsg.setPower &&\r\n              opt.x.name === _flag.addPeakPos[0].xName\r\n            ) {\r\n              for (let i = 0, len = xArr.length; i < len; i++) {\r\n                for (let j = 0, length = _flag.addPeakPos.length; j < length; j++) {\r\n                  if (_flag.addPeakPos[j].freq == xArr[i]) {\r\n                    // 若x值与xArr数组相同，将下标推入addPeak\r\n                    _flag.addPeak[j] = i;\r\n                    break;\r\n                  }\r\n                }\r\n              }\r\n            }\r\n            foreCtx.clearRect(0, 0, this._dom.width, this._dom.height);\r\n            foreCtx.beginPath();\r\n            foreCtx.font =\r\n              opt.series.markLine.fontStyle.size +\r\n              \" \" +\r\n              opt.series.markLine.fontStyle.family;\r\n            foreCtx.textBaseline = \"top\";\r\n            foreCtx.strokeStyle = opt.series.markLine.lineStyle.color;\r\n            let line = {\r\n              x: null,\r\n              y: null\r\n            };\r\n            const freqObj = {\r\n              Hz: `${localStorage.getItem('language') == 'en' ? ' frequency' : \"频率\"}：`,\r\n              NX: `${localStorage.getItem('language') == 'en' ? 'SHG' : \"倍频\"}：`,\r\n              ms: `${localStorage.getItem('language') == 'en' ? 'Time' : \"时间\"}：`\r\n            };\r\n            let freq = freqObj[opt.x.name];\r\n            if (Array.isArray(xArr[0])) {\r\n              freq = freqObj[opt.x.name[_flag.line.idx]];\r\n            }\r\n            const proportion = this._computeParams.proportion;\r\n            const xk = proportion.x.k;\r\n            const xb = proportion.x.b;\r\n            const yk = proportion.y.k;\r\n            const yb = proportion.y.b;\r\n            if (Array.isArray(xArr[0])) {\r\n              for (let i = 0; i < l; i++) {\r\n                let halfWidth = _flag.addPeakPos[i].x + size.width / 2;\r\n                let arr = [];\r\n                let m = 0;\r\n                let idx;\r\n                _flag.muchaddPeak.forEach(item => {\r\n                  if (item.key === _flag.addPeak[i]) {\r\n                    idx = item.idx;\r\n                  }\r\n                });\r\n                if (idx !== undefined) {\r\n                  const y = yArr[idx][_flag.addPeak[i]];\r\n                  if (y !== undefined) {\r\n                    arr.push({\r\n                      dy: m,\r\n                      val: this.round(y)\r\n                    });\r\n                    line = {\r\n                      x: xArr[idx][_flag.addPeak[i]] * xk + xb,\r\n                      y: yArr[idx][_flag.addPeak[i]] * yk + yb\r\n                    };\r\n                    m += 15;\r\n                  }\r\n                }\r\n                const length = arr.length;\r\n                foreCtx.fillStyle = opt.series.markLine.lineStyle.color;\r\n                foreCtx.fillRect(\r\n                  _flag.addPeakPos[i].x,\r\n                  _flag.addPeakPos[i].y,\r\n                  size.width,\r\n                  size.height + (length - 1) * 20\r\n                );\r\n                foreCtx.fillStyle = opt.series.markLine.fontStyle.color;\r\n                foreCtx.fillText(\r\n                  `${freq}${_flag.addPeakPos[i].freq}${opt.x.name[idx]}`,\r\n                  _flag.addPeakPos[i].x + 5,\r\n                  _flag.addPeakPos[i].y + 8\r\n                );\r\n                for (let j = 0; j < length; j++) {\r\n                  const value = arr[j];\r\n                  foreCtx.fillText(\r\n                    `${localStorage.getItem('language') == 'en' ? 'amplitude' : \"幅值\"}：` + value.val,\r\n                    _flag.addPeakPos[i].x + 5,\r\n                    _flag.addPeakPos[i].y + 23 + value.dy\r\n                  );\r\n                }\r\n                foreCtx.moveTo(\r\n                  halfWidth,\r\n                  _flag.addPeakPos[i].y + size.height + (length - 1) * 20\r\n                );\r\n                foreCtx.lineTo(line.x, line.y);\r\n              }\r\n            } else {\r\n              for (let i = 0; i < l; i++) {\r\n                if (\r\n                  (xArr.length < _flag.addPeak[i] && opt.series.dataMsg.setPower) ||\r\n                  (_flag.addPeakPos[i].freq > xMax &&\r\n                    _flag.addPeakPos.xName === opt.x.name)\r\n                )\r\n                  continue;\r\n                let halfWidth = _flag.addPeakPos[i].x + size.width / 2;\r\n                line = {\r\n                  x: xArr[_flag.addPeak[i]] * xk + xb,\r\n                  y: yArr[_flag.addPeak[i]] * yk + yb\r\n                };\r\n                foreCtx.fillStyle = opt.series.markLine.lineStyle.color;\r\n                foreCtx.fillRect(\r\n                  _flag.addPeakPos[i].x,\r\n                  _flag.addPeakPos[i].y,\r\n                  size.width,\r\n                  size.height\r\n                );\r\n                foreCtx.fillStyle = opt.series.markLine.fontStyle.color;\r\n                foreCtx.fillText(\r\n                  `${freq}${_flag.addPeakPos[i].freq}${opt.x.name}`,\r\n                  _flag.addPeakPos[i].x + 5,\r\n                  _flag.addPeakPos[i].y + 8\r\n                );\r\n                foreCtx.fillText(\r\n                  `${localStorage.getItem('language') == 'en' ? 'amplitude' : \"幅值\"}：` + opt.y.data[_flag.addPeak[i]].toFixed(4) + opt.y.name,\r\n                  _flag.addPeakPos[i].x + 5,\r\n                  _flag.addPeakPos[i].y + 23\r\n                );\r\n                foreCtx.moveTo(halfWidth, _flag.addPeakPos[i].y + size.height);\r\n                foreCtx.lineTo(line.x, line.y);\r\n              }\r\n            }\r\n            foreCtx.stroke();\r\n            if (opt.toolTip.symbol.show) {\r\n              //描点\r\n              foreCtx.strokeStyle = opt.toolTip.lineStyle.color;\r\n              foreCtx.fillStyle =\r\n                opt.toolTip.symbol.color !== \"\"\r\n                  ? opt.toolTip.symbol.color\r\n                  : opt.toolTip.lineStyle.color;\r\n              if (Array.isArray(xArr[0])) {\r\n                for (let i = 0; i < l; i++) {\r\n                  foreCtx.beginPath();\r\n                  // for (let j = 0, len = xArr.length; j < len; j++) {\r\n                  let idx;\r\n                  _flag.muchaddPeak.forEach(item => {\r\n                    if (item.key === _flag.addPeak[i]) {\r\n                      idx = item.idx;\r\n                    }\r\n                  });\r\n                  if (idx !== undefined) {\r\n                    const xValue = xArr[idx][_flag.addPeak[i]];\r\n                    if (xValue) {\r\n                      line = {\r\n                        x: xValue * xk + xb,\r\n                        y: yArr[idx][_flag.addPeak[i]] * yk + yb\r\n                      };\r\n                    }\r\n                  }\r\n                  // }\r\n                  foreCtx.arc(\r\n                    line.x,\r\n                    line.y,\r\n                    opt.toolTip.symbol.size,\r\n                    0,\r\n                    2 * Math.PI\r\n                  );\r\n                  foreCtx.fill();\r\n                }\r\n              } else {\r\n                for (let i = 0; i < l; i++) {\r\n                  foreCtx.beginPath();\r\n                  line = {\r\n                    x: xArr[_flag.addPeak[i]] * xk + xb,\r\n                    y: yArr[_flag.addPeak[i]] * yk + yb\r\n                  };\r\n                  foreCtx.arc(\r\n                    line.x,\r\n                    line.y,\r\n                    opt.toolTip.symbol.size,\r\n                    0,\r\n                    2 * Math.PI\r\n                  );\r\n                  foreCtx.fill();\r\n                }\r\n              }\r\n            }\r\n            foreCtx.clearRect(0, 0, this._dom.width, opt.grid.top);\r\n            foreCtx.clearRect(\r\n              0,\r\n              opt.grid.top,\r\n              opt.grid.left,\r\n              this._dom.height - opt.grid.top\r\n            );\r\n            foreCtx.clearRect(\r\n              opt.grid.left,\r\n              this._scope.r.b,\r\n              this._dom.width - opt.grid.left,\r\n              opt.grid.bottom\r\n            );\r\n            foreCtx.clearRect(\r\n              this._scope.r.r,\r\n              opt.grid.top,\r\n              opt.grid.right,\r\n              this._scope.r.h\r\n            );\r\n          },\r\n          // 绘制添加标注信息(原)\r\n          /* drawAddLabel: function (type = 1) { // type：1 => 点击添加标注；2 => 点击最大化\r\n            let _flag = this._flag,\r\n              opt = this._option,\r\n              foreCtx = this._drawTools.ctx.foreground;\r\n            let l = _flag.addPeak.length;\r\n            let size = {\r\n              width: this._scope.v.x.end.toFixed(4).length >= 8 ? 120 : 110,\r\n              height: 40,\r\n            };\r\n            let n = ~~(this._scope.r.w / (size.width + 10))\r\n            let xArr = opt.x.data;\r\n            let yArr = opt.y.data;\r\n            let xMax = xArr[xArr.length - 1];\r\n            if (type === 1 && l < n) {\r\n              if (l !== 0) {\r\n                for (let i = 0; i < l; i++) {\r\n                  if (_flag.addPeak[i] === _flag.line.key) {\r\n                    return;\r\n                  }\r\n                }\r\n                _flag.addPeak.push(_flag.line.key)\r\n                l++;\r\n              } else if (l === n) {\r\n                return\r\n              } else {\r\n                _flag.addPeak.push(_flag.line.key)\r\n                l++;\r\n              }\r\n              _flag.addPeak.sort((a, b) => {\r\n                return a - b\r\n              })\r\n              _flag.addPeakPos.length = 0;\r\n              if (Array.isArray(xArr[0])) {\r\n                for (let i = 0; i < l; i++) {\r\n                  let xFreq = xArr[_flag.line.idx][_flag.addPeak[i]];\r\n                  if (!xFreq) {\r\n                    for (let j = 0, len = xArr.length; j < len; j++) {\r\n                      const value = xArr[j];\r\n                      if (j !== _flag.line.idx && value[_flag.addPeak[i]]) {\r\n                        xFreq = value[_flag.addPeak[i]];\r\n                        break;\r\n                      }\r\n                    }\r\n                  }\r\n                  _flag.addPeakPos.push({\r\n                    xName: opt.x.name[_flag.line.idx],\r\n                    freq: this.round(xFreq),\r\n                    x: i * (size.width + 5) + opt.grid.left + 0.5,\r\n                    y: opt.grid.top,\r\n                    flag: 0\r\n                  })\r\n                }\r\n              } else {\r\n                for (let i = 0; i < l; i++) {\r\n                  _flag.addPeakPos.push({\r\n                    xName: opt.x.name,\r\n                    freq: this.round(opt.x.data[_flag.addPeak[i]]),\r\n                    x: i * (size.width + 5) + opt.grid.left + 0.5,\r\n                    y: opt.grid.top,\r\n                    flag: 0\r\n                  })\r\n                }\r\n              }\r\n            } else if (type === 2) {\r\n              let movePos = null,\r\n                peak = null,\r\n                flag = -1;\r\n              for (let i = 0; i < l; i++) {\r\n                if (_flag.addPeakPos[i].flag) {\r\n                  peak = _flag.addPeak[i];\r\n                  movePos = _flag.addPeakPos[i];\r\n                  flag = i;\r\n                  _flag.addPeak.splice(i, 1);\r\n                  _flag.addPeakPos.splice(i, 1);\r\n                  break;\r\n                }\r\n              }\r\n              if (flag > -1) {\r\n                _flag.addPeak.push(peak);\r\n                _flag.addPeakPos.push(movePos);\r\n              }\r\n            }\r\n            if (opt.series.dataMsg.setPower && opt.x.name === _flag.addPeakPos[0].xName) {\r\n              for (let i = 0, len = xArr.length; i < len; i++) {\r\n                for (let j = 0, length = _flag.addPeakPos.length; j < length; j++) {\r\n                  if (_flag.addPeakPos[j].freq == xArr[i]) {\r\n                    _flag.addPeak[j] = i;\r\n                    break;\r\n                  }\r\n                }\r\n              }\r\n            }\r\n            foreCtx.clearRect(0, 0, this._dom.width, this._dom.height);\r\n            foreCtx.beginPath();\r\n            foreCtx.font = opt.series.markLine.fontStyle.size +\r\n              ' ' + opt.series.markLine.fontStyle.family;\r\n            foreCtx.textBaseline = 'top';\r\n            foreCtx.strokeStyle = opt.series.markLine.lineStyle.color;\r\n            let line = {\r\n              x: null,\r\n              y: null\r\n            }\r\n            const freqObj = {\r\n              Hz: '频率：',\r\n              NX: '倍频：',\r\n              ms: '时间：',\r\n            }\r\n            let freq = freqObj[opt.x.name];\r\n            if (Array.isArray(xArr[0])) {\r\n              freq = freqObj[opt.x.name[_flag.line.idx]];\r\n            }\r\n            const proportion = this._computeParams.proportion;\r\n            const xk = proportion.x.k;\r\n            const xb = proportion.x.b;\r\n            const yk = proportion.y.k;\r\n            const yb = proportion.y.b;\r\n            if (Array.isArray(xArr[0])) {\r\n              for (let i = 0; i < l; i++) {\r\n                let halfWidth = _flag.addPeakPos[i].x + size.width / 2;\r\n                let arr = [];\r\n                let m = 0;\r\n                for (let j = 0, len = yArr.length; j < len; j++) {\r\n                  const y = yArr[j][_flag.addPeak[i]];\r\n                  if (y !== undefined) {\r\n                    arr.push({\r\n                      dy: m,\r\n                      val: this.round(y),\r\n                    })\r\n                    line = {\r\n                      x: xArr[j][_flag.addPeak[i]] * xk + xb,\r\n                      y: yArr[j][_flag.addPeak[i]] * yk + yb,\r\n                    }\r\n                    m += 15;\r\n                    // break;\r\n                  }\r\n                }\r\n                const length = arr.length;\r\n                foreCtx.fillStyle = opt.series.markLine.lineStyle.color\r\n                foreCtx.fillRect(_flag.addPeakPos[i].x, _flag.addPeakPos[i].y, size.width, size.height + (length - 1) * 20);\r\n                foreCtx.fillStyle = opt.series.markLine.fontStyle.color;\r\n                foreCtx.fillText(`${freq}${_flag.addPeakPos[i].freq}${opt.x.name[_flag.line.idx]}`, _flag.addPeakPos[i].x + 5, _flag.addPeakPos[i].y + 8);\r\n                for (let j = 0; j < length; j++) {\r\n                  const value = arr[j];\r\n                  foreCtx.fillText('幅值：' + value.val, _flag.addPeakPos[i].x + 5, _flag.addPeakPos[i].y + 23 + value.dy)\r\n                }\r\n                foreCtx.moveTo(halfWidth, _flag.addPeakPos[i].y + size.height + (length - 1) * 20);\r\n                foreCtx.lineTo(line.x, line.y);\r\n              }\r\n            } else {\r\n              for (let i = 0; i < l; i++) {\r\n                if (\r\n                  (xArr.length < _flag.addPeak[i] &&\r\n                    opt.series.dataMsg.setPower) ||\r\n                  (_flag.addPeakPos[i].freq > xMax &&\r\n                    _flag.addPeakPos.xName === opt.x.name)\r\n                ) continue;\r\n                let halfWidth = _flag.addPeakPos[i].x + size.width / 2;\r\n                line = {\r\n                  x: xArr[_flag.addPeak[i]] * xk + xb,\r\n                  y: yArr[_flag.addPeak[i]] * yk + yb\r\n                }\r\n                foreCtx.fillStyle = opt.series.markLine.lineStyle.color\r\n                foreCtx.fillRect(_flag.addPeakPos[i].x, _flag.addPeakPos[i].y, size.width, size.height)\r\n                foreCtx.fillStyle = opt.series.markLine.fontStyle.color;\r\n                foreCtx.fillText(`${freq}${_flag.addPeakPos[i].freq}${opt.x.name}`, _flag.addPeakPos[i].x + 5, _flag.addPeakPos[i].y + 8);\r\n                foreCtx.fillText('幅值：' + opt.y.data[_flag.addPeak[i]].toFixed(4) + opt.y.name, _flag.addPeakPos[i].x + 5, _flag.addPeakPos[i].y + 23);\r\n                foreCtx.moveTo(halfWidth, _flag.addPeakPos[i].y + size.height);\r\n                foreCtx.lineTo(line.x, line.y);\r\n              }\r\n            }\r\n            foreCtx.stroke();\r\n            if (opt.toolTip.symbol.show) {\r\n              foreCtx.strokeStyle = opt.toolTip.lineStyle.color;\r\n              foreCtx.fillStyle = opt.toolTip.symbol.color !== '' ? opt.toolTip.symbol.color : opt.toolTip.lineStyle.color;\r\n              if (Array.isArray(xArr[0])) {\r\n                for (let i = 0; i < l; i++) {\r\n                  foreCtx.beginPath();\r\n                  for (let j = 0, len = xArr.length; j < len; j++) {\r\n                    const xValue = xArr[j][_flag.addPeak[i]];\r\n                    if (xValue) {\r\n                      line = {\r\n                        x: xValue * xk + xb,\r\n                        y: yArr[j][_flag.addPeak[i]] * yk + yb,\r\n                      }\r\n                    }\r\n                  }\r\n                  foreCtx.arc(line.x, line.y, opt.toolTip.symbol.size, 0, 2 * Math.PI);\r\n                  foreCtx.fill();\r\n                }\r\n              } else {\r\n                for (let i = 0; i < l; i++) {\r\n                  foreCtx.beginPath();\r\n                  line = {\r\n                    x: xArr[_flag.addPeak[i]] * xk + xb,\r\n                    y: yArr[_flag.addPeak[i]] * yk + yb\r\n                  }\r\n                  foreCtx.arc(line.x, line.y, opt.toolTip.symbol.size, 0, 2 * Math.PI);\r\n                  foreCtx.fill();\r\n                }\r\n              }\r\n            }\r\n            foreCtx.clearRect(0, 0, this._dom.width, opt.grid.top);\r\n            foreCtx.clearRect(0, opt.grid.top, opt.grid.left, this._dom.height - opt.grid.top);\r\n            foreCtx.clearRect(opt.grid.left, this._scope.r.b, this._dom.width - opt.grid.left, opt.grid.bottom);\r\n            foreCtx.clearRect(this._scope.r.r, opt.grid.top, opt.grid.right, this._scope.r.h);\r\n          }, */\r\n          // 获取最大的峰值下标\r\n          getPeakIndexArr: function (yArr, count) {\r\n            /!*yArr=频谱y数组 count=需要获取的最大下标数目*!/;\r\n            if (yArr.length <= 1) {\r\n              return [0];\r\n            }\r\n            var indexArr = [],\r\n              xVal = [];\r\n            var t_yArr = []; //构造包含索引和y最大极值的数组\r\n            var i = 0;\r\n            var j = 0;\r\n            var len = yArr.length;\r\n            var obj = {};\r\n            if (yArr[0] > yArr[1]) {\r\n              obj.key = 0;\r\n              obj.value = yArr[0];\r\n              t_yArr.push(obj);\r\n            }\r\n            for (i = 1; i < len - 1; i++) {\r\n              if (yArr[i] > yArr[i - 1] && yArr[i] > yArr[i + 1]) {\r\n                obj = {};\r\n                obj.key = i;\r\n                obj.value = yArr[i];\r\n                t_yArr.push(obj);\r\n              }\r\n            }\r\n            if (yArr[len - 2] < yArr[len - 1]) {\r\n              obj = {};\r\n              obj.key = len - 1;\r\n              obj.value = yArr[len - 1];\r\n              t_yArr.push(obj);\r\n            }\r\n            len = t_yArr.length;\r\n            for (i = 0; i < count; i++) {\r\n              for (j = i + 1; j < len; j++) {\r\n                if (t_yArr[i].value < t_yArr[j].value) {\r\n                  obj = t_yArr[i];\r\n                  t_yArr[i] = t_yArr[j];\r\n                  t_yArr[j] = obj;\r\n                }\r\n              }\r\n            }\r\n            if (count > len) {\r\n              count = len;\r\n            }\r\n            for (i = 0; i < count; i++) {\r\n              indexArr.push(t_yArr[i].key);\r\n            }\r\n            return indexArr;\r\n          },\r\n          // 设置导出音频信息\r\n          setAudio (freq, data) {\r\n            const l = data.length;\r\n            var max = Number.MIN_VALUE;\r\n            var pointSize = 16; //采样点大小\r\n            var length = (l * pointSize) / 8; //数据长度\r\n            var channelNumber = 1; //声道数量\r\n            var blockSize = (channelNumber * pointSize) / 8; //采样块大小\r\n            var buffer = new Uint8Array(length + 44); //wav文件数据\r\n            var view = new DataView(buffer.buffer); //数据视图\r\n            buffer.set(new Uint8Array([0x52, 0x49, 0x46, 0x46])); //\"RIFF\"\r\n            view.setUint32(4, l + 44, true); //总长度\r\n            buffer.set(new Uint8Array([0x57, 0x41, 0x56, 0x45]), 8); //\"WAVE\"\r\n            buffer.set(new Uint8Array([0x66, 0x6d, 0x74, 0x20]), 12); //\"fmt \"\r\n            view.setUint32(16, 16, true); //WAV头大小\r\n            view.setUint16(20, 1, true); //编码方式\r\n            view.setUint16(22, 1, true); //声道数量\r\n            view.setUint32(24, freq, true); //采样频率\r\n            view.setUint32(28, freq * blockSize, true); //每秒字节数\r\n            view.setUint16(32, blockSize, true); //采样块大小\r\n            view.setUint16(34, pointSize, true); //采样点大小\r\n            buffer.set(new Uint8Array([0x64, 0x61, 0x74, 0x61]), 36); //\"data\"\r\n            view.setUint32(40, length, true); //数据长度\r\n            for (let i = 0; i < l; i++) {\r\n              if (Math.abs(data[i]) > max) {\r\n                max = Math.abs(data[i]);\r\n              }\r\n            }\r\n            if (max == 0) {\r\n              //波形坐标轴最小刻度为0.001\r\n              max = 0.0001;\r\n            }\r\n            var xs = 32760 / max; //放大系数:short/max，short范围(-32768~32767)\r\n            for (let i = 0; i < l; i++) {\r\n              data[i] = Math.round(data[i] * xs); //数据\r\n            }\r\n            buffer.set(new Uint8Array(new Int16Array(data).buffer), 44); //数据\r\n            return buffer;\r\n          },\r\n          // 导出文件\r\n          funDownload: function (content, filename) {\r\n            var eleLink = document.createElement(\"a\"); // 创建隐藏的可下载链接\r\n            eleLink.download = filename;\r\n            eleLink.style.display = \"none\";\r\n            var blob = new Blob([content]); // 字符内容转变成blob地址\r\n            eleLink.href = URL.createObjectURL(blob);\r\n            eleLink.dispatchEvent(new MouseEvent(\"click\"));\r\n          },\r\n          // 画标线\r\n          drawMarkLine: function () {\r\n            let opt = this._option;\r\n            let arr = opt.series.markLine.data;\r\n            let failCtx = this._drawTools.ctx.failure;\r\n            failCtx.clearRect(0, 0, this._dom.width, this._dom.height);\r\n            if (arr.length === 0) return;\r\n            const coordinateSystem = opt.series.coordinateSystem;\r\n            let scopeR = this._scope.r;\r\n            if (coordinateSystem === \"rectanguler\") {\r\n              let paramsX = this._computeParams.proportion.x;\r\n              let paramsY = this._computeParams.proportion.y;\r\n              let extreme = {\r\n                max: opt.x.data[opt.x.data.length - 1],\r\n                min: opt.x.data[0]\r\n              };\r\n              const l = arr.length;\r\n              if (arr && l > 0) {\r\n                if (l === 1 && arr[0].name === undefined) {\r\n                  const value = arr[0];\r\n                  const dValue = {\r\n                    val: value.val,\r\n                    key: value.key,\r\n                    dex: 0\r\n                  };\r\n                  this.drawLine(dValue);\r\n                  this._flag.line = {\r\n                    key: arr[0].key,\r\n                    val: arr[0].val,\r\n                    idx: undefined\r\n                  };\r\n                  this._flag.toolCheck = 0;\r\n                  arr.length = 0;\r\n                } else {\r\n                  let lineStyle = opt.series.markLine.lineStyle;\r\n                  let fontStyle = opt.series.markLine.fontStyle;\r\n                  // 新增对比分析的故障频率\r\n                  if (opt.x.data[0] && Array.isArray(opt.x.data[0])) {\r\n                    for (let i = 0; i < l; i++) {\r\n                      let x = opt.x.data[0][arr[i].xAxis] * paramsX.k + paramsX.b + 0.5;\r\n                      let y = opt.y.data[0][arr[i].xAxis] * paramsY.k + paramsY.b;\r\n                      if (\r\n                        x >= opt.grid.left &&\r\n                        x <= scopeR.r &&\r\n                        y >= opt.grid.top &&\r\n                        y <= scopeR.b\r\n                      ) {\r\n                        failCtx.beginPath();\r\n                        failCtx.lineWidth = 1;\r\n                        failCtx.strokeStyle = lineStyle.color;\r\n                        failCtx.fillStyle = lineStyle.color; //设定故障频率文字颜色\r\n                        failCtx.font =\r\n                          fontStyle.weight +\r\n                          \" \" +\r\n                          fontStyle.size +\r\n                          \" \" +\r\n                          fontStyle.family;\r\n                        failCtx.save();\r\n                        failCtx.moveTo(x, opt.grid.top);\r\n                        failCtx.lineTo(x, y - 3);\r\n                        failCtx.translate(x - scopeR.h, 110 + opt.grid.top);\r\n                        failCtx.rotate((-90 * Math.PI) / 180);\r\n                        failCtx.textAlign = \"right\";\r\n                        failCtx.textBaseline = \"bottom\";\r\n                        failCtx.fillText(arr[i].name, 40 + opt.grid.top, scopeR.h);\r\n                        failCtx.restore();\r\n                        failCtx.stroke();\r\n                        failCtx.beginPath();\r\n                        failCtx.fillStyle = lineStyle.color;\r\n                        failCtx.arc(x, y, 3, 0, 2 * Math.PI);\r\n                        failCtx.fill();\r\n                        failCtx.moveTo(x, y + 3);\r\n                        failCtx.lineTo(x, scopeR.b);\r\n                        failCtx.stroke();\r\n                      }\r\n                    }\r\n  \r\n  \r\n                  } else {\r\n                    for (let i = 0; i < l; i++) {\r\n                      let x = opt.x.data[arr[i].xAxis] * paramsX.k + paramsX.b + 0.5;\r\n                      let y = opt.y.data[arr[i].xAxis] * paramsY.k + paramsY.b;\r\n                      if (\r\n                        x >= opt.grid.left &&\r\n                        x <= scopeR.r &&\r\n                        y >= opt.grid.top &&\r\n                        y <= scopeR.b\r\n                      ) {\r\n                        failCtx.beginPath();\r\n                        failCtx.lineWidth = 1;\r\n                        failCtx.strokeStyle = lineStyle.color;\r\n                        failCtx.fillStyle = lineStyle.color; //设定故障频率文字颜色\r\n                        failCtx.font =\r\n                          fontStyle.weight +\r\n                          \" \" +\r\n                          fontStyle.size +\r\n                          \" \" +\r\n                          fontStyle.family;\r\n                        failCtx.save();\r\n                        failCtx.moveTo(x, opt.grid.top);\r\n                        failCtx.lineTo(x, y - 3);\r\n                        failCtx.translate(x - scopeR.h, 110 + opt.grid.top);\r\n                        failCtx.rotate((-90 * Math.PI) / 180);\r\n                        failCtx.textAlign = \"right\";\r\n                        failCtx.textBaseline = \"bottom\";\r\n                        failCtx.fillText(arr[i].name, 40 + opt.grid.top, scopeR.h);\r\n                        failCtx.restore();\r\n                        failCtx.stroke();\r\n                        failCtx.beginPath();\r\n                        failCtx.fillStyle = lineStyle.color;\r\n                        failCtx.arc(x, y, 3, 0, 2 * Math.PI);\r\n                        failCtx.fill();\r\n                        failCtx.moveTo(x, y + 3);\r\n                        failCtx.lineTo(x, scopeR.b);\r\n                        failCtx.stroke();\r\n                      }\r\n                    }\r\n                  }\r\n  \r\n  \r\n                }\r\n                this._flag.tools.flag_subFreq && this.drawLabelLine();\r\n              }\r\n            } else if (coordinateSystem === \"circle\") {\r\n              const color = opt.series.data.color;\r\n              for (let i = 0, l = arr.length; i < l; i++) {\r\n                failCtx.beginPath();\r\n                if (arr[i]) {\r\n                  // for (let val of arr[i]) {\r\n                  //机舱轨迹图点击\r\n                  for (let val in arr[i]) {\r\n                    failCtx.strokeStyle = color[i];\r\n                    failCtx.arc(scopeR.x, scopeR.y, val, 0, 2 * Math.PI);\r\n                  }\r\n                }\r\n  \r\n              }\r\n              failCtx.stroke();\r\n            } else if (coordinateSystem === \"circleLine\") {\r\n              const color = opt.series.data.color;\r\n              for (let i = 0, l = arr.length; i < l; i++) {\r\n                failCtx.beginPath();\r\n                for (let val of arr[i]) {\r\n                  failCtx.strokeStyle = color[i];\r\n                  failCtx.arc(scopeR.x, scopeR.y, val, 0, 2 * Math.PI);\r\n                }\r\n              }\r\n              failCtx.stroke();\r\n            }\r\n          },\r\n            // 画闸门\r\n          drawGateLine(){\r\n            let opt = this._option;\r\n            let line = opt.series.gateMsg;\r\n            const coordinateSystem = opt.series.coordinateSystem;\r\n            let scopeR = this._scope.r;\r\n            if(line.isShow && opt.x.data.length){\r\n              if (coordinateSystem === \"rectanguler\") {\r\n                let paramsX = this._computeParams.proportion.x;\r\n                let paramsY = this._computeParams.proportion.y;\r\n                let foreCtx = this._drawTools.ctx.gate;\r\n                let gateLineStart = {\r\n                  x:line.fStart * paramsX.k + paramsX.b,\r\n                  y:line.fThreshold * paramsY.k + paramsY.b,\r\n                };\r\n                let gateLineEnd = {\r\n                  x:(Number(line.fStart) + Number(line.fWidth)) * paramsX.k + paramsX.b,\r\n                  y:line.fThreshold * paramsY.k + paramsY.b,\r\n                };\r\n                foreCtx.clearRect(\r\n                  0,\r\n                  0,\r\n                  this._dom.width,\r\n                  this._dom.height\r\n                );\r\n                  if (\r\n                      gateLineStart.x >= opt.grid.left &&\r\n                      gateLineStart.x <= scopeR.r &&\r\n                      gateLineStart.y >= opt.grid.top &&\r\n                      gateLineStart.y <= scopeR.b\r\n                  ) {\r\n                      foreCtx.beginPath();\r\n                      foreCtx.strokeStyle = line.lineStyle.color;\r\n                      foreCtx.lineWidth = line.lineStyle.width;\r\n                      foreCtx.fillStyle = line.lineStyle.color;\r\n                      foreCtx.moveTo(gateLineStart.x, gateLineStart.y);\r\n                      foreCtx.arc(gateLineStart.x - 2, gateLineStart.y, 2, 0, 2 * Math.PI);\r\n                      foreCtx.fillStyle = line.lineStyle.color;//设置填充颜色\r\n                      foreCtx.fill();//开始填充\r\n                      foreCtx.lineTo(gateLineEnd.x, gateLineEnd.y);\r\n                      foreCtx.moveTo(Number(gateLineEnd.x + 2), gateLineEnd.y);\r\n                      foreCtx.arc(Number(gateLineEnd.x + 2), gateLineEnd.y, 2, 0, 2 * Math.PI);\r\n                      foreCtx.fillStyle = line.lineStyle.color;//设置填充颜色\r\n                      foreCtx.fill();//开始填充\r\n                      foreCtx.stroke();\r\n                  }\r\n              }\r\n            }\r\n          },\r\n          // 关闭闸门\r\n          closeGate: () => {\r\n            this._option.series.gateMsg.isShow = 0;\r\n            this._drawTools.ctx.gate.clearRect(\r\n                0,\r\n                0,\r\n                this._dom.width,\r\n                this._dom.height\r\n            );\r\n          },\r\n          // 圆周图坐标(背景)\r\n          drawCircleAxios () {\r\n            const opt = this._option;\r\n            const dom = this._dom;\r\n            const backCtx = this._drawTools.ctx.background;\r\n            const sr = this._scope.r;\r\n            const x = sr.x;\r\n            const y = sr.y;\r\n            const r = sr.rs;\r\n            const line = opt.series.lineStyle;\r\n            const font = opt.series.fontStyle;\r\n            backCtx.clearRect(0, 0, dom.width, dom.height);\r\n            backCtx.beginPath();\r\n            backCtx.strokeStyle = line.color;\r\n            backCtx.lineWidth = line.width;\r\n            backCtx.fillStyle = font.color;\r\n            backCtx.arc(x, y, r, 0, 2 * Math.PI);\r\n            backCtx.moveTo(x - r, y);\r\n            backCtx.lineTo(x + r, y);\r\n            backCtx.moveTo(x, y - r);\r\n            backCtx.lineTo(x, y + r);\r\n            backCtx.stroke();\r\n            backCtx.font = `${font.size} ${font.family}`;\r\n            backCtx.textAlign = \"center\";\r\n            backCtx.textBaseline = \"bottom\";\r\n            backCtx.fillText(\"∠0°\", x, y - r);\r\n            backCtx.textBaseline = \"top\";\r\n            backCtx.fillText(\"∠180°\", x, y + r + 2);\r\n            backCtx.textAlign = \"left\";\r\n            backCtx.textBaseline = \"middle\";\r\n            backCtx.fillText(\"∠90°\", x + r + 2, y);\r\n            backCtx.textAlign = \"right\";\r\n            backCtx.fillText(\"∠270°\", x - r - 2, y);\r\n            backCtx.beginPath();\r\n            backCtx.arc(x, y, r / 2, 0, 2 * Math.PI);\r\n            backCtx.stroke();\r\n            backCtx.beginPath();\r\n            backCtx.arc(x, y, (3 * r) / 4, 0, 2 * Math.PI);\r\n            backCtx.stroke();\r\n          },\r\n          // 圆周图数据\r\n          drawPointsLine () {\r\n            const dom = this._dom;\r\n            const series = this._option.series;\r\n            const sr = this._scope.r;\r\n            const rx = sr.x; /* 圆心x */\r\n            const ry = sr.y; /* 圆心y */\r\n            const rr = sr.rs; /* 半径 */\r\n            const data = series.data;\r\n            const amplitude = data.amplitude; /* x轴角度 */\r\n            const phase = data.phase; /* y轴的幅值 */\r\n            const dataCtx = this._drawTools.ctx.data;\r\n            const max = data.maxAmplitude;\r\n            const min = data.minAmplitude;\r\n            const PP = data.PP; /* 四分之一的半径对应的幅值大小 */\r\n            const axis = this.axis;\r\n            axis.x.length = 0;\r\n            axis.y.length = 0;\r\n            axis.index.length = 0;\r\n            if (\r\n              amplitude === undefined ||\r\n              phase === undefined ||\r\n              phase.length === 0\r\n            ) {\r\n              return;\r\n            }\r\n            dataCtx.clearRect(0, 0, dom.width, dom.height);\r\n            for (let i = 0, l = phase.length; i < l; i++) {\r\n              const Aarr = amplitude;\r\n              const Parr = phase[i];\r\n              const color = data.color;\r\n              dataCtx.lineWidth = series.lineStyle.width;\r\n              dataCtx.fillStyle = color;\r\n              dataCtx.strokeStyle = color;\r\n              if (this.getDataType(Parr) === \"Array\") {\r\n                for (let j = 0, len = Parr.length; j < len; j++) {\r\n                  dataCtx.beginPath();\r\n                  const A = (360 / len) * j; //每个点对应在坐标系内的角度\r\n                  let yVal = Parr[j]; //波形的幅值\r\n                  let nyVal = Parr[j + 1]; //下一个波形的幅值\r\n                  const nA = (360 / len) * (j + 1); //下一个点对应在坐标系内的角度\r\n                  if (j === len - 1) {\r\n                    nyVal = Parr[0];\r\n                  }\r\n                  let x;\r\n                  let y;\r\n                  x = {\r\n                    oVal:\r\n                      rx +\r\n                      (((3 * PP + yVal) * rr) / 4 / PP) *\r\n                      Math.sin((A * Math.PI) / 180),\r\n                    nVal:\r\n                      rx +\r\n                      (((3 * PP + nyVal) * rr) / 4 / PP) *\r\n                      Math.sin((nA * Math.PI) / 180)\r\n                  };\r\n                  y = {\r\n                    oVal:\r\n                      ry -\r\n                      (((3 * PP + yVal) * rr) / 4 / PP) *\r\n                      Math.cos((A * Math.PI) / 180),\r\n                    nVal:\r\n                      ry -\r\n                      (((3 * PP + nyVal) * rr) / 4 / PP) *\r\n                      Math.cos((nA * Math.PI) / 180)\r\n                  };\r\n  \r\n                  dataCtx.moveTo(x.oVal, y.oVal);\r\n                  dataCtx.lineTo(x.nVal, y.nVal);\r\n                  axis.x.push(x);\r\n                  axis.y.push(y);\r\n                  axis.index.push({ i, j });\r\n                  dataCtx.stroke();\r\n                }\r\n              }\r\n            }\r\n            const text = `${this.round(max)}${series.unit}`;\r\n            const font = series.fontStyle;\r\n            dataCtx.beginPath();\r\n            dataCtx.fillStyle = font.color;\r\n            dataCtx.font = `${font.size} ${font.family}`;\r\n            dataCtx.textAlign = \"left\";\r\n            dataCtx.textBaseline = \"bottom\";\r\n            dataCtx.fillText(\r\n              text,\r\n              rx + rr * Math.cos((45 * Math.PI) / 180),\r\n              ry - rr * Math.sin((45 * Math.PI) / 180)\r\n            );\r\n            dataCtx.textAlign = \"left\";\r\n            dataCtx.textBaseline = \"top\";\r\n            dataCtx.fillText(\r\n              text,\r\n              rx + rr * Math.cos((45 * Math.PI) / 180),\r\n              ry + rr * Math.sin((45 * Math.PI) / 180)\r\n            );\r\n            dataCtx.textAlign = \"right\";\r\n            dataCtx.textBaseline = \"bottom\";\r\n            dataCtx.fillText(\r\n              text,\r\n              rx - rr * Math.cos((45 * Math.PI) / 180),\r\n              ry - rr * Math.sin((45 * Math.PI) / 180)\r\n            );\r\n            dataCtx.textAlign = \"right\";\r\n            dataCtx.textBaseline = \"top\";\r\n            dataCtx.fillText(\r\n              text,\r\n              rx - rr * Math.cos((45 * Math.PI) / 180),\r\n              ry + rr * Math.sin((45 * Math.PI) / 180)\r\n            );\r\n            const text2 = -text;\r\n            dataCtx.beginPath();\r\n            dataCtx.fillStyle = font.color;\r\n            dataCtx.font = `${font.size} ${font.family}`;\r\n            dataCtx.textAlign = \"right\";\r\n            dataCtx.textBaseline = \"bottom\";\r\n            dataCtx.fillText(\r\n              text2,\r\n              rx + (rr / 2) * Math.cos((45 * Math.PI) / 180) - 20,\r\n              ry - (rr / 2) * Math.sin((45 * Math.PI) / 180)\r\n            );\r\n            dataCtx.textAlign = \"right\";\r\n            dataCtx.textBaseline = \"top\";\r\n            dataCtx.fillText(\r\n              text2,\r\n              rx + (rr / 2) * Math.cos((45 * Math.PI) / 180) - 20,\r\n              ry + (rr / 2) * Math.sin((45 * Math.PI) / 180)\r\n            );\r\n            dataCtx.textAlign = \"left\";\r\n            dataCtx.textBaseline = \"bottom\";\r\n            dataCtx.fillText(\r\n              text2,\r\n              rx - (rr / 2) * Math.cos((45 * Math.PI) / 180) + 20,\r\n              ry - (rr / 2) * Math.sin((45 * Math.PI) / 180)\r\n            );\r\n            dataCtx.textAlign = \"left\";\r\n            dataCtx.textBaseline = \"top\";\r\n            dataCtx.fillText(\r\n              text2,\r\n              rx - (rr / 2) * Math.cos((45 * Math.PI) / 180) + 20,\r\n              ry + (rr / 2) * Math.sin((45 * Math.PI) / 180)\r\n            );\r\n          },\r\n          // 倾角分布图(沉降跟踪图)坐标(背景)\r\n          drawCircle () {\r\n            const opt = this._option;\r\n            const dom = this._dom;\r\n            const backCtx = this._drawTools.ctx.background;\r\n            const sr = this._scope.r;\r\n            const x = sr.x;\r\n            const y = sr.y;\r\n            const r = sr.rs;\r\n            const line = opt.series.lineStyle;\r\n            const font = opt.series.fontStyle;\r\n            backCtx.clearRect(0, 0, dom.width, dom.height);\r\n            backCtx.beginPath();\r\n            backCtx.strokeStyle = line.color;\r\n            backCtx.lineWidth = line.width;\r\n            backCtx.fillStyle = font.color;\r\n            backCtx.arc(x, y, r, 0, 2 * Math.PI);\r\n            backCtx.moveTo(x - r, y);\r\n            backCtx.lineTo(x + r, y);\r\n            backCtx.moveTo(x, y - r);\r\n            backCtx.lineTo(x, y + r);\r\n            backCtx.stroke();\r\n            backCtx.font = `${font.size} ${font.family}`;\r\n            backCtx.textAlign = \"center\";\r\n            backCtx.textBaseline = \"bottom\";\r\n            backCtx.fillText(\"N ∠0°\", x, y - r);\r\n            backCtx.textBaseline = \"top\";\r\n            backCtx.fillText(\"S ∠180°\", x, y + r + 2);\r\n            backCtx.textAlign = \"left\";\r\n            backCtx.textBaseline = \"middle\";\r\n            backCtx.fillText(\"E ∠90°\", x + r + 2, y);\r\n            backCtx.textAlign = \"right\";\r\n            backCtx.fillText(\"W ∠270°\", x - r - 2, y);\r\n          },\r\n          // 倾角分布图(沉降跟踪图)数据\r\n          drawPoints () {\r\n            const dom = this._dom;\r\n            const series = this._option.series;\r\n            const sr = this._scope.r;\r\n            const rx = sr.x; /* 圆心x */\r\n            const ry = sr.y; /* 圆心y */\r\n            const rr = sr.rs; /* 半径 */\r\n            const data = series.data;\r\n            const amplitude = data.amplitude; /* 幅值 */\r\n            const phase = data.phase; /* 相位 */\r\n            const dataCtx = this._drawTools.ctx.data;\r\n            const max = data.maxAmplitude;\r\n            const axis = this.axis;\r\n            axis.x.length = 0;\r\n            axis.y.length = 0;\r\n            axis.index.length = 0;\r\n            if (\r\n              amplitude === undefined ||\r\n              amplitude.length === 0 ||\r\n              phase === undefined ||\r\n              phase.length === 0\r\n            ) {\r\n              return;\r\n            }\r\n            dataCtx.clearRect(0, 0, dom.width, dom.height);\r\n            for (let i = 0, l = phase.length; i < l; i++) {\r\n              const Aarr = amplitude[i];\r\n              const Parr = phase[i];\r\n              const color = data.color[i];\r\n              /* 散点图的点的颜色 */\r\n              dataCtx.fillStyle = color;\r\n              for (let j = 0, len = Aarr.length; j < len; j++) {\r\n                dataCtx.beginPath();\r\n                const A = Aarr[j];\r\n                const P = Parr[j];\r\n                const x = rx + (A / max) * rr * Math.sin((P * Math.PI) / 180);\r\n                const y = ry - (A / max) * rr * Math.cos((P * Math.PI) / 180);\r\n                axis.x.push(x);\r\n                axis.y.push(y);\r\n                axis.index.push({ i, j });\r\n                dataCtx.arc(x, y, 2, 0, 2 * Math.PI);\r\n                dataCtx.fill();\r\n              }\r\n            }\r\n            const text = `${this.round(max)}${series.unit}`;\r\n            const font = series.fontStyle;\r\n            dataCtx.beginPath();\r\n            dataCtx.fillStyle = font.color;\r\n            dataCtx.font = `${font.size} ${font.family}`;\r\n            dataCtx.textAlign = \"left\";\r\n            dataCtx.textBaseline = \"bottom\";\r\n            dataCtx.fillText(\r\n              text,\r\n              rx + rr * Math.cos((45 * Math.PI) / 180),\r\n              ry - rr * Math.sin((45 * Math.PI) / 180)\r\n            );\r\n            dataCtx.textAlign = \"left\";\r\n            dataCtx.textBaseline = \"top\";\r\n            dataCtx.fillText(\r\n              text,\r\n              rx + rr * Math.cos((45 * Math.PI) / 180),\r\n              ry + rr * Math.sin((45 * Math.PI) / 180)\r\n            );\r\n            dataCtx.textAlign = \"right\";\r\n            dataCtx.textBaseline = \"bottom\";\r\n            dataCtx.fillText(\r\n              text,\r\n              rx - rr * Math.cos((45 * Math.PI) / 180),\r\n              ry - rr * Math.sin((45 * Math.PI) / 180)\r\n            );\r\n            dataCtx.textAlign = \"right\";\r\n            dataCtx.textBaseline = \"top\";\r\n            dataCtx.fillText(\r\n              text,\r\n              rx - rr * Math.cos((45 * Math.PI) / 180),\r\n              ry + rr * Math.sin((45 * Math.PI) / 180)\r\n            );\r\n          },\r\n          // 倾角分布图(沉降跟踪图)鼠标最近点\r\n          getNearPoint (data) {\r\n            const axis = this.axis;\r\n            const ax = axis.x;\r\n            const ay = axis.y;\r\n            const msg = {\r\n              x: ax[data[0].key],\r\n              y: ay[data[0].key],\r\n              index: axis.index[data[0].key]\r\n            };\r\n            this.drawPoint(msg);\r\n          },\r\n          // 圆周图报警线\r\n          drawCircleAlarm () {\r\n            const series = this._option.series;\r\n            const data = series.circleAlarm;\r\n            const ctx = this._drawTools.ctx.failure;\r\n            const scope = this._scope.r;\r\n            const rx = scope.x;\r\n            const ry = scope.y;\r\n            ctx.clearRect(0, 0, dom.width, dom.height);\r\n            for (let i = 0, l = data.length; i < l; i++) {\r\n              for (let j = 0; j < 2; j++) {\r\n                const value = data[i];\r\n                if (value.data >= series.data.maxAmplitude) continue;\r\n                const r = (scope.rs * value.data) / series.data.maxAmplitude;\r\n                ctx.beginPath();\r\n                ctx.lineStyle = value.lineStyle.width;\r\n                ctx.strokeStyle = value.lineStyle.color;\r\n                ctx.arc(rx, ry, r, 0, 2 * Math.PI);\r\n                ctx.stroke();\r\n              }\r\n            }\r\n          },\r\n          // 倾角分布图(沉降跟踪图)点击描点\r\n          drawPoint (msg, type) {\r\n            const dom = this._dom;\r\n            const clickCtx = this._drawTools.ctx.click;\r\n            clickCtx.clearRect(0, 0, dom.width, dom.height);\r\n            clickCtx.beginPath();\r\n            clickCtx.fillStyle = \"red\";\r\n            clickCtx.arc(msg.x, msg.y, 3, 0, 2 * Math.PI);\r\n            clickCtx.fill();\r\n            if (type == \"circleLine\") {\r\n              this._option.toolTip.formatter({\r\n                value: this._option.series.data.phase[msg.index.i][msg.index.j]\r\n              });\r\n            } else {\r\n              this._option.toolTip.formatter({\r\n                index1: msg.index.i,\r\n                index2: msg.index.j\r\n              });\r\n              this._option.series.markLine.data.length = 0;\r\n            }\r\n          },\r\n          // 刷新图谱\r\n          resize () {\r\n            const dom = this._dom;\r\n            const opt = this._option;\r\n            const grid = opt.grid;\r\n            this.creat(dom.name);\r\n            // 重新添加了keydom的事件监听，解决刷新图谱后出现无法监听keydom时间的问题\r\n            if (opt.series.type !== \"bar\") {\r\n              const div = dom.name.children;\r\n              this.removeEvent(\r\n                div[div.length - 1],\r\n                \"keydown\",\r\n                this.event.dom.keydown\r\n              );\r\n              this.addEvent(div[div.length - 1], \"keydown\", this.event.dom.keydown);\r\n            }\r\n            this._scope.r = {\r\n              r: dom.width - grid.right,\r\n              w: dom.width - grid.right - grid.left,\r\n              b: dom.height - grid.bottom,\r\n              h: dom.height - grid.top - grid.bottom,\r\n              x: null,\r\n              y: null,\r\n              rs: null\r\n            };\r\n            const r = this._scope.r;\r\n            const wr = r.w / 2;\r\n            const hr = r.h / 2;\r\n            r.x = wr + grid.left;\r\n            r.y = hr + grid.top;\r\n            r.rs = Math.min(wr, hr);\r\n            const isBar = opt.series.type === \"bar\";\r\n            isBar && (r.b -= 60);\r\n            const type = isBar ? 1 : 2;\r\n            this.restoreAll(type);\r\n            // 防止resize()后故障频率没有画\r\n            this._option.series.markLine.data.length > 0 && this.drawMarkLine();\r\n          },\r\n          // 取缩放后符合条件的y值集合\r\n          getYdata (x1, x2) {\r\n            let xArr = this._option.x.data;\r\n            let yArr = this._option.y.data;\r\n            let result = [];\r\n            for (let i = 0; i < xArr.length; i++) {\r\n              if (x1 <= xArr[i] && xArr[i] <= x2) {\r\n                result.push(yArr[i]);\r\n              }\r\n            }\r\n            return result;\r\n          },\r\n          /*\r\n            判断dom是否已绑定某事件，如果未绑定则绑定\r\n            el          HTMLElement   绑定事件的HTML元素\r\n            eventType   String        事件类型\r\n            fn          Function      事件绑定的方法\r\n            isRepeat    Boolean       是否允许同类事件重复绑定\r\n            useCapture  Boolean       是否在捕获阶段触发\r\n          */\r\n          addEvent (el, eventType, fn, isRepeat = false, useCapture = false) {\r\n            let errorStr = \"\";\r\n            if (!el || !eventType || !fn) {\r\n              errorStr = \"传入参数错误\";\r\n            } else if (typeof el !== \"object\") {\r\n              errorStr = \"el 不是对象\";\r\n            } else if (typeof eventType !== \"string\") {\r\n              errorStr = \"事件类型错误\";\r\n            } else if (typeof fn !== \"function\") {\r\n              errorStr = \"fn 不是函数\";\r\n            }\r\n            if (errorStr !== \"\") {\r\n              throw new Error(errorStr);\r\n            }\r\n            if (el.eventList === undefined) {\r\n              el.eventList = {};\r\n            }\r\n            if (!isRepeat) {\r\n              for (const key in el.eventList) {\r\n                if (key === eventType) {\r\n                  /* this.removeEvent(el, eventType, fn);\r\n                  break; */\r\n                  return \"该事件已绑定\";\r\n                }\r\n              }\r\n            }\r\n            // 添加绑定事件\r\n            el.eventList[eventType] = 1;\r\n            el.addEventListener(eventType, fn, useCapture);\r\n          },\r\n          // 移除监听事件\r\n          removeEvent (el, eventType, fn, useCapture = false) {\r\n            let errorStr = \"\";\r\n            if (!el || !eventType || !fn) {\r\n              errorStr = \"传入参数错误\";\r\n            } else if (typeof el !== \"object\") {\r\n              errorStr = \"el 不是HTML对象\";\r\n            } else if (typeof eventType !== \"string\") {\r\n              errorStr = \"事件类型错误\";\r\n            } else if (typeof fn !== \"function\") {\r\n              errorStr = \"fn 不是函数\";\r\n            }\r\n            if (errorStr !== \"\") {\r\n              throw new Error(errorStr);\r\n            }\r\n            if (el.eventList) {\r\n              delete el.eventList[eventType];\r\n            }\r\n            el.removeEventListener(eventType, fn, useCapture);\r\n          },\r\n          // 销毁(释放dom已绑定事件)\r\n          destory () {\r\n            const dom = this._dom.name;\r\n            const eventList = dom.eventList;\r\n            if (eventList) {\r\n              const eventName = {\r\n                click: \"click\",\r\n                mousedown: \"mousedown\",\r\n                mouseup: \"mouseup\",\r\n                mousewheel: \"zoom\",\r\n                dblclick: \"lineDblclick\"\r\n              };\r\n              for (const key in eventList) {\r\n                this.removeEvent(dom, key, this.event.dom[eventName[key]]);\r\n              }\r\n              this.removeEvent(window, \"mousemove\", this.event.dom.mousemove);\r\n            }\r\n            const div = dom.children[dom.children.length - 1];\r\n            if (div.eventList) {\r\n              this.removeEvent(div, \"keydown\", this.event.dom.keydown);\r\n            }\r\n            if (this._option) {\r\n              const tools = this._option.tools;\r\n              for (const key in tools) {\r\n                const value = tools[key];\r\n                if (value.dom && value.show) {\r\n                  this.removeEvent(value.dom, \"click\", this.event.tool[key]);\r\n                }\r\n              }\r\n              if (this._option.series.type === \"bar\") {\r\n                this.removeEvent(dom, \"mousemove\", this.event.dom.barMove);\r\n              }\r\n            }\r\n          },\r\n          // 画Y轴标线\r\n          drawMarkY () {\r\n            const opt = this._option;\r\n            const data = opt.y.markLine;\r\n            if (!data) return;\r\n            const failCtx = this._drawTools.ctx.failure;\r\n            const grid = opt.grid;\r\n            const paramsY = this._computeParams.proportion.y;\r\n            failCtx.clearRect(0, 0, this._dom.width, this._dom.height);\r\n            for (let i = 0, l = data.length; i < l; i++) {\r\n              const value = data[i];\r\n              failCtx.beginPath();\r\n              failCtx.strokeStyle = value.lineStyle.color;\r\n              failCtx.lineWidth = value.lineStyle.width;\r\n              failCtx.moveTo(grid.left, value.data * paramsY.k + paramsY.b);\r\n              failCtx.lineTo(this._scope.r.r, value.data * paramsY.k + paramsY.b);\r\n              failCtx.stroke();\r\n            }\r\n          }\r\n        };\r\n        return new _chart(dom);\r\n      };\r\n  \r\n      function init (dom) {\r\n        if (dom) {\r\n          return this(dom);\r\n        }\r\n      }\r\n      chart.init = init;\r\n      return chart;\r\n    });\r\n  ","module.exports = __webpack_public_path__ + \"img/bzbp-cf0ba.png\";","module.exports = __webpack_public_path__ + \"img/dcplc-a16d0.png\";","module.exports = __webpack_public_path__ + \"img/dpgl-37e47.png\";","module.exports = __webpack_public_path__ + \"img/dwdybp-bbbf1.png\";","module.exports = __webpack_public_path__ + \"img/fztk-d40f5.png\";","module.exports = __webpack_public_path__ + \"img/hnc-72332.png\";","module.exports = __webpack_public_path__ + \"img/qhxzqb-47731.png\";","module.exports = __webpack_public_path__ + \"img/qxbz-07af9.png\";","module.exports = __webpack_public_path__ + \"img/tjbz-74159.png\";","module.exports = __webpack_public_path__ + \"img/xhxf-2d4f4.png\";","module.exports = __webpack_public_path__ + \"img/yxplzsz-5439f.png\";","import { render, staticRenderFns } from \"./Wave.vue?vue&type=template&id=09e070ea&\"\nimport script from \"./Wave.vue?vue&type=script&lang=js&\"\nexport * from \"./Wave.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Wave.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\工作\\\\CCCCCCCCCC\\\\node_modules\\\\_vue-hot-reload-api@2.3.4@vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('09e070ea')) {\n      api.createRecord('09e070ea', component.options)\n    } else {\n      api.reload('09e070ea', component.options)\n    }\n    module.hot.accept(\"./Wave.vue?vue&type=template&id=09e070ea&\", function () {\n      api.rerender('09e070ea', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/viewInterface/components/wave/Wave.vue\"\nexport default component.exports","import mod from \"-!../../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js??ref--1-0!../../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./Wave.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js??ref--1-0!../../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./Wave.vue?vue&type=script&lang=js&\"","export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--3-0!../../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js!../../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js!../../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./Wave.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./Wave.vue?vue&type=template&id=09e070ea&\"","import { render, staticRenderFns } from \"./WaveChart.vue?vue&type=template&id=462bf044&\"\nimport script from \"./WaveChart.vue?vue&type=script&lang=js&\"\nexport * from \"./WaveChart.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\工作\\\\CCCCCCCCCC\\\\node_modules\\\\_vue-hot-reload-api@2.3.4@vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('462bf044')) {\n      api.createRecord('462bf044', component.options)\n    } else {\n      api.reload('462bf044', component.options)\n    }\n    module.hot.accept(\"./WaveChart.vue?vue&type=template&id=462bf044&\", function () {\n      api.rerender('462bf044', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/viewInterface/components/wave/WaveChart.vue\"\nexport default component.exports","import mod from \"-!../../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js??ref--1-0!../../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./WaveChart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js??ref--1-0!../../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./WaveChart.vue?vue&type=script&lang=js&\"","export * from \"-!../../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./WaveChart.vue?vue&type=template&id=462bf044&\""],"sourceRoot":""}