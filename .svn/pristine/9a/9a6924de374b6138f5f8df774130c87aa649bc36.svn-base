{"version":3,"sources":["webpack:///src/viewInterface/components/wave/Wave.vue","webpack:///src/viewInterface/components/wave/WaveChart.vue","webpack:///./src/viewInterface/components/wave/Wave.vue?5a2c","webpack:///./src/viewInterface/components/wave/Wave.vue?ccc7","webpack:///./src/viewInterface/components/wave/WaveChart.vue?1ec2","webpack:///./src/assets/lib/waveChart/myCharts.js","webpack:///./src/viewInterface/assets/img/tool_icons/bzbp.png","webpack:///./src/viewInterface/assets/img/tool_icons/dcplc.png","webpack:///./src/viewInterface/assets/img/tool_icons/dpgl.png","webpack:///./src/viewInterface/assets/img/tool_icons/dwdybp.png","webpack:///./src/viewInterface/assets/img/tool_icons/fztk.png","webpack:///./src/viewInterface/assets/img/tool_icons/hnc.png","webpack:///./src/viewInterface/assets/img/tool_icons/qhxzqb.png","webpack:///./src/viewInterface/assets/img/tool_icons/qxbz.png","webpack:///./src/viewInterface/assets/img/tool_icons/tjbz.png","webpack:///./src/viewInterface/assets/img/tool_icons/xhxf.png","webpack:///./src/viewInterface/assets/img/tool_icons/yxplzsz.png","webpack:///./src/viewInterface/components/wave/Wave.vue","webpack:///./src/viewInterface/components/wave/Wave.vue?e5d9","webpack:///./src/viewInterface/components/wave/Wave.vue?7b4e","webpack:///./src/viewInterface/components/wave/Wave.vue?13d0","webpack:///./src/viewInterface/components/wave/WaveChart.vue","webpack:///./src/viewInterface/components/wave/WaveChart.vue?2f8e","webpack:///./src/viewInterface/components/wave/WaveChart.vue?4637"],"names":["global","factory","exports","module","define","chart","dom","option","title","show","name","fontStyle","weight","size","family","color","align","grid","top","right","left","bottom","x","name2","nameStyle","bottom2","type","data","lineStyle","width","range","max","min","y","splitLineStyle","series","coordinateSystem","markLine","faimly","dataMsg","oneFreq","rotateSpeed","specType","spectral","setPower","symbol","unit","amplitude","phase","maxAmplitude","posName","isRestore","toolTip","isShow","background","formatter","params","tools","enlarge","maxOrMin","restore","timeDifferent","isTimeDifferent","subFreq","isSubFreq","isOneFreq","labelFreq","isLabelFreq","peakSearch","addLabel","cancelLabel","setPeak","exportImage","imageName","exportData","fileName","exportAudio","maxFreq","backgroundColor","changePos","resize","_chart","_dom","id","height","_computeParams","extremum","proportion","_flag","spectrumXName","spectrumYName","dataLength","zoom","click","line","key","val","idx","undefined","last_xWave","labelLine","spectrum","wave","maxMin","addPeak","addPeakPos","dragLabel","peakIndexArr","arr_B","arr_C","toolCheck","flag_subFreq","flag_oneF","flag_nx","autoPeakNum","flag_addPeak","flag_subTime","flag_wave_extend","_scope","v","start","end","length","r","w","b","h","rs","_movePos","oldVal","newVal","move","source","_option","_drawTools","canvas","ctx","axis","index","event","e","stopPropagation","opt","dx","offsetX","dy","offsetY","dValue","findNearbyPoint","fft_indexOfWaveX","labelLineWave","labelLineSpec","drawLabelLine","drawLine","ax","ay","rx","ry","value","Number","MAX_VALUE","i","l","d","drawPoint","oVal","mousedown","flag","movePos","addEvent","dragWave","multiple","target","nodeName","moveX","moveY","scope","scopeR","scopeV","prop","propX","propY","extrX","yArr","Math","abs","k","MIN_VALUE","slice","len","j","restoreAll","mappingY","drawAxis","drawWave","zoomLine","drawEnlargement","isAddPeak","drawAddLabel","dVal","mouseup","windowEnlargement","removeEvent","setTimeout","zoomVal","deltaY","paramY","mappingX","yValue","s","keydown","keyCode","layer","clearRect","tool","Boolean","getPeakIndexArr","indexOf","xAxis","paramsX","t_nxArray","indexOfArray","push","foreground","img","Image","document","createElement","setAttribute","getContext","beginPath","fillStyle","fillRect","drawImage","src","toDataURL","downLoad","href","download","dispatchEvent","MouseEvent","str","dataX","dataY","getDataType","p","toFixed","funDownload","audio","freq","cloneObj","buffer","setAudio","creat","prototype","constructor","Object","toString","call","round","num","dig","isStatic","deep","Array","isArray","map","item","wType","includes","window","tag","Date","valueOf","children","removeChild","clientHeight","clientWidth","style","position","div","appendChild","setOption","opt1","opt2","mark","mergeOption","drawMarkLine","getNearPoint","initParams","wr","hr","drawTools","FirstOBJ","SecondOBJ","formatDateStr","date","time","yy","getFullYear","mm","getMonth","dd","getDate","getHours","m","getMinutes","getSeconds","drawCircle","drawPoints","drawCircleAxios","drawPointsLine","optX","arr","bar","barWidth","space","mutiple","n","backCtx","nameX","nameXArr","nameY","nameYArr","save","lineWidth","strokeStyle","moveTo","lineTo","stroke","font","textBaseline","textAlign","fillText","fontLen","iSegNum","minSeg","mi","log","LOG10E","nScale","pow","seg","parseFloat","toPrecision","timeLen","fl","zero","nScaleY","interval","fonts","res","clickCtx","xOVal","reality","circle","yVal","minX","minY","maxX","maxY","valueX","valueY","valX","valY","vY","tt","arc","PI","fill","vLength","separate","ty","isDraw","rectX","rectY","alignX","dataCtx","xArr","yk","yb","vx","xk","xb","real","xn","yo","yn","nVal","cy","closePath","v1","v2","arrX","arrY","paramsY","vx1","vy1","vx2","vy2","zoomCtx","pos","oldPos","newPos","optY","di","tmpIndex","index_a","index_b","err","flag_pm","POSITIVE_INFINITY","nx0","nx1","index1","x0","indexB0","x_left","x_right","index_b_nx","max_arr","max_sub_arr","subCtx","timeDif","nxFreq","oneLine","translate","rotate","foreCtx","xMax","sort","a","xName","peak","splice","freqObj","Hz","NX","halfWidth","freqValue","count","indexArr","xVal","t_yArr","obj","pointSize","channelNumber","blockSize","Uint8Array","view","DataView","set","setUint32","setUint16","xs","Int16Array","content","filename","eleLink","display","blob","Blob","URL","createObjectURL","failCtx","failure","extreme","dex","sr","rr","minAmplitude","PP","Aarr","Parr","A","nyVal","nA","sin","cos","text","text2","P","msg","index2","getYdata","x1","x2","result","accSub","arg1","arg2","isNaN","r1","r2","split","el","eventType","fn","isRepeat","useCapture","errorStr","Error","eventList","addEventListener","removeEventListener","init"],"mappings":"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,sBA1TA;AA0TA;AACA,oBA3TA,CA2TA;;AA3TA;AA6TA,GAjUA;AAkUA;AACA;AACA;AACA;;AACA,4HAJA,CAIA;;;AACA;AAEA,yCAPA,CAQA;AACA,GA3UA;AA4UA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBADA;AAEA,+BAFA;AAGA;AAHA;AAKA;AACA,SAPA,MAOA;AACA;AACA;AACA;AACA;AACA;AAdA;AAgBA;AACA;AACA;AACA;AACA,uBADA;AAEA,+BAFA;AAGA;AAHA;AAKA;AACA,SAPA,MAOA;AACA;AACA;AACA;AACA;AACA;AAdA;AAgBA,GAhXA;AAiXA;AACA;AACA;AACA,KAHA;AAIA;AACA;AACA,KANA;AAOA;AACA;AACA;AACA;AACA;AACA,oBADA;AACA;AACA,qBAFA;AAEA;AACA;AACA;AACA,0BADA;AACA;AACA,iDAFA;AAEA;AACA,gCAHA;AAGA;AACA,+CAJA;AAIA;AACA,+CALA,CAKA;;AALA;AAJA,SAFA;AAcA;AACA,mCAfA;AAgBA;AACA;AACA,8BADA;AACA;AACA,0BAFA;AAEA;AACA,0BAHA;AAGA;AACA;AAAA;AACA,0CADA,CACA;;AADA,WAJA;AAOA;AAAA;AACA,0CADA,CACA;;AADA,WAPA;AAUA;AAAA;AACA,0CADA;AACA;AACA;AAFA;AAVA,SAjBA;AAgCA;AACA;AACA,6BADA;AACA;AACA,0BAFA;AAEA;AACA;AAAA;AACA,0CADA,CACA;;AADA,WAHA;AAMA;AAAA;AACA,2CADA;AACA;AACA;AAFA,WANA;AAUA;AAAA;AACA,0CADA,CACA;;AADA;AAVA,SAjCA;AA+CA;AACA;AACA,sBADA;AACA;AACA;AAAA;AACA,0CADA;AACA;AACA,oBAFA,CAEA;;AAFA,WAFA;AAMA;AAAA;AACA,oBADA;AAEA;AAAA;AACA,8BADA;AACA;AACA,sBAFA,CAEA;;AAFA,aAFA;AAMA;AAAA;AACA,8BADA;AACA;AACA,0BAFA;AAEA;AACA,uCAHA;AAGA;AACA,8BAJA,CAIA;;AAJA;AANA,WANA;AAmBA;AAnBA,SAhDA;AAqEA;AACA;AACA,6BADA;AAEA;AAAA;AACA,6CADA,CACA;;AADA,WAFA;AAKA;AACA;AADA,WALA;AAQA;AAAA;AACA,+CADA,CACA;;AADA,WARA;AAWA;AACA;AACA;AAbA,SAtEA;AAqFA;AACA;AACA;AACA,sBADA;AAEA;AAFA,WAFA;AAMA;AACA;AACA,sBADA;AAEA;AAFA,WAPA;AAWA;AACA;AACA,sBADA;AAEA;AAFA,WAZA;AAgBA;AACA;AACA,sBADA;AAEA;AAFA,WAjBA;AAqBA;AACA;AACA,sBADA;AAEA,kEAFA;AAGA,6CAHA;AAIA;AACA;AACA;AACA;AACA;AARA,WAtBA;AAgCA;AACA;AACA,mCADA;AAEA,sBAFA;AAGA;AAHA,WAjCA;AAsCA;AACA;AACA,2CADA;AAEA,sBAFA;AAGA,kEAHA;AAIA;AAJA;AAvCA,SArFA;AAmIA,sDAnIA;AAmIA;AACA,iCApIA,CAoIA;;AApIA;AAsIA,KA/IA;AAgJA;AACA;AACA;AACA;AACA;AACA,oBADA;AACA;AACA,qBAFA;AAEA;AACA;AACA;AACA,0BADA;AACA;AACA,qDAFA;AAEA;AACA,gCAHA;AAGA;AACA,mDAJA;AAIA;AACA,mDALA,CAKA;;AALA;AAJA,SAFA;AAcA;AACA,uCAfA;AAgBA;AACA;AACA,8BADA;AACA;AACA,0BAFA;AAEA;AACA,kCAHA;AAGA;AACA,8BAJA;AAIA;AACA;AAAA;AACA,0CADA,CACA;;AADA,WALA;AAQA;AAAA;AACA,0CADA,CACA;;AADA,WARA;AAWA;AAAA;AACA,0CADA;AACA;AACA;AAFA;AAXA,SAjBA;AAiCA;AACA;AACA,6BADA;AACA;AACA,8BAFA;AAEA;AACA;AAAA;AACA,0CADA,CACA;;AADA,WAHA;AAMA;AAAA;AACA,0CADA,CACA;;AADA,WANA;AASA;AAAA;AACA,0CADA;AACA;AACA;AAFA;AATA,SAlCA;AAgDA;AACA;AACA,kCADA;AACA;AACA;AAAA;AACA,0CADA;AACA;AACA,oBAFA,CAEA;;AAFA,WAFA;AAMA;AAAA;AACA,kCADA;AAEA;AAAA;AACA,8BADA;AACA;AACA,sBAFA,CAEA;;AAFA,aAFA;AAMA;AAAA;AACA,8BADA;AACA;AACA,0BAFA;AAEA;AACA,uCAHA;AAGA;AACA,8BAJA,CAIA;;AAJA;AANA,WANA;AAmBA;AACA,iCADA;AAEA,yCAFA;AAGA,mCAHA;AAIA,qCAJA;AAKA;AALA,WAnBA;AA0BA;AA1BA,SAjDA;AA6EA;AACA;AACA;AAAA;AACA,wCADA,CACA;;AADA,WADA;AAIA,6BAJA;AAKA;AAAA;AACA,+CADA,CACA;;AADA,WALA;AAQA;AACA;AADA,WARA;AAWA;AACA;AACA;AAbA,SA9EA;AA6FA;AACA;AACA;AACA,sBADA;AAEA;AAFA,WAFA;AAMA;AACA;AACA,sBADA;AAEA;AAFA,WAPA;AAWA;AACA;AACA,sBADA;AAEA,8DAFA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,+DACA,qBADA,GACA,mBADA;AAEA;AACA;AACA;AACA;AACA;AAfA,WAZA;AA6BA;AACA;AACA,sBADA;AAEA;AAFA,WA9BA;AAkCA;AACA;AACA,sBADA;AAEA,sCAFA;AAGA;AACA;AACA;AALA,WAnCA;AA0CA;AACA;AACA,sBADA;AAEA;AAFA,WA3CA;AA+CA;AACA;AACA,sBADA;AAEA;AAFA,WAhDA;AAoDA;AACA;AACA,sBADA;AAEA;AAFA,WArDA;AAyDA;AACA;AACA,sBADA;AAEA;AAFA,WA1DA;AA8DA;AACA;AACA,sBADA;AAEA;AAFA,WA/DA;AAmEA;AACA;AACA,sBADA;AAEA,kEAFA;AAGA,6CAHA;AAIA;AACA;AACA;AACA;AACA;AARA,WApEA;AA8EA;AACA;AACA,mCADA;AAEA,sBAFA;AAGA;AAHA;AA/EA,SA7FA;AAkLA,sDAlLA;AAkLA;AACA,iCAnLA,CAmLA;AACA;;AApLA;AAsLA,KAxUA;AAyUA;AACA;AACA;AACA;AACA;AACA,oBADA;AACA;AACA,qBAFA;AAEA;AACA;AACA;AACA,0BADA;AACA;AACA,oDAFA;AAEA;AACA,gCAHA;AAGA;AACA,kDAJA;AAIA;AACA,kDALA,CAKA;;AALA;AAJA,SAFA;AAcA;AACA,sCAfA;AAgBA;AACA;AACA,sBADA;AACA;AACA,6BAFA;AAEA;AACA;AAAA;AACA,0CADA,CACA;;AADA,WAHA;AAMA;AAAA;AACA,2CADA;AACA;AACA;AAFA;AANA,SAjBA;AA4BA;AACA;AACA,8BADA;AACA;AACA,6BAFA;AAEA;AACA;AAAA;AACA,0CADA,CACA;;AADA,WAHA;AAMA;AAAA;AACA,0CADA,CACA;;AADA,WANA;AASA;AAAA;AACA,2CADA;AACA;AACA;AAFA;AATA,SA7BA;AA2CA;AACA;AACA,sBADA;AACA;AACA;AAAA;AACA,0CADA;AACA;AACA,oBAFA,CAEA;;AAFA,WAFA;AAMA;AAAA;AACA,oBADA;AAEA;AAAA;AACA,8BADA;AACA;AACA,sBAFA,CAEA;;AAFA,aAFA;AAMA;AAAA;AACA,8BADA;AACA;AACA,0BAFA;AAEA;AACA,uCAHA;AAGA;AACA,8BAJA,CAIA;;AAJA;AANA,WANA;AAmBA;AACA;AADA;AAnBA,SA5CA;AAmEA;AACA;AACA;AAAA;AACA,wCADA,CACA;;AADA,WADA;AAIA;AAAA;AACA,+CADA,CACA;;AADA,WAJA;AAOA;AACA;AADA,WAPA;AAUA;AACA;AACA;;AACA;AAAA;AACA;AACA;;AACA;AACA,WAjBA;AAkBA;AAlBA,SApEA;AAwFA;AACA;AACA;AACA,sBADA;AAEA;AAFA,WAFA;AAMA;AACA;AACA,sBADA;AAEA;AAFA,WAPA;AAWA;AACA;AACA,sBADA;AAEA;AAFA,WAZA;AAgBA;AACA;AACA,sBADA;AAEA,kEAFA;AAGA,6CAHA;AAIA;AACA;AACA;AACA;AACA;AARA;AAjBA,SAxFA;AAoHA,sDApHA;AAoHA;AACA,iCArHA,CAqHA;;AArHA;AAuHA,KAlcA;AAmcA;AACA;AACA,qBADA;AAEA,6IAFA;AAGA;AAHA,SAIA;AACA,mBADA;AAEA,yIAFA;AAGA;AAHA,OAJA,EAQA;AACA,sBADA;AAEA,+IAFA;AAGA;AAHA,OARA,EAYA;AACA,sBADA;AAEA,+IAFA;AAGA;AAHA,OAZA,EAgBA;AACA,oBADA;AAEA,2IAFA;AAGA;AAHA,OAhBA,EAoBA;AACA,sBADA;AAEA,iJAFA;AAGA;AAHA,OApBA,EAwBA;AACA,oBADA;AAEA,2IAFA;AAGA;AAHA,OAxBA,EA4BA;AACA,oBADA;AAEA,2IAFA;AAGA;AAHA,OA5BA,EAgCA;AACA,sBADA;AAEA,2IAFA;AAGA;AAHA,OAhCA,EAoCA;AACA,oBADA;AAEA,2IAFA;AAGA;AAHA,OApCA,EAwCA;AACA,oBADA;AAEA,2IAFA;AAGA;AAHA,OAxCA;AA8CA;AAlfA,GAjXA;AAq2BA;AACA;AACA,8BAFA,CAEA;;AACA;AACA;AACA,+BADA;AAEA,mCAFA;AAGA,mCAHA;AAIA,2CAJA;AAIA;AACA,uCALA;AAKA;AACA,iCANA,CAMA;;AANA;;AAQA;AACA;AACA,sCAFA,CAEA;AACA,KAHA,MAIA;AACA;AACA,uCAFA,CAEA;AACA;;AACA;AACA;AACA;;AAAA;AACA;AACA,GA73BA;AA83BA;AACA;AACA,eAFA,yBAEA;AAAA;;AACA;AACA;AACA;AACA,eADA;AAEA;AAFA;AAIA,wDACA,IADA,CACA;AACA;AACA;AACA;;AACA;AACA;;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AACA;AACA;;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;;AACA;AACA;AACA,oDADA,CACA;;AACA,wDAFA,CAEA;;AACA;AACA,wDAJA,CAIA;;AACA;AACA;AACA;AACA;AACA,iBAJA;AAKA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAJA;;AAKA;AACA,oEADA,CACA;;AACA,gEAFA,CAEA;AACA,mBAHA,MAGA;AACA;AACA,qFAFA,CAEA;AACA;;AACA,wDAhBA,CAgBA;;AACA;AACA,uCADA,CACA;;AACA;AACA;AACA,mBAJA,MAIA;AACA,wCADA,CACA;;AACA;AACA;AACA;AACA,iBA1BA,MA0BA;AACA;AACA,mFAFA,CAEA;;AACA,yCAHA,CAGA;;AACA,qCAJA,CAIA;;AACA;AACA,4CANA,CAMA;AACA;;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA,mBAFA,MAEA;AACA;AACA;AACA,iBARA,MASA;AACA;AAEA,iBApEA,CAqEA;;AACA;;AACA;;AACA;AACA;AACA,WAnHA,MAoHA;AACA;AACA,yBADA;AAEA,yBAFA;AAGA;AAHA;AAKA,WA7HA,CA8HA;AACA;AACA;;AAGA;AACA,OAtIA,WAsIA;AACA;AACA,OAxIA;AAyIA,KAlJA;AAmJA;AACA,gBApJA,0BAoJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAJA;;AAKA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA,KAjLA;AAkLA;AACA,aAnLA,uBAmLA;AAAA;;AACA;AACA;AACA;AACA;AACA;AACA,OAJA;;AAKA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA,WAHA,MAGA;AACA;AACA;AACA,WAbA,CAcA;AACA;AACA;AACA;AACA;;AACA;;;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;;AACA;;;;;;;;;;;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AACA;AACA,KAnPA;AAoPA;AACA,mBArPA,6BAqPA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,6BARA,CAQA;;AAEA;AACA;;AACA;;;;;;;;;;;;;AAYA;;AACA;AACA;AACA;;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA,SARA,MASA;AACA;AAEA;AACA;;;AACA;AACA;AACA;AACA,SAHA,MAIA;AACA;AACA;AACA;AACA,SAJA,MAKA;AACA;AACA;AACA;AACA;;;;;;AAKA;;AAAA;AAEA;AACA,KAtTA;AAuTA;AACA,aAxTA,uBAwTA;AACA;;AACA;AACA;AACA;AACA,OAHA,MAIA;AACA;AACA;AACA;AACA,KAlUA;AAmUA;AACA,iBApUA,yBAoUA,KApUA,EAoUA;AACA;AACA,2CACA,oBADA,IACA,GADA,GAEA,6BAFA,GAEA,GAFA,GAGA,8BAHA,GAGA,GAHA,GAIA,gCAJA;AAKA;AACA,KA5UA;AA6UA;AACA,WA9UA,mBA8UA,GA9UA,EA8UA;AACA;AACA;AACA;;AACA;AACA,KAnVA;AAoVA;AACA;AACA,KAtVA;AAuVA;AACA;AACA,0EACA,wDADA,IAEA,gDACA,2CAHA,EAIA;AACA;AACA;AACA;AACA;AACA;AACA,KAnWA;AAoWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SALA,MAKA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA,KAxXA;AAyXA;AACA;AACA;AACA;AACA;AACA,KA9XA;AA+XA;AACA;AACA;AACA,wDAHA,CAIA;;AACA;AACA;AACA,KAtYA;AAuYA;AACA;AACA;AACA,KA1YA;AA2YA;AACA;AACA;AACA,KA9YA;AA+YA;AACA;AACA;AACA;AACA;AACA;AACA,KArZA;AAsZA;AACA;AACA,KAxZA;AAyZA,yCAEA,CA3ZA;AA4ZA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA,SAPA,MAOA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA,SAjBA,MAiBA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA,eAPA,CAQA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;;AACA;AACA;AACA,kDADA,CACA;AACA;AACA;;AACA,wCAhEA,CAiEA;AACA;;AACA;;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA,SANA;AAOA;AACA,KA/eA;AAgfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA1fA;AA2fA;AAAA;AACA;AACA;AACA;;AACA;AACA;AACA,oDADA;AAEA,sCAFA;AAGA,kDAHA;AAIA,wBAJA;AAKA;AALA;AAOA,4CACA,IADA,CACA;AACA;;AACA;AACA;AACA,WAFA,MAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AAAA;AACA;AACA,aAXA,CAYA;;;AACA;AACA;AAEA,SAtBA,WAsBA;AACA;AACA,SAxBA;AAyBA;AACA,KAjiBA;AAkiBA;AACA;;AACA;AACA;;AACA;AACA;AACA;AACA;;AAEA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA,SAFA,MAGA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA,iDA1BA,CA2BA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SANA,MAOA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA,WAFA,MAGA;AACA;AACA,WAFA,MAGA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA,SAFA,MAGA;AACA;AACA;;AAEA;AACA;;AACA;AACA;AACA;AACA,SALA,MAMA;AACA;AACA,6BAFA,CAEA;;AACA;AACA;AACA;AACA,SANA,MAOA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA,8BA1FA,CA0FA;;AACA,0BA3FA,CA2FA;;AACA;AACA,4DA7FA,CA8FA;;AACA;AAAA;AACA;AACA;AACA,sDAHA,CAGA;;AACA;AACA;AACA;AACA,SAPA,MAOA;AACA;AACA;AACA,0BAHA,CAGA;;AACA,0BAJA,CAIA;;AACA;AACA;AACA;AACA;AACA;;AACA;AACA,aALA,MAKA;AACA;AACA;;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;;AACA;AACA;AACA,WAFA,MAGA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA,kCADA,CACA;AACA,WAFA,MAGA;AACA,mCADA,CACA;;AACA;AACA;AACA;AACA,WALA,MAMA;AACA,mCADA,CACA;;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AAAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAFA,EAEA,IAFA;AAGA;AACA,OAzLA,MAyLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBADA;AAEA,wBAFA;AAGA;AAHA;;AAKA;AAAA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA,KArvBA;AAsvBA;AAEA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;;;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;;AACA,2BAbA,CAaA;;AACA;AACA,KArwBA;AAswBA;AACA;AACA,qCACA,8BADA,GACA,GADA,GAEA,yBAFA;AAGA,KA3wBA;AA4wBA;AACA,mBA7wBA,2BA6wBA,SA7wBA,EA6wBA;AACA;AACA;AACA,OAFA,MAGA;AACA,8BADA,CACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA,KA9xBA;AA+xBA;AAAA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAryBA;AAsyBA;AACA;AACA;AACA;AACA,KA1yBA;AA2yBA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA,KAlzBA;AAmzBA;AAAA;AACA;AACA;AACA;;AACA;AACA;AACA,SAJA,CAKA;;;AACA;AAAA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA,aAHA,MAGA;AACA;AACA;AACA;AACA;;;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;;AACA;AACA;AACA;;AACA;;AACA;AAAA;AACA;AACA;AACA;AACA,SAJA,MAIA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SA5CA,CA6CA;;AACA;;;AACA;AACA;AACA;AACA;AACA,SAJA,MAIA;AACA;AACA;AACA;AACA;AAEA;;;AACA;AACA;AACA;AACA;AACA;AACA,WAJA,MAIA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA;AACA;AACA;;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA,SARA,MAQA;AACA;AACA;;AACA;AACA;AACA,KAx4BA;AAy4BA;AAAA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA,aAHA,MAGA;AACA;AACA;AACA;;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;;;AACA;AACA;AACA;AACA;AACA;AACA,WAJA,MAIA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA;AACA;AACA;;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AAEA,SATA,MASA;AACA;AACA;;AAEA;AACA;AACA,KA38BA;AA48BA;AAAA;AACA;AACA;;AACA;AACA;AACA,oDADA;AAEA,sCAFA;AAGA,kDAHA;AAIA,qFAJA;AAKA,yFALA;AAMA;AANA;AAQA,iDACA,IADA,CACA;AACA;AACA;AAAA;AACA;AACA;AACA,aAHA,MAIA;AACA;AACA;AACA;;AACA;AACA,WAVA,MAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBADA;AAEA,+BAFA;AAGA;AAHA;AAKA;;AACA,4CAzBA,CAyBA;AAEA,SA5BA,WA4BA;AACA;AACA,SA9BA;AA+BA;AACA,KAx/BA;AAy/BA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA;;AAGA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA,SAjCA,CAkCA;;AACA,OAnCA,MAmCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBADA;AAEA,2BAFA;AAGA;AAHA;AAKA;AACA,KA3iCA;AA4iCA;AAAA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;;AAUA;AACA,KAzjCA;AA0jCA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,2BAZA,CAYA;;AAEA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA,SAJA,MAIA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA;AACA;AACA;;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA,OARA,MAQA;AACA;AAEA;AACA;;;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;;AACA;AACA,KAhnCA;;AAinCA;AACA;AACA;AACA;AACA,yBAHA,CAGA;;AACA,2BAJA,CAIA;;AACA,4BALA,CAKA;;AACA,gCANA,CAMA;;AACA,iCAPA,CAOA;;AACA,wBARA,CAQA;;AACA,yBATA,CASA;;AACA,4BAVA,CAUA;;AACA,6BAXA,CAWA;;AACA,6BAZA,CAYA;;AACA,wBAbA,CAaA;;AACA,2BAdA,CAcA;;AACA,2BAfA,CAeA;;AACA,0BAhBA,CAgBA;;AACA,wBAjBA,CAiBA;;AACA,yBAlBA,CAkBA;;AACA,8BAnBA,CAmBA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AArDA;AAuDA;;AACA,gHAlEA,CAkEA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA;;AACA;AACA,KApuCA;AAquCA;AACA;AACA;AACA;AACA;AACA;AACA,KA3uCA;AA4uCA;AAAA;AACA;;AACA;AACA;AACA;AACA;AACA;;AACA;AACA,KApvCA;AAqvCA;AAAA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;;AACA;AACA,KA9vCA;AA+vCA;AAAA;AACA;;AACA;AACA;AACA;;AACA;AACA,KArwCA;AAswCA;AAAA;AACA;AACA;AACA;;AACA;;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AAEA;AACA,aADA;AAEA,mCAFA;AAGA,oCAHA;AAIA,oBAJA;AAKA;AALA;AAOA;AACA,aADA;AAEA,qCAFA;AAGA,sCAHA;AAIA,oBAJA;AAKA;AALA;AAOA;AACA,aADA;AAEA,wCAFA;AAGA,yCAHA;AAIA,oBAJA;AAKA;AALA;AAOA;AACA,aADA;AAEA,mCAFA;AAGA,iBAHA;AAIA,oBAJA;AAKA;AALA;AAOA;AACA,aADA;AAEA,qCAFA;AAGA,iBAHA;AAIA,oBAJA;AAKA;AALA,SAMA;AACA,aADA;AAEA,sCAFA;AAGA,iBAHA;AAIA,oBAJA;AAKA;AALA,OANA;AAaA;AACA,aADA;AAEA,qCAFA;AAGA,iBAHA;AAIA,oBAJA;AAKA;AALA,SAMA;AACA,aADA;AAEA,qCAFA;AAGA,iBAHA;AAIA,oBAJA;AAKA;AALA,OANA,EAYA;AACA,aADA;AAEA,sCAFA;AAGA,iBAHA;AAIA,oBAJA;AAKA;AALA,OAZA,EAkBA;AACA,aADA;AAEA,wCAFA;AAGA,iBAHA;AAIA,oBAJA;AAKA;AALA,OAlBA,EAwBA;AACA,aADA;AAEA,sCAFA;AAGA,iBAHA;AAIA,oBAJA;AAKA;AALA,OAxBA;AA+BA;AACA;AACA;AACA,wBA5FA,CA4FA;;AACA;AACA;AACA;AACA;AACA;AACA,oBAlGA,CAkGA;;AACA;AACA,4BApGA,CAoGA;;AACA,8BArGA,CAqGA;;AACA,4BAtGA,CAsGA;;AACA;;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AAAA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA,SAnBA,MAmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SATA,MASA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;;;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA;AACA;;AACA;AACA;AACA;AACA;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;;AACA;AACA,SAfA,MAeA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA3kDA;AA4kDA;AAAA;AACA,8BADA,CACA;;AACA,2BAFA,CAEA;;AACA,2BAHA,CAGA;;AACA,uBAJA,CAIA;;AACA,sBALA,CAKA;;AACA,uBANA,CAMA;;AACA,uBAPA,CAOA;;AACA,6BARA,CAQA;;AACA,4BATA,CASA;;AACA,yBAVA,CAUA;;AACA,6BAXA,CAWA;;AACA,6BAZA,CAYA;;AACA,4BAbA,CAaA;;AACA,0BAdA,CAeA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA,yBADA,CACA;;AACA,8BAFA,CAEA;;AACA;AACA;AACA,0BALA,CAKA;;AACA,0BANA,CAMA;;AACA,yBAPA,CAOA;;AACA,gCARA,CAQA;;AACA,gCATA,CASA;;AACA,gCAVA,CAUA;;AACA,gCAXA,CAWA;;AACA,oCAZA,CAYA;;AACA,2CAbA,CAaA;;AACA,oCAdA,CAcA;;AACA,oCAfA,CAeA;;AACA;AACA;AACA;AACA;AACA,OA3CA,CA4CA;;;AACA,4BA7CA,CA6CA;;AACA,0BA9CA,CA8CA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA,qCAvDA,CAwDA;AACA;AACA;;AACA;AACA,8BADA,CACA;AACA;;AACA,+CA9DA,CA8DA;;AAEA;AACA,KA7oDA;AA8oDA;AACA;;AACA;AACA;AADA;;AAGA;AACA;AACA,gCACA;AACA,wCACA;AAEA;AACA;;AACA;AACA;AACA,OAhBA,CAkBA;;;AACA;AACA,qBApBA,CAqBA;;AACA,mBAtBA,CAsBA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAPA,CAQA;;AACA,sCATA,CAUA;;AACA;AACA;AACA;AACA;;AACA,4CAtCA,CAsCA;AAEA;AACA;AAEA;;AACA;;AACA;AACA;AADA;;AAEA;;AACA;AACA;AADA,OAhDA,CAmDA;;;AACA,mDApDA,CAqDA;;AACA;AACA;AACA;AACA;AACA;AACA,qBA3DA,CA2DA;;AACA;AACA;AAAA;AACA;AACA;;AACA;AAAA;AACA;AACA;AANA,OA5DA,CAoEA;AACA;AACA;;;AACA;AACA;AACA,8BAFA,CAGA;;AACA,uDAJA,CAKA;;AACA,4GANA,CAOA;;AACA,0CARA,CASA;;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA,KAzuDA;AA0uDA;AACA;AACA;AACA,wCAHA,CAKA;;AACA;AACA;;AACA;AACA;AADA;AAEA,OAVA,CAYA;;;AACA;AACA;AADA;;AAGA;;AAEA;AACA;AACA,oBADA,CAEA;;AACA,sBAHA,CAIA;;AACA,oBALA,CAMA;AACA;;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA;;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,0BANA,CAOA;AACA;;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA,KAvyDA;AAwyDA;AAEA,KA1yDA;AA2yDA;AAAA;;AACA;AACA;;AACA;AAAA;AACA;AACA,OAFA,MAEA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA;;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA;;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;;AACA;AACA,SArBA,MAqBA;AACA;AACA;AACA;;AACA;AACA;AACA,OA9BA,MA8BA,CAEA;;AACA;AACA,oCA7DA,CA8DA;AACA,KA12DA;AA22DA;AAAA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AATA;;AAWA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;;AACA;AACA,KAr4DA;AAs4DA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;;AACA;;AACA;AACA;AAAA;AACA;;AACA;AAAA;AACA;AACA;AACA;;AACA;;AACA;AAAA;AACA;;AACA;AAAA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;;AACA;AAhBA;;AAkBA;AACA,KAj6DA;AAk6DA;AAAA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AAZA;;AAcA;AACA,KAn7DA;AAo7DA;AAAA;AACA,gDADA,CACA;;AACA;AACA;AACA,qCAJA,CAIA;;AACA;AACA,yCANA,CAMA;;AACA;AACA,yCARA,CAQA;AACA,KA77DA;AA87DA;AAAA;;AACA;AACA;AACA;AACA;;AACA;AAAA,UACA,SADA;AAEA,sBAPA,CAOA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA,OAPA,MAOA;AACA;AACA;AACA;AACA;;AACA;AACA,KAv/DA;AAw/DA;AACA;AACA;AACA;AADA;AAGA,KA7/DA;AA8/DA;AAAA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA,KA1gEA;AA2gEA;AAAA;AACA;AACA,kBAFA,CAGA;;AACA;AACA;AACA,OANA,CAOA;;;AACA;AACA;AACA;;AACA;AACA,KAvhEA;AAwhEA;AAAA;AACA;AACA,uBAFA,CAGA;;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA,KApiEA;AAqiEA;AAAA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA,mBARA,CAQA;;AACA,mBATA,CASA;;AACA;AACA,kBAXA,CAWA;;AACA;;AACA;AACA;AACA;AACA;AACA,wDADA;AAEA;AAFA;AAIA;AACA,OARA,MAQA;AAAA;AACA;AACA;AACA,sDADA;AAEA;AAFA;AAIA;AACA;AACA;;;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA,sBADA;AAEA,sBAFA;AAGA;AACA;AADA;AAHA;AAOA;AACA;AACA;;AACA;AACA;AACA;AACA,KA7lEA;AA8lEA;AAGA,KAjmEA;AAkmEA;AAAA;AACA;;AACA;AAAA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAzmEA;AA0mEA;AAAA;AACA,sBADA,CAEA;;AACA;AACA;AACA;AACA,OAHA,MAIA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA,OAFA,EAEA,IAFA;AAGA,KA1nEA;AA2nEA;AAAA;AACA;AACA;AACA;AACA;AACA,KAhoEA;AAioEA;AAAA;AACA;AACA;;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;;AACA;AACA,KA1oEA;AA2oEA;AAAA;AACA,gCADA,CACA;;AACA,mCAFA,CAEA;;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA,OANA,MAMA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA;AAEA,KA/pEA;AAgqEA;AAAA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA,+BADA;AAEA;AACA,8BAHA;AAIA;AACA;AALA;AAOA;;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA,+BADA;AAEA;AACA,8BAHA;AAIA;AACA;AALA;AAOA;;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA,+BADA;AAEA;AACA,8BAHA;AAIA;AACA;AALA;AAOA;;AACA;AACA;;AACA;AACA;AArDA;AAuDA,OAxDA,MAwDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA,2BADA;AAEA;AACA,0BAHA;AAIA;AACA;AALA;AAOA;;AACA;AACA;AACA,2BADA;AAEA;AACA,0BAHA;AAIA;AACA;AALA;AAOA;;AACA;AACA;AACA,2BADA;AAEA;AACA,0BAHA;AAIA;AACA;AALA;AAOA;;AACA;AACA;AACA,KArwEA;AAswEA;AAAA;AACA;AACA;AACA,mCAHA,CAGA;;AACA,yBAJA,CAIA;;AACA,4BALA,CAKA;;AACA,oDANA,CAMA;;AACA,2CAPA,CAOA;;AACA,+CARA,CAQA;;AACA,+CATA,CASA;;AACA,6CAVA,CAUA;;AACA,2DAXA,CAWA;;AACA,gDAZA,CAYA;;AACA,8DAbA,CAaA;;AACA,+DAdA,CAcA;;AACA,mCAfA,CAeA;;AACA,kCAhBA,CAgBA;;AACA,kCAjBA,CAiBA;;AACA,0CAlBA,CAkBA;;AACA,sDAnBA,CAmBA;;AACA,0CApBA,CAoBA;;AACA,0CArBA,CAqBA;;AACA,+DAtBA,CAsBA;;AACA,uCAvBA,CAuBA;;AACA;AACA;AACA;AACA;AACA;;AACA;AAAA;AACA;AACA;;AACA,2BAhCA,CAgCA;;AACA;AACA,2CADA,CACA;AACA;;AACA,kEApCA,CAoCA;;AACA,+CArCA,CAqCA;;AACA;AACA,KA7yEA;AA8yEA;AAAA;AACA;;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;;AACA;AACA;AADA;AAGA,KA1zEA;AA2zEA;AAAA;AACA;AACA;;AACA;AACA;;AACA;;AACA;;;;;;;;;;AASA;AACA,KA30EA;AA40EA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AAAA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA,OAJA,MAIA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA,KA/2EA;AAg3EA;AAAA;AACA;AACA,wBAFA,CAEA;;AACA;AACA;AACA;AACA;;;AACA,yBAPA,CAOA;;AACA;AACA;;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,4CApBA,CAoBA;;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA,KAp5EA;AAq5EA;AAAA;AACA;AACA;AACA;AACA,uBAJA,CAIA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA,KAx6EA;AAy6EA;AAAA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA,sBARA,CASA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA,gBACA,EADA,EAEA,EAFA;AAIA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA;;AACA;;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA,KAl9EA;AAm9EA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AACA;AACA,2DACA;AACA;;AACA;AACA;AACA,wBAVA,CAYA;;AACA;AACA;AACA,SAfA,CAiBA;;;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA,OApCA,CAsCA;;;AACA;;AACA;AACA;AACA;;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA,qBATA,CAWA;;AACA;;AACA;AACA;AACA;AACA;;AAEA;AACA,KA9gFA;AA+gFA;AAAA;AACA;AAAA,UACA,2BADA;AAAA,UAEA,CAFA,CADA,CAKA;;AACA;AACA;AACA,OARA,CAUA;;;AACA,uCAXA,CAaA;;AACA;AACA;AACA;;AAEA;AACA,KAliFA;AAmiFA;AACA;;AAEA;AACA;;AACA;AACA;AACA;AACA;;AAEA;AACA,KA9iFA;AA+iFA;AAAA;AACA;AACA;AACA;AACA,OAFA,EAEA,CAFA;AAGA;AACA,KArjFA;AAsjFA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AAAA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA,WAPA,MAOA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA,WAPA,MAOA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;;AACA;AACA;;AACA;AACA;AACA,OAlCA,MAkCA;AAAA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA,WAHA,MAGA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA,WAPA,MAOA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA,WAPA,MAOA;AACA;AACA;AACA,WAHA,MAGA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA,OAtCA,MAsCA;AAAA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA,WANA,MAMA;AACA;AACA;AACA;AACA;AACA;AACA,WANA,MAMA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA,KAnqFA;AAoqFA;AAAA;AACA,0DADA,CAEA;AACA,KAvqFA;AAwqFA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA,uCANA,CAMA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA;;AACA;AACA;AACA;AACA;AACA,OAnBA,MAmBA;AACA;AACA;AACA;AAAA,YACA,UADA;;AAEA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA,KAttFA;AAutFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCARA,CAQA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA;;AACA;AACA;AACA;AACA;AACA,OAnBA,MAmBA;AACA;AACA;AACA;AAAA,YACA,UADA;;AAEA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA;AAAA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA,OALA,MAKA;AACA;AACA;;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;;;;;;;;;AAqBA,KAj0FA;AAk0FA;AAAA;AACA;AACA;AACA;;AACA;AACA;AACA,qBADA;AAEA,iCAFA;AAGA;AAHA;AAKA;AACA;AACA,OARA,MAQA;AACA;AACA;AACA,uBADA;AAEA,kCAFA;AAGA;AAHA;AAKA;;AACA;AACA;AACA,OAVA,MAUA;AACA;AACA,qBADA;AAEA,iCAFA;AAGA;AAHA;AAKA;AACA;AACA,OARA,MAQA;AACA;AAAA;AACA;AACA;AACA;AACA;;;;;;;;;;;AAUA;AAEA,SAhBA,MAgBA;AACA;AACA;AACA,gDAHA,CAIA;;AACA;;;;AAGA;AACA;AACA,OAzDA,CA0DA;;AACA;;;AACA;AACA;AACA;AACA;;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA,KAx6FA;AAy6FA;;AACA;;;;;;;AAQA,KAl7FA;AAm7FA;AAAA;AACA;AACA;AADA,SADA,CAIA;AACA,KAx7FA;AAy7FA;AAAA;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA,0EACA,wDADA,EACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA,KA18FA;AA28FA;AAAA;AACA;AACA;AACA;;AACA;AACA;AADA;AAGA,KAl9FA;AAm9FA;AAAA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA,0EACA,wDADA,IAEA,gDACA,2CAHA,EAIA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;;AACA;;;;;;;;;;;AAUA;AACA;AACA;AACA,KAn/FA;AAo/FA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA,0BARA,CASA;AACA,KA9/FA;AA+/FA;AAAA;AACA,gDADA,CAEA;AACA,KAlgGA;AAmgGA;AACA;;AACA;;;;;;AAMA,KA3gGA;AA4gGA;AAAA;AACA;AACA,KA9gGA;AA+gGA;AAAA;AACA;AAEA,KAlhGA;AAmhGA;AACA;AACA;AACA,KAthGA;AAuhGA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KA7hGA;AA8hGA;AACA,gCADA,CACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAviGA;AAwiGA;AACA;AACA,kDAFA,CAEA;AACA;;AACA;AACA;;AACA;;AACA;AACA,kEAJA,CAKA;;AACA;AACA;AACA;AACA,wCATA,CAUA;;AACA;AACA;AACA;AACA;AADA,WAEA;AACA;AADA,SAFA,EAIA,IAJA,CAIA;AACA;AACA;AACA;AACA;AACA;AACA,SAVA;AAWA;AACA,OAzBA,EAyBA,GAzBA;AA0BA,KAtkGA;AAukGA;AAEA;;AACA;AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;AACA,KAtlGA;AAulGA;AAAA;AACA;AACA,KAzlGA;AA0lGA;AACA;AACA;AACA;AACA,KA9lGA;AA+lGA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA,kBANA,CAMA;;AACA,sBAPA,CAOA;;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAtBA,MAsBA;AAAA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA,eAFA,MAEA;AACA;AACA;AACA,eAHA,MAGA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;;AACA;AACA;;AACA;AACA;AACA;;AACA;;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA,eAFA,MAEA;AACA;AACA;AACA,eAHA,MAGA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA,aAHA,MAGA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA,2BAnJA,CAoJA;AACA,KApvGA;AAqvGA;AAAA;AACA;AACA;;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;;AAEA;AACA,KA/vGA;AAgwGA;AACA,4BADA,CACA;;AACA;AACA;AACA;AACA;AACA;AACA,iCAPA,CAOA;;AACA;AACA;AAAA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;;AACA;AAAA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA,WAhBA,MAgBA;AACA;AACA;;AACA;;AACA;AAAA;AACA;;AACA;AACA;;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA,WAjBA,MAiBA;AACA;AACA;;AACA;AACA;;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA,WAjBA,MAiBA;AACA;AACA;;AACA;AAtFA;;AAuFA;AACA;AACA;AACA,OAFA;AAGA,KAn2GA;AAo2GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAPA,CAQA;;AACA;AACA;;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;;AACA;AACA;;AACA;AACA;AACA;;AACA;;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA,KA/5GA;AAg6GA;AACA,kCADA,CACA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAl7GA;AAm7GA;AAAA;AACA;AAAA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAz7GA;AA07GA;AACA;AACA,gCADA,CACA;;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;AACA;;AAEA;;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA,OANA,MAMA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA,KAr9GA;AAs9GA;AACA;AACA;;AACA;AACA;AACA;;AACA;AAAA;AACA;;AACA;AACA;AACA;AACA;;AACA;AAAA;AACA;AACA,qBADA;AAEA,mCAFA;AAGA;AAHA;AAKA,OANA,MAMA;AACA;AACA;;AACA;AAAA;AACA;AACA,qBADA;AAEA,kCAFA;AAGA;AAHA;AAKA;AACA,KAl/GA;AAm/GA;AACA,eAp/GA,yBAo/GA;AACA;AACA;AACA,0CADA;AAEA,wCAFA;AAGA;AAHA;AAKA,wCACA,IADA,CACA;AACA;AACA;AACA,uBADA;AAEA,wBAFA;AAGA;AAHA;AAKA,SANA,MAOA;AACA;AACA,uBADA;AAEA,wBAFA;AAGA;AAHA;AAKA;AACA,OAhBA,WAiBA;AACA;AACA,OAnBA;AAoBA,KA/gHA;AAghHA;AACA,eAjhHA,yBAihHA;AACA;AACA;AACA,0CADA;AAEA;AAFA;AAIA,0CACA,IADA,CACA;AACA;AACA;AACA,uBADA;AAEA,wBAFA;AAGA;AAHA;AAKA,SANA,MAOA;AACA;AACA,uBADA;AAEA,wBAFA;AAGA;AAHA;AAKA;AACA,OAhBA;AAiBA;AAxiHA;AA93BA,G;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnJA;AACA;AACA,mBADA;AAEA,kEAFA;AAGA;AACA;AACA;AACA,iBAFA;AAGA;AACA,0BADA;AAEA,sBAFA;AAGA,2BAHA;AAIA,0BAJA;AAKA,qBALA;AAMA,0BANA;AAOA,qBAPA;AAQA;AARA,OAHA;AAaA;AACA,oBADA;AAEA;AAFA,OAbA;AAiBA,oBAjBA;AAkBA,oBAlBA,CAkBA;;AAlBA;AAoBA,GAxBA;AAyBA;AACA;AACA;AACA,GA5BA;AA6BA;AACA;AACA;AACA,aADA,qBACA;AACA;;AACA;AACA;AACA;AACA,OANA;AAOA,gBAPA,CAOA;;AAPA,KAFA;AAWA;AACA;AACA,KAbA;AAcA;AACA;AACA;AACA;AACA;AACA;AAnBA,GA7BA;AAkDA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AAZA;AAcA,OAnBA,MAmBA;AACA;AACA;;AACA;AACA;AACA;AACA,SAHA,MAGA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA,KAxCA;AAyCA;AACA,wNACA,uBADA,KAGA;AACA,KA9CA;AA+CA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA,2BACA,0CADA,GAEA,uCAFA;AAGA;AACA;AACA,KAzDA;AA0DA;AACA;AACA;AA5DA;AAlDA,G;;;;;;;;;;;;ACjBA,uC;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,oBAAoB,SAAS,qBAAqB,EAAE;AACpD,kBAAkB,0BAA0B;AAC5C,iBAAiB,4BAA4B;AAC7C,mBAAmB,8BAA8B;AACjD,sBAAsB,2BAA2B;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,sBAAsB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,0BAA0B,qBAAqB;AAC/C,6BAA6B;AAC7B,iBAAiB;AACjB;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,mBAAmB,8BAA8B;AACjD,sBAAsB,2BAA2B;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,mBAAmB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,0BAA0B,qBAAqB;AAC/C,6BAA6B;AAC7B,iBAAiB;AACjB;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,mBAAmB,8BAA8B;AACjD,sBAAsB,2BAA2B;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,wBAAwB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,0BAA0B,uBAAuB;AACjD,6BAA6B;AAC7B,iBAAiB;AACjB;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,0CAA0C,kBAAkB,EAAE;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,4BAA4B,SAAS,qCAAqC,EAAE;AAC5E;AACA;AACA;AACA,4BAA4B,SAAS,qCAAqC,EAAE;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,6BAA6B;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf,SAAS;AACT;AACA,sBAAsB,0BAA0B;AAChD;AACA,sBAAsB,0BAA0B;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,yBAAyB;AACxC,iBAAiB,SAAS,yBAAyB,EAAE;AACrD;AACA;AACA,WAAW,0BAA0B;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf,mBAAmB;AACnB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,iBAAiB;AAC7C;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf,mBAAmB;AACnB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA,qBAAqB,8BAA8B;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,0BAA0B;AAC7C;AACA;AACA,aAAa,iDAAiD;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B,mBAAmB;AACnB;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,kBAAkB;AAC5C,oBAAoB,uBAAuB;AAC3C,iBAAiB;AACjB,WAAW;AACX;AACA,uBAAuB,kCAAkC;AACzD,yBAAyB,iDAAiD;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,yBAAyB,kDAAkD;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,uBAAuB,mCAAmC;AAC1D,yBAAyB,wBAAwB;AACjD;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA,gCAAgC,qCAAqC;AACrE;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,eAAe;AACzC,uBAAuB;AACvB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,eAAe;AACzC,uBAAuB;AACvB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,uBAAuB,kCAAkC;AACzD,4BAA4B,MAAM,wBAAwB,EAAE;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,kBAAkB;AAC5C,oBAAoB;AACpB,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA,2BAA2B,wCAAwC;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA,uBAAuB,mCAAmC;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,eAAe;AACzC,6BAA6B,sBAAsB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,uBAAuB,kCAAkC;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,kBAAkB;AAC5C,oBAAoB;AACpB,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,uBAAuB,mCAAmC;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,eAAe;AACzC,6BAA6B,qBAAqB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,eAAe;AACzC,6BAA6B,qBAAqB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B,iBAAiB;AACjB;AACA;AACA;AACA;AACA,uBAAuB,kCAAkC;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,kBAAkB;AAC5C,oBAAoB;AACpB,WAAW;AACX;AACA,uBAAuB,kCAAkC;AACzD;AACA;AACA;AACA,uBAAuB,mCAAmC;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,oBAAoB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,kCAAkC;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,uBAAuB;AAC7C,gBAAgB;AAChB,OAAO;AACP,mBAAmB,2BAA2B;AAC9C;AACA;AACA;AACA;;;;;;;;;;;;;;AC1+BA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,oBAAoB,4BAA4B;AAChD;AACA;AACA,cAAc,8BAA8B;AAC5C,WAAW;AACX,KAAK;AACL;AACA;AACA;AACA,cAAc,2BAA2B;AACzC,WAAW;AACX,KAAK;AACL;AACA;AACA;AACA;AACA,kBAAkB;AAClB,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB,SAAS;AACT;AACA;AACA,gBAAgB,iCAAiC,2BAA2B,EAAE;AAC9E;AACA;AACA;AACA,cAAc;AACd,KAAK;AACL;AACA;AACA;AACA,cAAc;AACd,KAAK;AACL;AACA;AACA;AACA;AACA,kBAAkB,2BAA2B;AAC7C,eAAe;AACf,SAAS;AACT;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;ACrDA;;;;AAIC,WAASA,MAAT,EAAiBC,OAAjB,EAA0B;AACzB;;AACA,gCAAOC,OAAP,OAAmB,QAAnB,IAA+B,OAAOC,MAAP,KAAkB,WAAjD,GAA+DA,MAAM,CAACD,OAAP,GAAiBD,OAAO,EAAvF,GACE,QAA6CG,oCAAOH,OAAD;AAAA;AAAA;AAAA;AAAA,oGAAnD,IACCD,SADD,CADF;AAGD,CALA,EAKC,IALD,EAKO,YAAW;AACjB;;AACA,MAAIK,KAAK,GAAG,SAARA,KAAQ,CAASC,GAAT,EAAc;AACxB,QAAIC,MAAM,GAAG;AACX;AACAC,WAAK,EAAE;AACLC,YAAI,EAAE,KADD;AACQ;AACbC,YAAI,EAAE,EAFD;AAEK;AACV;AACAC,iBAAS,EAAE;AACTC,gBAAM,EAAE,MADC;AACO;AAChBC,cAAI,EAAE,MAFG;AAEK;AACdC,gBAAM,EAAE,OAHC;AAGQ;AACjBC,eAAK,EAAE,MAJE;AAIM;AACfC,eAAK,EAAE,MALE,CAKM;;AALN;AAJN,OAFI;AAcX;AACAC,UAAI,EAAE;AACJC,WAAG,EAAE,EADD;AACK;AACTC,aAAK,EAAE,KAFH;AAEU;AACdC,YAAI,EAAE,KAHF;AAGS;AACbC,cAAM,EAAE,EAJJ,CAIO;;AAJP,OAfK;AAqBX;AACAC,OAAC,EAAE;AACDZ,YAAI,EAAE,EADL;AACS;AACVa,aAAK,EAAE,EAFN;AAEU;AACXC,iBAAS,EAAE;AAAE;AACXT,eAAK,EAAE,MADE;AACM;AACfF,cAAI,EAAE,MAFG;AAEK;AACdC,gBAAM,EAAE,OAHC;AAGQ;AACjBF,gBAAM,EAAE,MAJC;AAIO;AAChBS,gBAAM,EAAE,IALC;AAKK;AACdI,iBAAO,EAAE,IANA,CAMK;;AANL,SAHV;AAWDC,YAAI,EAAE,UAXL;AAWiB;AAClBC,YAAI,EAAE,EAZL;AAYS;AACVhB,iBAAS,EAAE;AAAE;AACXI,eAAK,EAAE,MADE;AACM;AACfF,cAAI,EAAE,MAFG;AAEK;AACdC,gBAAM,EAAE,OAHC,CAGQ;;AAHR,SAbV;AAkBDc,iBAAS,EAAE;AAAE;AACXb,eAAK,EAAE,MADE;AACM;AACfc,eAAK,EAAE,CAFE,CAEC;;AAFD,SAlBV;AAsBDC,aAAK,EAAE;AACLC,aAAG,EAAE,CADA;AAELC,aAAG,EAAE;AAFA;AAtBN,OAtBQ;AAiDX;AACAC,OAAC,EAAE;AACDvB,YAAI,EAAE,EADL;AACS;AACVa,aAAK,EAAE,EAFN;AAEU;AACXC,iBAAS,EAAE;AAAE;AACXT,eAAK,EAAE,MADE;AACM;AACfF,cAAI,EAAE,MAFG;AAEK;AACdC,gBAAM,EAAE,OAHC;AAGQ;AACjBF,gBAAM,EAAE,MAJC,CAIO;;AAJP,SAHV;AASDe,YAAI,EAAE,EATL;AASS;AACVhB,iBAAS,EAAE;AAAE;AACXI,eAAK,EAAE,MADE;AACM;AACfF,cAAI,EAAE,MAFG;AAEK;AACdC,gBAAM,EAAE,OAHC;AAGQ;AACjBF,gBAAM,EAAE,QAJC,CAIS;;AAJT,SAVV;AAgBDgB,iBAAS,EAAE;AAAE;AACXb,eAAK,EAAE,MADE;AACM;AACfc,eAAK,EAAE,CAFE,CAEC;;AAFD,SAhBV;AAoBDK,sBAAc,EAAE;AAAE;AAChBnB,eAAK,EAAE,SADO;AACI;AAClBc,eAAK,EAAE,CAFO,CAEJ;;AAFI;AApBf,OAlDQ;AA2EX;AACAM,YAAM,EAAE;AACNT,YAAI,EAAE,MADA;AACQ;AACdU,wBAAgB,EAAE,aAFZ;;AAE2B;AACjCR,iBAAS,EAAE;AAAE;AACXb,eAAK,EAAE,SADE;AACS;AAClBc,eAAK,EAAE,CAFE,CAEC;;AAFD,SAHL;AAONQ,gBAAQ,EAAE;AAAE;AACVV,cAAI,EAAE,EADE;AAERC,mBAAS,EAAE;AAAE;AACXb,iBAAK,EAAE,SADE;AACS;AAClBc,iBAAK,EAAE,CAFE,CAEC;;AAFD,WAFH;AAMRlB,mBAAS,EAAE;AAAE;AACXI,iBAAK,EAAE,SADE;AACS;AAClBF,gBAAI,EAAE,MAFG;AAEK;AACdC,kBAAM,EAAE,iBAHC;AAGkB;AAC3BF,kBAAM,EAAE,QAJC,CAIQ;;AAJR;AANH,SAPJ;AAoBND,iBAAS,EAAE;AAAE;AACXI,eAAK,EAAE,MADE;;AACM;AACfF,cAAI,EAAE,MAFG;;AAEK;AACdyB,gBAAM,EAAE;AAAmB;;AAHlB,SApBL;AAyBNC,eAAO,EAAE;AAAE;AACTC,iBAAO,EAAE,CADF;AACK;AACZC,qBAAW,EAAE,CAFN;AAES;AAChBC,kBAAQ,EAAE,CAHH;AAGM;AACbC,kBAAQ,EAAE,CAJH;AAIM;AACbC,kBAAQ,EAAE,KALH,CAKU;;AALV,SAzBH;AAgCNC,cAAM,EAAE;AACNpC,cAAI,EAAE,KADA;AAENM,eAAK,EAAE,EAFD;AAGNF,cAAI,EAAE;AAHA,SAhCF;AAqCNiC,YAAI,EAAE,EArCA;;AAqCI;AACVnB,YAAI,EAAE;AAAE;AACNoB,mBAAS,EAAE,EADP;;AACW;AACfC,eAAK,EAAE,EAFH;;AAEO;AACXjC,eAAK,EAAE,EAHH;;AAGO;AACXkC,sBAAY,EAAE;AAAK;;AAJf,SAtCA;AA4CNC,eAAO,EAAE,EA5CH;;AA4CO;AACbC,iBAAS,EAAE;AAAM;;AA7CX,OA5EG;AA2HX;AACAC,aAAO,EAAE;AACPC,cAAM,EAAE,IADD;;AACO;AACdR,cAAM,EAAE;AACNpC,cAAI,EAAE,IADA;AAENM,eAAK,EAAE,EAFD;AAGNF,cAAI,EAAE;AAHA,SAFD;AAOPe,iBAAS,EAAE;AAAE;AACXb,eAAK,EAAE,SADE;AACS;AAClBc,eAAK,EAAE,CAFE,CAEC;;AAFD,SAPJ;AAWPlB,iBAAS,EAAE;AAAE;AACXI,eAAK,EAAE,MADE;AACM;AACfF,cAAI,EAAE,MAFG;AAEK;AACdC,gBAAM,EAAE,iBAHC;AAGkB;AAC3BF,gBAAM,EAAE,QAJC,CAIS;;AAJT,SAXJ;AAiBP0C,kBAAU,EAAE;AAAE;AACZvC,eAAK,EAAE,uBADG,CACsB;;AADtB,SAjBL;AAoBPwC,iBAAS,EAAE,mBAASC,MAAT,EAAiB,CAAE,CApBvB,CAoByB;;AApBzB,OA5HE;AAkJXC,WAAK,EAAE;AACL;AACAC,eAAO,EAAE;AACPjD,cAAI,EAAE,KADC;AAEPH,aAAG,EAAE;AAFE,SAFJ;AAML;AACAqD,gBAAQ,EAAE;AACRlD,cAAI,EAAE,KADE;AAERH,aAAG,EAAE;AAFG,SAPL;AAWL;AACAsD,eAAO,EAAE;AACPnD,cAAI,EAAE,KADC;AAEPH,aAAG,EAAE,IAFE;AAGPiD,mBAHO,qBAGGJ,SAHH,EAGc,CAAE;AAHhB,SAZJ;AAiBL;AACAU,qBAAa,EAAE;AACbpD,cAAI,EAAE,KADO;AAEbH,aAAG,EAAE,IAFQ;AAGbiD,mBAHa,qBAGHO,eAHG,EAGc,CAAE;AAHhB,SAlBV;AAuBL;AACAC,eAAO,EAAE;AACPtD,cAAI,EAAE,KADC;AAEPH,aAAG,EAAE,IAFE;AAGPiD,mBAHO,qBAGGS,SAHH,EAGc,CAAE;AAHhB,SAxBJ;AA6BL;AACAxB,eAAO,EAAE;AACP/B,cAAI,EAAE,KADC;AAEPH,aAAG,EAAE,IAFE;AAGPiD,mBAAS,EAAE,mBAACU,SAAD,EAAe,CAAE;AAHrB,SA9BJ;AAmCL;AACAC,iBAAS,EAAE;AACTzD,cAAI,EAAE,KADG;AAETH,aAAG,EAAE,IAFI;AAGTiD,mBAHS,qBAGCY,WAHD,EAGc,CAAE;AAHhB,SApCN;AAyCL;AACAC,kBAAU,EAAE;AACV3D,cAAI,EAAE,KADI;AAEVH,aAAG,EAAE;AAFK,SA1CP;AA8CL;AACA+D,gBAAQ,EAAE;AACR5D,cAAI,EAAE,KADE;AAERH,aAAG,EAAE;AAFG,SA/CL;AAmDL;AACAgE,mBAAW,EAAE;AACX7D,cAAI,EAAE,KADK;AAEXH,aAAG,EAAE;AAFM,SApDR;AAwDL;AACAiE,eAAO,EAAE;AACP9D,cAAI,EAAE,KADC;AAEPH,aAAG,EAAE;AAFE,SAzDJ;AA6DL;AACAkE,mBAAW,EAAE;AACX/D,cAAI,EAAE,KADK;AAEXH,aAAG,EAAE,IAFM;AAGXmE,mBAAS,EAAE;AAHA,SA9DR;AAmEL;AACAC,kBAAU,EAAE;AACVC,kBAAQ,EAAE,EADA;AAEVlE,cAAI,EAAE,KAFI;AAGVH,aAAG,EAAE;AAHK,SApEP;AAyEL;AACAsE,mBAAW,EAAE;AACXD,kBAAQ,EAAE,EADC;AAEXlE,cAAI,EAAE,KAFK;AAGXH,aAAG,EAAE,IAHM;AAIXuE,iBAAO,EAAE;AAJE;AA1ER,OAlJI;AAmOXC,qBAAe,EAAE,wBAnON;AAmOgC;AAC3CC,eAAS,EAAE,KApOA;AAoOO;AAClBC,YAAM,EAAE;AArOG,KAAb;;AAuOA,QAAIC,MAAM,GAAG,SAATA,MAAS,CAAS3E,GAAT,EAAc;AAAA;;AACzB,UAAI,CAACA,GAAL,EAAU;AACV,WAAK4E,IAAL,GAAY;AACVxE,YAAI,EAAEJ,GADI;AAEV6E,UAAE,EAAE,IAFM;AAGVtD,aAAK,EAAE,CAHG;AAIVuD,cAAM,EAAE;AAJE,OAAZ;AAMA,WAAKC,cAAL,GAAsB;AACpBC,gBAAQ,EAAE,EADU;AAEpBC,kBAAU,EAAE;AAFQ,OAAtB;AAIA,WAAKC,KAAL,GAAa;AACXC,qBAAa,EAAE,EADJ;AACQ;AACnBC,qBAAa,EAAE,EAFJ;AAEQ;AACnBC,kBAAU,EAAE,CAHD;AAGI;AACfC,YAAI,EAAE,CAJK;AAIF;AACTC,aAAK,EAAE,CALI;AAKD;AACVC,YAAI,EAAE;AAAE;AACNC,aAAG,EAAE,CAAC,CADF;;AACK;AACTC,aAAG,EAAE,CAAC,CAFF;;AAEK;AACTC,aAAG,EAAEC;AAAW;;AAHZ,SANK;AAWXC,kBAAU,EAAE;AAAE;AACZJ,aAAG,EAAE,CAAC,CADI;AAEVC,aAAG,EAAE,CAAC;AAFI,SAXD;AAeXI,iBAAS,EAAE;AAAE;AACXC,kBAAQ,EAAE,EADD;AACK;AACdC,cAAI,EAAE,EAFG,CAEA;;AAFA,SAfA;AAmBXC,cAAM,EAAE,CAnBG;AAmBA;AACXC,eAAO,EAAE,EApBE;AAoBE;AACbC,kBAAU,EAAE,EArBD;AAqBK;AAChBC,iBAAS,EAAE,KAtBA;AAsBO;AAClBC,oBAAY,EAAE,EAvBH;AAuBO;AAClBC,aAAK,EAAE,EAxBI;AAwBA;AACXC,aAAK,EAAE,EAzBI;AAyBA;AACXC,iBAAS,EAAE,CAAC,CA1BD;AA0BI;AACfrD,aAAK,EAAE;AACLsD,sBAAY,EAAE,CADT;AACY;AACjBC,mBAAS,EAAE,CAFN;AAES;AACdC,iBAAO,EAAE,CAHJ;AAGO;AACZC,qBAAW,EAAE,CAAC,CAJT;AAIY;AACjBC,sBAAY,EAAE,KALT;AAKgB;AACrBC,sBAAY,EAAE,CANT;AAMY;AACjBC,0BAAgB,EAAE,CAPb,CAOe;;AAPf;AA3BI,OAAb;AAqCA,WAAKC,MAAL,GAAc;AACZ;AACAC,SAAC,EAAE;AACD;AACAjG,WAAC,EAAE;AACDkG,iBAAK,EAAE,IADN;AACY;AACbC,eAAG,EAAE,IAFJ;AAEU;AACXC,kBAAM,EAAE,IAHP,CAGa;;AAHb,WAFF;AAOD;AACAzF,WAAC,EAAE;AACDuF,iBAAK,EAAE,IADN;AACY;AACbC,eAAG,EAAE,IAFJ;AAEU;AACXC,kBAAM,EAAE,IAHP,CAGa;;AAHb;AARF,SAFS;AAgBZ;AACAC,SAAC,EAAE;AACDA,WAAC,EAAE,IADF;AACQ;AACTC,WAAC,EAAE,IAFF;AAEQ;AACTC,WAAC,EAAE,IAHF;AAGQ;AACTC,WAAC,EAAE,IAJF;AAIQ;AACTxG,WAAC,EAAE,IALF;AAKQ;AACTW,WAAC,EAAE,IANF;AAMQ;AACT8F,YAAE,EAAE,IAPH,CAOS;;AAPT;AAjBS,OAAd;AA2BA,WAAKC,QAAL,GAAgB;AACd1G,SAAC,EAAE;AACD2G,gBAAM,EAAE,CADP;AAEDC,gBAAM,EAAE,CAFP;AAGDC,cAAI,EAAE,CAHL;AAIDC,gBAAM,EAAE,CAJP;AAKD/D,kBAAQ,EAAE;AALT,SADW;AAQdpC,SAAC,EAAE;AACDgG,gBAAM,EAAE,CADP;AAEDC,gBAAM,EAAE,CAFP;AAGDC,cAAI,EAAE,CAHL;AAIDC,gBAAM,EAAE,CAJP;AAKD/D,kBAAQ,EAAE;AALT;AARW,OAAhB;AAgBA,WAAKgE,OAAL,GAAe,IAAf;AACA,WAAKC,UAAL,GAAkB;AAChBC,cAAM,EAAE,EADQ;AAEhBC,WAAG,EAAE,EAFW,CAGhB;;AAHgB,OAAlB;AAKA,WAAKC,IAAL,GAAY;AAAE;AACZnH,SAAC,EAAE,EADO;;AACH;AACPW,SAAC,EAAE,EAFO;;AAEH;AACPyG,aAAK,EAAE;AAAI;;AAHD,OAAZ;AAKA,WAAKC,KAAL,GAAa;AACXrI,WAAG,EAAE;AACH;AACAuF,eAAK,EAAE,eAAA+C,CAAC,EAAI;AACVA,aAAC,CAACC,eAAF;AACA,gBAAMC,GAAG,GAAG,KAAI,CAACT,OAAjB;AACA,gBAAMlG,MAAM,GAAG2G,GAAG,CAAC3G,MAAnB;AACA,gBAAMwF,CAAC,GAAG,KAAI,CAACL,MAAL,CAAYK,CAAtB;AACA,gBAAMoB,EAAE,GAAGH,CAAC,CAACI,OAAb;AACA,gBAAMC,EAAE,GAAGL,CAAC,CAACM,OAAb;;AACA,gBAAI/G,MAAM,CAACC,gBAAP,KAA4B,aAAhC,EAA+C;AAC7C,kBAAI,CAAC,KAAI,CAACoD,KAAL,CAAWI,IAAZ,IAAoBkD,GAApB,IAA2BA,GAAG,CAACxH,CAAJ,CAAMK,IAAN,CAAW+F,MAAX,GAAoB,CAA/C,IAAoD,CAAC,KAAI,CAAClC,KAAL,CAAWkB,SAApE,EAA+E;AAC7E,oBAAIyC,MAAJ;AACA,oBAAIJ,EAAE,IAAID,GAAG,CAAC7H,IAAJ,CAASG,IAAf,IAAuB2H,EAAE,IAAIpB,CAAC,CAACA,CAAnC,EACEwB,MAAM,GAAG,KAAI,CAACC,eAAL,CAAqBL,EAArB,EAAyBE,EAAzB,CAAT,CADF,KAGE;;AACF,oBAAI,KAAI,CAACzD,KAAL,CAAW/B,KAAX,CAAiB0D,YAArB,EAAmC;AACjCgC,wBAAM,CAACpD,GAAP,GAAa,KAAI,CAACsD,gBAAL,CAAsBF,MAAM,CAACnD,GAA7B,EAAkC,KAAI,CAACqC,OAAL,CAAapG,CAAb,CAAeN,IAAf,CAAoBwH,MAAM,CAACpD,GAA3B,CAAlC,EAAmE,CAAnE,CAAb;AACAoD,wBAAM,CAACnD,GAAP,GAAa,KAAI,CAACqC,OAAL,CAAa/G,CAAb,CAAeK,IAAf,CAAoBwH,MAAM,CAACpD,GAA3B,CAAb;AACD;;AACD,oBAAIgD,EAAE,IAAID,GAAG,CAAC7H,IAAJ,CAASG,IAAf,IAAuB2H,EAAE,IAAIpB,CAAC,CAACA,CAA/B,IAAoCsB,EAAE,IAAIH,GAAG,CAAC7H,IAAJ,CAASC,GAAnD,IAA0D+H,EAAE,IAAItB,CAAC,CAACE,CAAtE,EAAyE;AACvE,uBAAI,CAACrC,KAAL,CAAWM,IAAX,GAAkB;AAChBE,uBAAG,EAAEmD,MAAM,CAACnD,GADI;AAEhBD,uBAAG,EAAEoD,MAAM,CAACpD,GAFI;AAGhBE,uBAAG,EAAEkD,MAAM,CAACT;AAHI,mBAAlB;AAKD,iBAND,MAMO;AACL;AACD;;AACD,oBAAI,KAAI,CAAClD,KAAL,CAAWK,KAAf,EAAsB;AACpB,sBAAIkD,EAAE,IAAI,KAAI,CAACV,OAAL,CAAapH,IAAb,CAAkBG,IAAxB,IAAgC2H,EAAE,IAAIpB,CAAC,CAACA,CAAxC,IAA6CsB,EAAE,IAAI,KAAI,CAACZ,OAAL,CAAapH,IAAb,CAAkBC,GAArE,IAA4E+H,EAAE,IAAItB,CAAC,CAACE,CAAxF,EAA2F;AACxF,yBAAI,CAACQ,OAAL,CAAa5E,KAAb,CAAmBI,aAAnB,CAAiCpD,IAAjC,IAAyC,KAAI,CAAC4H,OAAL,CAAa5E,KAAb,CAAmBI,aAAnB,CAAiCvD,GAA3E,IACA,KAAI,CAACgJ,aAAL,EADA;;AAEA,wBAAK,KAAI,CAACjB,OAAL,CAAa5E,KAAb,CAAmBM,OAAnB,CAA2BtD,IAA3B,IAAmC,KAAI,CAAC4H,OAAL,CAAa5E,KAAb,CAAmBM,OAAnB,CAA2BzD,GAA/D,IACD,KAAI,CAAC+H,OAAL,CAAa5E,KAAb,CAAmBS,SAAnB,CAA6BzD,IAA7B,IAAqC,KAAI,CAAC4H,OAAL,CAAa5E,KAAb,CAAmBS,SAAnB,CAA6B5D,GADjE,IAED,KAAI,CAAC+H,OAAL,CAAa5E,KAAb,CAAmBjB,OAAnB,CAA2B/B,IAA3B,IAAmC,KAAI,CAAC4H,OAAL,CAAa5E,KAAb,CAAmBjB,OAAnB,CAA2BlC,GAF7D,IAGD,KAAI,CAAC+H,OAAL,CAAa5E,KAAb,CAAmBW,UAAnB,CAA8B3D,IAA9B,IAAsC,KAAI,CAAC4H,OAAL,CAAa5E,KAAb,CAAmBW,UAAnB,CAA8B9D,GAHvE,EAIE;AACA,2BAAI,CAACiJ,aAAL;AACD;;AACD,wBAAI,KAAI,CAAC/D,KAAL,CAAW/B,KAAX,CAAiB2D,YAAjB,IAAiC,KAAI,CAAC5B,KAAL,CAAW/B,KAAX,CAAiBsD,YAAlD,IAAkE,KAAI,CAACvB,KAAL,CAAW/B,KAAX,CAAiBwD,OAAvF,EAAgG;AAC9F,2BAAI,CAACuC,aAAL;AACD,qBAFD,MAEO;AACL,2BAAI,CAAChE,KAAL,CAAWsB,SAAX,GAAuB,CAAvB;;AACA,2BAAI,CAAC2C,QAAL,CAAc,KAAI,CAACjE,KAAL,CAAWM,IAAzB;AACD;AACF;AACF;;AACDgD,mBAAG,CAAC1F,OAAJ,CAAYG,SAAZ,CAAsB,KAAI,CAACiC,KAAL,CAAWM,IAAjC;AACD;AACF,aAzCD,MA0CK,IAAI3D,MAAM,CAACC,gBAAP,KAA4B,QAAhC,EAA0C;AAC7C,kBAAI0G,GAAG,IAAI3G,MAAM,CAACR,IAAP,CAAYoB,SAAZ,CAAsB2E,MAAtB,GAA+B,CAA1C,EAA6C;AAC3C,oBAAMe,IAAI,GAAG,KAAI,CAACA,IAAlB;AACA,oBAAMiB,EAAE,GAAGjB,IAAI,CAACnH,CAAhB;AACA,oBAAMqI,EAAE,GAAGlB,IAAI,CAACxG,CAAhB;AACA,oBAAM0F,EAAC,GAAG,KAAI,CAACL,MAAL,CAAYK,CAAtB;AACA,oBAAMiC,EAAE,GAAGjC,EAAC,CAACrG,CAAb;AACA,oBAAMuI,EAAE,GAAGlC,EAAC,CAAC1F,CAAb;AACA,oBAAM8F,EAAE,GAAGJ,EAAC,CAACI,EAAb;;AACA,oBAAI,SAACgB,EAAE,GAAGa,EAAN,EAAa,CAAb,aAAkBX,EAAE,GAAGY,EAAvB,EAA8B,CAA9B,cAAmC9B,EAAnC,EAAyC,CAAzC,CAAJ,EAAgD;AAC9C,sBAAI/F,GAAG,GAAG;AACRV,qBAAC,EAAE,CADK;AAERW,qBAAC,EAAE,CAFK;AAGRyG,yBAAK,EAAE,IAHC;AAIRoB,yBAAK,EAAEC,MAAM,CAACC;AAJN,mBAAV;;AAMA,uBAAK,IAAIC,EAAC,GAAG,CAAR,EAAWC,CAAC,GAAGR,EAAE,CAAChC,MAAvB,EAA+BuC,EAAC,GAAGC,CAAnC,EAAsCD,EAAC,EAAvC,EAA2C;AACzC,wBAAME,CAAC,GAAG,SAACT,EAAE,CAACO,EAAD,CAAF,GAAQlB,EAAT,EAAgB,CAAhB,aAAqBY,EAAE,CAACM,EAAD,CAAF,GAAQhB,EAA7B,EAAoC,CAApC,CAAV;;AACA,wBAAIjH,GAAG,CAAC8H,KAAJ,GAAYK,CAAhB,EAAmB;AACjBnI,yBAAG,GAAG;AACJV,yBAAC,EAAEoI,EAAE,CAACO,EAAD,CADD;AAEJhI,yBAAC,EAAE0H,EAAE,CAACM,EAAD,CAFD;AAGJvB,6BAAK,EAAED,IAAI,CAACC,KAAL,CAAWuB,EAAX,CAHH;AAIJH,6BAAK,EAAEK;AAJH,uBAAN;AAMD;AACF;;AACD,uBAAI,CAACC,SAAL,CAAepI,GAAf;AACD;AACF;AACF,aA9BI,MA+BA,IAAIG,MAAM,CAACC,gBAAP,KAA4B,YAAhC,EAA8C;AACjD,kBAAI0G,GAAG,IAAI3G,MAAM,CAACR,IAAP,CAAYqB,KAAZ,CAAkB0E,MAAlB,GAA2B,CAAtC,EAAyC;AACvC,oBAAMe,KAAI,GAAG,KAAI,CAACA,IAAlB;AACA,oBAAMiB,GAAE,GAAGjB,KAAI,CAACnH,CAAhB;AACA,oBAAMqI,GAAE,GAAGlB,KAAI,CAACxG,CAAhB;AACA,oBAAM0F,GAAC,GAAG,KAAI,CAACL,MAAL,CAAYK,CAAtB;AACA,oBAAMiC,GAAE,GAAGjC,GAAC,CAACrG,CAAb;AACA,oBAAMuI,GAAE,GAAGlC,GAAC,CAAC1F,CAAb;AACA,oBAAM8F,GAAE,GAAGJ,GAAC,CAACI,EAAb;;AACA,oBAAI,SAACgB,EAAE,GAAGa,GAAN,EAAa,CAAb,aAAkBX,EAAE,GAAGY,GAAvB,EAA8B,CAA9B,cAAmC9B,GAAnC,EAAyC,CAAzC,CAAJ,EAAgD;AAC9C,sBAAI/F,IAAG,GAAG;AACRV,qBAAC,EAAE,CADK;AAERW,qBAAC,EAAE,CAFK;AAGRyG,yBAAK,EAAE,IAHC;AAIRoB,yBAAK,EAAEC,MAAM,CAACC;AAJN,mBAAV;;AAMA,uBAAK,IAAIC,GAAC,GAAG,CAAR,EAAWC,EAAC,GAAGP,GAAE,CAACjC,MAAvB,EAA+BuC,GAAC,GAAGC,EAAnC,EAAsCD,GAAC,EAAvC,EAA2C;AACzC,wBAAME,EAAC,GAAG,SAACT,GAAE,CAACO,GAAD,CAAF,CAAMI,IAAN,GAAatB,EAAd,EAAqB,CAArB,aAA0BY,GAAE,CAACM,GAAD,CAAF,CAAMI,IAAN,GAAapB,EAAvC,EAA8C,CAA9C,CAAV;;AACA,wBAAIjH,IAAG,CAAC8H,KAAJ,GAAYK,EAAhB,EAAmB;AACjBnI,0BAAG,GAAG;AACJV,yBAAC,EAAEoI,GAAE,CAACO,GAAD,CAAF,CAAMI,IADL;AAEJpI,yBAAC,EAAE0H,GAAE,CAACM,GAAD,CAAF,CAAMI,IAFL;AAGJ3B,6BAAK,EAAED,KAAI,CAACC,KAAL,CAAWuB,GAAX,CAHH;AAIJH,6BAAK,EAAEK;AAJH,uBAAN;AAMD;AACF;;AACD,uBAAI,CAACC,SAAL,CAAepI,IAAf,EAAoBG,MAAM,CAACC,gBAA3B;AACD;AACF;AACF;AACF,WAjHE;AAkHH;AACAkI,mBAAS,EAAE,mBAAA1B,CAAC,EAAI;AACd,gBAAM2B,IAAI,GAAG,KAAI,CAAC/E,KAAlB;AACA+E,gBAAI,CAAC7D,SAAL,GAAiB,KAAjB;AACA,gBAAM8D,OAAO,GAAG,KAAI,CAACxC,QAArB;AACAwC,mBAAO,CAAClJ,CAAR,CAAU6G,IAAV,GAAiB,CAAjB;AACAqC,mBAAO,CAAClJ,CAAR,CAAU8G,MAAV,GAAmBQ,CAAC,CAACI,OAArB;AACAwB,mBAAO,CAACvI,CAAR,CAAUmG,MAAV,GAAmBQ,CAAC,CAACM,OAArB;AACAsB,mBAAO,CAAClJ,CAAR,CAAU2G,MAAV,GAAmBW,CAAC,CAACI,OAArB;AACAwB,mBAAO,CAACvI,CAAR,CAAUgG,MAAV,GAAmBW,CAAC,CAACM,OAArB;;AACA,iBAAK,IAAIe,GAAC,GAAG,CAAR,EAAWC,CAAC,GAAGK,IAAI,CAAC9D,UAAL,CAAgBiB,MAApC,EAA4CuC,GAAC,GAAGC,CAAhD,EAAmDD,GAAC,EAApD,EAAwD;AACtD,kBAAIjE,GAAG,GAAGuE,IAAI,CAAC9D,UAAL,CAAgBwD,GAAhB,CAAV;;AACA,kBAAIrB,CAAC,CAACI,OAAF,IAAahD,GAAG,CAAC1E,CAAjB,IAAsBsH,CAAC,CAACI,OAAF,IAAahD,GAAG,CAAC1E,CAAJ,GAAQ,GAA3C,IAAkDsH,CAAC,CAACM,OAAF,IAAalD,GAAG,CAAC/D,CAAnE,IAAwE2G,CAAC,CAACM,OAAF,IAAalD,GAAG,CAAC/D,CAAJ,GAAQ,EAAjG,EAAqG;AACnG+D,mBAAG,CAACuE,IAAJ,GAAW,CAAX;AACAA,oBAAI,CAAC1E,KAAL,GAAa,CAAb;AACA;AACD,eAJD,MAIO;AACL0E,oBAAI,CAAC1E,KAAL,GAAa,CAAb;AACD;AACF;;AACD,iBAAI,CAAC4E,QAAL,CAAc,KAAI,CAACvF,IAAL,CAAUxE,IAAxB,EAA8B,WAA9B,EAA2C,KAAI,CAACiI,KAAL,CAAWrI,GAAX,CAAeoK,QAA1D;AACD,WAvIE;AAwIH;AACAA,kBAAQ,EAAE,kBAAA9B,CAAC,EAAI;AACbA,aAAC,CAACC,eAAF;AACA,gBAAI8B,QAAQ,GAAG,CAAf;AACA,gBAAI7B,GAAG,GAAG,KAAI,CAACT,OAAf;;AACA,gBAAIS,GAAG,IAAIA,GAAG,CAACxH,CAAJ,CAAMK,IAAN,CAAW+F,MAAX,GAAoB,CAA3B,IAAgCkB,CAAC,CAACgC,MAAF,CAASC,QAAT,KAAsB,QAA1D,EAAoE;AAClE,kBAAIC,KAAK,GAAG,KAAI,CAAC9C,QAAL,CAAc1G,CAA1B;AAAA,kBACEyJ,KAAK,GAAG,KAAI,CAAC/C,QAAL,CAAc/F,CADxB;AAAA,kBAEEsI,IAAI,GAAG,KAAI,CAAC/E,KAFd;AAAA,kBAGEwF,KAAK,GAAG,KAAI,CAAC1D,MAHf;AAAA,kBAIE2D,MAAM,GAAGD,KAAK,CAACrD,CAJjB;AAAA,kBAKEuD,MAAM,GAAGF,KAAK,CAACzD,CALjB;AAAA,kBAME4D,IAAI,GAAG,KAAI,CAAC9F,cAAL,CAAoBE,UAN7B;AAAA,kBAOE6F,KAAK,GAAGD,IAAI,CAAC7J,CAPf;AAAA,kBAQE+J,KAAK,GAAGF,IAAI,CAAClJ,CARf;AAAA,kBASEqJ,KAAK,GAAG,KAAI,CAACjG,cAAL,CAAoBC,QAApB,CAA6BhE,CATvC;AAAA,kBAUEiK,IAAI,GAAGzC,GAAG,CAAC7G,CAAJ,CAAMN,IAVf;AAWAmJ,mBAAK,CAAC5C,MAAN,GAAeU,CAAC,CAACI,OAAjB;AACA8B,mBAAK,CAAC3C,IAAN,GAAa2C,KAAK,CAAC5C,MAAN,GAAe4C,KAAK,CAAC7C,MAAlC;AACA8C,mBAAK,CAAC7C,MAAN,GAAeU,CAAC,CAACM,OAAjB;AACA6B,mBAAK,CAAC5C,IAAN,GAAa4C,KAAK,CAAC7C,MAAN,GAAe6C,KAAK,CAAC9C,MAAlC;;AACA,kBAAI8C,KAAK,CAAC3C,MAAN,IAAgB6C,MAAM,CAACpD,CAAvB,IAA4BkD,KAAK,CAAC3C,MAAN,IAAgB6C,MAAM,CAACpD,CAAP,GAAW,EAA3D,EAA+D;AAC7D;AACA8C,wBAAQ,GAAGa,IAAI,CAACC,GAAL,CAAS,CAACX,KAAK,CAAC5C,MAAN,GAAekD,KAAK,CAACvD,CAAtB,IAA2BuD,KAAK,CAACM,CAAjC,GAAqC,CAACZ,KAAK,CAAC7C,MAAN,GAAemD,KAAK,CAACvD,CAAtB,IAA2BuD,KAAK,CAACM,CAA/E,CAAX;;AACA,oBAAIZ,KAAK,CAAC3C,IAAN,KAAe,CAAnB,EAAsB;AACpB;AACD,iBAFD,MAEO,IAAI2C,KAAK,CAAC3C,IAAN,GAAa,CAAjB,EAAoB;AACzB,sBAAI+C,MAAM,CAAC5J,CAAP,CAASkG,KAAT,GAAiBmD,QAAjB,IAA6BW,KAAK,CAACtJ,GAAvC,EAA4C;AAC1CkJ,0BAAM,CAAC5J,CAAP,CAASkG,KAAT,GAAiB8D,KAAK,CAACtJ,GAAvB;AACAkJ,0BAAM,CAAC5J,CAAP,CAASmG,GAAT,IAAgByD,MAAM,CAAC5J,CAAP,CAASkG,KAAT,GAAiB8D,KAAK,CAACtJ,GAAvC;AACD,mBAHD,MAGO;AACLkJ,0BAAM,CAAC5J,CAAP,CAASkG,KAAT,IAAkBmD,QAAlB;AACAO,0BAAM,CAAC5J,CAAP,CAASmG,GAAT,IAAgBkD,QAAhB;AACAG,yBAAK,CAAC7C,MAAN,GAAeW,CAAC,CAACI,OAAjB;AACD;AACF,iBATM,MASA;AACL,sBAAIkC,MAAM,CAAC5J,CAAP,CAASmG,GAAT,GAAekD,QAAf,IAA2BW,KAAK,CAACvJ,GAArC,EAA0C;AACxCmJ,0BAAM,CAAC5J,CAAP,CAASmG,GAAT,GAAe6D,KAAK,CAACvJ,GAArB;AACAmJ,0BAAM,CAAC5J,CAAP,CAASkG,KAAT,IAAkB8D,KAAK,CAACvJ,GAAN,GAAYmJ,MAAM,CAAC5J,CAAP,CAASmG,GAAvC;AACD,mBAHD,MAGO;AACLyD,0BAAM,CAAC5J,CAAP,CAASkG,KAAT,IAAkBmD,QAAlB;AACAO,0BAAM,CAAC5J,CAAP,CAASmG,GAAT,IAAgBkD,QAAhB;AACAG,yBAAK,CAAC7C,MAAN,GAAeW,CAAC,CAACI,OAAjB;AACD;AACF;;AACD,oBAAIrH,IAAI,GAAG;AACTK,qBAAG,EAAE+H,MAAM,CAACC,SADH;AAETjI,qBAAG,EAAEgI,MAAM,CAAC4B,SAAP,GAAmB,CAAC;AAFhB,iBAAX;AAAA,oBAGGzB,CAAC,GAAGqB,IAAI,CAAC7D,MAHZ;AAIA,qBAAI,CAACW,OAAL,CAAa/G,CAAb,CAAeI,IAAf,KAAwB,UAAxB,KAAuCC,IAAI,CAACK,GAAL,GAAW,CAAlD;;AACA,oBAAI,QAAOuJ,IAAI,CAAC,CAAD,CAAX,MAAmB,QAAnB,IAA+BA,IAAI,CAAC,CAAD,CAAJ,CAAQ7D,MAAR,IAAkB,CAArD,EAAwD;AACtD/F,sBAAI,CAAC6F,KAAL,GAAa,KAAI,CAAC4B,eAAL,CAAqBN,GAAG,CAAC7H,IAAJ,CAASG,IAA9B,EAAoC6J,MAAM,CAACpD,CAA3C,EAA8C9B,GAA3D;AACApE,sBAAI,CAAC8F,GAAL,GAAW,KAAI,CAAC2B,eAAL,CAAqB6B,MAAM,CAACtD,CAA5B,EAA+BsD,MAAM,CAACpD,CAAtC,EAAyC9B,GAAzC,GAA+C,CAA1D;;AACA,uBAAK,IAAIkE,GAAC,GAAG,CAAb,EAAgBA,GAAC,GAAGC,CAApB,EAAuBD,GAAC,EAAxB,EAA4B;AAC1BtI,wBAAI,CAACA,IAAL,GAAY4J,IAAI,CAACtB,GAAD,CAAJ,CAAQ2B,KAAR,CAAcjK,IAAI,CAAC6F,KAAnB,EAA0B7F,IAAI,CAAC8F,GAA/B,CAAZ;AACA,wBAAIoE,GAAG,GAAGlK,IAAI,CAACA,IAAL,CAAU+F,MAApB;;AACA,yBAAK,IAAIoE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,GAApB,EAAyBC,CAAC,EAA1B,EAA8B;AAC5B,0BAAM9F,GAAG,GAAGrE,IAAI,CAACA,IAAL,CAAUmK,CAAV,CAAZ;AACAnK,0BAAI,CAACK,GAAL,GAAWgE,GAAX,KAAmBrE,IAAI,CAACK,GAAL,GAAW+H,MAAM,CAAC/D,GAAD,CAApC;AACArE,0BAAI,CAACI,GAAL,GAAWiE,GAAX,KAAmBrE,IAAI,CAACI,GAAL,GAAWgI,MAAM,CAAC/D,GAAD,CAApC;AACD;AACF;AACF,iBAZD,MAYO;AACLrE,sBAAI,CAAC6F,KAAL,GAAa,KAAI,CAAC4B,eAAL,CAAqBN,GAAG,CAAC7H,IAAJ,CAASG,IAA9B,EAAoC6J,MAAM,CAACpD,CAA3C,EAA8C9B,GAA3D;AACApE,sBAAI,CAAC8F,GAAL,GAAW,KAAI,CAAC2B,eAAL,CAAqB6B,MAAM,CAACtD,CAA5B,EAA+BsD,MAAM,CAACpD,CAAtC,EAAyC9B,GAAzC,GAA+C,CAA1D;AACApE,sBAAI,CAACA,IAAL,GAAY4J,IAAI,CAACK,KAAL,CAAWjK,IAAI,CAAC6F,KAAhB,EAAuB7F,IAAI,CAAC8F,GAA5B,CAAZ;;AACA,uBAAK,IAAIwC,GAAC,GAAG,CAAb,EAAgBA,GAAC,GAAGC,CAApB,EAAuBD,GAAC,EAAxB,EAA4B;AAC1B,wBAAMjE,IAAG,GAAGrE,IAAI,CAACA,IAAL,CAAUsI,GAAV,CAAZ;AACAtI,wBAAI,CAACK,GAAL,GAAWgE,IAAX,KAAmBrE,IAAI,CAACK,GAAL,GAAW+H,MAAM,CAAC/D,IAAD,CAApC;AACArE,wBAAI,CAACI,GAAL,GAAWiE,IAAX,KAAmBrE,IAAI,CAACI,GAAL,GAAWgI,MAAM,CAAC/D,IAAD,CAApC;AACD;AACF;;AACDkF,sBAAM,CAACjJ,CAAP,CAASuF,KAAT,GAAiB7F,IAAI,CAACK,GAAtB;AACAkJ,sBAAM,CAACjJ,CAAP,CAASwF,GAAT,GAAe9F,IAAI,CAACI,GAAL,GAAW,CAACJ,IAAI,CAACI,GAAL,GAAWJ,IAAI,CAACK,GAAjB,IAAwB,EAAlD;AACAuI,oBAAI,CAAC1E,KAAL,GAAa,CAAb;;AACA,qBAAI,CAACkG,UAAL,CAAgB,CAAhB;AACD,eAvDD,MAuDO,IAAIjB,KAAK,CAAC1C,MAAN,GAAeU,GAAG,CAAC7H,IAAJ,CAASG,IAA5B,EAAkC;AACvC;AACAuJ,wBAAQ,GAAGa,IAAI,CAACC,GAAL,CAAS,CAACV,KAAK,CAAC7C,MAAN,GAAemD,KAAK,CAACxD,CAAtB,IAA2BwD,KAAK,CAACK,CAAjC,GAAqC,CAACX,KAAK,CAAC9C,MAAN,GAAeoD,KAAK,CAACxD,CAAtB,IAA2BwD,KAAK,CAACK,CAA/E,CAAX;;AACA,oBAAIX,KAAK,CAAC5C,IAAN,KAAe,CAAnB,EAAsB;AACpB;AACD,iBAFD,MAEO,IAAI4C,KAAK,CAAC5C,IAAN,GAAa,CAAjB,EAAoB;AACzB+C,wBAAM,CAACjJ,CAAP,CAASuF,KAAT,IAAkBmD,QAAlB;AACAO,wBAAM,CAACjJ,CAAP,CAASwF,GAAT,IAAgBkD,QAAhB;AACD,iBAHM,MAGA;AACLO,wBAAM,CAACjJ,CAAP,CAASuF,KAAT,IAAkBmD,QAAlB;AACAO,wBAAM,CAACjJ,CAAP,CAASwF,GAAT,IAAgBkD,QAAhB;AACD;;AACDI,qBAAK,CAAC9C,MAAN,GAAeW,CAAC,CAACM,OAAjB;AACAqB,oBAAI,CAAC1E,KAAL,GAAa,CAAb;;AACA,qBAAI,CAACmG,QAAL,CAAc,CAAd;;AACA,qBAAI,CAACC,QAAL;;AACA,qBAAI,CAACC,QAAL;;AACA,qBAAI,CAACC,QAAL;AACD,eAlBM,MAkBA,IAAIrB,KAAK,CAAC1C,MAAN,IAAgBU,GAAG,CAAC7H,IAAJ,CAASG,IAAzB,IAAiC0J,KAAK,CAAC1C,MAAN,IAAgB6C,MAAM,CAACtD,CAAxD,IAA6DoD,KAAK,CAAC3C,MAAN,IAAgBU,GAAG,CAAC7H,IAAJ,CAASC,GAAtF,IAA6F6J,KAAK,CAAC3C,MAAN,GAAe6C,MAAM,CAACpD,CAAvH,EAA0H;AAC/H,oBAAI0C,IAAI,CAAC3E,IAAT,EAAe;AACb;AACA,uBAAI,CAACwG,eAAL,CAAqB,CAArB;AACD,iBAHD,MAGO;AACL,sBAAI3F,UAAU,GAAG8D,IAAI,CAAC9D,UAAtB;AAAA,sBAAkCyD,GAAC,GAAGzD,UAAU,CAACiB,MAAjD;;AACA,sBAAIwC,GAAC,GAAG,CAAR,EAAW;AACT,wBAAImC,SAAS,GAAG,KAAhB;;AACA,yBAAK,IAAIpC,GAAC,GAAG,CAAb,EAAgBA,GAAC,GAAGC,GAApB,EAAuBD,GAAC,EAAxB,EAA4B;AAC1B,0BAAIjE,KAAG,GAAGS,UAAU,CAACwD,GAAD,CAApB;;AACA,0BAAIa,KAAK,CAAC7C,MAAN,IAAgBjC,KAAG,CAAC1E,CAApB,IAAyBwJ,KAAK,CAAC7C,MAAN,IAAgBjC,KAAG,CAAC1E,CAAJ,GAAQ,GAAjD,IAAwDyJ,KAAK,CAAC9C,MAAN,IAAgBjC,KAAG,CAAC/D,CAA5E,IAAiF8I,KAAK,CAAC9C,MAAN,IAAgBjC,KAAG,CAAC/D,CAAJ,GAAQ,EAAzG,IAA+G+D,KAAG,CAACuE,IAAvH,EAA6H;AAC3H8B,iCAAS,GAAG,IAAZ;AACArG,6BAAG,CAAC1E,CAAJ,IAASwJ,KAAK,CAAC3C,IAAf;AACAnC,6BAAG,CAAC/D,CAAJ,IAAS8I,KAAK,CAAC5C,IAAf;;AACA,6BAAI,CAACmE,YAAL,CAAkB,CAAlB;;AACAxB,6BAAK,CAAC7C,MAAN,GAAe6C,KAAK,CAAC5C,MAArB;AACA6C,6BAAK,CAAC9C,MAAN,GAAe8C,KAAK,CAAC7C,MAArB;AACAqC,4BAAI,CAAC7D,SAAL,GAAiB,IAAjB;AACA;AACD;AACF;AACF;;AACD,sBAAI,CAAC6D,IAAI,CAAC7D,SAAV,EAAqB;AACnB6D,wBAAI,CAAC9G,KAAL,CAAW2D,YAAX,IAA2B,KAAI,CAACmC,aAAL,EAA3B;;AACA,wBAAIgD,IAAI,GAAG,KAAI,CAACnD,eAAL,CAAqB0B,KAAK,CAAC5C,MAA3B,EAAmC6C,KAAK,CAAC7C,MAAzC,CAAX;;AACA,wBAAIqC,IAAI,CAAC9G,KAAL,CAAW0D,YAAf,EAA6B;AAC3B,0BAAIoF,IAAI,CAAC7D,KAAL,KAAexC,SAAnB,EAA8B;AAC5BqG,4BAAI,CAACxG,GAAL,GAAW,KAAI,CAACsD,gBAAL,CAAsBkD,IAAI,CAACvG,GAA3B,EAAgC8C,GAAG,CAAC7G,CAAJ,CAAMN,IAAN,CAAW4K,IAAI,CAACxG,GAAhB,CAAhC,EAAsD,CAAtD,CAAX;AACAwG,4BAAI,CAACvG,GAAL,GAAW8C,GAAG,CAACxH,CAAJ,CAAMK,IAAN,CAAW4K,IAAI,CAACxG,GAAhB,CAAX;AACD,uBAHD,MAGO;AACLwG,4BAAI,CAACxG,GAAL,GAAW,KAAI,CAACsD,gBAAL,CAAsBkD,IAAI,CAACvG,GAA3B,EAAgC8C,GAAG,CAAC7G,CAAJ,CAAMN,IAAN,CAAW4K,IAAI,CAAC7D,KAAhB,EAAuB6D,IAAI,CAACxG,GAA5B,CAAhC,EAAkE,CAAlE,CAAX;AACAwG,4BAAI,CAACvG,GAAL,GAAW8C,GAAG,CAACxH,CAAJ,CAAMK,IAAN,CAAW4K,IAAI,CAAC7D,KAAhB,EAAuB6D,IAAI,CAACxG,GAA5B,CAAX;AACD;AACF;;AACDwE,wBAAI,CAACzE,IAAL,GAAY;AACVC,yBAAG,EAAEwG,IAAI,CAACxG,GADA;AAEVC,yBAAG,EAAEuG,IAAI,CAACvG,GAFA;AAGVC,yBAAG,EAAEsG,IAAI,CAAC7D;AAHA,qBAAZ;;AAKA,yBAAI,CAACyD,QAAL;AACD;AACD;;;;;;;;;;;;;;;;;;;;AAmBD;AACF,eA7DM,MA6DA;AACL;AACD;AACF,aAzJD,MAyJO;AACL;AACD;AACF,WAzSE;AA0SH;AACAK,iBAAO,EAAE,mBAAM;AACb,gBAAMjC,IAAI,GAAG,KAAI,CAAC/E,KAAlB;;AACA,iBAAK,IAAIyE,GAAC,GAAG,CAAR,EAAWC,CAAC,GAAGK,IAAI,CAAC9D,UAAL,CAAgBiB,MAApC,EAA4CuC,GAAC,GAAGC,CAAhD,EAAmDD,GAAC,EAApD,EAAwD;AACtD,kBAAIM,IAAI,CAAC9D,UAAL,CAAgBwD,GAAhB,EAAmBM,IAAvB,EAA6B;AAC3BA,oBAAI,CAAC9D,UAAL,CAAgBwD,GAAhB,EAAmBM,IAAnB,GAA0B,CAA1B;AACA;AACD;AACF;;AACD,iBAAI,CAAC6B,eAAL;;AACA,gBAAI7B,IAAI,CAAC3E,IAAL,IAAa,KAAI,CAACoC,QAAL,CAAc1G,CAAd,CAAgB8G,MAAhB,IAA0B,KAAI,CAACC,OAAL,CAAapH,IAAb,CAAkBG,IAAzD,IAAiE,KAAI,CAAC4G,QAAL,CAAc1G,CAAd,CAAgB8G,MAAhB,IAA0B,KAAI,CAACd,MAAL,CAAYK,CAAZ,CAAcA,CAAzG,IAA8G,KAAI,CAACK,QAAL,CAAc/F,CAAd,CAAgBmG,MAAhB,IAA0B,KAAI,CAACC,OAAL,CAAapH,IAAb,CAAkBC,GAA1J,IAAiK,KAAI,CAAC8G,QAAL,CAAc/F,CAAd,CAAgBmG,MAAhB,GAAyB,KAAI,CAACd,MAAL,CAAYK,CAAZ,CAAcE,CAA5M,EAA+M;AAC7M,mBAAI,CAAC4E,iBAAL;AACD;;AACD,iBAAI,CAACC,WAAL,CAAiB,KAAI,CAACxH,IAAL,CAAUxE,IAA3B,EAAiC,WAAjC,EAA8C,KAAI,CAACiI,KAAL,CAAWrI,GAAX,CAAeoK,QAA7D;;AACA,gBAAIH,IAAI,CAAC3E,IAAT,EAAe;AACb+G,wBAAU,CAAC,YAAM;AACfpC,oBAAI,CAAC3E,IAAL,GAAY,CAAZ;AACA2E,oBAAI,CAAC1E,KAAL,GAAa,CAAb;AACD,eAHS,CAAV;AAID;AACF,WA9TE;AA+TH;AACAD,cAAI,EAAE,cAAAgD,CAAC,EAAI;AACTA,aAAC,CAACC,eAAF;AACA,gBAAIE,EAAE,GAAGH,CAAC,CAACI,OAAX;AACA,gBAAIC,EAAE,GAAGL,CAAC,CAACM,OAAX;AACA,gBAAI0D,OAAO,GAAGhE,CAAC,CAACiE,MAAhB;AACA,gBAAIlC,QAAQ,GAAG,IAAf;AACA,gBAAIjJ,IAAI,GAAG,CAAX;AAAA,gBAAcoH,GAAG,GAAG,KAAI,CAACT,OAAzB;AAAA,gBAAkCyE,MAAM,GAAG,KAAI,CAACzH,cAAL,CAAoBE,UAApB,CAA+BtD,CAA1E;;AACA,gBAAI6G,GAAG,IAAIA,GAAG,CAACxH,CAAJ,CAAMK,IAAN,CAAW+F,MAAX,GAAoB,CAA/B,EAAkC;AAChC,kBAAIqB,EAAE,IAAID,GAAG,CAAC7H,IAAJ,CAASG,IAAf,IAAuB2H,EAAE,IAAI,KAAI,CAACzB,MAAL,CAAYK,CAAZ,CAAcA,CAA3C,IAAgDsB,EAAE,IAAIH,GAAG,CAAC7H,IAAJ,CAASC,GAA/D,IAAsE+H,EAAE,IAAI,KAAI,CAAC3B,MAAL,CAAYK,CAAZ,CAAcE,CAAd,GAAkB,EAAlG,EAAsG;AACpG,oBAAI0E,IAAI,GAAG,KAAI,CAACnD,eAAL,CAAqBL,EAArB,EAAyBE,EAAzB,CAAX,CADoG,CAC3D;;;AACzC0B,wBAAQ,GAAG;AACTnD,uBAAK,EAAE,CAAC+E,IAAI,CAACvG,GAAL,GAAW,KAAI,CAACsB,MAAL,CAAYC,CAAZ,CAAcjG,CAAd,CAAgBkG,KAA5B,IAAqC,GADnC;AAETC,qBAAG,EAAE,CAAC,KAAI,CAACH,MAAL,CAAYC,CAAZ,CAAcjG,CAAd,CAAgBmG,GAAhB,GAAsB8E,IAAI,CAACvG,GAA5B,IAAmC;AAF/B,iBAAX;AAIA,oBAAIwB,KAAJ,EAAWC,GAAX;;AACA,oBAAImF,OAAO,GAAG,CAAd,EAAiB;AACfpF,uBAAK,GAAG,KAAI,CAACF,MAAL,CAAYC,CAAZ,CAAcjG,CAAd,CAAgBkG,KAAhB,GAAwBmD,QAAQ,CAACnD,KAAzC;AACAC,qBAAG,GAAG,KAAI,CAACH,MAAL,CAAYC,CAAZ,CAAcjG,CAAd,CAAgBmG,GAAhB,GAAsBkD,QAAQ,CAAClD,GAArC;;AACA,sBAAID,KAAK,IAAIC,GAAT,IAAgB,KAAKA,GAAzB,EAA8B;AAC5B;AACD,mBAFD,MAEO;AACL,yBAAI,CAACH,MAAL,CAAYC,CAAZ,CAAcjG,CAAd,CAAgBkG,KAAhB,GAAwBA,KAAxB;AACA,yBAAI,CAACF,MAAL,CAAYC,CAAZ,CAAcjG,CAAd,CAAgBmG,GAAhB,GAAsBA,GAAtB;AACA/F,wBAAI,GAAG,CAAP;AACD;AACF,iBAVD,MAUO;AACL8F,uBAAK,GAAG,KAAI,CAACF,MAAL,CAAYC,CAAZ,CAAcjG,CAAd,CAAgBkG,KAAhB,GAAwBmD,QAAQ,CAACnD,KAAzC;AACAC,qBAAG,GAAG,KAAI,CAACH,MAAL,CAAYC,CAAZ,CAAcjG,CAAd,CAAgBmG,GAAhB,GAAsBkD,QAAQ,CAAClD,GAArC;;AACA,sBAAID,KAAK,GAAG,KAAI,CAACnC,cAAL,CAAoBC,QAApB,CAA6BhE,CAA7B,CAA+BU,GAAvC,IAA8CyF,GAAG,GAAG,KAAI,CAACpC,cAAL,CAAoBC,QAApB,CAA6BhE,CAA7B,CAA+BS,GAAvF,EAA4F;AAC1FL,wBAAI,GAAG,CAAP;AACD,mBAFD,MAEO;AACL,yBAAI,CAAC4F,MAAL,CAAYC,CAAZ,CAAcjG,CAAd,CAAgBkG,KAAhB,GAAwBA,KAAxB;AACA,yBAAI,CAACF,MAAL,CAAYC,CAAZ,CAAcjG,CAAd,CAAgBmG,GAAhB,GAAsBA,GAAtB;AACA/F,wBAAI,GAAG,CAAP;AACD;AACF;;AACD,qBAAI,CAACqL,QAAL,CAAcrL,IAAd;;AACA,oBAAIC,IAAI,GAAG;AACTK,qBAAG,EAAE+H,MAAM,CAACC,SADH;AAETjI,qBAAG,EAAEgI,MAAM,CAAC4B;AAFH,iBAAX;;AAIA,oBAAIY,IAAI,CAAC7D,KAAL,KAAexC,SAAnB,EAA8B;AAC5B,sBAAMqF,IAAI,GAAGzC,GAAG,CAAC7G,CAAJ,CAAMN,IAAnB;;AACA,uBAAK,IAAIsI,GAAC,GAAG,CAAR,EAAWC,CAAC,GAAGqB,IAAI,CAAC7D,MAAzB,EAAiCuC,GAAC,GAAGC,CAArC,EAAwCD,GAAC,EAAzC,EAA6C;AAC3C,wBAAM+C,MAAM,GAAGzB,IAAI,CAACtB,GAAD,CAAnB;AACAtI,wBAAI,CAAC6F,KAAL,GAAa,KAAI,CAAC4B,eAAL,CAAqBN,GAAG,CAAC7H,IAAJ,CAASG,IAA9B,EAAoC2E,GAAjD;AACApE,wBAAI,CAAC8F,GAAL,GAAW,KAAI,CAAC2B,eAAL,CAAqB,KAAI,CAAC9B,MAAL,CAAYK,CAAZ,CAAcA,CAAnC,EAAsC5B,GAAtC,GAA4C,CAAvD;;AACA,wBAAIpE,IAAI,CAAC6F,KAAL,GAAa7F,IAAI,CAAC8F,GAAtB,EAA2B;AACzB,0BAAMwF,CAAC,GAAGtL,IAAI,CAAC6F,KAAf;AACA7F,0BAAI,CAAC6F,KAAL,GAAa7F,IAAI,CAAC8F,GAAlB;AACA9F,0BAAI,CAAC8F,GAAL,GAAWwF,CAAX;AACD;;AACDtL,wBAAI,CAACA,IAAL,GAAYqL,MAAM,CAACpB,KAAP,CAAajK,IAAI,CAAC6F,KAAlB,EAAyB7F,IAAI,CAAC8F,GAA9B,CAAZ;;AACA,yBAAK,IAAIqE,CAAC,GAAG,CAAR,EAAWD,GAAG,GAAGlK,IAAI,CAACA,IAAL,CAAU+F,MAAhC,EAAwCoE,CAAC,GAAGD,GAA5C,EAAiDC,CAAC,EAAlD,EAAsD;AACpD,0BAAM9F,GAAG,GAAGrE,IAAI,CAACA,IAAL,CAAUmK,CAAV,CAAZ;AACAnK,0BAAI,CAACK,GAAL,GAAW+H,MAAM,CAAC/D,GAAD,CAAjB,KAA2BrE,IAAI,CAACK,GAAL,GAAW+H,MAAM,CAAC/D,GAAD,CAA5C;AACArE,0BAAI,CAACI,GAAL,GAAWgI,MAAM,CAAC/D,GAAD,CAAjB,KAA2BrE,IAAI,CAACI,GAAL,GAAWgI,MAAM,CAAC/D,GAAD,CAA5C;AACD;;AACDrE,wBAAI,CAACI,GAAL,KAAagI,MAAM,CAAC4B,SAApB,KAAkChK,IAAI,CAACI,GAAL,GAAW,CAA7C;AACD;AACF,iBAnBD,MAmBO;AACLJ,sBAAI,CAAC6F,KAAL,GAAa,KAAI,CAAC4B,eAAL,CAAqBN,GAAG,CAAC7H,IAAJ,CAASG,IAA9B,EAAoC2E,GAAjD;AACApE,sBAAI,CAAC8F,GAAL,GAAW,KAAI,CAAC2B,eAAL,CAAqB,KAAI,CAAC9B,MAAL,CAAYK,CAAZ,CAAcA,CAAnC,EAAsC5B,GAAtC,GAA4C,CAAvD;;AACA,sBAAIpE,IAAI,CAAC6F,KAAL,GAAa7F,IAAI,CAAC8F,GAAtB,EAA2B;AACzB,wBAAMwF,EAAC,GAAGtL,IAAI,CAAC6F,KAAf;AACA7F,wBAAI,CAAC6F,KAAL,GAAa7F,IAAI,CAAC8F,GAAlB;AACA9F,wBAAI,CAAC8F,GAAL,GAAWwF,EAAX;AACD;;AACDtL,sBAAI,CAACA,IAAL,GAAYmH,GAAG,CAAC7G,CAAJ,CAAMN,IAAN,CAAWiK,KAAX,CAAiBjK,IAAI,CAAC6F,KAAtB,EAA6B7F,IAAI,CAAC8F,GAAlC,CAAZ;;AACA,uBAAK,IAAIwC,GAAC,GAAG,CAAR,EAAWC,GAAC,GAAGvI,IAAI,CAACA,IAAL,CAAU+F,MAA9B,EAAsCuC,GAAC,GAAGC,GAA1C,EAA6CD,GAAC,EAA9C,EAAkD;AAChD,wBAAMjE,KAAG,GAAGrE,IAAI,CAACA,IAAL,CAAUsI,GAAV,CAAZ;AACAtI,wBAAI,CAACK,GAAL,GAAW+H,MAAM,CAAC/D,KAAD,CAAjB,KAA2BrE,IAAI,CAACK,GAAL,GAAW+H,MAAM,CAAC/D,KAAD,CAA5C;AACArE,wBAAI,CAACI,GAAL,GAAWgI,MAAM,CAAC/D,KAAD,CAAjB,KAA2BrE,IAAI,CAACI,GAAL,GAAWgI,MAAM,CAAC/D,KAAD,CAA5C;AACD;;AACDrE,sBAAI,CAACI,GAAL,KAAagI,MAAM,CAAC4B,SAApB,KAAkChK,IAAI,CAACI,GAAL,GAAW,CAA7C;AACD;;AACD,qBAAI,CAACuF,MAAL,CAAYC,CAAZ,CAActF,CAAd,CAAgBuF,KAAhB,GAAwB7F,IAAI,CAACK,GAA7B;AACA,qBAAI,CAACsF,MAAL,CAAYC,CAAZ,CAActF,CAAd,CAAgBwF,GAAhB,GAAsB9F,IAAI,CAACI,GAAL,GAAW,CAACJ,IAAI,CAACI,GAAL,GAAWJ,IAAI,CAACK,GAAjB,IAAwB,EAAzD;;AACA,qBAAI,CAACgK,QAAL,CAActK,IAAd;AACD;;AACD,mBAAI,CAACuK,QAAL;;AACA,mBAAI,CAACC,QAAL;;AACA,mBAAI,CAACC,QAAL;AACD;AACF,WApZE;AAqZH;AACAe,iBAAO,EAAE,iBAAAtE,CAAC,EAAI;AACZ;AACA;AACA;AACA;AACA;AACA,gBAAM2B,IAAI,GAAG,KAAI,CAAC/E,KAAlB;;AACA,gBAAIoD,CAAC,CAAC7C,GAAF,KAAU,QAAV,IAAsB6C,CAAC,CAACuE,OAAF,KAAc,EAAxC,EAA4C;AAC1C5C,kBAAI,CAACzE,IAAL,GAAY;AACVC,mBAAG,EAAE,CAAC,CADI;AAEVC,mBAAG,EAAE,CAAC;AAFI,eAAZ;AAIA,kBAAMoH,KAAK,GAAG,CACZ,YADY,EACE;AACd,oBAFY,EAEJ;AACR,0BAHY,EAGE;AACd,uBAJY,EAID;AACX,uBALY,EAKD;AACX,sBANY,EAMF;AACV,qBAPY,EAOH;AACT,oBARY,CAQJ;AARI,eAAd;;AAUA,mBAAK,IAAInD,IAAC,GAAG,CAAR,EAAWC,CAAC,GAAGkD,KAAK,CAAC1F,MAA1B,EAAkCuC,IAAC,GAAGC,CAAtC,EAAyCD,IAAC,EAA1C,EAA8C;AAC5C,qBAAI,CAAC3B,UAAL,CAAgBE,GAAhB,CAAoB4E,KAAK,CAACnD,IAAD,CAAzB,EAA8BoD,SAA9B,CAAwC,CAAxC,EAA2C,CAA3C,EAA8C/M,GAAG,CAACuB,KAAlD,EAAyDvB,GAAG,CAAC8E,MAA7D;AACD;;AACDmF,kBAAI,CAAC/D,OAAL,CAAakB,MAAb,GAAsB,CAAtB;AACA6C,kBAAI,CAAC9G,KAAL,CAAW2D,YAAX,GAA0B,CAA1B;AACAmD,kBAAI,CAAC9G,KAAL,CAAWsD,YAAX,GAA0B,CAA1B;AACAwD,kBAAI,CAAC9G,KAAL,CAAWwD,OAAX,GAAqB,CAArB;AACAsD,kBAAI,CAACnE,SAAL,CAAeC,QAAf,CAAwBqB,MAAxB,GAAiC,CAAjC;;AACA,mBAAI,CAACyE,QAAL;;AACA,mBAAI,CAAC9D,OAAL,CAAa5E,KAAb,CAAmBG,OAAnB,CAA2BL,SAA3B,CAAqC,IAArC;AACD,aAzBD,MAyBO,IAAIqF,CAAC,CAAC7C,GAAF,KAAU,WAAV,IAAyB6C,CAAC,CAACuE,OAAF,KAAc,EAA3C,EAA+C;AACpD,gBAAE5C,IAAI,CAACzE,IAAL,CAAUC,GAAZ;AACAwE,kBAAI,CAACzE,IAAL,CAAUE,GAAV,GAAgB,KAAI,CAACqC,OAAL,CAAa/G,CAAb,CAAeK,IAAf,CAAoB4I,IAAI,CAACzE,IAAL,CAAUC,GAA9B,CAAhB;;AACA,mBAAI,CAACoG,QAAL;AACD,aAJM,MAIA,IAAIvD,CAAC,CAAC7C,GAAF,KAAU,YAAV,IAA0B6C,CAAC,CAACuE,OAAF,KAAc,EAA5C,EAAgD;AACrD,gBAAE5C,IAAI,CAACzE,IAAL,CAAUC,GAAZ;AACAwE,kBAAI,CAACzE,IAAL,CAAUE,GAAV,GAAgB,KAAI,CAACqC,OAAL,CAAa/G,CAAb,CAAeK,IAAf,CAAoB4I,IAAI,CAACzE,IAAL,CAAUC,GAA9B,CAAhB;;AACA,mBAAI,CAACoG,QAAL;AACD;AACF;AA/bE,SADM;AAkcXmB,YAAI,EAAE;AACJ;AACA5J,iBAAO,EAAE,iBAAAkF,CAAC,EAAI;AACZA,aAAC,CAACC,eAAF;AACA,iBAAI,CAACrD,KAAL,CAAWI,IAAX,GAAkB4F,IAAI,CAACC,GAAL,CAAS,EAAE,KAAI,CAACjG,KAAL,CAAWI,IAAtB,CAAlB;AACA,iBAAI,CAACJ,KAAL,CAAWK,KAAX,GAAmB2F,IAAI,CAACC,GAAL,CAAS,EAAE,KAAI,CAACjG,KAAL,CAAWK,KAAtB,CAAnB;AACD,WANG;AAOJ;AACAlC,kBAAQ,EAAE,oBAAM;AACd,iBAAI,CAACqB,MAAL;AACD,WAVG;AAWJ;AACApB,iBAAO,EAAE,mBAAM;AACb,gBAAI2G,IAAI,GAAG,KAAI,CAAC/E,KAAhB;AACA+E,gBAAI,CAAC1E,KAAL,GAAa,CAAb;AACA0E,gBAAI,CAACzD,SAAL,GAAiB,CAAC,CAAlB;AACAyD,gBAAI,CAAC3E,IAAL,GAAY,CAAZ;AACA2E,gBAAI,CAACzE,IAAL,GAAY;AACVC,iBAAG,EAAE,CAAC,CADI;AAEVC,iBAAG,EAAE,CAAC;AAFI,aAAZ;AAIA,gBAAIoH,KAAK,GAAG,KAAI,CAAC9E,UAAL,CAAgBE,GAA5B;;AACA,iBAAK,IAAIzC,GAAT,IAAgBqH,KAAhB,EAAuB;AACrBA,mBAAK,CAACrH,GAAD,CAAL,CAAWsH,SAAX,CAAqB,CAArB,EAAwB,CAAxB,EAA2B,KAAI,CAACnI,IAAL,CAAUrD,KAArC,EAA4C,KAAI,CAACqD,IAAL,CAAUE,MAAtD;AACD;;AACDmF,gBAAI,CAAC9D,UAAL,CAAgBiB,MAAhB,GAAyB,CAAzB;AACA6C,gBAAI,CAAC/D,OAAL,CAAakB,MAAb,GAAsB,CAAtB;AACA6C,gBAAI,CAAC9G,KAAL,CAAW2D,YAAX,GAA0B,CAA1B;AACAmD,gBAAI,CAAC9G,KAAL,CAAWsD,YAAX,GAA0B,CAA1B;AACAwD,gBAAI,CAAC9G,KAAL,CAAWwD,OAAX,GAAqB,CAArB;AACAsD,gBAAI,CAACnE,SAAL,CAAeC,QAAf,CAAwBqB,MAAxB,GAAiC,CAAjC;AACA6C,gBAAI,CAACpE,UAAL,GAAkB;AAChBJ,iBAAG,EAAE,CAAC,CADU;AAEhBC,iBAAG,EAAE,CAAC;AAFU,aAAlB;;AAIA,iBAAI,CAACqC,OAAL,CAAa5E,KAAb,CAAmBG,OAAnB,CAA2BL,SAA3B,CAAqC,IAArC;;AACA,iBAAI,CAACwI,UAAL,CAAgB,CAAhB;AACD,WArCG;AAsCJ;AACAlI,uBAAa,EAAE,yBAAM;AACnB,gBAAI0G,IAAI,GAAG,KAAI,CAAC/E,KAAhB;AAAA,gBAAuB/B,KAAK,GAAG8G,IAAI,CAAC9G,KAApC;AAAA,gBAA2CqC,IAAI,GAAGyE,IAAI,CAACzE,IAAvD;AACArC,iBAAK,CAAC2D,YAAN,GAAqBoE,IAAI,CAACC,GAAL,CAAS,EAAEhI,KAAK,CAAC2D,YAAjB,CAArB;AACA3D,iBAAK,CAAC2D,YAAN,KACGmD,IAAI,CAACpE,UAAL,GAAkB;AACjBJ,iBAAG,EAAED,IAAI,CAACC,GADO;AAEjBC,iBAAG,EAAEF,IAAI,CAACE;AAFO,aADrB;;AAKA,iBAAI,CAACqC,OAAL,CAAa5E,KAAb,CAAmBI,aAAnB,CAAiCN,SAAjC,CAA2CgK,OAAO,CAAC9J,KAAK,CAAC2D,YAAP,CAAlD;;AACA,iBAAI,CAACkC,aAAL;;AACA,iBAAI,CAACE,aAAL;AACD,WAlDG;AAmDJ;AACApF,oBAAU,EAAE,sBAAM;AAChB,gBAAImG,IAAI,GAAG,KAAI,CAAC/E,KAAhB;AAAA,gBACEsD,GAAG,GAAG,KAAI,CAACT,OADb;AAEAkC,gBAAI,CAAC5D,YAAL,GAAoB,KAAI,CAAC6G,eAAL,CAAqB1E,GAAG,CAAC7G,CAAJ,CAAMN,IAA3B,EAAiC,EAAjC,CAApB;AACA4I,gBAAI,CAAC9G,KAAL,CAAWyD,WAAX;;AACA,gBAAIqD,IAAI,CAAC9G,KAAL,CAAWyD,WAAX,IAA0B,EAA9B,EAAkC;AAChCqD,kBAAI,CAAC9G,KAAL,CAAWyD,WAAX,GAAyB,CAAC,CAA1B;AACD;;AACD,iBAAI,CAACqC,aAAL;;AACA,gBAAInF,UAAU,GAAG,CAAC,CAAlB;;AACA,iBAAK,IAAI6F,IAAC,GAAG,CAAR,EAAWC,CAAC,GAAGK,IAAI,CAACnE,SAAL,CAAeC,QAAf,CAAwBqB,MAA5C,EAAoDuC,IAAC,GAAGC,CAAxD,EAA2DD,IAAC,EAA5D,EAAgE;AAC9D,kBAAIM,IAAI,CAACnE,SAAL,CAAeC,QAAf,CAAwB4D,IAAxB,EAA2BvJ,IAA3B,CAAgC+M,OAAhC,CAAwC,GAAxC,KAAgD,CAAC,CAArD,EAAwD;AACtDrJ,0BAAU,GAAG6F,IAAb;AACA;AACD;AACF;;AACD,gBAAI7F,UAAU,GAAG,CAAC,CAAlB,EAAqB;AACnBmG,kBAAI,CAACzE,IAAL,GAAY;AACVC,mBAAG,EAAEwE,IAAI,CAACnE,SAAL,CAAeC,QAAf,CAAwBjC,UAAxB,EAAoCsJ,KAD/B;AAEV1H,mBAAG,EAAE8C,GAAG,CAACxH,CAAJ,CAAMK,IAAN,CAAW4I,IAAI,CAACnE,SAAL,CAAeC,QAAf,CAAwBjC,UAAxB,EAAoCsJ,KAA/C;AAFK,eAAZ;;AAIA,mBAAI,CAACnE,aAAL;AACD;;AACD,iBAAI,CAACjB,UAAL,CAAgBE,GAAhB,CAAoB3C,KAApB,CAA0BwH,SAA1B,CAAoC,CAApC,EAAuC,CAAvC,EAA0C,KAAI,CAACnI,IAAL,CAAUrD,KAApD,EAA2D,KAAI,CAACqD,IAAL,CAAUE,MAArE;;AACA,gBAAImF,IAAI,CAAC9G,KAAL,CAAWyD,WAAX,IAA0B,CAAC,CAA/B,EAAkC;AAChC;AACD;;AACD,iBAAI,CAACuC,QAAL,CAAcc,IAAI,CAACzE,IAAnB;AACD,WAhFG;AAiFJ;AACAtD,iBAAO,EAAE,mBAAM;AACb,gBAAIsG,GAAG,GAAG,KAAI,CAACT,OAAf;;AACA,gBAAIS,GAAG,CAAC3G,MAAJ,CAAWI,OAAX,CAAmBE,WAAnB,IAAkC,CAAtC,EAAyC;AACvC;AACD,aAFD,MAEO;AACL,kBAAI8H,IAAI,GAAG,KAAI,CAAC/E,KAAhB;AAAA,kBAAuBmI,OAAO,GAAG,KAAI,CAACtI,cAAL,CAAoBE,UAApB,CAA+BjE,CAAhE;AACAiJ,kBAAI,CAAC9G,KAAL,CAAWuD,SAAX,GAAuBwE,IAAI,CAACC,GAAL,CAASlB,IAAI,CAAC9G,KAAL,CAAWuD,SAAX,GAAuB,CAAhC,CAAvB;AACAuD,kBAAI,CAACzD,SAAL,GAAiB,CAAjB;AACA,kBAAI4B,KAAK,GAAG,CAAC,CAAb;AAAA,kBACEkF,SAAS,GAAG,EADd;;AAEA,kBAAI9E,GAAG,CAAC3G,MAAJ,CAAWI,OAAX,CAAmBG,QAAnB,IAA+B,CAA/B,IAAoCoG,GAAG,CAACxH,CAAJ,CAAMZ,IAAN,IAAc,IAAtD,EAA4D;AAAE;AAC5DgI,qBAAK,GAAG,KAAI,CAACmF,YAAL,CAAkB/E,GAAG,CAACxH,CAAJ,CAAMK,IAAxB,EAA8B,CAA9B,EAAiC,CAAjC,CAAR;AACD,eAFD,MAEO;AACL+G,qBAAK,GAAG,KAAI,CAACmF,YAAL,CAAkB/E,GAAG,CAACxH,CAAJ,CAAMK,IAAxB,EAA8BmH,GAAG,CAAC3G,MAAJ,CAAWI,OAAX,CAAmBC,OAAjD,EAA0D,CAA1D,CAAR;AACD;;AACDoL,uBAAS,CAACE,IAAV,CAAe;AACbpN,oBAAI,EAAE,IADO;AAEbgN,qBAAK,EAAEhF;AAFM,eAAf;;AAIA,mBAAI,CAACJ,UAAL,CAAgBE,GAAhB,CAAoB3C,KAApB,CAA0BwH,SAA1B,CAAoC,CAApC,EAAuC,CAAvC,EAA0C,KAAI,CAACnI,IAAL,CAAUrD,KAApD,EAA2D,KAAI,CAACqD,IAAL,CAAUE,MAArE;;AACA,kBAAI9D,CAAC,GAAGqM,OAAO,CAACjC,CAAR,GAAY5C,GAAG,CAACxH,CAAJ,CAAMK,IAAN,CAAWiM,SAAS,CAAC,CAAD,CAAT,CAAaF,KAAxB,CAAZ,GAA6CC,OAAO,CAAC9F,CAA7D;AACA0C,kBAAI,CAACzE,IAAL,GAAY;AACVC,mBAAG,EAAE6H,SAAS,CAAC,CAAD,CAAT,CAAaF,KADR;AAEV1H,mBAAG,EAAE8C,GAAG,CAACxH,CAAJ,CAAMK,IAAN,CAAWiM,SAAS,CAAC,CAAD,CAAT,CAAaF,KAAxB;AAFK,eAAZ;;AAIA,mBAAI,CAACnE,aAAL;;AACA,kBAAIjI,CAAC,IAAIA,CAAC,IAAIwH,GAAG,CAAC7H,IAAJ,CAASG,IAAnB,IAA2BE,CAAC,IAAI,KAAI,CAACgG,MAAL,CAAYK,CAAZ,CAAcA,CAAlD,EAAqD;AACnD,qBAAI,CAAC8B,QAAL,CAAcc,IAAI,CAACzE,IAAnB;AACD;;AACDyE,kBAAI,CAAC9G,KAAL,CAAWwD,OAAX,GAAqB,CAArB;AACA6B,iBAAG,CAACrF,KAAJ,CAAUjB,OAAV,CAAkBe,SAAlB,CAA4B,IAA5B;AACD;AACF,WAlHG;AAmHJ;AACAQ,iBAAO,EAAE,mBAAM;AACb,gBAAIwG,IAAI,GAAG,KAAI,CAAC/E,KAAhB;AAAA,gBAAuB/B,KAAK,GAAG8G,IAAI,CAAC9G,KAApC;AACAA,iBAAK,CAACsD,YAAN,GAAqByE,IAAI,CAACC,GAAL,CAAS,EAAEhI,KAAK,CAACsD,YAAjB,CAArB;AACAwD,gBAAI,CAACzD,SAAL,GAAiB,CAAjB;;AACA,iBAAI,CAACuB,OAAL,CAAa5E,KAAb,CAAmBM,OAAnB,CAA2BR,SAA3B,CAAqCgK,OAAO,CAAC9J,KAAK,CAACsD,YAAP,CAA5C;;AACAtD,iBAAK,CAACsD,YAAN,GACE,KAAI,CAACwC,aAAL,EADF,GAEE,KAAI,CAACC,aAAL,EAFF;AAGD,WA5HG;AA6HJ;AACAtF,mBAAS,EAAE,qBAAM;AACf,gBAAIqG,IAAI,GAAG,KAAI,CAAC/E,KAAhB;AACA+E,gBAAI,CAAC9G,KAAL,CAAWwD,OAAX,GAAqBuE,IAAI,CAACC,GAAL,CAAS,EAAElB,IAAI,CAAC9G,KAAL,CAAWwD,OAAtB,CAArB;AACAsD,gBAAI,CAACzD,SAAL,GAAiB,CAAjB;;AACA,iBAAI,CAACuB,OAAL,CAAa5E,KAAb,CAAmBS,SAAnB,CAA6BX,SAA7B,CAAuCgK,OAAO,CAAChD,IAAI,CAAC9G,KAAL,CAAWwD,OAAZ,CAA9C;;AACA,iBAAI,CAACsC,aAAL;;AACA,iBAAI,CAACC,aAAL;AACD,WArIG;AAsIJ;AACAnF,kBAAQ,EAAE,kBAAAuE,CAAC,EAAI;AACbA,aAAC,CAACC,eAAF;;AACA,gBAAI,KAAI,CAACrD,KAAL,CAAWM,IAAX,CAAgBC,GAAhB,GAAsB,CAAC,CAA3B,EAA8B;AAC5B,mBAAI,CAACuG,YAAL,CAAkB,CAAlB;AACD;AACF,WA5IG;AA6IJ;AACAhI,qBAAW,EAAE,uBAAM;AACjB,iBAAI,CAACkB,KAAL,CAAWgB,OAAX,CAAmBkB,MAAnB,GAA4B,CAA5B;AACA,iBAAI,CAAClC,KAAL,CAAWiB,UAAX,CAAsBiB,MAAtB,GAA+B,CAA/B;;AACA,iBAAI,CAACY,UAAL,CAAgBE,GAAhB,CAAoBuF,UAApB,CAA+BV,SAA/B,CAAyC,CAAzC,EAA4C,CAA5C,EAA+C,KAAI,CAACnI,IAAL,CAAUrD,KAAzD,EAAgE,KAAI,CAACqD,IAAL,CAAUE,MAA1E;AACD,WAlJG;AAmJJ;AACAb,iBAAO,EAAE,mBAAM;AACb,iBAAI,CAACiB,KAAL,CAAW/B,KAAX,CAAiB0D,YAAjB,GAAgC,CAAC,KAAI,CAAC3B,KAAL,CAAW/B,KAAX,CAAiB0D,YAAlD;AACD,WAtJG;AAuJJ;AACA3C,qBAAW,EAAE,uBAAM;AACjB,gBAAIwJ,GAAG,GAAG,IAAIC,KAAJ,EAAV;AACA,gBAAMnF,GAAG,GAAG,KAAI,CAACT,OAAjB;AAAA,gBAA0B/H,GAAG,GAAG,KAAI,CAAC4E,IAArC;AACA,gBAAIqD,MAAM,GAAG2F,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAb;AACA5F,kBAAM,CAAC6F,YAAP,CAAoB,QAApB,EAA8B9N,GAAG,CAAC8E,MAAlC;AACAmD,kBAAM,CAAC6F,YAAP,CAAoB,OAApB,EAA6B9N,GAAG,CAACuB,KAAjC;AACA,gBAAI2G,GAAG,GAAGD,MAAM,CAAC8F,UAAP,CAAkB,IAAlB,CAAV;AACA7F,eAAG,CAAC8F,SAAJ;AACA9F,eAAG,CAAC+F,SAAJ,GAAgBzF,GAAG,CAAChE,eAApB;AACA0D,eAAG,CAACgG,QAAJ,CAAa,CAAb,EAAgB,CAAhB,EAAmBlO,GAAG,CAACuB,KAAvB,EAA8BvB,GAAG,CAAC8E,MAAlC;;AACA,iBAAK,IAAIW,GAAT,IAAgB,KAAI,CAACuC,UAAL,CAAgBC,MAAhC,EAAwC;AACtCC,iBAAG,CAACiG,SAAJ,CAAc,KAAI,CAACnG,UAAL,CAAgBC,MAAhB,CAAuBxC,GAAvB,CAAd,EAA2C,CAA3C,EAA8C,CAA9C;AACD;;AACDiI,eAAG,CAACU,GAAJ,GAAUnG,MAAM,CAACoG,SAAP,CAAiB,WAAjB,EAA8B,GAA9B,CAAV;AACA,gBAAIC,QAAQ,GAAGV,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAAf;AACAS,oBAAQ,CAACC,IAAT,GAAgBb,GAAG,CAACU,GAApB;AACAE,oBAAQ,CAACE,QAAT,GAAoBhG,GAAG,CAACrF,KAAJ,CAAUe,WAAV,CAAsBC,SAAtB,KAAoC,EAApC,GAClBqE,GAAG,CAACtI,KAAJ,CAAUE,IADQ,GAElBoI,GAAG,CAACrF,KAAJ,CAAUe,WAAV,CAAsBC,SAFxB;AAEmC,aAAE,MAAF;AACnCmK,oBAAQ,CAACG,aAAT,CAAuB,IAAIC,UAAJ,CAAe,OAAf,CAAvB;AACD,WA5KG;AA6KJ;AACAtK,oBAAU,EAAE,sBAAM;AAChB,gBAAMoE,GAAG,GAAG,KAAI,CAACT,OAAjB;AACA,gBAAI4G,GAAG,GAAG,EAAV,CAFgB,CAEF;;AACd,gBAAMvO,IAAI,GAAGoI,GAAG,CAACrF,KAAJ,CAAUiB,UAAV,CAAqBC,QAAlC;AACA,gBAAIA,QAAQ,GAAG,EAAf,CAJgB,CAIG;;AACnB,gBAAMuK,KAAK,GAAGpG,GAAG,CAACxH,CAAJ,CAAMK,IAApB;AACA,gBAAMwN,KAAK,GAAGrG,GAAG,CAAC7G,CAAJ,CAAMN,IAApB;AACA,gBAAMuI,CAAC,GAAGgF,KAAK,CAACxH,MAAhB;;AACA,gBAAI,KAAI,CAAC0H,WAAL,CAAiBF,KAAK,CAAC,CAAD,CAAtB,MAA+B,OAAnC,EAA4C;AAC1C,kBAAIG,CAAC,GAAG,CAAR;AAAW;;AACXJ,iBAAG,YAAH;;AACA,mBAAK,IAAIhF,IAAC,GAAG,CAAb,EAAgBA,IAAC,GAAGC,CAApB,EAAuBD,IAAC,EAAxB,EAA4B;AAC1B,oBAAM4B,GAAG,GAAGqD,KAAK,CAACjF,IAAD,CAAL,CAASvC,MAArB;AACA2H,iBAAC,GAAGxD,GAAJ,KAAYwD,CAAC,GAAGxD,GAAhB;AACAoD,mBAAG,UAAH;AACAtK,wBAAQ,IAAIsF,IAAC,KAAK,CAAN,aAAavJ,IAAI,CAACuJ,IAAD,CAAjB,eAA6BvJ,IAAI,CAACuJ,IAAD,CAAjC,CAAZ;AACD;;AACDtF,sBAAQ,IAAI,MAAZ;AACAsK,iBAAG,UAAH;;AACA,mBAAK,IAAIhF,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGoF,CAApB,EAAuBpF,CAAC,EAAxB,EAA4B;AAC1B,qBAAK,IAAI6B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG5B,CAApB,EAAuB4B,CAAC,EAAxB,EAA4B;AAC1B,sBAAMxK,CAAC,GAAG4N,KAAK,CAACpD,CAAD,CAAL,CAAS7B,CAAT,KAAe,EAAzB;AACA,sBAAMhI,CAAC,GAAGkN,KAAK,CAACrD,CAAD,CAAL,CAAS7B,CAAT,KAAe,EAAzB;AACAgF,qBAAG,cAAO3N,CAAP,cAAYW,CAAC,CAACqN,OAAF,CAAU,CAAV,IAAe,CAA3B,CAAH;AACD;;AACDL,mBAAG,IAAI,MAAP;AACD;AACF,aAnBD,MAmBO;AACLtK,sBAAQ,aAAMjE,IAAN,SAAR;AACAuO,iBAAG,IAAI,eAAP;;AACA,mBAAK,IAAIhF,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGC,CAApB,EAAuBD,CAAC,EAAxB,EAA4B;AAC1BgF,mBAAG,IAAIC,KAAK,CAACjF,CAAD,CAAL,GAAW,GAAX,GAAiBkF,KAAK,CAAClF,CAAD,CAAL,CAASqF,OAAT,CAAiB,CAAjB,IAAsB,CAAvC,GAA2C,MAAlD;AACD;AACF;;AACD,iBAAI,CAACC,WAAL,CAAiBN,GAAjB,EAAsBtK,QAAtB;AACD,WAjNG;AAkNJ;AACAC,qBAAW,EAAE,uBAAM;AACjB,gBAAMkE,GAAG,GAAG,KAAI,CAACT,OAAjB;AACA,gBAAMmH,KAAK,GAAG1G,GAAG,CAACrF,KAAJ,CAAUmB,WAAxB;AACA,gBAAI6K,IAAI,GAAGD,KAAK,CAAC3K,OAAjB,CAHiB,CAGS;;AAC1B,gBAAIyB,IAAI,GAAG,KAAI,CAACoJ,QAAL,CAAc5G,GAAG,CAAC7G,CAAJ,CAAMN,IAApB,EAA0B,IAA1B,CAAX,CAJiB,CAI2B;;;AAC5C,gBAAIgO,MAAM,GAAG,IAAb;AACA,gBAAMjP,IAAI,GAAG8O,KAAK,CAAC7K,QAAnB;AACA,gBAAIA,QAAQ,GAAG,EAAf;;AACA,gBAAI,KAAI,CAACyK,WAAL,CAAiBK,IAAjB,MAA2B,OAA/B,EAAwC;AACtC,mBAAK,IAAIxF,IAAC,GAAG,CAAR,EAAWC,CAAC,GAAG5D,IAAI,CAACoB,MAAzB,EAAiCuC,IAAC,GAAGC,CAArC,EAAwCD,IAAC,EAAzC,EAA6C;AAC3C0F,sBAAM,GAAG,KAAI,CAACC,QAAL,CAAcH,IAAI,CAACxF,IAAD,CAAlB,EAAuB3D,IAAI,CAAC2D,IAAD,CAA3B,CAAT;AACAtF,wBAAQ,aAAMjE,IAAI,CAACuJ,IAAD,CAAV,SAAR;;AACA,qBAAI,CAACsF,WAAL,CAAiBI,MAAjB,EAAyBhL,QAAzB;AACD;AACF,aAND,MAMO;AACLgL,oBAAM,GAAG,KAAI,CAACC,QAAL,CAAcH,IAAd,EAAoBnJ,IAApB,CAAT;AACA3B,sBAAQ,aAAMjE,IAAN,SAAR,CAFK,CAEqB;;AAC1B,mBAAI,CAAC6O,WAAL,CAAiBI,MAAjB,EAAyBhL,QAAzB;AACD;AACF;AAtOG;AAlcK,OAAb;AA2qBA,WAAKkL,KAAL,CAAWvP,GAAX;AACA,aAAO,IAAP;AACD,KApxBD;;AAqxBA2E,UAAM,CAAC6K,SAAP,GAAmB;AACjBC,iBAAW,EAAE9K,MADI;AAEjB;AACAmK,iBAHiB,uBAGLzN,IAHK,EAGC;AAChB,eAAOqO,MAAM,CAACF,SAAP,CAAiBG,QAAjB,CAA0BC,IAA1B,CAA+BvO,IAA/B,EAAqCiK,KAArC,CAA2C,CAA3C,EAA8C,CAAC,CAA/C,CAAP;AACD,OALgB;AAMjB;AACAuE,WAPiB,iBAOXC,GAPW,EAOK;AAAA,YAAXC,GAAW,uEAAL,GAAK;AACnB,YAAIrK,GAAG,GAAGwF,IAAI,CAACC,GAAL,CAAS2E,GAAT,CAAV;;AACA,YAAIpK,GAAG,aAAI,EAAJ,EAAU,CAAV,CAAP,EAAoB;AACjB,iBAAOA,GAAP;AACF;;AACD,YAAGA,GAAG,aAAI,EAAJ,EAAU,CAAC,CAAX,CAAH,IAAmBA,GAAG,KAAK,CAA9B,EAAgC;AAC7B,iBAAO,CAAP;AACF;;AACD,YAAIqK,GAAG,KAAK,GAAZ,EAAiB;AACdA,aAAG,GAAG,CAAN;AACA,cAAIvG,KAAK,GAAG9D,GAAZ;;AACA,iBAAM8D,KAAK,GAAG,CAAd,EAAiB;AACdA,iBAAK,IAAI,EAAT;AACAuG,eAAG;AACL;;AACDA,aAAG,IAAI,CAAP;AACArK,aAAG,IAAI,IAAP,KAAgBqK,GAAG,GAAG,CAAtB;AACArK,aAAG,IAAI,EAAP,KAAcqK,GAAG,GAAG,CAApB;AAEF;;AACD,YAAIxE,GAAG,YAAG,EAAH,EAASwE,GAAT,CAAP;AACA,eAAO7E,IAAI,CAAC2E,KAAL,CAAWC,GAAG,GAAGvE,GAAjB,IAAwBA,GAA/B;AACF,OA7BgB;AA8BjB;AACAyE,cA/BiB,oBA+BRtK,GA/BQ,EA+BH;AACZ,eACE,OAAOA,GAAP,KAAe,QAAf,IACA,OAAOA,GAAP,KAAe,QADf,IAEA,OAAOA,GAAP,KAAe,SAFf,IAGA,OAAOA,GAAP,KAAe,WAHf,IAIAA,GAAG,KAAK,IALV;AAMD,OAtCgB;AAuCjB;AACA0J,cAxCiB,oBAwCR1J,GAxCQ,EAwCHuK,IAxCG,EAwCG;AAAA;;AAClB,YAAI,KAAKD,QAAL,CAActK,GAAd,CAAJ,EAAwB,OAAOA,GAAP;AACxB,YAAIwK,KAAK,CAACC,OAAN,CAAczK,GAAd,CAAJ,EACE,OAAOA,GAAG,CAAC0K,GAAJ,CAAQ,UAAAC,IAAI;AAAA,iBAAIJ,IAAI,GAAG,MAAI,CAACb,QAAL,CAAciB,IAAd,EAAoBJ,IAApB,CAAH,GAA+BI,IAAvC;AAAA,SAAZ,CAAP,CADF,KAEK,IAAI,QAAO3K,GAAP,MAAe,QAAnB,EAA6B;AAChC,cAAM4K,KAAK,GAAG,CAAC,OAAD,EAAU,MAAV,EAAkB,QAAlB,CAAd;AACA,cAAIlP,IAAI,GAAGsO,MAAM,CAACF,SAAP,CAAiBG,QAAjB,CAA0BC,IAA1B,CAA+BlK,GAA/B,EAAoC4F,KAApC,CAA0C,CAA1C,EAA6C,CAAC,CAA9C,CAAX;AACA,cAAIgF,KAAK,CAACC,QAAN,CAAenP,IAAf,CAAJ,EAA0B,OAAO,IAAIoP,MAAM,CAACpP,IAAD,CAAV,CAAiBsE,GAAjB,CAAP;AAC1B,cAAI+K,GAAG,GAAG,EAAV;;AACA,eAAK,IAAIhL,GAAT,IAAgBC,GAAhB,EAAqB;AACnB+K,eAAG,CAAChL,GAAD,CAAH,GAAWwK,IAAI,GAAG,KAAKb,QAAL,CAAc1J,GAAG,CAACD,GAAD,CAAjB,EAAwBwK,IAAxB,CAAH,GAAmCvK,GAAG,CAACD,GAAD,CAArD;AACD;;AACD,iBAAOgL,GAAP;AACD;AACF,OAtDgB;AAuDjB;AACAlB,WAAK,EAAE,eAASvP,GAAT,EAAc;AACnB,YAAI,OAAOA,GAAP,KAAe,WAAnB,EAAgC;AAChC,YAAI4E,IAAI,GAAG,KAAKA,IAAhB;AACAA,YAAI,CAACC,EAAL,GAAU,YAAY,IAAI6L,IAAJ,GAAWC,OAAX,EAAtB;;AACA,aAAK,IAAIhH,IAAC,GAAG,CAAR,EAAWC,GAAC,GAAG5J,GAAG,CAAC4Q,QAAJ,CAAaxJ,MAAjC,EAAyCuC,IAAC,GAAGC,GAA7C,EAAgDD,IAAC,EAAjD,EAAqD;AACnD,cAAI3J,GAAG,CAAC4Q,QAAJ,CAAajH,IAAb,EAAgBY,QAAhB,KAA6B,KAAjC,EAAwC;AACtCvK,eAAG,CAAC6Q,WAAJ,CAAgB7Q,GAAG,CAAC4Q,QAAJ,CAAajH,IAAb,CAAhB;AACAA,gBAAC;AACDC,eAAC,GAAG5J,GAAG,CAAC4Q,QAAJ,CAAaxJ,MAAjB;AACD;AACF;;AACDxC,YAAI,CAACE,MAAL,GAAcoG,IAAI,CAAC2E,KAAL,CAAW7P,GAAG,CAAC8Q,YAAf,CAAd;AACAlM,YAAI,CAACrD,KAAL,GAAa2J,IAAI,CAAC2E,KAAL,CAAW7P,GAAG,CAAC+Q,WAAf,CAAb;AACA/Q,WAAG,CAACgR,KAAJ,CAAUC,QAAV,GAAqB,UAArB;AACA,YAAMnE,KAAK,GAAG,CACZ,YADY,EACE;AACd,cAFY,EAEJ;AACR,oBAHY,EAGE;AACd,iBAJY,EAID;AACX,iBALY,EAKD;AACX,gBANY,EAMF;AACV,eAPY,EAOH;AACT,cARY,CAQJ;AARI,SAAd;AAUA,YAAIoE,GAAG,GAAGtD,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAV,CAxBmB,CAyBnB;;AACAqD,WAAG,CAACpD,YAAJ,CAAiB,OAAjB,EAA0B,aAAalJ,IAAI,CAACE,MAAlB,GAA2B,WAA3B,GAAyCF,IAAI,CAACrD,KAA9C,GAAsD,mBAAhF;AACA2P,WAAG,CAACpD,YAAJ,CAAiB,UAAjB,EAA6B,CAA7B;;AACA,aAAK,IAAInE,CAAC,GAAG,CAAR,EAAWC,CAAC,GAAGkD,KAAK,CAAC1F,MAA1B,EAAkCuC,CAAC,GAAGC,CAAtC,EAAyCD,CAAC,EAA1C,EAA8C;AAC5C,cAAI1B,MAAM,GAAG2F,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAb;AACA5F,gBAAM,CAAC6F,YAAP,CAAoB,QAApB,EAA8BlJ,IAAI,CAACE,MAAnC;AACAmD,gBAAM,CAAC6F,YAAP,CAAoB,OAApB,EAA6BlJ,IAAI,CAACrD,KAAlC;AACA0G,gBAAM,CAAC6F,YAAP,CAAoB,OAApB,EAA6B,oBAA7B;AACA,eAAK9F,UAAL,CAAgBC,MAAhB,CAAuB6E,KAAK,CAACnD,CAAD,CAA5B,IAAmC1B,MAAnC;AACA,eAAKD,UAAL,CAAgBE,GAAhB,CAAoB4E,KAAK,CAACnD,CAAD,CAAzB,IAAgC1B,MAAM,CAAC8F,UAAP,CAAkB,IAAlB,CAAhC;AACAmD,aAAG,CAACC,WAAJ,CAAgBlJ,MAAhB;AACAjI,aAAG,CAACmR,WAAJ,CAAgBD,GAAhB;AACD;AACF,OA9FgB;AA+FjB;AACAE,eAAS,EAAE,mBAASC,IAAT,EAA8B;AAAA,YAAfC,IAAe,uEAARrR,MAAQ;AACvC,YAAI,CAACoR,IAAL,EAAW;AACX,YAAMpH,IAAI,GAAG,KAAK/E,KAAlB;AACA,YAAMqM,IAAI,GAAGF,IAAI,CAACxP,MAAL,CAAYE,QAAzB;;AACA,YAAIwP,IAAI,IAAIA,IAAI,CAAClQ,IAAL,CAAU+F,MAAV,KAAqBkK,IAAI,CAACzP,MAAL,CAAYE,QAAZ,CAAqBV,IAArB,CAA0B+F,MAAvD,IAAiEmK,IAAI,CAAClQ,IAAL,CAAU+F,MAAV,GAAmB,CAAxF,EAA2F;AACzF,eAAKW,OAAL,GAAe,KAAKyJ,WAAL,CAAiBF,IAAjB,EAAuBD,IAAvB,CAAf;AACA,eAAKtJ,OAAL,CAAarD,MAAb,GAAsB,KAAKA,MAA3B;AACA,cAAM5C,iBAAgB,GAAG,KAAKiG,OAAL,CAAalG,MAAb,CAAoBC,gBAA7C;;AACA,cAAIA,iBAAgB,KAAK,aAAzB,EAAwC;AACtC,iBAAK2P,YAAL;AACD,WAFD,MAEO,IAAI3P,iBAAgB,KAAK,QAAzB,EAAmC;AACxC,iBAAK4P,YAAL,CAAkBH,IAAI,CAAClQ,IAAL,CAAU,CAAV,CAAlB;AACD;;AACD;AACD;;AACD,YAAIgQ,IAAI,CAACxP,MAAL,CAAYgB,SAAZ,KAA0B,KAA9B,EAAqC;AACrC,YAAI2F,GAAG,GAAG,KAAKT,OAAL,GAAe,KAAKyJ,WAAL,CAAiBF,IAAjB,EAAuBD,IAAvB,CAAzB;AACAE,YAAI,KAAK/I,GAAG,CAAC3G,MAAJ,CAAWE,QAAX,CAAoBV,IAApB,GAA2BkQ,IAAI,CAAClQ,IAArC,CAAJ;AACA,YAAImH,GAAG,CAACxH,CAAJ,CAAMI,IAAN,KAAe,KAAf,IAAwBoH,GAAG,CAACxH,CAAJ,CAAMK,IAAN,CAAW+F,MAAX,GAAoB,EAAhD,EAAoD;AACpD,aAAKW,OAAL,CAAarD,MAAb,GAAsB,KAAKA,MAA3B;AACA,YAAM5C,gBAAgB,GAAG0G,GAAG,CAAC3G,MAAJ,CAAWC,gBAApC;;AACA,YAAI0G,GAAG,CAACxH,CAAJ,CAAMK,IAAV,EAAgB;AACd4I,cAAI,CAAC5E,UAAL,KAAoB4E,IAAI,CAAC5E,UAAL,GAAkBmD,GAAG,CAACxH,CAAJ,CAAMK,IAAN,CAAW+F,MAAjD;AACD;;AACD6C,YAAI,CAAC9E,aAAL,KAAuB,EAAvB,KAA8B8E,IAAI,CAAC9E,aAAL,GAAqBqD,GAAG,CAACxH,CAAJ,CAAMZ,IAAzD;AACA6J,YAAI,CAAC7E,aAAL,KAAuB,EAAvB,KAA8B6E,IAAI,CAAC7E,aAAL,GAAqBoD,GAAG,CAAC7G,CAAJ,CAAMvB,IAAzD;AACA,YAAIJ,GAAG,GAAG,KAAK4E,IAAf;AACA4D,WAAG,CAAC3G,MAAJ,CAAWI,OAAX,CAAmBE,WAAnB,IAAkC,CAAlC,KAAwCqG,GAAG,CAAC3G,MAAJ,CAAWI,OAAX,CAAmBE,WAAnB,GAAiC,CAAzE;AACA,aAAKwP,UAAL;AACA,YAAIhR,IAAI,GAAG6H,GAAG,CAAC7H,IAAf;;AACA,aAAK,IAAI8E,GAAT,IAAgB9E,IAAhB,EAAsB;AACpB,cAAI,OAAOA,IAAI,CAAC8E,GAAD,CAAX,KAAqB,QAAzB,EAAmC;AACjC+C,eAAG,CAAC7H,IAAJ,CAAS8E,GAAT,IAAgBA,GAAG,KAAK,MAAR,IAAkBA,GAAG,KAAK,OAA1B,GACdzF,GAAG,CAACuB,KAAJ,GAAYZ,IAAI,CAAC8E,GAAD,CAAJ,CAAU6F,KAAV,CAAgB,CAAhB,EAAmB3K,IAAI,CAAC8E,GAAD,CAAJ,CAAU0H,OAAV,CAAkB,GAAlB,CAAnB,CAAZ,GAAyD,GAD3C,GAEdnN,GAAG,CAAC8E,MAAJ,GAAanE,IAAI,CAAC8E,GAAD,CAAJ,CAAU6F,KAAV,CAAgB,CAAhB,EAAmB3K,IAAI,CAAC8E,GAAD,CAAJ,CAAU0H,OAAV,CAAkB,GAAlB,CAAnB,CAAb,GAA0D,GAF5D;AAGD;AACF;;AACD,YAAIhK,KAAK,GAAGqF,GAAG,CAACrF,KAAhB;;AACA,aAAK,IAAIsC,IAAT,IAAgBtC,KAAhB,EAAuB;AACrB,cAAIsC,IAAG,KAAK,UAAR,IAAsBA,IAAG,KAAK,SAAlC,EAA6C;;AAC7C,cAAItC,KAAK,CAACsC,IAAD,CAAL,CAAWzF,GAAX,IAAkBmD,KAAK,CAACsC,IAAD,CAAL,CAAWtF,IAAjC,EAAuC;AACrCsF,gBAAG,KAAK,SAAR,KAAsBwE,IAAI,CAAC9G,KAAL,CAAW0D,YAAX,GAA0B1D,KAAK,CAACsC,IAAD,CAAL,CAAWtF,IAA3D;AACA,iBAAKgK,QAAL,CAAchH,KAAK,CAACsC,IAAD,CAAL,CAAWzF,GAAzB,EAA8B,OAA9B,EAAuC,KAAKqI,KAAL,CAAW2E,IAAX,CAAgBvH,IAAhB,CAAvC,EAFqC,CAGrC;AACD;AACF;;AACD,aAAKuB,MAAL,CAAYK,CAAZ,GAAgB;AACdA,WAAC,EAAErH,GAAG,CAACuB,KAAJ,GAAYiH,GAAG,CAAC7H,IAAJ,CAASE,KADV;AAEdyG,WAAC,EAAEtH,GAAG,CAACuB,KAAJ,GAAYiH,GAAG,CAAC7H,IAAJ,CAASE,KAArB,GAA6B2H,GAAG,CAAC7H,IAAJ,CAASG,IAF3B;AAGdyG,WAAC,EAAEvH,GAAG,CAAC8E,MAAJ,GAAa0D,GAAG,CAAC7H,IAAJ,CAASI,MAHX;AAIdyG,WAAC,EAAExH,GAAG,CAAC8E,MAAJ,GAAa0D,GAAG,CAAC7H,IAAJ,CAASC,GAAtB,GAA4B4H,GAAG,CAAC7H,IAAJ,CAASI,MAJ1B;AAKdC,WAAC,EAAE,IALW;AAMdW,WAAC,EAAE,IANW;AAOd8F,YAAE,EAAE;AAPU,SAAhB;AASA,YAAMJ,CAAC,GAAG,KAAKL,MAAL,CAAYK,CAAtB;AACA,YAAMuK,EAAE,GAAGvK,CAAC,CAACC,CAAF,GAAM,CAAjB;AACA,YAAMuK,EAAE,GAAGxK,CAAC,CAACG,CAAF,GAAM,CAAjB;AACAH,SAAC,CAACrG,CAAF,GAAM4Q,EAAE,GAAGpJ,GAAG,CAAC7H,IAAJ,CAASG,IAApB;AACAuG,SAAC,CAAC1F,CAAF,GAAMkQ,EAAE,GAAGrJ,GAAG,CAAC7H,IAAJ,CAASC,GAApB;AACAyG,SAAC,CAACI,EAAF,GAAOyD,IAAI,CAACxJ,GAAL,CAASkQ,EAAT,EAAaC,EAAb,CAAP;AACArJ,WAAG,CAAC3G,MAAJ,CAAWT,IAAX,KAAoB,KAApB,KAA8BiG,CAAC,CAACE,CAAF,IAAO,EAArC,EA7DuC,CA8DvC;;AACAiB,WAAG,CAAC1F,OAAJ,CAAYC,MAAZ,IAAsB,KAAKoH,QAAL,CAAcnK,GAAG,CAACI,IAAlB,EAAwB,OAAxB,EAAiC,KAAKiI,KAAL,CAAWrI,GAAX,CAAeuF,KAAhD,CAAtB,CA/DuC,CAgEvC;;AACA,YAAIuH,KAAK,GAAG,KAAK9E,UAAL,CAAgBE,GAA5B;;AACA,aAAK,IAAIzC,KAAT,IAAgBqH,KAAhB,EAAuB;AACrBA,eAAK,CAACrH,KAAD,CAAL,CAAWsH,SAAX,CAAqB,CAArB,EAAwB,CAAxB,EAA2B,KAAKnI,IAAL,CAAUrD,KAArC,EAA4C,KAAKqD,IAAL,CAAUE,MAAtD;AACD;;AACD,YAAIhD,gBAAgB,KAAK,aAAzB,EAAwC;AACtC,cAAI0G,GAAG,CAAC3G,MAAJ,CAAWT,IAAX,KAAoB,KAAxB,EAA+B;AAC7B;AACA,iBAAK+I,QAAL,CAAcnK,GAAG,CAACI,IAAlB,EAAwB,WAAxB,EAAqC,KAAKiI,KAAL,CAAWrI,GAAX,CAAegK,SAApD;AACA,iBAAKG,QAAL,CAAcnK,GAAG,CAACI,IAAlB,EAAwB,SAAxB,EAAmC,KAAKiI,KAAL,CAAWrI,GAAX,CAAekM,OAAlD,EAH6B,CAI7B;;AACA,iBAAK/B,QAAL,CAAcnK,GAAG,CAACI,IAAlB,EAAwB,YAAxB,EAAsC,KAAKiI,KAAL,CAAWrI,GAAX,CAAesF,IAArD,EAL6B,CAM7B;;AACA,gBAAM4L,GAAG,GAAGlR,GAAG,CAACI,IAAJ,CAASwQ,QAArB;AACA,iBAAKzG,QAAL,CAAc+G,GAAG,CAACA,GAAG,CAAC9J,MAAJ,GAAa,CAAd,CAAjB,EAAmC,SAAnC,EAA8C,KAAKiB,KAAL,CAAWrI,GAAX,CAAe4M,OAA7D;AACD;;AACD,cAAIpE,GAAG,CAACxH,CAAJ,CAAMK,IAAN,KAAeuE,SAAf,IAA4B4C,GAAG,CAACxH,CAAJ,CAAMK,IAAN,KAAe,IAA3C,IAAmDmH,GAAG,CAAC7G,CAAJ,CAAMN,IAAN,KAAeuE,SAAlE,IAA+E4C,GAAG,CAAC7G,CAAJ,CAAMN,IAAN,KAAe,IAAlG,EAAwG;AACtG,iBAAKoK,UAAL,CAAgB,CAAhB;AACA,iBAAKgG,YAAL;AACD;AACF,SAfD,MAeO,IAAI3P,gBAAgB,KAAK,QAAzB,EAAmC;AACxC,eAAK2J,UAAL,GADwC,CAExC;AACD,SAHM,MAGA,IAAI3J,gBAAgB,KAAK,IAAzB,EAA+B,CAAE,CAAjC,MACF,IAAIA,gBAAgB,KAAK,YAAzB,EAAuC;AAC1C,eAAK2J,UAAL;AACD;AACF,OA3LgB;AA4LjB;AACAkG,gBAAU,EAAE,sBAAW;AACrB,YAAI1H,IAAI,GAAG,KAAK/E,KAAhB;AACA,YAAMsD,GAAG,GAAG,KAAKT,OAAjB;;AACA,YAAIS,GAAG,CAAC/D,SAAR,EAAmB;AACjBwF,cAAI,CAAC9E,aAAL,GAAqB,EAArB;AACA8E,cAAI,CAACzE,IAAL,GAAY;AACVC,eAAG,EAAE,CAAC,CADI;AAEVC,eAAG,EAAE,CAAC,CAFI;AAGVC,eAAG,EAAEC;AAHK,WAAZ;AAKAqE,cAAI,CAAC3D,KAAL,CAAWc,MAAX,GAAoB,CAApB;AACA6C,cAAI,CAAC1D,KAAL,CAAWa,MAAX,GAAoB,CAApB;AACA6C,cAAI,CAACzD,SAAL,GAAiB,CAAC,CAAlB;AACAyD,cAAI,CAAC9G,KAAL,CAAWyD,WAAX,GAAyB,CAAC,CAA1B;AACAqD,cAAI,CAAC/D,OAAL,CAAakB,MAAb,GAAsB,CAAtB;AACA6C,cAAI,CAAC9D,UAAL,CAAgBiB,MAAhB,GAAyB,CAAzB;AACA6C,cAAI,CAACnE,SAAL,GAAiB;AACfC,oBAAQ,EAAE,EADK;AAEfC,gBAAI,EAAE;AAFS,WAAjB;AAIAiE,cAAI,CAACpE,UAAL,GAAkB;AAChBJ,eAAG,EAAE,CAAC,CADU;AAEhBC,eAAG,EAAE,CAAC;AAFU,WAAlB;AAIAuE,cAAI,CAAChE,MAAL,GAAc,CAAd;AACAgE,cAAI,CAAC5D,YAAL,GAAoB,EAApB;AACA4D,cAAI,CAAC9G,KAAL,CAAWsD,YAAX,GAA0B,CAA1B;AACAwD,cAAI,CAAC9G,KAAL,CAAWuD,SAAX,GAAuB,CAAvB;AACAuD,cAAI,CAAC9G,KAAL,CAAW2D,YAAX,GAA0B,CAA1B;AACAmD,cAAI,CAAC9G,KAAL,CAAW4D,gBAAX,GAA8B,CAA9B;AACAkD,cAAI,CAAC9G,KAAL,CAAWwD,OAAX,GAAqB,CAArB;AACD;;AACD,YAAI6B,GAAG,CAACxH,CAAJ,CAAMK,IAAN,IAAcmH,GAAG,CAACxH,CAAJ,CAAMK,IAAN,CAAW+F,MAAX,GAAoB,CAAtC,EAAyC;AACvC,cAAIoB,GAAG,CAACxH,CAAJ,CAAMZ,IAAN,KAAe6J,IAAI,CAAC9E,aAApB,IAAqCqD,GAAG,CAAC7G,CAAJ,CAAMvB,IAAN,KAAe6J,IAAI,CAAC7E,aAA7D,EAA4E;AAC1E6E,gBAAI,CAACzE,IAAL,CAAUE,GAAV,GAAgB8C,GAAG,CAACxH,CAAJ,CAAMK,IAAN,CAAW4I,IAAI,CAACzE,IAAL,CAAUC,GAArB,CAAhB;AACD,WAFD,MAEO;AACLwE,gBAAI,CAACzE,IAAL,CAAUC,GAAV,GAAgB,KAAK8H,YAAL,CAAkB/E,GAAG,CAACxH,CAAJ,CAAMK,IAAxB,EAA8B4I,IAAI,CAACzE,IAAL,CAAUE,GAAxC,EAA6C,CAA7C,CAAhB;AACAuE,gBAAI,CAAC9E,aAAL,GAAqBqD,GAAG,CAACxH,CAAJ,CAAMZ,IAA3B;AACA6J,gBAAI,CAAC7E,aAAL,GAAqBoD,GAAG,CAAC7G,CAAJ,CAAMvB,IAA3B;AACD;AACF;;AACD6J,YAAI,CAAC3E,IAAL,GAAY,CAAZ;AACA2E,YAAI,CAAC1E,KAAL,GAAa,CAAb;AACA,aAAKyB,MAAL,GAAc;AACZ;AACAC,WAAC,EAAE;AACD;AACAjG,aAAC,EAAE;AACDkG,mBAAK,EAAE,IADN;AACY;AACbC,iBAAG,EAAE,IAFJ;AAEU;AACXC,oBAAM,EAAE,IAHP,CAGa;;AAHb,aAFF;AAOD;AACAzF,aAAC,EAAE;AACDuF,mBAAK,EAAE,IADN;AACY;AACbC,iBAAG,EAAE,IAFJ;AAEU;AACXC,oBAAM,EAAE,IAHP,CAGa;;AAHb;AARF,WAFS;AAgBZ;AACAC,WAAC,EAAE;AACDA,aAAC,EAAE,IADF;AACQ;AACTC,aAAC,EAAE,IAFF;AAEQ;AACTC,aAAC,EAAE,IAHF;AAGQ;AACTC,aAAC,EAAE,IAJF,CAIQ;;AAJR;AAjBS,SAAd;AAwBA,aAAKE,QAAL,GAAgB;AACd1G,WAAC,EAAE;AACD2G,kBAAM,EAAE,CADP;AAEDC,kBAAM,EAAE,CAFP;AAGDC,gBAAI,EAAE,CAHL;AAIDC,kBAAM,EAAE,CAJP;AAKD/D,oBAAQ,EAAE;AALT,WADW;AAQdpC,WAAC,EAAE;AACDgG,kBAAM,EAAE,CADP;AAEDC,kBAAM,EAAE,CAFP;AAGDC,gBAAI,EAAE,CAHL;AAIDC,kBAAM,EAAE,CAJP;AAKD/D,oBAAQ,EAAE;AALT;AARW,SAAhB;AAgBA,YAAM+N,SAAS,GAAG,KAAK9J,UAAL,CAAgBE,GAAlC;;AACA,aAAK,IAAIzC,GAAT,IAAgBqM,SAAhB,EAA2B;AACzBA,mBAAS,CAACrM,GAAD,CAAT,CAAesH,SAAf,CAAyB,CAAzB,EAA4B,CAA5B,EAA+B,KAAKnI,IAAL,CAAUrD,KAAzC,EAAgD,KAAKqD,IAAL,CAAUE,MAA1D;AACD;AACF,OApRgB;AAqRjB;AACA0M,iBAAW,EAAE,qBAASO,QAAT,EAAmBC,SAAnB,EAA8B;AACzC,aAAK,IAAIvM,GAAT,IAAgBuM,SAAhB,EAA2B;AACzBD,kBAAQ,CAACtM,GAAD,CAAR,IAAiBsM,QAAQ,CAACtM,GAAD,CAAR,CAAckK,QAAd,OAA6B,iBAA9C,GACE,KAAK6B,WAAL,CAAiBO,QAAQ,CAACtM,GAAD,CAAzB,EAAgCuM,SAAS,CAACvM,GAAD,CAAzC,CADF,GACoDsM,QAAQ,CAACtM,GAAD,CAAR,GAAgBuM,SAAS,CAACvM,GAAD,CAD7E;AAED;;AACD,eAAOsM,QAAP;AACD,OA5RgB;AA6RjB;AACAE,mBAAa,EAAE,uBAASC,IAAT,EAAyB;AAAA,YAAV9Q,IAAU,uEAAH,CAAG;AACtC,YAAI+Q,IAAI,GAAG,EAAX;AAAA,YACExD,GADF;AAEAwD,YAAI,CAACC,EAAL,GAAU,IAAI1B,IAAJ,CAASwB,IAAT,EAAeG,WAAf,EAAV;AACAF,YAAI,CAACG,EAAL,GAAU,IAAI5B,IAAJ,CAASwB,IAAT,EAAeK,QAAf,KAA4B,CAAtC;AACAJ,YAAI,CAACG,EAAL,GAAU,EAAV,KAAiBH,IAAI,CAACG,EAAL,GAAU,MAAMH,IAAI,CAACG,EAAtC;AACAH,YAAI,CAACK,EAAL,GAAU,IAAI9B,IAAJ,CAASwB,IAAT,EAAeO,OAAf,EAAV;AACAN,YAAI,CAACK,EAAL,GAAU,EAAV,KAAiBL,IAAI,CAACK,EAAL,GAAU,MAAML,IAAI,CAACK,EAAtC;AACA7D,WAAG,GAAGvN,IAAI,KAAK,CAAT,GAAa+Q,IAAI,CAACG,EAAL,GAAU,GAAV,GAAgBH,IAAI,CAACK,EAAlC,GAAuCL,IAAI,CAACC,EAAL,GAAU,GAAV,GAAgBD,IAAI,CAACG,EAArB,GAA0B,GAA1B,GAAgCH,IAAI,CAACK,EAAlF;;AACA,YAAIpR,IAAI,KAAK,CAAT,IAAcA,IAAI,KAAK,CAA3B,EAA8B;AAC5B+Q,cAAI,CAAC3K,CAAL,GAAS,IAAIkJ,IAAJ,CAASwB,IAAT,EAAeQ,QAAf,EAAT;AACAP,cAAI,CAAC3K,CAAL,GAAS,EAAT,KAAgB2K,IAAI,CAAC3K,CAAL,GAAS,MAAM2K,IAAI,CAAC3K,CAApC;AACA2K,cAAI,CAACQ,CAAL,GAAS,IAAIjC,IAAJ,CAASwB,IAAT,EAAeU,UAAf,EAAT;AACAT,cAAI,CAACQ,CAAL,GAAS,EAAT,KAAgBR,IAAI,CAACQ,CAAL,GAAS,MAAMR,IAAI,CAACQ,CAApC;AACAR,cAAI,CAACxF,CAAL,GAAS,IAAI+D,IAAJ,CAASwB,IAAT,EAAeW,UAAf,EAAT;AACAV,cAAI,CAACxF,CAAL,GAAS,EAAT,KAAgBwF,IAAI,CAACxF,CAAL,GAAS,MAAMwF,IAAI,CAACxF,CAApC;AACAgC,aAAG,IAAI,MAAMwD,IAAI,CAAC3K,CAAX,GAAe,GAAf,GAAqB2K,IAAI,CAACQ,CAA1B,GAA8B,GAA9B,GAAoCR,IAAI,CAACxF,CAAhD;AACD;;AACD,eAAOgC,GAAP;AACD,OAjTgB;AAkTjB;AACAlD,gBAAU,EAAE,oBAASrK,IAAT,EAAe;AACzB,YAAMU,gBAAgB,GAAG,KAAKiG,OAAL,CAAalG,MAAb,CAAoBC,gBAA7C;;AACA,YAAIA,gBAAgB,KAAK,aAAzB,EAAwC;AACtC,eAAK2K,QAAL,CAAcrL,IAAd;AACA,eAAKsK,QAAL,CAActK,IAAd;AACA,eAAKuK,QAAL;AACA,eAAKC,QAAL;AACA,eAAKC,QAAL;AACD,SAND,MAMO,IAAI/J,gBAAgB,KAAK,QAAzB,EAAmC;AACxC,eAAKgR,UAAL;AACA,eAAKC,UAAL;AACD,SAHM,MAGA,IAAIjR,gBAAgB,KAAK,YAAzB,EAAuC;AAC5C,eAAKkR,eAAL;AACA,eAAKC,cAAL;AACD;AACF,OAlUgB;AAmUjB;AACAxG,cAAQ,EAAE,kBAASrL,IAAT,EAAe;AAAE;AACzB,YAAIsJ,KAAK,GAAG,KAAK1D,MAAjB;AAAA,YAAyB9D,MAAM,GAAG,KAAK6B,cAAvC;;AACA,YAAI3D,IAAI,KAAK,CAAb,EAAgB;AACd,cAAMoH,GAAG,GAAG,KAAKT,OAAjB;AACA,cAAMmL,IAAI,GAAG1K,GAAG,CAACxH,CAAjB;AACA,cAAMmS,GAAG,GAAGD,IAAI,CAAC7R,IAAjB;AACA,cAAMuI,CAAC,GAAGuJ,GAAG,CAAC/L,MAAd;;AACA,cAAIoB,GAAG,CAAC3G,MAAJ,CAAWT,IAAX,KAAoB,KAAxB,EAA+B;AAC7B8B,kBAAM,CAAC8B,QAAP,CAAgBhE,CAAhB,GAAoB;AAClBU,iBAAG,EAAE+H,MAAM,CAACC,SADM;AAElBjI,iBAAG,EAAEgI,MAAM,CAAC4B;AAFM,aAApB;AAIA,gBAAI1B,IAAC,GAAG,CAAR;;AACA,gBAAI,KAAKmF,WAAL,CAAiBqE,GAAG,CAAC,CAAD,CAApB,MAA6B,OAAjC,EAA0C;AACxC,qBAAOxJ,IAAC,GAAGC,CAAX,EAAcD,IAAC,EAAf,EAAmB;AACjB,oBAAMH,KAAK,GAAG2J,GAAG,CAACxJ,IAAD,CAAjB;;AACA,qBAAK,IAAI6B,CAAC,GAAG,CAAR,EAAWD,GAAG,GAAG/B,KAAK,CAACpC,MAA5B,EAAoCoE,CAAC,GAAGD,GAAxC,EAA6CC,CAAC,EAA9C,EAAkD;AAChD,sBAAM9F,GAAG,GAAG8D,KAAK,CAACgC,CAAD,CAAjB;AACAtI,wBAAM,CAAC8B,QAAP,CAAgBhE,CAAhB,CAAkBS,GAAlB,GAAwBiE,GAAxB,KAAgCxC,MAAM,CAAC8B,QAAP,CAAgBhE,CAAhB,CAAkBS,GAAlB,GAAwBiE,GAAxD;AACAxC,wBAAM,CAAC8B,QAAP,CAAgBhE,CAAhB,CAAkBU,GAAlB,GAAwBgE,GAAxB,KAAgCxC,MAAM,CAAC8B,QAAP,CAAgBhE,CAAhB,CAAkBU,GAAlB,GAAwBgE,GAAxD;AACD;AACF;AACF,aATD,MASO;AACL,kBAAMlE,KAAK,GAAG0R,IAAI,CAAC1R,KAAnB;;AACA,kBAAIoI,CAAC,KAAK,CAAV,EAAa;AACX1G,sBAAM,CAAC8B,QAAP,CAAgBhE,CAAhB,CAAkBS,GAAlB,GAAwBD,KAAK,CAACC,GAA9B;AACAyB,sBAAM,CAAC8B,QAAP,CAAgBhE,CAAhB,CAAkBU,GAAlB,GAAwBF,KAAK,CAACE,GAA9B;AACD,eAHD,MAGO;AACL,uBAAOiI,IAAC,GAAGC,CAAX,EAAcD,IAAC,EAAf,EAAmB;AACjB,sBAAMjE,KAAG,GAAGyN,GAAG,CAACxJ,IAAD,CAAf;AACAzG,wBAAM,CAAC8B,QAAP,CAAgBhE,CAAhB,CAAkBS,GAAlB,GAAwBiE,KAAxB,KAAgCxC,MAAM,CAAC8B,QAAP,CAAgBhE,CAAhB,CAAkBS,GAAlB,GAAwBiE,KAAxD;AACAxC,wBAAM,CAAC8B,QAAP,CAAgBhE,CAAhB,CAAkBU,GAAlB,GAAwBgE,KAAxB,KAAgCxC,MAAM,CAAC8B,QAAP,CAAgBhE,CAAhB,CAAkBU,GAAlB,GAAwBgE,KAAxD;AACD;AACF;AACF;;AACD,gBAAI0F,CAAC,GAAGV,KAAK,CAACrD,CAAN,CAAQC,CAAR,IAAapE,MAAM,CAAC8B,QAAP,CAAgBhE,CAAhB,CAAkBS,GAAlB,GAAwByB,MAAM,CAAC8B,QAAP,CAAgBhE,CAAhB,CAAkBU,GAAvD,CAAR;AACA,gBAAI6F,CAAC,GAAG,CAACmD,KAAK,CAACrD,CAAN,CAAQA,CAAR,GAAY,KAAKU,OAAL,CAAapH,IAAb,CAAkBG,IAA9B,GAAqCsK,CAAC,IAAIlI,MAAM,CAAC8B,QAAP,CAAgBhE,CAAhB,CAAkBS,GAAlB,GAAwByB,MAAM,CAAC8B,QAAP,CAAgBhE,CAAhB,CAAkBU,GAA9C,CAAvC,IAA6F,CAArG;AACAwB,kBAAM,CAAC+B,UAAP,CAAkBjE,CAAlB,GAAsB;AACpBoK,eAAC,EAADA,CADoB;AAEpB7D,eAAC,EAADA;AAFoB,aAAtB;AAIAmD,iBAAK,CAACzD,CAAN,CAAQjG,CAAR,CAAUkG,KAAV,GAAkBhE,MAAM,CAAC8B,QAAP,CAAgBhE,CAAhB,CAAkBU,GAApC;AACAgJ,iBAAK,CAACzD,CAAN,CAAQjG,CAAR,CAAUmG,GAAV,GAAgBjE,MAAM,CAAC8B,QAAP,CAAgBhE,CAAhB,CAAkBS,GAAlC;AACAiJ,iBAAK,CAACzD,CAAN,CAAQjG,CAAR,CAAUoG,MAAV,GAAmBlE,MAAM,CAAC8B,QAAP,CAAgBhE,CAAhB,CAAkBS,GAAlB,GAAwByB,MAAM,CAAC8B,QAAP,CAAgBhE,CAAhB,CAAkBU,GAA7D;AACD,WArCD,MAqCO;AACL,gBAAM0R,GAAG,GAAG1I,KAAK,CAACrD,CAAN,CAAQC,CAAR,GAAYsC,CAAxB;AACA,gBAAIyJ,QAAQ,GAAGD,GAAG,GAAG,CAArB;AACA,gBAAIE,KAAK,GAAGF,GAAG,GAAG,CAAlB;;AACA,gBAAIA,GAAG,GAAG,EAAV,EAAc;AACZA,iBAAG,GAAG,EAAN,KAAaC,QAAQ,GAAG,EAAxB;AACAC,mBAAK,GAAGF,GAAG,GAAGC,QAAd;AACD;;AACDnQ,kBAAM,CAAC8B,QAAP,CAAgBhE,CAAhB,GAAoB;AAClBU,iBAAG,EAAE2R,QADa;AAElB5R,iBAAG,EAAE6R;AAFa,aAApB;AAIA5I,iBAAK,CAACzD,CAAN,CAAQjG,CAAR,CAAUkG,KAAV,GAAkBhE,MAAM,CAAC8B,QAAP,CAAgBhE,CAAhB,CAAkBU,GAApC;AACAgJ,iBAAK,CAACzD,CAAN,CAAQjG,CAAR,CAAUmG,GAAV,GAAgBjE,MAAM,CAAC8B,QAAP,CAAgBhE,CAAhB,CAAkBS,GAAlC;AACAiJ,iBAAK,CAACzD,CAAN,CAAQjG,CAAR,CAAUoG,MAAV,GAAmBgM,GAAnB;AACD;AACF,SA1DD,MA0DO;AACL,cAAIhI,EAAC,GAAGV,KAAK,CAACrD,CAAN,CAAQC,CAAR,IAAaoD,KAAK,CAACzD,CAAN,CAAQjG,CAAR,CAAUmG,GAAV,GAAgBuD,KAAK,CAACzD,CAAN,CAAQjG,CAAR,CAAUkG,KAAvC,CAAR;;AACA,cAAIK,EAAC,GAAG,CAACmD,KAAK,CAACrD,CAAN,CAAQA,CAAR,GAAY,KAAKU,OAAL,CAAapH,IAAb,CAAkBG,IAA9B,GAAqCsK,EAAC,IAAIV,KAAK,CAACzD,CAAN,CAAQjG,CAAR,CAAUmG,GAAV,GAAgBuD,KAAK,CAACzD,CAAN,CAAQjG,CAAR,CAAUkG,KAA9B,CAAvC,IAA+E,CAAvF;;AACAwD,eAAK,CAACzD,CAAN,CAAQjG,CAAR,CAAUoG,MAAV,GAAmBsD,KAAK,CAACzD,CAAN,CAAQjG,CAAR,CAAUmG,GAAV,GAAgBuD,KAAK,CAACzD,CAAN,CAAQjG,CAAR,CAAUkG,KAA7C;AACAhE,gBAAM,CAAC+B,UAAP,CAAkBjE,CAAlB,GAAsB;AACpBoK,aAAC,EAADA,EADoB;AAEpB7D,aAAC,EAADA;AAFoB,WAAtB;AAID;AACF,OAzYgB;AA0YjB;AACAmE,cAAQ,EAAE,kBAAStK,IAAT,EAAe;AAAE;AACzB,YAAIsJ,KAAK,GAAG,KAAK1D,MAAjB;AAAA,YAAyB9D,MAAM,GAAG,KAAK6B,cAAvC;;AACA,YAAI3D,IAAI,KAAK,CAAb,EAAgB;AACd,cAAI+R,GAAG,GAAG,KAAKpL,OAAL,CAAapG,CAAb,CAAeN,IAAzB;AACA,cAAMuI,CAAC,GAAGuJ,GAAG,CAAC/L,MAAd;;AACA,cAAI,KAAKW,OAAL,CAAa/G,CAAb,CAAeI,IAAf,KAAwB,UAA5B,EAAwC;AACtC8B,kBAAM,CAAC8B,QAAP,CAAgBrD,CAAhB,GAAoB;AAClBD,iBAAG,EAAE+H,MAAM,CAACC,SADM;AAElBjI,iBAAG,EAAEgI,MAAM,CAACC,SAAP,GAAmB,CAAC;AAFP,aAApB;;AAIA,iBAAK,IAAIC,IAAC,GAAG,CAAb,EAAgBA,IAAC,GAAGC,CAApB,EAAuBD,IAAC,EAAxB,EAA4B;AAC1B,kBAAMjE,GAAG,GAAGyN,GAAG,CAACxJ,IAAD,CAAf;;AACA,kBAAI,KAAKmF,WAAL,CAAiBqE,GAAG,CAAC,CAAD,CAApB,MAA6B,OAAjC,EAA0C;AACxC,qBAAK,IAAI3H,CAAC,GAAG,CAAR,EAAWD,GAAG,GAAG7F,GAAG,CAAC0B,MAA1B,EAAkCoE,CAAC,GAAGD,GAAtC,EAA2CC,CAAC,EAA5C,EAAgD;AAC9C,sBAAMhC,KAAK,GAAG9D,GAAG,CAAC8F,CAAD,CAAjB;AACAtI,wBAAM,CAAC8B,QAAP,CAAgBrD,CAAhB,CAAkBF,GAAlB,GAAwB+H,KAAxB,KAAkCtG,MAAM,CAAC8B,QAAP,CAAgBrD,CAAhB,CAAkBF,GAAlB,GAAwBgI,MAAM,CAACD,KAAD,CAAhE;AACAtG,wBAAM,CAAC8B,QAAP,CAAgBrD,CAAhB,CAAkBD,GAAlB,GAAwB8H,KAAxB,KAAkCtG,MAAM,CAAC8B,QAAP,CAAgBrD,CAAhB,CAAkBD,GAAlB,GAAwB+H,MAAM,CAACD,KAAD,CAAhE;AACD;AACF,eAND,MAMO,IAAIC,MAAM,CAAC/D,GAAD,CAAN,IAAe+D,MAAM,CAAC/D,GAAD,CAAN,KAAgB,CAAnC,EAAsC;AAC3CxC,sBAAM,CAAC8B,QAAP,CAAgBrD,CAAhB,CAAkBF,GAAlB,GAAwBiE,GAAxB,KAAgCxC,MAAM,CAAC8B,QAAP,CAAgBrD,CAAhB,CAAkBF,GAAlB,GAAwBgI,MAAM,CAAC/D,GAAD,CAA9D;AACAxC,sBAAM,CAAC8B,QAAP,CAAgBrD,CAAhB,CAAkBD,GAAlB,GAAwBgE,GAAxB,KAAgCxC,MAAM,CAAC8B,QAAP,CAAgBrD,CAAhB,CAAkBD,GAAlB,GAAwB+H,MAAM,CAAC/D,GAAD,CAA9D;AACD,eAHM,MAGA;AACR;;AACD,gBAAI,KAAKqC,OAAL,CAAalG,MAAb,CAAoBT,IAApB,KAA6B,KAAjC,EAAwC8B,MAAM,CAAC8B,QAAP,CAAgBrD,CAAhB,CAAkBD,GAAlB,GAAwB,CAAxB;AACzC,WAnBD,MAmBO;AACLwB,kBAAM,CAAC8B,QAAP,CAAgBrD,CAAhB,GAAoB;AAClBD,iBAAG,EAAE,CADa;AAElBD,iBAAG,EAAEgI,MAAM,CAACC,SAAP,GAAmB,CAAC;AAFP,aAApB;;AAIA,iBAAK,IAAIC,IAAC,GAAG,CAAb,EAAgBA,IAAC,GAAGC,CAApB,EAAuBD,IAAC,EAAxB,EAA4B;AAC1B,kBAAMjE,KAAG,GAAGyN,GAAG,CAACxJ,IAAD,CAAf;;AACA,kBAAI,KAAKmF,WAAL,CAAiBqE,GAAG,CAAC,CAAD,CAApB,MAA6B,OAAjC,EAA0C;AACxC,qBAAK,IAAI3H,EAAC,GAAG,CAAR,EAAWD,IAAG,GAAG7F,KAAG,CAAC0B,MAA1B,EAAkCoE,EAAC,GAAGD,IAAtC,EAA2CC,EAAC,EAA5C,EAAgD;AAC9C,sBAAMhC,MAAK,GAAG9D,KAAG,CAAC8F,EAAD,CAAjB;AACAtI,wBAAM,CAAC8B,QAAP,CAAgBrD,CAAhB,CAAkBF,GAAlB,GAAwB+H,MAAxB,KAAkCtG,MAAM,CAAC8B,QAAP,CAAgBrD,CAAhB,CAAkBF,GAAlB,GAAwBgI,MAAM,CAACD,MAAD,CAAhE;AACD;AACF,eALD,MAKO;AACLtG,sBAAM,CAAC8B,QAAP,CAAgBrD,CAAhB,CAAkBF,GAAlB,GAAwBiE,KAAxB,KAAgCxC,MAAM,CAAC8B,QAAP,CAAgBrD,CAAhB,CAAkBF,GAAlB,GAAwBgI,MAAM,CAAC/D,KAAD,CAA9D;AACD;AACF;AACF;;AACD,cAAIxC,MAAM,CAAC8B,QAAP,CAAgBrD,CAAhB,CAAkBF,GAAlB,KAA0ByB,MAAM,CAAC8B,QAAP,CAAgBrD,CAAhB,CAAkBD,GAAhD,EAAqD;AACnDwB,kBAAM,CAAC8B,QAAP,CAAgBrD,CAAhB,CAAkBF,GAAlB,IAAyB,GAAzB;AACAyB,kBAAM,CAAC8B,QAAP,CAAgBrD,CAAhB,CAAkBD,GAAlB,IAAyB,GAAzB;AACD;;AACD,cAAM6R,OAAO,GAAG,CAACrQ,MAAM,CAAC8B,QAAP,CAAgBrD,CAAhB,CAAkBF,GAAlB,GAAwByB,MAAM,CAAC8B,QAAP,CAAgBrD,CAAhB,CAAkBD,GAA3C,IAAkD,EAAlE;AACAgJ,eAAK,CAACzD,CAAN,CAAQtF,CAAR,CAAUuF,KAAV,GAAkBhE,MAAM,CAAC8B,QAAP,CAAgBrD,CAAhB,CAAkBD,GAApC;AACAgJ,eAAK,CAACzD,CAAN,CAAQtF,CAAR,CAAUwF,GAAV,GAAgBjE,MAAM,CAAC8B,QAAP,CAAgBrD,CAAhB,CAAkBF,GAAlB,GAAwB8R,OAAxC;AACA,cAAInI,CAAC,GAAGV,KAAK,CAACrD,CAAN,CAAQG,CAAR,IAAakD,KAAK,CAACzD,CAAN,CAAQtF,CAAR,CAAUuF,KAAV,GAAkBwD,KAAK,CAACzD,CAAN,CAAQtF,CAAR,CAAUwF,GAAzC,CAAR;AACAuD,eAAK,CAACzD,CAAN,CAAQtF,CAAR,CAAUuF,KAAV,KAAoBwD,KAAK,CAACzD,CAAN,CAAQtF,CAAR,CAAUwF,GAA9B,KAAsCiE,CAAC,GAAG,CAA1C;AACA,cAAI7D,CAAC,GAAGmD,KAAK,CAACrD,CAAN,CAAQE,CAAR,GAAYmD,KAAK,CAACzD,CAAN,CAAQtF,CAAR,CAAUuF,KAAV,GAAkBkE,CAAtC;AACAlI,gBAAM,CAAC+B,UAAP,CAAkBtD,CAAlB,GAAsB;AACpByJ,aAAC,EAADA,CADoB;AAEpB7D,aAAC,EAADA;AAFoB,WAAtB;AAID,SArDD,MAqDO;AACL,cAAI6D,GAAJ,EAAO7D,GAAP;;AACA,cAAIiM,CAAC,GAAG9I,KAAK,CAACzD,CAAN,CAAQtF,CAAR,CAAUuF,KAAV,KAAoBwD,KAAK,CAACzD,CAAN,CAAQtF,CAAR,CAAUwF,GAA9B,GAAoC,CAAC,CAArC,GAAyCuD,KAAK,CAACzD,CAAN,CAAQtF,CAAR,CAAUuF,KAAV,GAAkBwD,KAAK,CAACzD,CAAN,CAAQtF,CAAR,CAAUwF,GAA7E;AACAiE,aAAC,GAAGV,KAAK,CAACrD,CAAN,CAAQG,CAAR,GAAYgM,CAAhB;AACAjM,aAAC,GAAGmD,KAAK,CAACrD,CAAN,CAAQE,CAAR,GAAYmD,KAAK,CAACzD,CAAN,CAAQtF,CAAR,CAAUuF,KAAV,GAAkBkE,GAAlC;AACAlI,gBAAM,CAAC+B,UAAP,CAAkBtD,CAAlB,GAAsB;AACpByJ,aAAC,EAADA,GADoB;AAEpB7D,aAAC,EAADA;AAFoB,WAAtB;AAID;;AACDmD,aAAK,CAACzD,CAAN,CAAQtF,CAAR,CAAUyF,MAAV,GAAmBsD,KAAK,CAACzD,CAAN,CAAQtF,CAAR,CAAUwF,GAAV,GAAgBuD,KAAK,CAACzD,CAAN,CAAQtF,CAAR,CAAUuF,KAA7C;AACD,OA7cgB;AA8cjB;AACAyE,cAAQ,EAAE,oBAAW;AACnB,YAAI8H,OAAO,GAAG,KAAKzL,UAAL,CAAgBE,GAAhB,CAAoBlF,UAAlC;AACA,YAAMwF,GAAG,GAAG,KAAKT,OAAjB;AACA,YAAM2C,KAAK,GAAG,KAAK1D,MAAnB;AACAyM,eAAO,CAAC1G,SAAR,CAAkB,CAAlB,EAAqB,CAArB,EAAwB,KAAKnI,IAAL,CAAUrD,KAAlC,EAAyC,KAAKqD,IAAL,CAAUE,MAAnD,EAJmB,CAKnB;;AACA,YAAI4O,KAAK,GAAG,EAAZ;AACA,YAAMC,QAAQ,GAAG,EAAjB;AACA,YAAIC,KAAK,GAAG,EAAZ;AACA,YAAMC,QAAQ,GAAG,EAAjB;;AACA,YAAI,KAAK/E,WAAL,CAAiBtG,GAAG,CAACxH,CAAJ,CAAMZ,IAAvB,MAAiC,OAArC,EAA8C;AAAA;AAAA;AAAA;;AAAA;AAC5C,iCAAiBoI,GAAG,CAACxH,CAAJ,CAAMZ,IAAvB,8HAA6B;AAAA,kBAApBA,IAAoB;;AAC3B,kBAAI,CAACuT,QAAQ,CAACpD,QAAT,CAAkBnQ,IAAlB,CAAL,EAA8B;AAC5BsT,qBAAK,cAAOtT,IAAP,MAAL;AACAuT,wBAAQ,CAACnG,IAAT,CAAcpN,IAAd;AACD;AACF;AAN2C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAO5CsT,eAAK,GAAGA,KAAK,CAACpI,KAAN,CAAY,CAAZ,EAAe,CAAC,CAAhB,CAAR;AACD,SARD,MAQO;AACLoI,eAAK,GAAGlL,GAAG,CAACxH,CAAJ,CAAMZ,IAAd;AACD;;AACD,YAAI,KAAK0O,WAAL,CAAiBtG,GAAG,CAAC7G,CAAJ,CAAMvB,IAAvB,MAAiC,OAArC,EAA8C;AAAA;AAAA;AAAA;;AAAA;AAC5C,kCAAiBoI,GAAG,CAAC7G,CAAJ,CAAMvB,IAAvB,mIAA6B;AAAA,kBAApBA,KAAoB;;AAC3B,kBAAI,CAACyT,QAAQ,CAACtD,QAAT,CAAkBnQ,KAAlB,CAAL,EAA8B;AAC5BwT,qBAAK,cAAOxT,KAAP,MAAL;AACAyT,wBAAQ,CAACrG,IAAT,CAAcpN,KAAd;AACD;AACF;AAN2C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAO5CwT,eAAK,GAAGA,KAAK,CAACtI,KAAN,CAAY,CAAZ,EAAe,CAAC,CAAhB,CAAR;AACD,SARD,MAQO;AACLsI,eAAK,GAAGpL,GAAG,CAAC7G,CAAJ,CAAMvB,IAAd;AACD;;AACDqT,eAAO,CAACzF,SAAR;AACAyF,eAAO,CAACK,IAAR;AACAL,eAAO,CAACM,SAAR,GAAoBvL,GAAG,CAAC7G,CAAJ,CAAML,SAAN,CAAgBC,KAApC;AACAkS,eAAO,CAACO,WAAR,GAAsBxL,GAAG,CAAC7G,CAAJ,CAAML,SAAN,CAAgBb,KAAtC;AACAgT,eAAO,CAACQ,MAAR,CAAezL,GAAG,CAAC7H,IAAJ,CAASG,IAAT,GAAgB,GAA/B,EAAoC,KAAKkG,MAAL,CAAYK,CAAZ,CAAcE,CAAd,GAAkB,GAAtD,EApCmB,CAoCyC;;AAC5DkM,eAAO,CAACS,MAAR,CAAe1L,GAAG,CAAC7H,IAAJ,CAASG,IAAT,GAAgB,GAA/B,EAAoC0H,GAAG,CAAC7H,IAAJ,CAASC,GAA7C,EArCmB,CAqCgC;;AACnD6S,eAAO,CAACU,MAAR;AACAV,eAAO,CAACnQ,OAAR;AACAmQ,eAAO,CAACW,IAAR,GAAe5L,GAAG,CAAC7G,CAAJ,CAAMT,SAAN,CAAgBZ,MAAhB,GAAyB,GAAzB,GAA+BkI,GAAG,CAAC7G,CAAJ,CAAMT,SAAN,CAAgBX,IAA/C,GAAsD,GAAtD,GAA4DiI,GAAG,CAAC7G,CAAJ,CAAMT,SAAN,CAAgBV,MAA3F;AACAiT,eAAO,CAACY,YAAR,GAAuB,QAAvB;AACAZ,eAAO,CAACa,SAAR,GAAoB,QAApB;AACAb,eAAO,CAACxF,SAAR,GAAoBzF,GAAG,CAAC7G,CAAJ,CAAMT,SAAN,CAAgBT,KAApC;;AACA,YAAG+H,GAAG,CAAC7G,CAAJ,CAAMV,KAAN,IAAeuH,GAAG,CAAC7G,CAAJ,CAAMV,KAAN,IAAa,EAA/B,EAAkC;AAChCwS,iBAAO,CAACc,QAAR,CAAiBX,KAAjB,EAAwBpL,GAAG,CAAC7H,IAAJ,CAASG,IAAjC,EAAuC0H,GAAG,CAAC7H,IAAJ,CAASC,GAAT,GAAe,EAAtD;AACA6S,iBAAO,CAACc,QAAR,CAAiB/L,GAAG,CAAC7G,CAAJ,CAAMV,KAAvB,EAA8BuH,GAAG,CAAC7H,IAAJ,CAASG,IAAvC,EAA6C0H,GAAG,CAAC7H,IAAJ,CAASC,GAAT,GAAe,CAA5D;AACD,SAHD,MAII;AACF6S,iBAAO,CAACc,QAAR,CAAiBX,KAAjB,EAAwBpL,GAAG,CAAC7H,IAAJ,CAASG,IAAjC,EAAuC0H,GAAG,CAAC7H,IAAJ,CAASC,GAAT,GAAe,CAAtD;AACD,SAlDkB,CAmDnB;;;AACA6S,eAAO,CAACzF,SAAR;AACAyF,eAAO,CAACM,SAAR,GAAoBvL,GAAG,CAACxH,CAAJ,CAAMM,SAAN,CAAgBC,KAApC;AACAkS,eAAO,CAACO,WAAR,GAAsBxL,GAAG,CAACxH,CAAJ,CAAMM,SAAN,CAAgBb,KAAtC;AACAgT,eAAO,CAACQ,MAAR,CAAezL,GAAG,CAAC7H,IAAJ,CAASG,IAAT,GAAgB,GAA/B,EAAoC,KAAKkG,MAAL,CAAYK,CAAZ,CAAcE,CAAd,GAAkB,GAAtD,EAvDmB,CAuDyC;;AAC5DkM,eAAO,CAACS,MAAR,CAAe,KAAKlN,MAAL,CAAYK,CAAZ,CAAcA,CAAd,GAAkB,GAAjC,EAAsC,KAAKL,MAAL,CAAYK,CAAZ,CAAcE,CAAd,GAAkB,GAAxD,EAxDmB,CAwD0C;;AAC7DkM,eAAO,CAACW,IAAR,GAAe5L,GAAG,CAACxH,CAAJ,CAAME,SAAN,CAAgBZ,MAAhB,GAAyB,GAAzB,GAA+BkI,GAAG,CAACxH,CAAJ,CAAME,SAAN,CAAgBX,IAA/C,GAAsD,GAAtD,GAA4DiI,GAAG,CAACxH,CAAJ,CAAME,SAAN,CAAgBV,MAA3F;AACAiT,eAAO,CAACY,YAAR,GAAuB,QAAvB;AACAZ,eAAO,CAACa,SAAR,GAAoB,OAApB;AACAb,eAAO,CAACxF,SAAR,GAAoBzF,GAAG,CAACxH,CAAJ,CAAME,SAAN,CAAgBT,KAApC;AACAgT,eAAO,CAACc,QAAR,CAAiBb,KAAjB,EAAwB,KAAK1M,MAAL,CAAYK,CAAZ,CAAcA,CAAtC,EAAyC,KAAKL,MAAL,CAAYK,CAAZ,CAAcE,CAAd,GAAkBkC,MAAM,CAACjB,GAAG,CAACxH,CAAJ,CAAME,SAAN,CAAgBH,MAAjB,CAAjE;AACA0S,eAAO,CAACc,QAAR,CAAiB/L,GAAG,CAACxH,CAAJ,CAAMC,KAAvB,EAA8B,KAAK+F,MAAL,CAAYK,CAAZ,CAAcA,CAA5C,EAA+C,KAAKL,MAAL,CAAYK,CAAZ,CAAcE,CAAd,GAAkBkC,MAAM,CAACjB,GAAG,CAACxH,CAAJ,CAAME,SAAN,CAAgBC,OAAjB,CAAvE;AACAsS,eAAO,CAACU,MAAR;AACAV,eAAO,CAACnQ,OAAR,GAhEmB,CAiEnB;;AACA,YAAIkF,GAAG,CAACtI,KAAJ,CAAUC,IAAV,IAAkBqI,GAAG,CAACtI,KAAJ,CAAUE,IAAV,KAAmB,EAAzC,EAA6C;AAC3CqT,iBAAO,CAACzF,SAAR;AACAyF,iBAAO,CAACW,IAAR,GAAe5L,GAAG,CAACtI,KAAJ,CAAUG,SAAV,CAAoBC,MAApB,GAA6B,GAA7B,GAAmCkI,GAAG,CAACtI,KAAJ,CAAUG,SAAV,CAAoBE,IAAvD,GAA8D,GAA9D,GAAoEiI,GAAG,CAACtI,KAAJ,CAAUG,SAAV,CAAoBG,MAAvG;AACAiT,iBAAO,CAACa,SAAR,GAAoB9L,GAAG,CAACtI,KAAJ,CAAUG,SAAV,CAAoBK,KAAxC;AACA+S,iBAAO,CAACxF,SAAR,GAAoBzF,GAAG,CAACtI,KAAJ,CAAUG,SAAV,CAAoBI,KAAxC;AACAgT,iBAAO,CAACY,YAAR,GAAuB,KAAvB;AACA,cAAIrT,CAAJ;;AACA,kBAAQwH,GAAG,CAACtI,KAAJ,CAAUG,SAAV,CAAoBK,KAA5B;AACE,iBAAK,MAAL;AACEM,eAAC,GAAG,CAAJ;AACA;;AACF,iBAAK,QAAL;AACEA,eAAC,GAAG,KAAK4D,IAAL,CAAUrD,KAAV,GAAkB,CAAtB;AACA;;AACF,iBAAK,OAAL;AACEP,eAAC,GAAG,KAAK4D,IAAL,CAAUrD,KAAd;AACA;AATJ;;AAWAkS,iBAAO,CAACc,QAAR,CAAiB/L,GAAG,CAACtI,KAAJ,CAAUE,IAA3B,EAAiCY,CAAjC,EAAoC,CAApC;AACD;;AACD,YAAIwH,GAAG,CAACxH,CAAJ,CAAMK,IAAN,KAAeuE,SAAf,IAA4B4C,GAAG,CAAC7G,CAAJ,CAAMN,IAAN,CAAW+F,MAAX,KAAsB,CAAtD,EAAyD;AACvD;AACD;;AACDqM,eAAO,CAACzF,SAAR;AACAyF,eAAO,CAACM,SAAR,GAAoBvL,GAAG,CAACxH,CAAJ,CAAMM,SAAN,CAAgBC,KAApC;AACAkS,eAAO,CAACO,WAAR,GAAsBxL,GAAG,CAACxH,CAAJ,CAAMM,SAAN,CAAgBb,KAAtC;AACAgT,eAAO,CAACa,SAAR,GAAoB,QAApB;AACAb,eAAO,CAACY,YAAR,GAAuB,QAAvB;AACAZ,eAAO,CAACK,IAAR;AACA,YAAI7C,QAAQ,GAAG;AACbjQ,WAAC,EAAE,EADU;AAEbW,WAAC,EAAE;AAFU,SAAf;AAIA,YAAI6S,OAAO,GAAG;AACZxT,WAAC,EAAE,CADS;AAEZW,WAAC,EAAE;AAFS,SAAd,CAnGmB,CAuGnB;;AACA,YAAI6G,GAAG,CAAC3G,MAAJ,CAAWT,IAAX,KAAoB,KAAxB,EAA+B;AAC7B6P,kBAAQ,CAACjQ,CAAT,CAAWyT,OAAX,GAAqBvJ,IAAI,CAAC2E,KAAL,CAAW,KAAK7I,MAAL,CAAYK,CAAZ,CAAcC,CAAd,GAAkB,EAA7B,CAArB;AACA2J,kBAAQ,CAACjQ,CAAT,CAAW0T,MAAX,GAAoB,KAAK1N,MAAL,CAAYC,CAAZ,CAAcjG,CAAd,CAAgBoG,MAAhB,GAAyB6J,QAAQ,CAACjQ,CAAT,CAAWyT,OAAxD;AACAxD,kBAAQ,CAACjQ,CAAT,CAAW2T,EAAX,GAAgBzJ,IAAI,CAAC2E,KAAL,CAAW3E,IAAI,CAAC0J,GAAL,CAAS3D,QAAQ,CAACjQ,CAAT,CAAW0T,MAApB,IAA8BxJ,IAAI,CAAC2J,MAA9C,CAAhB;AACA5D,kBAAQ,CAACjQ,CAAT,CAAW8T,MAAX,GAAoB5J,IAAI,CAAC6J,GAAL,CAAS,EAAT,EAAa9D,QAAQ,CAACjQ,CAAT,CAAW2T,EAAxB,CAApB;AACA1D,kBAAQ,CAACjQ,CAAT,CAAWgU,GAAX,GAAiB/D,QAAQ,CAACjQ,CAAT,CAAW8T,MAAX,GAAoB,CAArC;AACA7D,kBAAQ,CAACjQ,CAAT,CAAWgU,GAAX,GAAiB/D,QAAQ,CAACjQ,CAAT,CAAW0T,MAA5B,KAAuCzD,QAAQ,CAACjQ,CAAT,CAAWgU,GAAX,GAAiB/D,QAAQ,CAACjQ,CAAT,CAAW8T,MAAX,GAAoB,CAA5E;AACA7D,kBAAQ,CAACjQ,CAAT,CAAWgU,GAAX,GAAiB/D,QAAQ,CAACjQ,CAAT,CAAW0T,MAA5B,KAAuCzD,QAAQ,CAACjQ,CAAT,CAAWgU,GAAX,GAAiB/D,QAAQ,CAACjQ,CAAT,CAAW8T,MAAnE;AACA7D,kBAAQ,CAACjQ,CAAT,CAAWgU,GAAX,GAAiB/D,QAAQ,CAACjQ,CAAT,CAAW0T,MAA5B,KAAuCzD,QAAQ,CAACjQ,CAAT,CAAWgU,GAAX,GAAiB/D,QAAQ,CAACjQ,CAAT,CAAW8T,MAAX,GAAoB,CAA5E;AACA7D,kBAAQ,CAACjQ,CAAT,CAAWgU,GAAX,GAAiB/D,QAAQ,CAACjQ,CAAT,CAAW0T,MAA5B,KAAuCzD,QAAQ,CAACjQ,CAAT,CAAWgU,GAAX,GAAiB/D,QAAQ,CAACjQ,CAAT,CAAW8T,MAAX,GAAoB,CAA5E;AACA7D,kBAAQ,CAACjQ,CAAT,CAAWgU,GAAX,GAAiB/D,QAAQ,CAACjQ,CAAT,CAAW0T,MAA5B,KAAuCzD,QAAQ,CAACjQ,CAAT,CAAWgU,GAAX,GAAiB/D,QAAQ,CAACjQ,CAAT,CAAW8T,MAAX,GAAoB,EAA5E;AACA7D,kBAAQ,CAACjQ,CAAT,CAAWgU,GAAX,GAAiBC,UAAU,CAAChE,QAAQ,CAACjQ,CAAT,CAAWgU,GAAX,CAAeE,WAAf,CAA2B,CAA3B,EAA8BvF,QAA9B,EAAD,CAA3B,CAX6B,CAY7B;;AACA8D,iBAAO,CAACW,IAAR,GAAe5L,GAAG,CAACxH,CAAJ,CAAMX,SAAN,CAAgBE,IAAhB,GAAuB,GAAvB,GAA6BiI,GAAG,CAACxH,CAAJ,CAAMX,SAAN,CAAgBG,MAA5D;AACAiT,iBAAO,CAACxF,SAAR,GAAoBzF,GAAG,CAACxH,CAAJ,CAAMX,SAAN,CAAgBI,KAApC;AACA,cAAI0U,OAAO,GAAG,KAAKnO,MAAL,CAAYC,CAAZ,CAAcjG,CAAd,CAAgBmG,GAAhB,GAAsB,KAAKH,MAAL,CAAYC,CAAZ,CAAcjG,CAAd,CAAgBkG,KAApD;AACA,cAAIA,KAAK,GAAGsB,GAAG,CAACxH,CAAJ,CAAMI,IAAN,KAAe,MAAf,GAAwB,KAAK4F,MAAL,CAAYC,CAAZ,CAAcjG,CAAd,CAAgBkG,KAAxC,GAAgD,CAA5D;;AACA,eAAK,IAAIyC,IAAC,GAAGzC,KAAR,EAAesE,CAAC,GAAG,CAAnB,EAAsB5B,CAAC,GAAG,KAAK5C,MAAL,CAAYC,CAAZ,CAAcjG,CAAd,CAAgBmG,GAAhB,GAAsB8J,QAAQ,CAACjQ,CAAT,CAAWgU,GAAhE,EAAqErL,IAAC,GAAGC,CAAzE,EAA4ED,IAAC,IAAIsH,QAAQ,CAACjQ,CAAT,CAAWgU,GAAhB,EAAqBxJ,CAAC,EAAlG,EAAsG;AACpG,gBAAIxK,EAAC,GAAG2I,IAAC,GAAG,KAAK5E,cAAL,CAAoBE,UAApB,CAA+BjE,CAA/B,CAAiCoK,CAArC,GAAyC,KAAKrG,cAAL,CAAoBE,UAApB,CAA+BjE,CAA/B,CAAiCuG,CAAlF;;AACA,gBAAIvG,EAAC,IAAIwH,GAAG,CAAC7H,IAAJ,CAASG,IAAd,IAAsBE,EAAC,IAAI,KAAKgG,MAAL,CAAYK,CAAZ,CAAcA,CAA7C,EAAgD;AAC9C,kBAAImB,GAAG,CAACxH,CAAJ,CAAMI,IAAN,KAAe,UAAf,IAA6BoK,CAAC,GAAG,CAAJ,KAAU,CAA3C,EAA8C;AAC5C,oBAAI4I,KAAI,GAAGa,UAAU,CAACtL,IAAC,CAACuL,WAAF,CAAc,CAAd,CAAD,CAAV,CAA6BvF,QAA7B,EAAX;;AACA,oBAAIyE,KAAI,CAACjH,OAAL,CAAa,GAAb,MAAsB,CAAC,CAA3B,EAA8B;AAC5B,sBAAIiI,EAAE,GAAGhB,KAAI,CAAC9I,KAAL,CAAW8I,KAAI,CAACjH,OAAL,CAAa,GAAb,CAAX,CAAT;;AACAqH,yBAAO,CAACxT,CAAR,IAAaoU,EAAE,CAAChO,MAAhB,GACEoN,OAAO,CAACxT,CAAR,GAAYoU,EAAE,CAAChO,MADjB,GAEEgN,KAAI,GAAGA,KAAI,GAAG,GAFhB;AAGD,iBALD,MAKO;AACL,sBAAII,OAAO,CAACxT,CAAR,GAAY,CAAhB,EAAmB;AACjB,wBAAIqU,IAAI,GAAG,GAAX;;AACA,yBAAK,IAAIjK,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGoJ,OAAO,CAACxT,CAA5B,EAA+BoK,CAAC,EAAhC,EAAoC;AAClCiK,0BAAI,IAAI,GAAR;AACD;;AACDjB,yBAAI,GAAGA,KAAI,GAAGiB,IAAd;AACD,mBAND,MAMO,IAAIpE,QAAQ,CAACjQ,CAAT,CAAWgU,GAAX,GAAiB,GAArB,EAA0B;AAC/BZ,yBAAI,IAAI,IAAR;AACD;AACF;;AACDX,uBAAO,CAACc,QAAR,CAAiBH,KAAjB,EAAuBpT,EAAvB,EAA0B,KAAKgG,MAAL,CAAYK,CAAZ,CAAcE,CAAd,GAAkB,EAA5C;AACAkM,uBAAO,CAACQ,MAAR,CAAejT,EAAC,GAAG,GAAnB,EAAwB,KAAKgG,MAAL,CAAYK,CAAZ,CAAcE,CAAtC;AACAkM,uBAAO,CAACS,MAAR,CAAelT,EAAC,GAAG,GAAnB,EAAwB,KAAKgG,MAAL,CAAYK,CAAZ,CAAcE,CAAd,GAAkB,CAA1C;AACD,eArBD,MAqBO,IAAIiB,GAAG,CAACxH,CAAJ,CAAMI,IAAN,KAAe,MAAf,IAAyBoK,CAAC,GAAG,CAAJ,KAAU,CAAvC,EAA0C;AAC/C,oBAAI4I,MAAI,GAAGe,OAAO,GAAG,QAAV,GAAqB,KAAKlD,aAAL,CAAmBtI,IAAnB,EAAsB,CAAtB,CAArB,GAAgD,KAAKsI,aAAL,CAAmBtI,IAAnB,EAAsB,CAAtB,CAA3D;;AACA8J,uBAAO,CAACc,QAAR,CAAiBH,MAAjB,EAAuBpT,EAAvB,EAA0B,KAAKgG,MAAL,CAAYK,CAAZ,CAAcE,CAAd,GAAkB,EAA5C;AACAkM,uBAAO,CAACQ,MAAR,CAAejT,EAAC,GAAG,GAAnB,EAAwB,KAAKgG,MAAL,CAAYK,CAAZ,CAAcE,CAAtC;AACAkM,uBAAO,CAACS,MAAR,CAAelT,EAAC,GAAG,GAAnB,EAAwB,KAAKgG,MAAL,CAAYK,CAAZ,CAAcE,CAAd,GAAkB,CAA1C;AACD;AACF;AACF;;AACDkM,iBAAO,CAACU,MAAR;AACAV,iBAAO,CAACnQ,OAAR;AACD,SAnDD,MAmDO;AACL;AACAmQ,iBAAO,CAACzF,SAAR;AACAyF,iBAAO,CAACW,IAAR,GAAe5L,GAAG,CAACxH,CAAJ,CAAMX,SAAN,CAAgBE,IAAhB,GAAuB,GAAvB,GAA6BiI,GAAG,CAACxH,CAAJ,CAAMX,SAAN,CAAgBG,MAA5D;AACAiT,iBAAO,CAACxF,SAAR,GAAoBzF,GAAG,CAACxH,CAAJ,CAAMX,SAAN,CAAgBI,KAApC;AACAgT,iBAAO,CAACa,SAAR,GAAoB,QAApB;AACAb,iBAAO,CAACY,YAAR,GAAuB,KAAvB;;AACA,eAAK,IAAI1K,IAAC,GAAG,CAAR,EAAWC,GAAC,GAAGpB,GAAG,CAACxH,CAAJ,CAAMK,IAAN,CAAW+F,MAA/B,EAAuCuC,IAAC,GAAGC,GAA3C,EAA8CD,IAAC,EAA/C,EAAmD;AACjD,gBAAMH,KAAK,GAAGhB,GAAG,CAACxH,CAAJ,CAAMK,IAAN,CAAWsI,IAAX,CAAd;;AACA,gBAAM3I,GAAC,GAAG0J,KAAK,CAACzD,CAAN,CAAQjG,CAAR,CAAUoG,MAAV,GAAmBuC,IAAnB,GAAuBnB,GAAG,CAAC7H,IAAJ,CAASG,IAAhC,GAAuC,EAAjD;;AACA,iBAAK,IAAI0K,GAAC,GAAG,CAAR,EAAWD,GAAG,GAAG/B,KAAK,CAACpC,MAA5B,EAAoCoE,GAAC,GAAGD,GAAxC,EAA6CC,GAAC,EAA9C,EAAkD;AAChDiI,qBAAO,CAACc,QAAR,CAAiB/K,KAAK,CAACgC,GAAD,CAAtB,EAA2BxK,GAA3B,EAA8B0J,KAAK,CAACrD,CAAN,CAAQE,CAAR,GAAY,KAAKiE,GAAjB,GAAqB,GAAnD;AACD;AACF;AACF,SAzKkB,CA0KnB;;;AACAyF,gBAAQ,CAACtP,CAAT,CAAW8S,OAAX,GAAqBvJ,IAAI,CAAC2E,KAAL,CAAW,KAAK7I,MAAL,CAAYK,CAAZ,CAAcG,CAAd,GAAkB,EAA7B,CAArB;AACAyJ,gBAAQ,CAACtP,CAAT,CAAW+S,MAAX,GAAoB,KAAK1N,MAAL,CAAYC,CAAZ,CAActF,CAAd,CAAgByF,MAAhB,GAAyB6J,QAAQ,CAACtP,CAAT,CAAW8S,OAAxD;AACAxD,gBAAQ,CAACtP,CAAT,CAAWgT,EAAX,GAAgBzJ,IAAI,CAAC2E,KAAL,CAAW3E,IAAI,CAAC0J,GAAL,CAAS3D,QAAQ,CAACtP,CAAT,CAAW+S,MAApB,IAA8BxJ,IAAI,CAAC2J,MAA9C,CAAhB;AACA5D,gBAAQ,CAACqE,OAAT,GAAmBpK,IAAI,CAAC6J,GAAL,CAAS,EAAT,EAAa9D,QAAQ,CAACtP,CAAT,CAAWgT,EAAxB,CAAnB;AACA1D,gBAAQ,CAACtP,CAAT,CAAWqT,GAAX,GAAiB/D,QAAQ,CAACqE,OAAT,GAAmB,CAApC;AACArE,gBAAQ,CAACtP,CAAT,CAAWqT,GAAX,GAAiB/D,QAAQ,CAACtP,CAAT,CAAW+S,MAA5B,KAAuCzD,QAAQ,CAACtP,CAAT,CAAWqT,GAAX,GAAiB/D,QAAQ,CAACqE,OAAT,GAAmB,CAA3E;AACArE,gBAAQ,CAACtP,CAAT,CAAWqT,GAAX,GAAiB/D,QAAQ,CAACtP,CAAT,CAAW+S,MAA5B,KAAuCzD,QAAQ,CAACtP,CAAT,CAAWqT,GAAX,GAAiB/D,QAAQ,CAACqE,OAAjE;AACArE,gBAAQ,CAACtP,CAAT,CAAWqT,GAAX,GAAiB/D,QAAQ,CAACtP,CAAT,CAAW+S,MAA5B,KAAuCzD,QAAQ,CAACtP,CAAT,CAAWqT,GAAX,GAAiB/D,QAAQ,CAACqE,OAAT,GAAmB,CAA3E;AACArE,gBAAQ,CAACtP,CAAT,CAAWqT,GAAX,GAAiB/D,QAAQ,CAACtP,CAAT,CAAW+S,MAA5B,KAAuCzD,QAAQ,CAACtP,CAAT,CAAWqT,GAAX,GAAiB/D,QAAQ,CAACqE,OAAT,GAAmB,CAA3E;AACArE,gBAAQ,CAACtP,CAAT,CAAWqT,GAAX,GAAiB/D,QAAQ,CAACtP,CAAT,CAAW+S,MAA5B,KAAuCzD,QAAQ,CAACtP,CAAT,CAAWqT,GAAX,GAAiB/D,QAAQ,CAACqE,OAAT,GAAmB,EAA3E;AACArE,gBAAQ,CAACtP,CAAT,CAAWqT,GAAX,GAAiBC,UAAU,CAAChE,QAAQ,CAACtP,CAAT,CAAWqT,GAAX,CAAeE,WAAf,CAA2B,CAA3B,EAA8BvF,QAA9B,EAAD,CAA3B,CArLmB,CAsLnB;;AACA8D,eAAO,CAACW,IAAR,GAAe5L,GAAG,CAAC7G,CAAJ,CAAMtB,SAAN,CAAgBE,IAAhB,GAAuB,GAAvB,GAA6BiI,GAAG,CAAC7G,CAAJ,CAAMtB,SAAN,CAAgBG,MAA5D;AACAiT,eAAO,CAACa,SAAR,GAAoB,OAApB;AACAb,eAAO,CAACxF,SAAR,GAAoBzF,GAAG,CAAC7G,CAAJ,CAAMtB,SAAN,CAAgBI,KAApC;AACA,YAAI8U,QAAQ,GAAG,CAAC,KAAKvO,MAAL,CAAYC,CAAZ,CAActF,CAAd,CAAgBwF,GAAhB,GAAsB,KAAKH,MAAL,CAAYC,CAAZ,CAActF,CAAd,CAAgBuF,KAAvC,IAAgD+J,QAAQ,CAACtP,CAAT,CAAWqT,GAA3D,GAAiE,CAAjE,GAAqE,CAArE,GAAyE,CAAxF;AACA/D,gBAAQ,CAACtP,CAAT,CAAWqT,GAAX,IAAkBvL,MAAM,CAAC4B,SAAzB,KAAuC4F,QAAQ,CAACtP,CAAT,CAAWqT,GAAX,GAAiB,OAAxD;AACA,YAAIZ,IAAI,GAAG,EAAX;;AACA,aAAK,IAAIzB,CAAC,GAAG,KAAK3L,MAAL,CAAYC,CAAZ,CAActF,CAAd,CAAgBwF,GAAxB,EAA6BqE,GAAC,GAAG,CAAtC,EAAyCmH,CAAC,IAAI,KAAK3L,MAAL,CAAYC,CAAZ,CAActF,CAAd,CAAgBuF,KAA9D,EAAqEyL,CAAC,IAAI1B,QAAQ,CAACtP,CAAT,CAAWqT,GAAhB,EAAqBxJ,GAAC,EAA3F,EAA+F;AAC7F,cAAI7J,CAAC,GAAG,KAAKkO,KAAL,CAAW8C,CAAC,GAAG,KAAK5N,cAAL,CAAoBE,UAApB,CAA+BtD,CAA/B,CAAiCyJ,CAArC,GAAyC,KAAKrG,cAAL,CAAoBE,UAApB,CAA+BtD,CAA/B,CAAiC4F,CAArF,CAAR;AACA,cAAMiO,KAAK,GAAG,KAAK3F,KAAL,CAAW8C,CAAX,CAAd;;AACA,cAAIhR,CAAC,IAAI,KAAKqF,MAAL,CAAYK,CAAZ,CAAcE,CAAnB,IAAwB5F,CAAC,IAAI6G,GAAG,CAAC7H,IAAJ,CAASC,GAAtC,IAA6C4K,GAAC,GAAG+J,QAAJ,KAAiB,CAA9D,IAAmE/J,GAAC,KAAK,CAAzE,IAA8EgK,KAAK,KAAKpB,IAA5F,EAAkG;AAChGA,gBAAI,GAAGoB,KAAP;AACA;;;;;;;;;;;;;;;AAcA;;;AAEE/B,mBAAO,CAACc,QAAR,CAAiBiB,KAAjB,EAAwBhN,GAAG,CAAC7H,IAAJ,CAASG,IAAT,GAAgB,EAAxC,EAA4Ca,CAAC,GAAG,GAAhD;AACF8R,mBAAO,CAACQ,MAAR,CAAezL,GAAG,CAAC7H,IAAJ,CAASG,IAAxB,EAA8Ba,CAAC,GAAG,GAAlC;AACA8R,mBAAO,CAACS,MAAR,CAAe1L,GAAG,CAAC7H,IAAJ,CAASG,IAAT,GAAgB,CAA/B,EAAkCa,CAAC,GAAG,GAAtC;AACD;AACF;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA8R,eAAO,CAACU,MAAR;AACAV,eAAO,CAACzF,SAAR;AACAyF,eAAO,CAACO,WAAR,GAAsBxL,GAAG,CAAC7G,CAAJ,CAAMC,cAAN,CAAqBnB,KAA3C;AACAgT,eAAO,CAACM,SAAR,GAAoBvL,GAAG,CAAC7G,CAAJ,CAAMC,cAAN,CAAqBL,KAAzC,CArPmB,CAsPnB;;AACA,aAAK,IAAIiS,CAAC,GAAG,KAAKxM,MAAL,CAAYC,CAAZ,CAActF,CAAd,CAAgBwF,GAAxB,EAA6BqE,GAAC,GAAG,CAAtC,EAAyCgI,CAAC,IAAI,KAAKxM,MAAL,CAAYC,CAAZ,CAActF,CAAd,CAAgBuF,KAA9D,EAAqEsM,CAAC,IAAIvC,QAAQ,CAACtP,CAAT,CAAWqT,GAAhB,EAAqBxJ,GAAC,EAA3F,EAA+F;AAC7F,cAAI7J,EAAC,GAAG,KAAKkO,KAAL,CAAW2D,CAAC,GAAG,KAAKzO,cAAL,CAAoBE,UAApB,CAA+BtD,CAA/B,CAAiCyJ,CAArC,GAAyC,KAAKrG,cAAL,CAAoBE,UAApB,CAA+BtD,CAA/B,CAAiC4F,CAArF,CAAR;;AACA,cAAMiO,MAAK,GAAGtK,IAAI,CAAC2E,KAAL,CAAW2D,CAAC,GAAG,OAAf,IAA0B,OAAxC;;AACA,cAAI7R,EAAC,IAAI,KAAKqF,MAAL,CAAYK,CAAZ,CAAcE,CAAnB,IAAwB5F,EAAC,IAAI6G,GAAG,CAAC7H,IAAJ,CAASC,GAAtC,IAA6C4K,GAAC,GAAG+J,QAAJ,KAAiB,CAA9D,IAAmE/J,GAAC,KAAK,CAAzE,IAA8EgK,MAAK,KAAKpB,IAA5F,EAAkG;AAChGA,gBAAI,GAAGoB,MAAP;AACA/B,mBAAO,CAACQ,MAAR,CAAezL,GAAG,CAAC7H,IAAJ,CAASG,IAAxB,EAA8Ba,EAAC,GAAG,GAAlC;AACA8R,mBAAO,CAACS,MAAR,CAAe,KAAKlN,MAAL,CAAYK,CAAZ,CAAcA,CAA7B,EAAgC1F,EAAC,GAAG,GAApC;AACD;AACF;AACD;;;;;;;;;AAOA8R,eAAO,CAACU,MAAR;AACD,OAvtBgB;AAwtBjB;AACAhL,cAAQ,EAAE,kBAASsM,GAAT,EAAc;AACtB,YAAIvS,MAAM,GAAG,KAAK6B,cAAL,CAAoBE,UAAjC;AAAA,YACEuD,GAAG,GAAG,KAAKT,OADb;AAAA,YAEE2N,QAAQ,GAAG,KAAK1N,UAAL,CAAgBE,GAAhB,CAAoB3C,KAFjC;AAAA,YAGEoQ,KAAK,GAAGzS,MAAM,CAAClC,CAAP,CAASoK,CAAT,GAAaqK,GAAG,CAAC/P,GAAjB,GAAuBxC,MAAM,CAAClC,CAAP,CAASuG,CAH1C;AAIA,YAAMqO,OAAO,GAAG,KAAK5O,MAAL,CAAYK,CAA5B;AACA,YAAI7B,IAAI,GAAG;AACTxE,WAAC,EAAE;AACD2G,kBAAM,EAAE8N,GAAG,CAAChQ,GAAJ,IAAW,CAAX,GAAekQ,KAAK,GAAG,GAAvB,GAA6BA,KADpC;AAED/N,kBAAM,EAAE+N;AAFP,WADM;AAKThU,WAAC,EAAE;AACDgG,kBAAM,EAAEa,GAAG,CAAC7H,IAAJ,CAASC,GADhB;AAEDgH,kBAAM,EAAEgO,OAAO,CAACrO;AAFf;AALM,SAAX;AAUA,YAAIsO,MAAM,GAAG;AACT7U,WAAC,EAAE2U,KADM;AAEThU,WAAC,EAAE;AAFM,SAAb;AAAA,YAGKmU,IAAI,GAAG,EAHZ;AAIAJ,gBAAQ,CAAC3I,SAAT,CAAmB,CAAnB,EAAsB,CAAtB,EAAyB,KAAKnI,IAAL,CAAUrD,KAAnC,EAA0C,KAAKqD,IAAL,CAAUE,MAApD;;AACA,YAAI2Q,GAAG,CAAC9P,GAAJ,KAAYC,SAAhB,EAA2B;AACzB,cAAMhD,OAAO,GAAG4F,GAAG,CAAC3G,MAAJ,CAAWe,OAA3B;AACA,cAAM+L,GAAG,GAAG,EAAZ;AACA,cAAIoH,IAAI,GAAGtM,MAAM,CAACC,SAAlB;AACA,cAAIsM,IAAI,GAAGvM,MAAM,CAACC,SAAlB;AACA,cAAIuM,IAAI,GAAGxM,MAAM,CAAC4B,SAAlB;AACA,cAAI6K,IAAI,GAAGzM,MAAM,CAAC4B,SAAlB;AACA,cAAM7I,IAAI,GAAGgG,GAAG,CAAC7G,CAAJ,CAAMvB,IAAnB;;AACA,eAAK,IAAIuJ,IAAC,GAAG,CAAR,EAAWC,GAAC,GAAGpB,GAAG,CAAC7G,CAAJ,CAAMN,IAAN,CAAW+F,MAA/B,EAAuCuC,IAAC,GAAGC,GAA3C,EAA8CD,IAAC,EAA/C,EAAmD;AACjD,gBAAMwM,MAAM,GAAG3N,GAAG,CAACxH,CAAJ,CAAMK,IAAN,CAAWsI,IAAX,CAAf;AACA,gBAAMyM,MAAM,GAAG5N,GAAG,CAAC7G,CAAJ,CAAMN,IAAN,CAAWsI,IAAX,CAAf;;AACA,iBAAK,IAAI6B,CAAC,GAAG,CAAR,EAAWD,GAAG,GAAG6K,MAAM,CAAChP,MAA7B,EAAqCoE,CAAC,GAAGD,GAAzC,EAA8CC,CAAC,EAA/C,EAAmD;AACjD,kBAAM6K,IAAI,GAAGF,MAAM,CAAC3K,CAAD,CAAnB;AACA,kBAAM8K,IAAI,GAAGF,MAAM,CAAC5K,CAAD,CAAnB;;AACA,kBAAIA,CAAC,KAAKiK,GAAG,CAAChQ,GAAV,IAAiB4Q,IAAI,KAAKZ,GAAG,CAAC/P,GAAlC,EAAuC;AACrC,oBAAI4Q,IAAI,GAAGN,IAAX,EAAiB;AACfA,sBAAI,GAAGM,IAAP;AACAP,sBAAI,GAAGM,IAAP;AACD;;AACD,oBAAIC,IAAI,GAAGJ,IAAX,EAAiB;AACfA,sBAAI,GAAGI,IAAP;AACAL,sBAAI,GAAGI,IAAP;AACD;;AACD,oBAAME,EAAE,GAAG,KAAK1G,KAAL,CAAWyG,IAAX,CAAX;AACAT,sBAAM,CAAClU,CAAP,CAAS6L,IAAT,CAAc8I,IAAI,GAAGpT,MAAM,CAACvB,CAAP,CAASyJ,CAAhB,GAAoBlI,MAAM,CAACvB,CAAP,CAAS4F,CAA3C;AACAoH,mBAAG,CAACnB,IAAJ,WAAY5K,OAAO,CAAC+G,IAAD,CAAnB,mBAA0B4M,EAA1B,SAA+B/T,IAAI,CAACmH,IAAD,CAAnC,GAXqC,CAYrC;;AACA;AACD;AACF;AACF;;AACD,cAAMC,CAAC,GAAG+E,GAAG,CAACvH,MAAd;;AACA,cAAIwC,CAAC,GAAG,CAAR,EAAW;AACT,gBAAM4M,EAAE,GAAGhO,GAAG,CAAC1F,OAAf;AACA,gBAAMvC,IAAI,GAAGiW,EAAE,CAACjU,MAAH,CAAUhC,IAAvB;AACA,gBAAI+G,CAAC,GAAGmO,GAAG,CAAC/P,GAAJ,CAAQiK,QAAR,GAAmBvI,MAAnB,GAA4B,EAApC;AACAsO,oBAAQ,CAAC1H,SAAT;AACA0H,oBAAQ,CAAC1B,WAAT,GAAuBwC,EAAE,CAAClV,SAAH,CAAab,KAApC,CALS,CAMT;;AACA,gBAAI+V,EAAE,CAACjU,MAAH,CAAUpC,IAAd,EAAoB;AAClBuV,sBAAQ,CAACzB,MAAT,CAAgBzO,IAAI,CAACxE,CAAL,CAAO2G,MAAvB,EAA+BnC,IAAI,CAAC7D,CAAL,CAAOgG,MAAtC;;AACA,mBAAK,IAAIgC,IAAC,GAAG,CAAb,EAAgBA,IAAC,GAAGC,CAApB,EAAuBD,IAAC,EAAxB,EAA4B;AAC1B+L,wBAAQ,CAACxB,MAAT,CAAgByB,KAAhB,EAAuBE,MAAM,CAAClU,CAAP,CAASgI,IAAT,IAAcpJ,IAArC;AACAmV,wBAAQ,CAACzB,MAAT,CAAgBzL,GAAG,CAAC7H,IAAJ,CAASG,IAAzB,EAA+B+U,MAAM,CAAClU,CAAP,CAASgI,IAAT,CAA/B;AACA+L,wBAAQ,CAACxB,MAAT,CAAgByB,KAAK,GAAGpV,IAAxB,EAA8BsV,MAAM,CAAClU,CAAP,CAASgI,IAAT,CAA9B;AACA+L,wBAAQ,CAACzB,MAAT,CAAgB0B,KAAK,GAAGpV,IAAxB,EAA8BsV,MAAM,CAAClU,CAAP,CAASgI,IAAT,CAA9B;AACA+L,wBAAQ,CAACxB,MAAT,CAAgB0B,OAAO,CAACvO,CAAxB,EAA2BwO,MAAM,CAAClU,CAAP,CAASgI,IAAT,CAA3B;AACA+L,wBAAQ,CAACzB,MAAT,CAAgB0B,KAAhB,EAAuBE,MAAM,CAAClU,CAAP,CAASgI,IAAT,IAAcpJ,IAArC;AACD;;AACDmV,sBAAQ,CAACxB,MAAT,CAAgByB,KAAhB,EAAuBnQ,IAAI,CAAC7D,CAAL,CAAOiG,MAA9B;AACA8N,sBAAQ,CAACvB,MAAT;;AACA,mBAAK,IAAIxK,IAAC,GAAG,CAAb,EAAgBA,IAAC,GAAGC,CAApB,EAAuBD,IAAC,EAAxB,EAA4B;AAC1B+L,wBAAQ,CAAC1H,SAAT;AACA0H,wBAAQ,CAACzH,SAAT,GAAqBuI,EAAE,CAACjU,MAAH,CAAU9B,KAAV,KAAoB,EAApB,GAAyB+V,EAAE,CAACjU,MAAH,CAAU9B,KAAnC,GAA2C+V,EAAE,CAAClV,SAAH,CAAab,KAA7E;AACAiV,wBAAQ,CAACe,GAAT,CAAad,KAAb,EAAoBE,MAAM,CAAClU,CAAP,CAASgI,IAAT,CAApB,EAAiCpJ,IAAjC,EAAuC,CAAvC,EAA0C2K,IAAI,CAACwL,EAAL,GAAU,CAApD;AACAhB,wBAAQ,CAACiB,IAAT;AACD;AACF,aAlBD,MAkBO;AACLjB,sBAAQ,CAACzB,MAAT,CAAgBzO,IAAI,CAACxE,CAAL,CAAO2G,MAAvB,EAA+BnC,IAAI,CAAC7D,CAAL,CAAOgG,MAAtC;AACA+N,sBAAQ,CAACxB,MAAT,CAAgByB,KAAhB,EAAuBnQ,IAAI,CAAC7D,CAAL,CAAOiG,MAA9B;;AACA,mBAAK,IAAI+B,IAAC,GAAG,CAAb,EAAgBA,IAAC,GAAGC,CAApB,EAAuBD,IAAC,EAAxB,EAA4B;AAC1B+L,wBAAQ,CAACzB,MAAT,CAAgBzL,GAAG,CAAC7H,IAAJ,CAASG,IAAzB,EAA+B+U,MAAM,CAAClU,CAAP,CAASgI,IAAT,CAA/B;AACA+L,wBAAQ,CAACxB,MAAT,CAAgB0B,OAAO,CAACvO,CAAxB,EAA2BwO,MAAM,CAAClU,CAAP,CAASgI,IAAT,CAA3B;AACD;;AACD+L,sBAAQ,CAACvB,MAAT;AACD,aAjCQ,CAkCT;;;AACAuB,oBAAQ,CAAC1H,SAAT;AACA0H,oBAAQ,CAACzH,SAAT,GAAqBuI,EAAE,CAACxT,UAAH,CAAcvC,KAAnC;AACAiV,oBAAQ,CAACxH,QAAT,CAAkB1I,IAAI,CAACxE,CAAL,CAAO2G,MAAP,GAAgBL,CAAC,GAAG,CAAtC,EAAyC9B,IAAI,CAAC7D,CAAL,CAAOiG,MAAP,GAAgB,CAAzD,EAA4DN,CAA5D,EAA+D,EAA/D;AACAoO,oBAAQ,CAACzH,SAAT,GAAqBuI,EAAE,CAACnW,SAAH,CAAaI,KAAlC;AACAiV,oBAAQ,CAACrB,YAAT,GAAwB,KAAxB;AACAqB,oBAAQ,CAACpB,SAAT,GAAqB,QAArB;;AACA,gBAAI9L,GAAG,CAACxH,CAAJ,CAAMI,IAAN,KAAe,UAAnB,EAA+B;AAC7BsU,sBAAQ,CAACnB,QAAT,CAAkBkB,GAAG,CAAC/P,GAAtB,EAA2BF,IAAI,CAACxE,CAAL,CAAO2G,MAAlC,EAA0CnC,IAAI,CAAC7D,CAAL,CAAOiG,MAAP,GAAgB,CAA1D;AACD,aAFD,MAEO,IAAIY,GAAG,CAACxH,CAAJ,CAAMI,IAAN,KAAe,MAAnB,EAA2B;AAChCsU,sBAAQ,CAACnB,QAAT,CAAkB,KAAKtC,aAAL,CAAmBwD,GAAG,CAAC/P,GAAvB,EAA4B,CAA5B,CAAlB,EAAkDF,IAAI,CAACxE,CAAL,CAAO2G,MAAzD,EAAiEnC,IAAI,CAAC7D,CAAL,CAAOiG,MAAP,GAAgB,CAAjF;AACD,aA7CQ,CA8CT;;;AACA,gBAAIgP,OAAO,GAAG,CAAd;AACAtP,aAAC,GAAG,CAAJ;AAhDS;AAAA;AAAA;;AAAA;AAiDT,oCAAkBqH,GAAlB,mIAAuB;AAAA,oBAAdnF,KAAc;;AACrB,oBAAIA,KAAK,CAACpC,MAAN,GAAewP,OAAnB,EAA4B;AAC1BA,yBAAO,GAAGpN,KAAK,CAACpC,MAAhB;AACAE,mBAAC,GAAGsP,OAAO,GAAG,EAAd;AACD;AACF;AAtDQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAuDTX,gBAAI,GAAGA,IAAI,GAAG/S,MAAM,CAAClC,CAAP,CAASoK,CAAhB,GAAoBlI,MAAM,CAAClC,CAAP,CAASuG,CAApC;AACA2O,gBAAI,GAAGA,IAAI,GAAGhT,MAAM,CAACvB,CAAP,CAASyJ,CAAhB,GAAoBlI,MAAM,CAACvB,CAAP,CAAS4F,CAApC;AACAwO,gBAAI,GAAGA,IAAI,GAAG7S,MAAM,CAAClC,CAAP,CAASoK,CAAhB,GAAoBlI,MAAM,CAAClC,CAAP,CAASuG,CAApC;AACAyO,gBAAI,GAAGA,IAAI,GAAG9S,MAAM,CAACvB,CAAP,CAASyJ,CAAhB,GAAoBlI,MAAM,CAACvB,CAAP,CAAS4F,CAApC;AACA,gBAAMC,CAAC,GAAGoC,CAAC,GAAG,EAAd;AACA,gBAAI5I,CAAC,GAAG,CAAR;AACA,gBAAIW,CAAC,GAAG,CAAR;AACA,gBAAMkV,QAAQ,GAAGjB,OAAO,CAACpO,CAAR,GAAY,CAAZ,GAAgB,CAAhB,GAAoBgB,GAAG,CAAC7H,IAAJ,CAASC,GAA9C;;AACA,gBAAIoV,IAAI,IAAIa,QAAZ,EAAsB;AACpB7V,eAAC,GAAGiV,IAAI,GAAG,EAAX;AACAtU,eAAC,GAAGuU,IAAI,GAAG,EAAP,GAAY1O,CAAhB;AACD,aAHD,MAGO;AACLxG,eAAC,GAAG+U,IAAI,GAAG,EAAX;AACApU,eAAC,GAAGqU,IAAI,GAAG,EAAX;AACD;;AACD,gBAAIrU,CAAC,GAAG6G,GAAG,CAAC7H,IAAJ,CAASC,GAAjB,EAAsB;AACpBe,eAAC,IAAI,KAAK6F,CAAV;AACD,aAFD,MAEO,IAAI7F,CAAC,GAAG6F,CAAJ,GAAQoO,OAAO,CAACrO,CAApB,EAAuB;AAC5B5F,eAAC,IAAI,KAAK6F,CAAL,GAASgB,GAAG,CAAC7H,IAAJ,CAASI,MAAvB;AACD;;AACD,gBAAIC,CAAC,GAAGsG,CAAJ,GAAQ,GAAR,IAAesO,OAAO,CAACvO,CAA3B,EAA8B;AAC5BrG,eAAC,IAAIsG,CAAC,GAAG,EAAT;AACD;;AACDoO,oBAAQ,CAAC1H,SAAT;AACA0H,oBAAQ,CAACzH,SAAT,GAAqBuI,EAAE,CAACxT,UAAH,CAAcvC,KAAnC;AACAiV,oBAAQ,CAACxH,QAAT,CAAkBlN,CAAlB,EAAqBW,CAArB,EAAwB2F,CAAxB,EAA2BE,CAA3B;AACAkO,oBAAQ,CAACzH,SAAT,GAAqBuI,EAAE,CAACnW,SAAH,CAAaI,KAAlC;AACAiV,oBAAQ,CAACtB,IAAT,GAAgBoC,EAAE,CAACnW,SAAH,CAAaC,MAAb,GAAsB,GAAtB,GAA4BkW,EAAE,CAACnW,SAAH,CAAaE,IAAzC,GAAgD,GAAhD,GAAsDiW,EAAE,CAACnW,SAAH,CAAaG,MAAnF;AACAkV,oBAAQ,CAACpB,SAAT,GAAqB,MAArB;AACAoB,oBAAQ,CAACrB,YAAT,GAAwB,KAAxB;;AACA,iBAAK,IAAI1K,IAAC,GAAG,CAAb,EAAgBA,IAAC,GAAGC,CAApB,EAAuBD,IAAC,EAAxB,EAA4B;AAC1B,kBAAMmN,EAAE,GAAGnN,IAAC,KAAK,CAAN,GAAU,CAAV,GAAcA,IAAC,GAAG,EAAJ,GAAS,CAAlC;AACA+L,sBAAQ,CAACnB,QAAT,CAAkB5F,GAAG,CAAChF,IAAD,CAArB,EAA0B3I,CAAC,GAAG,CAA9B,EAAiCW,CAAC,GAAGmV,EAArC;AACD;AACF;AACF,SA1HD,MA0HO;AACLhB,cAAI,GAAG,OAAOtN,GAAG,CAAC7G,CAAJ,CAAMN,IAAN,CAAWoU,GAAG,CAAChQ,GAAf,CAAP,KAA+B,QAA/B,GAA0C,CAACgE,MAAM,CAACjB,GAAG,CAAC7G,CAAJ,CAAMN,IAAN,CAAWoU,GAAG,CAAChQ,GAAf,EAAoBuJ,OAApB,CAA4B,CAA5B,CAAD,CAAN,CAAuCW,QAAvC,EAAD,CAA1C,GAAgG,CAACnH,GAAG,CAAC7G,CAAJ,CAAMN,IAAN,CAAWoU,GAAG,CAAChQ,GAAf,CAAD,CAAvG;AACAoQ,gBAAM,GAAG;AACP7U,aAAC,EAAE2U,KADI;AAEPhU,aAAC,EAAE,CAAC6G,GAAG,CAAC7G,CAAJ,CAAMN,IAAN,CAAWoU,GAAG,CAAChQ,GAAf,IAAsBvC,MAAM,CAACvB,CAAP,CAASyJ,CAA/B,GAAmClI,MAAM,CAACvB,CAAP,CAAS4F,CAA7C;AAFI,WAAT;AAIA,cAAMqC,GAAC,GAAGiM,MAAM,CAAClU,CAAP,CAASyF,MAAnB;AACA,cAAI2P,MAAM,GAAG,KAAb;;AACA,eAAK,IAAIpN,IAAC,GAAG,CAAb,EAAgBA,IAAC,GAAGC,GAApB,EAAuBD,IAAC,EAAxB,EAA4B;AAC1B,gBAAMH,OAAK,GAAGqM,MAAM,CAAClU,CAAP,CAASgI,IAAT,CAAd;;AACA,gBAAIH,OAAK,IAAIhB,GAAG,CAAC7H,IAAJ,CAASC,GAAlB,IAAyB4I,OAAK,IAAI,KAAKxC,MAAL,CAAYK,CAAZ,CAAcE,CAApD,EAAuD;AACrDwP,oBAAM,GAAG,IAAT;AACA;AACD;AACF;;AACD,cAAIvR,IAAI,CAACxE,CAAL,CAAO2G,MAAP,IAAiBa,GAAG,CAAC7H,IAAJ,CAASG,IAA1B,IAAkC0E,IAAI,CAACxE,CAAL,CAAO2G,MAAP,IAAiB,KAAKX,MAAL,CAAYK,CAAZ,CAAcA,CAAjE,IAAsE0P,MAA1E,EAAkF;AAChF;AACA,gBAAIvO,GAAG,CAAC1F,OAAJ,CAAYP,MAAZ,CAAmBpC,IAAvB,EAA6B;AAC3B,kBAAMyJ,GAAC,GAAGiM,MAAM,CAAClU,CAAP,CAASyF,MAAnB;AACA,kBAAI7G,KAAI,GAAGiI,GAAG,CAAC1F,OAAJ,CAAYP,MAAZ,CAAmBhC,IAA9B;AACAmV,sBAAQ,CAAC1H,SAAT;AACA0H,sBAAQ,CAAC3B,SAAT,GAAqB,CAArB;AACA2B,sBAAQ,CAAC1B,WAAT,GAAuBxL,GAAG,CAAC1F,OAAJ,CAAYxB,SAAZ,CAAsBb,KAA7C;AACAiV,sBAAQ,CAACzB,MAAT,CAAgBzO,IAAI,CAACxE,CAAL,CAAO2G,MAAvB,EAA+BnC,IAAI,CAAC7D,CAAL,CAAOgG,MAAtC;;AACA,mBAAK,IAAIgC,IAAC,GAAG,CAAb,EAAgBA,IAAC,GAAGC,GAApB,EAAuBD,IAAC,EAAxB,EAA4B;AAC1B+L,wBAAQ,CAACxB,MAAT,CAAgB1O,IAAI,CAACxE,CAAL,CAAO4G,MAAvB,EAA+BiO,MAAM,CAAClU,CAAP,CAASgI,IAAT,IAAcpJ,KAA7C;AACAmV,wBAAQ,CAACzB,MAAT,CAAgBzO,IAAI,CAACxE,CAAL,CAAO4G,MAAvB,EAA+BiO,MAAM,CAAClU,CAAP,CAASgI,IAAT,IAAcpJ,KAA7C;AACD;;AACDmV,sBAAQ,CAACxB,MAAT,CAAgB1O,IAAI,CAACxE,CAAL,CAAO4G,MAAvB,EAA+BpC,IAAI,CAAC7D,CAAL,CAAOiG,MAAtC;;AACA,mBAAK,IAAI+B,IAAC,GAAG,CAAb,EAAgBA,IAAC,GAAGC,GAApB,EAAuBD,IAAC,EAAxB,EAA4B;AAC1B+L,wBAAQ,CAACzB,MAAT,CAAgBzL,GAAG,CAAC7H,IAAJ,CAASG,IAAzB,EAA+B+U,MAAM,CAAClU,CAAP,CAASgI,IAAT,CAA/B;AACA+L,wBAAQ,CAACxB,MAAT,CAAgB2B,MAAM,CAAC7U,CAAP,GAAWT,KAA3B,EAAiCsV,MAAM,CAAClU,CAAP,CAASgI,IAAT,CAAjC;AACA+L,wBAAQ,CAACzB,MAAT,CAAgB4B,MAAM,CAAC7U,CAAP,GAAWT,KAA3B,EAAiCsV,MAAM,CAAClU,CAAP,CAASgI,IAAT,CAAjC;AACA+L,wBAAQ,CAACxB,MAAT,CAAgB,KAAKlN,MAAL,CAAYK,CAAZ,CAAcA,CAA9B,EAAiCwO,MAAM,CAAClU,CAAP,CAASgI,IAAT,CAAjC;AACD;;AACD+L,sBAAQ,CAACvB,MAAT;;AACA,mBAAK,IAAIxK,IAAC,GAAG,CAAb,EAAgBA,IAAC,GAAGC,GAApB,EAAuBD,IAAC,EAAxB,EAA4B;AAC1B+L,wBAAQ,CAAC1H,SAAT;AACA0H,wBAAQ,CAACe,GAAT,CAAaZ,MAAM,CAAC7U,CAApB,EAAuB6U,MAAM,CAAClU,CAAP,CAASgI,IAAT,CAAvB,EAAoCpJ,KAApC,EAA0C,CAA1C,EAA6C,IAAI2K,IAAI,CAACwL,EAAtD;AACAhB,wBAAQ,CAACzH,SAAT,GAAqBzF,GAAG,CAAC1F,OAAJ,CAAYP,MAAZ,CAAmB9B,KAAnB,KAA6B,EAA7B,GAAkC+H,GAAG,CAAC1F,OAAJ,CAAYP,MAAZ,CAAmB9B,KAArD,GAA6D+H,GAAG,CAAC1F,OAAJ,CAAYxB,SAAZ,CAAsBb,KAAxG;AACAiV,wBAAQ,CAACiB,IAAT;AACAjB,wBAAQ,CAACzB,MAAT,CAAgBzO,IAAI,CAACxE,CAAL,CAAO2G,MAAvB,EAA+BkO,MAAM,CAAClU,CAAP,CAASgI,IAAT,IAAcpJ,KAA7C;AACAmV,wBAAQ,CAACxB,MAAT,CAAgB1O,IAAI,CAACxE,CAAL,CAAO4G,MAAvB,EAA+BpC,IAAI,CAAC7D,CAAL,CAAOiG,MAAtC;AACD;;AACD8N,sBAAQ,CAACvB,MAAT;AACD,aA5BD,MA4BO;AACLuB,sBAAQ,CAAC1H,SAAT;AACA0H,sBAAQ,CAAC3B,SAAT,GAAqB,CAArB;AACA2B,sBAAQ,CAAC1B,WAAT,GAAuBxL,GAAG,CAAC1F,OAAJ,CAAYxB,SAAZ,CAAsBb,KAA7C;AACAiV,sBAAQ,CAACzB,MAAT,CAAgBzO,IAAI,CAACxE,CAAL,CAAO2G,MAAvB,EAA+BnC,IAAI,CAAC7D,CAAL,CAAOgG,MAAtC;AACA+N,sBAAQ,CAACxB,MAAT,CAAgB1O,IAAI,CAACxE,CAAL,CAAO4G,MAAvB,EAA+BpC,IAAI,CAAC7D,CAAL,CAAOiG,MAAtC;AACA8N,sBAAQ,CAACzB,MAAT,CAAgBzL,GAAG,CAAC7H,IAAJ,CAASG,IAAzB,EAA+B+U,MAAM,CAAClU,CAAtC;AACA+T,sBAAQ,CAACxB,MAAT,CAAgB,KAAKlN,MAAL,CAAYK,CAAZ,CAAcA,CAA9B,EAAiCwO,MAAM,CAAClU,CAAxC;AACA+T,sBAAQ,CAACvB,MAAT;AACD,aAvC+E,CAwChF;;;AACA,gBAAIvK,GAAC,GAAGkM,IAAI,CAAC1O,MAAb;AACA,gBAAI0I,GAAG,GAAG,CAAV;;AACA,iBAAK,IAAInG,IAAC,GAAG,CAAb,EAAgBA,IAAC,GAAGC,GAApB,EAAuBD,IAAC,EAAxB,EAA4B;AAC1BmM,kBAAI,CAACnM,IAAD,CAAJ,CAAQvC,MAAR,GAAiB0I,GAAjB,KAAyBA,GAAG,GAAGgG,IAAI,CAACnM,IAAD,CAAJ,CAAQvC,MAAvC;AACD;;AACD,gBAAI7F,KAAK,GAAGuO,GAAG,KAAK,CAAR,GAAY,EAAZ,GAAiBA,GAAG,IAAI,CAAP,GAAWA,GAAG,GAAG,EAAN,GAAW,EAAtB,GAA2BA,GAAG,GAAG,EAA9D;AACA4F,oBAAQ,CAAC1H,SAAT;AACA0H,oBAAQ,CAACzH,SAAT,GAAqBzF,GAAG,CAAC1F,OAAJ,CAAYE,UAAZ,CAAuBvC,KAA5C;;AACA,iBAAK,IAAIkJ,IAAC,GAAG,CAAb,EAAgBA,IAAC,GAAGkM,MAAM,CAAClU,CAAP,CAASyF,MAA7B,EAAqCuC,IAAC,EAAtC,EAA0C;AACxC+L,sBAAQ,CAACxH,QAAT,CAAkB1F,GAAG,CAAC7H,IAAJ,CAASG,IAAT,GAAgBS,KAAhB,GAAwB,CAA1C,EAA6CsU,MAAM,CAAClU,CAAP,CAASgI,IAAT,IAAc,EAA3D,EAA+DpI,KAA/D,EAAsE,EAAtE;AACD;;AACDmU,oBAAQ,CAACtB,IAAT,GAAgB5L,GAAG,CAAC1F,OAAJ,CAAYzC,SAAZ,CAAsBC,MAAtB,GAA+B,GAA/B,GAAqCkI,GAAG,CAAC1F,OAAJ,CAAYzC,SAAZ,CAAsBE,IAA3D,GAAkE,GAAlE,GAAwEiI,GAAG,CAAC1F,OAAJ,CAAYzC,SAAZ,CAAsBG,MAA9G;;AACA,gBAAI8G,EAAC,GAAG,KAAKuI,KAAL,CAAW4F,GAAG,CAAC/P,GAAf,EAAoBiK,QAApB,GAA+BvI,MAA/B,GAAwC,EAAhD;;AACA,gBAAIoB,GAAG,CAACxH,CAAJ,CAAMI,IAAN,KAAe,UAAnB,EAA+B;AAC7BsU,sBAAQ,CAACzH,SAAT,GAAqBzF,GAAG,CAAC1F,OAAJ,CAAYE,UAAZ,CAAuBvC,KAA5C;AACAiV,sBAAQ,CAACxH,QAAT,CAAkB1I,IAAI,CAACxE,CAAL,CAAO2G,MAAP,GAAgBL,EAAC,GAAG,CAAtC,EAAyC9B,IAAI,CAAC7D,CAAL,CAAOiG,MAAP,GAAgB,CAAzD,EAA4DN,EAA5D,EAA+D,EAA/D;AACAoO,sBAAQ,CAACzH,SAAT,GAAqBzF,GAAG,CAAC1F,OAAJ,CAAYzC,SAAZ,CAAsBI,KAA3C;AACAiV,sBAAQ,CAACrB,YAAT,GAAwB,KAAxB;AACAqB,sBAAQ,CAACpB,SAAT,GAAqB,QAArB;AACAoB,sBAAQ,CAACnB,QAAT,CAAkB,KAAK1E,KAAL,CAAW4F,GAAG,CAAC/P,GAAf,CAAlB,EAAuCF,IAAI,CAACxE,CAAL,CAAO2G,MAA9C,EAAsDnC,IAAI,CAAC7D,CAAL,CAAOiG,MAAP,GAAgB,CAAtE;AACA8N,sBAAQ,CAACrB,YAAT,GAAwB,QAAxB;AACAqB,sBAAQ,CAACpB,SAAT,GAAqB,OAArB;;AACA,mBAAK,IAAI3K,IAAC,GAAG,CAAb,EAAgBA,IAAC,GAAGmM,IAAI,CAAC1O,MAAzB,EAAiCuC,IAAC,EAAlC,EAAsC;AACpC+L,wBAAQ,CAACnB,QAAT,CAAkB,KAAK1E,KAAL,CAAWiG,IAAI,CAACnM,IAAD,CAAf,CAAlB,EAAuCnB,GAAG,CAAC7H,IAAJ,CAASG,IAAT,GAAgB,CAAvD,EAA0D+U,MAAM,CAAClU,CAAP,CAASgI,IAAT,CAA1D;AACD;AACF,aAZD,MAYO,IAAInB,GAAG,CAACxH,CAAJ,CAAMI,IAAN,KAAe,MAAnB,EAA2B;AAChC,kBAAMuJ,MAAM,GAAG,KAAK3D,MAAL,CAAYK,CAA3B;AACA,kBAAI2P,KAAK,GAAGxR,IAAI,CAACxE,CAAL,CAAO2G,MAAP,GAAgBL,EAAC,GAAG,CAAhC;AACA,kBAAI2P,KAAK,GAAGzR,IAAI,CAAC7D,CAAL,CAAOiG,MAAP,GAAgB,CAA5B;AACA,kBAAIsP,MAAM,GAAG,QAAb;;AACA,kBAAIF,KAAK,GAAG1P,EAAR,GAAYqD,MAAM,CAACtD,CAAvB,EAA0B;AACxB2P,qBAAK,IAAI1P,EAAC,GAAG,CAAb;AACA4P,sBAAM,GAAG,OAAT;AACD;;AACDxB,sBAAQ,CAACzH,SAAT,GAAqBzF,GAAG,CAAC1F,OAAJ,CAAYE,UAAZ,CAAuBvC,KAA5C;AACAiV,sBAAQ,CAACxH,QAAT,CAAkB8I,KAAlB,EAAyBC,KAAzB,EAAgC3P,EAAhC,EAAmC,EAAnC;AACAoO,sBAAQ,CAACzH,SAAT,GAAqBzF,GAAG,CAAC1F,OAAJ,CAAYzC,SAAZ,CAAsBI,KAA3C;AACAiV,sBAAQ,CAACrB,YAAT,GAAwB,QAAxB;AACAqB,sBAAQ,CAACpB,SAAT,GAAqB,OAArB;;AACA,mBAAK,IAAI3K,IAAC,GAAG,CAAb,EAAgBA,IAAC,GAAGmM,IAAI,CAAC1O,MAAzB,EAAiCuC,IAAC,EAAlC,EAAsC;AACpC+L,wBAAQ,CAACnB,QAAT,CAAkB,KAAK1E,KAAL,CAAWiG,IAAI,CAACnM,IAAD,CAAf,CAAlB,EAAuCnB,GAAG,CAAC7H,IAAJ,CAASG,IAAT,GAAgB,CAAvD,EAA0D+U,MAAM,CAAClU,CAAP,CAASgI,IAAT,CAA1D;AACD;;AACD+L,sBAAQ,CAACrB,YAAT,GAAwB,KAAxB;AACAqB,sBAAQ,CAACpB,SAAT,GAAqB4C,MAArB;AACAxB,sBAAQ,CAACnB,QAAT,CAAkB,KAAKtC,aAAL,CAAmBwD,GAAG,CAAC/P,GAAvB,EAA4B,CAA5B,CAAlB,EAAkDF,IAAI,CAACxE,CAAL,CAAO2G,MAAzD,EAAiEnC,IAAI,CAAC7D,CAAL,CAAOiG,MAAP,GAAgB,CAAjF;AACD;AACF;AACF;AACF,OAh9BgB;AAi9BjB;AACAgE,cAAQ,EAAE,oBAAW;AACnB,YAAI1I,MAAM,GAAG,KAAK6B,cAAL,CAAoBE,UAAjC;AACA,YAAMkS,OAAO,GAAG,KAAKnP,UAAL,CAAgBE,GAAhB,CAAoB7G,IAApC;AACA,YAAMmH,GAAG,GAAG,KAAKT,OAAjB;AACA,YAAMqP,IAAI,GAAG5O,GAAG,CAACxH,CAAJ,CAAMK,IAAnB;AACA,YAAM4J,IAAI,GAAGzC,GAAG,CAAC7G,CAAJ,CAAMN,IAAnB;AACA,YAAMQ,MAAM,GAAG2G,GAAG,CAAC3G,MAAnB;AACA,YAAMpB,KAAK,GAAGoB,MAAM,CAACP,SAAP,CAAiBb,KAA/B;AACA,YAAI4W,EAAE,GAAGnU,MAAM,CAACvB,CAAP,CAASyJ,CAAlB;AACA,YAAIkM,EAAE,GAAGpU,MAAM,CAACvB,CAAP,CAAS4F,CAAlB;AACA4P,eAAO,CAACpK,SAAR,CAAkB,CAAlB,EAAqB,CAArB,EAAwB,KAAKnI,IAAL,CAAUrD,KAAlC,EAAyC,KAAKqD,IAAL,CAAUE,MAAnD;;AACA,YAAIjD,MAAM,CAACT,IAAP,KAAgB,KAApB,EAA2B;AACzB,cAAMsJ,KAAK,GAAG,KAAK1D,MAAnB;AACA,cAAMuQ,EAAE,GAAG7M,KAAK,CAACzD,CAAN,CAAQjG,CAAnB;AACAmW,iBAAO,CAACnJ,SAAR;AACAmJ,iBAAO,CAACnJ,SAAR;AACAmJ,iBAAO,CAACpD,SAAR,GAAoBlS,MAAM,CAACP,SAAP,CAAiBC,KAArC;AACA4V,iBAAO,CAAClJ,SAAR,GAAoB,KAAKa,WAAL,CAAiBrO,KAAjB,MAA4B,OAA5B,GAAsCA,KAAK,CAACkJ,CAAD,CAA3C,GAAiDlJ,KAArE;;AACA,eAAK,IAAIkJ,IAAC,GAAG,CAAR,EAAWC,CAAC,GAAGqB,IAAI,CAAC7D,MAAzB,EAAiCuC,IAAC,GAAGC,CAArC,EAAwCD,IAAC,EAAzC,EAA6C;AAC3C,gBAAMhI,GAAC,GAAGsJ,IAAI,CAACtB,IAAD,CAAJ,GAAU0N,EAAV,GAAeC,EAAzB;;AACA,gBAAMtW,GAAC,GAAG0J,KAAK,CAACzD,CAAN,CAAQjG,CAAR,CAAUoG,MAAV,GAAmBuC,IAAnB,GAAuBnB,GAAG,CAAC7H,IAAJ,CAASG,IAA1C;;AACAqW,mBAAO,CAACjJ,QAAR,CAAiBlN,GAAjB,EAAoBW,GAApB,EAAuB4V,EAAE,CAACrQ,KAA1B,EAAiCwD,KAAK,CAACrD,CAAN,CAAQE,CAAR,GAAY5F,GAA7C;AACD;;AACD;AACD;;AACD,YAAI6V,EAAE,GAAGtU,MAAM,CAAClC,CAAP,CAASoK,CAAlB;AACA,YAAIqM,EAAE,GAAGvU,MAAM,CAAClC,CAAP,CAASuG,CAAlB;AACA,YAAMqD,MAAM,GAAG,KAAK5D,MAAL,CAAYC,CAA3B;AACA,YAAIyQ,IAAI,GAAG,KAAK1Q,MAAL,CAAYK,CAAvB;AACA,YAAIrG,CAAJ,EAAOW,CAAP;AACA;;;;;;;;AAOA,YAAIb,IAAI,GAAG8J,MAAM,CAAC5J,CAAP,CAASkG,KAApB;AACA,YAAIrG,KAAK,GAAG+J,MAAM,CAAC5J,CAAP,CAASmG,GAArB;AACA,YAAIvG,GAAG,GAAGgK,MAAM,CAACjJ,CAAP,CAASwF,GAAnB;AACA,YAAIpG,MAAM,GAAG6J,MAAM,CAACjJ,CAAP,CAASuF,KAAtB;;AACA,YAAIrF,MAAM,CAACT,IAAP,KAAgB,MAApB,EAA4B;AAC1B,cAAI,KAAK0N,WAAL,CAAiBsI,IAAI,CAAC,CAAD,CAArB,MAA8B,OAAlC,EAA2C;AACzC,iBAAK,IAAIzN,IAAC,GAAGyN,IAAI,CAAChQ,MAAlB,EAA0BuC,IAAC,EAA3B,GAAgC;AAC9B,kBAAMjE,GAAG,GAAG0R,IAAI,CAACzN,IAAD,CAAhB;AACAwN,qBAAO,CAACnJ,SAAR;AACAmJ,qBAAO,CAACpD,SAAR,GAAoBlS,MAAM,CAACP,SAAP,CAAiBC,KAArC;AACA4V,qBAAO,CAACnD,WAAR,GAAsB,KAAKlF,WAAL,CAAiBrO,KAAjB,MAA4B,OAA5B,GAAsCA,KAAK,CAACkJ,IAAD,CAA3C,GAAiDlJ,KAAvE;;AACA,mBAAK,IAAI+K,CAAC,GAAG9F,GAAG,CAAC0B,MAAjB,EAAyBoE,CAAC,EAA1B,GAA+B;AAC7B,oBAAIA,CAAC,KAAK,CAAV,EAAa;AACb,oBAAMhC,KAAK,GAAG9D,GAAG,CAAC8F,CAAD,CAAjB;AACA,oBAAImM,EAAE,GAAGjS,GAAG,CAAC8F,CAAC,GAAG,CAAL,CAAZ;AAAA,oBACIoM,EAAE,GAAG3M,IAAI,CAACtB,IAAD,CAAJ,CAAQ6B,CAAR,CADT;AAAA,oBAEIqM,EAAE,GAAG5M,IAAI,CAACtB,IAAD,CAAJ,CAAQ6B,CAAC,GAAG,CAAZ,CAFT;;AAGA,oBAAImM,EAAE,IAAI7W,IAAN,IAAc0I,KAAK,IAAI3I,KAAvB,IAAgC8W,EAAE,IAAI9W,KAAtC,IAA+C2I,KAAK,IAAI1I,IAAxD,IAAiE+W,EAAE,IAAIjX,GAAN,IAAaiX,EAAE,IAAI9W,MAApF,IAAgG6W,EAAE,IAAI7W,MAAN,IAAgB6W,EAAE,IAAIhX,GAA1H,EAAgI;AAC9HI,mBAAC,GAAG;AACF+I,wBAAI,EAAEyN,EAAE,GAAGhO,KAAL,GAAaiO,EADjB;AAEFK,wBAAI,EAAEN,EAAE,GAAGG,EAAL,GAAUF;AAFd,mBAAJ;AAIA9V,mBAAC,GAAG;AACFoI,wBAAI,EAAE6N,EAAE,GAAGP,EAAL,GAAUC,EADd;AAEFQ,wBAAI,EAAED,EAAE,GAAGR,EAAL,GAAUC;AAFd,mBAAJ;AAIAH,yBAAO,CAAClD,MAAR,CACEjT,CAAC,CAAC+I,IADJ,EAEEpI,CAAC,CAACoI,IAFJ;AAIAoN,yBAAO,CAACjD,MAAR,CACElT,CAAC,CAAC8W,IADJ,EAEEnW,CAAC,CAACmW,IAFJ;AAID;AACF;;AACDX,qBAAO,CAAChD,MAAR;AACD;;AACD,gBAAItS,MAAM,CAACU,MAAP,CAAcpC,IAAlB,EAAwB;AACtB,mBAAK,IAAIwJ,IAAC,GAAG,CAAR,EAAWC,IAAC,GAAGwN,IAAI,CAAChQ,MAAzB,EAAiCuC,IAAC,GAAGC,IAArC,EAAwCD,IAAC,EAAzC,EAA6C;AAC3C,oBAAMH,OAAK,GAAG4N,IAAI,CAACzN,IAAD,CAAlB;;AACA,qBAAK,IAAI6B,GAAC,GAAG,CAAR,EAAWD,GAAG,GAAG/B,OAAK,CAACpC,MAA5B,EAAoCoE,GAAC,GAAGD,GAAxC,EAA6CC,GAAC,EAA9C,EAAkD;AAChD7J,mBAAC,GAAGsJ,IAAI,CAACtB,IAAD,CAAJ,CAAQ6B,GAAR,CAAJ;AACA,sBAAI9F,KAAG,GAAG8D,OAAK,CAACgC,GAAD,CAAf;;AACA,sBAAI9F,KAAG,IAAI5E,IAAP,IAAe4E,KAAG,IAAI7E,KAAtB,IAA+Bc,CAAC,IAAIf,GAApC,IAA2Ce,CAAC,IAAIZ,MAApD,EAA4D;AAC1D2E,yBAAG,GAAGA,KAAG,GAAG8R,EAAN,GAAWC,EAAjB;AACA9V,qBAAC,GAAGA,CAAC,GAAG0V,EAAJ,GAASC,EAAb;AACAH,2BAAO,CAACnJ,SAAR;AACAmJ,2BAAO,CAACnD,WAAR,GAAsBnS,MAAM,CAACP,SAAP,CAAiBb,KAAjB,CAAuBkJ,IAAvB,CAAtB;AACAwN,2BAAO,CAAClJ,SAAR,GAAoBpM,MAAM,CAACU,MAAP,CAAc9B,KAAd,KAAwB,EAAxB,GAA6B,MAA7B,GAAsCoB,MAAM,CAACU,MAAP,CAAc9B,KAAxE;AACA0W,2BAAO,CAACV,GAAR,CAAY/Q,KAAZ,EAAiB/D,CAAjB,EAAoB,CAApB,EAAuB,CAAvB,EAA0B,IAAIuJ,IAAI,CAACwL,EAAnC;AACAS,2BAAO,CAAChD,MAAR;AACAgD,2BAAO,CAACR,IAAR;AACD;AACF;AACF;AACF;AACF,WApDD,MAoDO,IAAIlN,MAAM,CAAC2N,IAAI,CAAC,CAAD,CAAL,CAAN,IAAmB3N,MAAM,CAAC2N,IAAI,CAAC,CAAD,CAAL,CAAN,KAAoB,CAA3C,EAA8C;AACnDD,mBAAO,CAACnJ,SAAR;AACAmJ,mBAAO,CAACpD,SAAR,GAAoBlS,MAAM,CAACP,SAAP,CAAiBC,KAArC;AACA4V,mBAAO,CAACnD,WAAR,GAAsBnS,MAAM,CAACP,SAAP,CAAiBb,KAAvC;AACA,gBAAMmJ,IAAC,GAAGwN,IAAI,CAAChQ,MAAf;;AACA,gBAAIwC,IAAC,GAAG,CAAR,EAAW;AACT,mBAAK,IAAID,IAAC,GAAGC,IAAb,EAAgBD,IAAC,EAAjB,GAAsB;AACpB,oBAAMjE,KAAG,GAAG0R,IAAI,CAACzN,IAAD,CAAhB;AACA,oBAAIA,IAAC,KAAK,CAAV,EAAa;AACb,oBAAIgO,GAAE,GAAGP,IAAI,CAACzN,IAAC,GAAG,CAAL,CAAb;AAAA,oBACIiO,GAAE,GAAG3M,IAAI,CAACtB,IAAD,CADb;AAAA,oBAEIkO,GAAE,GAAG5M,IAAI,CAACtB,IAAC,GAAG,CAAL,CAFb;;AAGA,oBAAIgO,GAAE,IAAI7W,IAAN,IAAc6W,GAAE,IAAI9W,KAApB,IAA6B6E,KAAG,IAAI5E,IAApC,IAA4C4E,KAAG,IAAI7E,KAAnD,IAA6DgX,GAAE,IAAIjX,GAAN,IAAaiX,GAAE,IAAI9W,MAAhF,IAA4F6W,GAAE,IAAI7W,MAAN,IAAgB6W,GAAE,IAAIhX,GAAtH,EAA4H;AAC1HI,mBAAC,GAAG;AACF+I,wBAAI,EAAEyN,EAAE,GAAG9R,KAAL,GAAW+R,EADf;AAEFK,wBAAI,EAAEN,EAAE,GAAGG,GAAL,GAAUF;AAFd,mBAAJ;AAIA9V,mBAAC,GAAG;AACFoI,wBAAI,EAAE6N,GAAE,GAAGP,EAAL,GAAUC,EADd;AAEFQ,wBAAI,EAAED,GAAE,GAAGR,EAAL,GAAUC;AAFd,mBAAJ;AAIAH,yBAAO,CAAClD,MAAR,CACEjT,CAAC,CAAC+I,IADJ,EAEEpI,CAAC,CAACoI,IAFJ;AAIAoN,yBAAO,CAACjD,MAAR,CACElT,CAAC,CAAC8W,IADJ,EAEEnW,CAAC,CAACmW,IAFJ;AAID;AACF;;AACDX,qBAAO,CAAChD,MAAR;AACD;;AACD,gBAAItS,MAAM,CAACU,MAAP,CAAcpC,IAAlB,EAAwB;AACtB,mBAAK,IAAIwJ,IAAC,GAAG,CAAR,EAAWC,IAAC,GAAGwN,IAAI,CAAChQ,MAAzB,EAAiCuC,IAAC,GAAGC,IAArC,EAAwCD,IAAC,EAAzC,EAA6C;AAC3C,oBAAIjE,KAAG,GAAG0R,IAAI,CAACzN,IAAD,CAAd;AACAhI,iBAAC,GAAGsJ,IAAI,CAACtB,IAAD,CAAR;;AACA,oBAAIjE,KAAG,IAAI5E,IAAP,IAAe4E,KAAG,IAAI7E,KAAtB,IAA+Bc,CAAC,IAAIf,GAApC,IAA2Ce,CAAC,IAAIZ,MAApD,EAA4D;AAC1D2E,uBAAG,GAAGA,KAAG,GAAG8R,EAAN,GAAWC,EAAjB;AACA9V,mBAAC,GAAGA,CAAC,GAAG0V,EAAJ,GAASC,EAAb;AACAH,yBAAO,CAACnJ,SAAR;AACAmJ,yBAAO,CAACnD,WAAR,GAAsBnS,MAAM,CAACP,SAAP,CAAiBb,KAAvC;AACA0W,yBAAO,CAAClJ,SAAR,GAAoBpM,MAAM,CAACU,MAAP,CAAc9B,KAAd,KAAwB,EAAxB,GAA6B,MAA7B,GAAsCoB,MAAM,CAACU,MAAP,CAAc9B,KAAxE;AACA0W,yBAAO,CAACV,GAAR,CAAY/Q,KAAZ,EAAiB/D,CAAjB,EAAoB,CAApB,EAAuB,CAAvB,EAA0B,IAAIuJ,IAAI,CAACwL,EAAnC;AACAS,yBAAO,CAAChD,MAAR;AACAgD,yBAAO,CAACR,IAAR;AACD;AACF;AACF;AACF;AACF,SAvGD,MAuGO,IAAI9U,MAAM,CAACT,IAAP,KAAgB,UAApB,EAAgC;AACrC+V,iBAAO,CAACnJ,SAAR;AACAmJ,iBAAO,CAACpD,SAAR,GAAoBlS,MAAM,CAACP,SAAP,CAAiBC,KAArC;AACA4V,iBAAO,CAACnD,WAAR,GAAsBnS,MAAM,CAACP,SAAP,CAAiBb,KAAvC;;AACA,eAAK,IAAIkJ,IAAC,GAAG,CAAR,EAAWC,IAAC,GAAGwN,IAAI,CAAChQ,MAAzB,EAAiCuC,IAAC,GAAGC,IAArC,EAAwCD,IAAC,EAAzC,EAA6C;AAC3C,gBAAIjE,KAAG,GAAG0R,IAAI,CAACzN,IAAD,CAAd;AACAhI,aAAC,GAAGsJ,IAAI,CAACtB,IAAD,CAAR;AACA,gBAAIoO,EAAE,GAAGT,EAAE,IAAII,IAAI,CAACnQ,CAAX,GAAe+P,EAAf,GAAoBI,IAAI,CAACnQ,CAAlC;;AACA,gBAAI7B,KAAG,IAAI5E,IAAP,IAAe4E,KAAG,IAAI7E,KAAtB,IAA+Bc,CAAC,IAAIf,GAApC,IAA2Ce,CAAC,IAAIZ,MAApD,EAA4D;AAC1D2E,mBAAG,GAAGA,KAAG,GAAG8R,EAAN,GAAWC,EAAjB;AACA9V,eAAC,GAAGA,CAAC,GAAG0V,EAAJ,GAASC,EAAb;AACAH,qBAAO,CAAClD,MAAR,CAAevO,KAAf,EAAoBqS,EAApB;AACAZ,qBAAO,CAACjD,MAAR,CAAexO,KAAf,EAAoB/D,CAAC,GAAG,CAAxB;AACD;AACF;;AACDwV,iBAAO,CAAChD,MAAR;AACD,SAhBM,MAgBA,IAAItS,MAAM,CAACT,IAAP,KAAgB,SAApB,EAA+B;AAAC;AACrC,eAAK,IAAIuI,IAAC,GAAGyN,IAAI,CAAChQ,MAAlB,EAA0BuC,IAAC,EAA3B,GAAgC;AAC9B,gBAAMjE,MAAG,GAAG0R,IAAI,CAACzN,IAAD,CAAhB;AACA,gBAAIA,IAAC,KAAK,CAAV,EAAa;AACb,gBAAIgO,IAAE,GAAGP,IAAI,CAACzN,IAAC,GAAG,CAAL,CAAb;AAAA,gBACEiO,IAAE,GAAG3M,IAAI,CAACtB,IAAD,CADX;AAAA,gBAEEkO,IAAE,GAAG5M,IAAI,CAACtB,IAAC,GAAG,CAAL,CAFX;;AAGA,gBAAIjE,MAAG,IAAI5E,IAAP,IAAe4E,MAAG,IAAI7E,KAAtB,IAAgC+W,IAAE,IAAI7W,MAAN,IAAgB6W,IAAE,IAAIhX,GAA1D,EAAgE;AAC9DI,eAAC,GAAG;AACF+I,oBAAI,EAAEyN,EAAE,GAAG9R,MAAL,GAAW+R;AADf,eAAJ;AAGA9V,eAAC,GAAG;AACFoI,oBAAI,EAAE6N,IAAE,GAAGP,EAAL,GAAUC;AADd,eAAJ;AAGAH,qBAAO,CAACnJ,SAAR;AACAmJ,qBAAO,CAAClJ,SAAR,GAAoBpM,MAAM,CAACU,MAAP,CAAc9B,KAAlC;AACA0W,qBAAO,CAACV,GAAR,CAAYzV,CAAC,CAAC+I,IAAd,EAAoBpI,CAAC,CAACoI,IAAtB,EAA4BlI,MAAM,CAACU,MAAP,CAAchC,IAA1C,EAAgD,CAAhD,EAAmD2K,IAAI,CAACwL,EAAL,GAAU,CAA7D,EAAgE,IAAhE;AACAS,qBAAO,CAACR,IAAR;AACAQ,qBAAO,CAACa,SAAR,GAX8D,CAW1C;AAErB;AACF;AACF;AACF,OAzoCgB;AA0oCjB;AACAlP,qBAAe,EAAE,yBAASL,EAAT,EAAaE,EAAb,EAAiB;AAChC,YAAIsP,EAAJ;AAAA,YAAQC,EAAR;AAAA,YACErP,MAAM,GAAG;AACPnD,aAAG,EAAE,CADE;AACC;AACRD,aAAG,EAAE,CAFE;AAEC;AACRgD,YAAE,EAAE,CAHG,CAGD;;AAHC,SADX;AAMA,YAAM0P,IAAI,GAAG,KAAKpQ,OAAL,CAAa/G,CAAb,CAAeK,IAA5B;AACA,YAAMgM,OAAO,GAAG,KAAKtI,cAAL,CAAoBE,UAApB,CAA+BjE,CAA/C;AACA,YAAMwW,EAAE,GAAGnK,OAAO,CAACjC,CAAnB;AACA,YAAMqM,EAAE,GAAGpK,OAAO,CAAC9F,CAAnB;AACA,YAAMqC,CAAC,GAAGuO,IAAI,CAAC/Q,MAAf;;AACA,YAAI,KAAK0H,WAAL,CAAiBqJ,IAAI,CAAC,CAAD,CAArB,MAA8B,OAAlC,EAA2C;AACzC,cAAMC,IAAI,GAAG,KAAKrQ,OAAL,CAAapG,CAAb,CAAeN,IAA5B;AACA,cAAMgX,OAAO,GAAG,KAAKtT,cAAL,CAAoBE,UAApB,CAA+BtD,CAA/C;AACA,cAAM0V,EAAE,GAAGgB,OAAO,CAACjN,CAAnB;AACA,cAAMkM,EAAE,GAAGe,OAAO,CAAC9Q,CAAnB;;AACA,eAAK,IAAIoC,IAAC,GAAGC,CAAb,EAAgBD,IAAC,EAAjB,GAAsB;AACpB,gBAAM0M,IAAI,GAAG8B,IAAI,CAACxO,IAAD,CAAjB;AACA,gBAAM2M,IAAI,GAAG8B,IAAI,CAACzO,IAAD,CAAjB;AACA,gBAAM4B,GAAG,GAAG8K,IAAI,CAACjP,MAAjB;;AACA,iBAAK,IAAIoE,CAAC,GAAGD,GAAb,EAAkBC,CAAC,EAAnB,GAAwB;AACtB,kBAAM8M,GAAG,YAAIjC,IAAI,CAAC7K,CAAD,CAAJ,GAAUgM,EAAV,GAAeC,EAAf,GAAoBhP,EAAxB,EAA+B,CAA/B,CAAT;AACA,kBAAM8P,GAAG,YAAIjC,IAAI,CAAC9K,CAAD,CAAJ,GAAU6L,EAAV,GAAeC,EAAf,GAAoB3O,EAAxB,EAA+B,CAA/B,CAAT;;AACA,kBAAIgB,IAAC,KAAKC,CAAC,GAAG,CAAV,IAAe4B,CAAC,KAAKD,GAAG,GAAG,CAA/B,EAAkC;AAChC,oBAAMiN,GAAG,YAAInC,IAAI,CAAC7K,CAAC,GAAG,CAAL,CAAJ,GAAcgM,EAAd,GAAmBC,EAAnB,GAAwBhP,EAA5B,EAAmC,CAAnC,CAAT;AACA,oBAAMgQ,GAAG,YAAInC,IAAI,CAAC9K,CAAC,GAAG,CAAL,CAAJ,GAAc6L,EAAd,GAAmBC,EAAnB,GAAwB3O,EAA5B,EAAmC,CAAnC,CAAT;AACAsP,kBAAE,GAAGK,GAAG,GAAGC,GAAX;AACAL,kBAAE,GAAGM,GAAG,GAAGC,GAAX;;AACA,oBAAIR,EAAE,GAAGC,EAAT,EAAa;AACXrP,wBAAM,GAAG;AACPnD,uBAAG,EAAE2Q,IAAI,CAAC7K,CAAC,GAAG,CAAL,CADF;AAEP/F,uBAAG,EAAE+F,CAAC,GAAG,CAFF;AAGP/C,sBAAE,EAAEyP,EAHG;AAIP9P,yBAAK,EAAEuB,IAJA;AAKP2M,wBAAI,EAAEA,IAAI,CAAC9K,CAAC,GAAG,CAAL;AALH,mBAAT;AAOD,iBARD,MAQO;AACL3C,wBAAM,GAAG;AACPnD,uBAAG,EAAE2Q,IAAI,CAAC7K,CAAD,CADF;AAEP/F,uBAAG,EAAE+F,CAFE;AAGP/C,sBAAE,EAAEwP,EAHG;AAIP7P,yBAAK,EAAEuB,IAJA;AAKP2M,wBAAI,EAAEA,IAAI,CAAC9K,CAAD;AALH,mBAAT;AAOD;AACF,eAtBD,MAsBO;AACLyM,kBAAE,GAAGK,GAAG,GAAGC,GAAX;;AACA,oBAAI1P,MAAM,CAACJ,EAAP,GAAYwP,EAAhB,EAAoB;AAClBpP,wBAAM,GAAG;AACPnD,uBAAG,EAAE2Q,IAAI,CAAC7K,CAAD,CADF;AAEP/F,uBAAG,EAAE+F,CAFE;AAGP/C,sBAAE,EAAEwP,EAHG;AAIP7P,yBAAK,EAAEuB,IAJA;AAKP2M,wBAAI,EAAEA,IAAI,CAAC9K,CAAD;AALH,mBAAT;AAOD;AACF;AACF;AACF;AACF,SAhDD,MAgDO;AACL,eAAK,IAAI7B,CAAC,GAAGC,CAAb,EAAgBD,CAAC,EAAjB,GAAsB;AACpB,gBAAIA,CAAC,KAAKC,CAAC,GAAG,CAAd,EAAiB;AACfqO,gBAAE,GAAG/M,IAAI,CAACC,GAAL,CAAUgN,IAAI,CAACxO,CAAD,CAAJ,GAAU6N,EAAV,GAAeC,EAAf,GAAoBhP,EAA9B,CAAL;AACAyP,gBAAE,GAAGhN,IAAI,CAACC,GAAL,CAAUgN,IAAI,CAACxO,CAAC,GAAG,CAAL,CAAJ,GAAc6N,EAAd,GAAmBC,EAAnB,GAAwBhP,EAAlC,CAAL;AACAI,oBAAM,GAAGoP,EAAE,GAAGC,EAAL,GAAU;AACjBxS,mBAAG,EAAEyS,IAAI,CAACxO,CAAC,GAAG,CAAL,CADQ;AAEjBlE,mBAAG,EAAEkE,CAAC,GAAG,CAFQ;AAGjBlB,kBAAE,EAAEyP;AAHa,eAAV,GAIL;AACFxS,mBAAG,EAAEyS,IAAI,CAACxO,CAAD,CADP;AAEFlE,mBAAG,EAAEkE,CAFH;AAGFlB,kBAAE,EAAEwP;AAHF,eAJJ;AASD,aAZD,MAYO;AACLA,gBAAE,GAAG/M,IAAI,CAACC,GAAL,CAAUgN,IAAI,CAACxO,CAAD,CAAJ,GAAU6N,EAAV,GAAeC,EAAf,GAAoBhP,EAA9B,CAAL;AACA,kBAAII,MAAM,CAACJ,EAAP,GAAYwP,EAAhB,EACEpP,MAAM,GAAG;AACPnD,mBAAG,EAAEyS,IAAI,CAACxO,CAAD,CADF;AAEPlE,mBAAG,EAAEkE,CAFE;AAGPlB,kBAAE,EAAEwP;AAHG,eAAT;AAKH;AACF;AACF;;AACD,eAAOpP,MAAP,CArFgC,CAqFlB;AACf,OAjuCgB;AAkuCjB;AACAgD,cAAQ,EAAE,oBAAW;AACnB,YAAM5B,IAAI,GAAG,KAAK/E,KAAlB;;AACA,aAAK8C,UAAL,CAAgBE,GAAhB,CAAoB3C,KAApB,CAA0BwH,SAA1B,CAAoC,CAApC,EAAuC,CAAvC,EAA0C,KAAKnI,IAAL,CAAUrD,KAApD,EAA2D,KAAKqD,IAAL,CAAUE,MAArE;;AACA,gBAAQmF,IAAI,CAACzD,SAAb;AACE,eAAK,CAAL;AACE,iBAAK2C,QAAL,CAAcc,IAAI,CAACzE,IAAnB;AACA;;AACF,eAAK,CAAL;AACE,iBAAK6C,KAAL,CAAW2E,IAAX,CAAgB9K,OAAhB;AACA;;AACF,eAAK,CAAL;AACE,aAAC+H,IAAI,CAAC9G,KAAL,CAAWwD,OAAX,IAAsBsD,IAAI,CAAC9G,KAAL,CAAWsD,YAAlC,KAAmD,KAAKwC,aAAL,EAAnD;AACAgB,gBAAI,CAAC9G,KAAL,CAAW2D,YAAX,IAA2B,KAAKkC,aAAL,EAA3B;AACA,iBAAKE,aAAL;AACA;;AACF,eAAK,CAAL;AACE,iBAAKb,KAAL,CAAW2E,IAAX,CAAgBlJ,UAAhB;AACA;AAdJ;;AAgBAmG,YAAI,CAAC9D,UAAL,CAAgBiB,MAAhB,GAAyB,CAAzB,IAA8B,KAAK4E,YAAL,CAAkB,CAAlB,CAA9B;AACA,aAAKjE,OAAL,CAAalG,MAAb,CAAoBE,QAApB,CAA6BV,IAA7B,CAAkC+F,MAAlC,GAA2C,CAA3C,IAAgD,KAAKqK,YAAL,EAAhD;AACD,OAxvCgB;AAyvCjB;AACA3F,qBAAe,EAAE,yBAAS1K,IAAT,EAAe;AAC9B,YAAIsX,OAAO,GAAG,KAAK1Q,UAAL,CAAgBE,GAAhB,CAAoB5C,IAAlC;AAAA,YACEoF,KAAK,GAAG,KAAK1D,MADf;AAAA,YAEEwB,GAAG,GAAG,KAAKT,OAFb;AAAA,YAGEyC,KAAK,GAAG,KAAK9C,QAAL,CAAc1G,CAHxB;AAAA,YAIEyJ,KAAK,GAAG,KAAK/C,QAAL,CAAc/F,CAJxB;AAAA,YAKE0L,OAAO,GAAG,KAAKtI,cAAL,CAAoBE,UAApB,CAA+BjE,CAL3C;AAMA0X,eAAO,CAAC3L,SAAR,CAAkB,CAAlB,EAAqB,CAArB,EAAwB,KAAKnI,IAAL,CAAUrD,KAAlC,EAAyC,KAAKqD,IAAL,CAAUE,MAAnD;;AACA,YAAI1D,IAAJ,EAAU;AACR,eAAK8D,KAAL,CAAWK,KAAX,GAAmB,CAAnB;AACAmT,iBAAO,CAACzK,SAAR,GAAoB,oBAApB;;AACA,cAAIzD,KAAK,CAAC5C,MAAN,IAAgBY,GAAG,CAAC7H,IAAJ,CAASG,IAAzB,IAAiC0J,KAAK,CAAC5C,MAAN,IAAgB8C,KAAK,CAACrD,CAAN,CAAQA,CAA7D,EAAgE;AAC9D,gBAAIsR,GAAG,GAAG;AACRC,oBAAM,EAAE,KAAK9P,eAAL,CAAqB0B,KAAK,CAAC7C,MAA3B,EAAmC8C,KAAK,CAAC9C,MAAzC,CADA;AAERkR,oBAAM,EAAE,KAAK/P,eAAL,CAAqB0B,KAAK,CAAC5C,MAA3B,EAAmC6C,KAAK,CAAC7C,MAAzC;AAFA,aAAV;AAIA,gBAAIqD,IAAI,GAAG,EAAX;AACA,gBAAI6E,GAAG,GAAG;AACRpO,iBAAG,EAAE+H,MAAM,CAACC,SADJ;AAERjI,iBAAG,EAAEgI,MAAM,CAAC4B;AAFJ,aAAV;;AAIA,gBAAIsN,GAAG,CAACC,MAAJ,CAAWxQ,KAAX,KAAqBxC,SAArB,IAAkC+S,GAAG,CAACE,MAAJ,CAAWzQ,KAAX,KAAqBxC,SAA3D,EAAsE;AACpE,kBAAI+S,GAAG,CAACC,MAAJ,CAAWnT,GAAX,KAAmBkT,GAAG,CAACE,MAAJ,CAAWpT,GAAlC,EAAuC;AACrC,oBAAI+E,KAAK,CAAC3C,IAAN,IAAc,CAAlB,EAAqB;AACnB8Q,qBAAG,CAACE,MAAJ,CAAWpT,GAAX;AACAkT,qBAAG,CAACE,MAAJ,CAAWnT,GAAX,GAAiB8C,GAAG,CAACxH,CAAJ,CAAMK,IAAN,CAAWsX,GAAG,CAACE,MAAJ,CAAWpT,GAAtB,CAAjB;AACD,iBAHD,MAGO;AACLkT,qBAAG,CAACE,MAAJ,CAAWpT,GAAX;AACAkT,qBAAG,CAACE,MAAJ,CAAWnT,GAAX,GAAiB8C,GAAG,CAACxH,CAAJ,CAAMK,IAAN,CAAWsX,GAAG,CAACE,MAAJ,CAAWpT,GAAtB,CAAjB;AACD;AACF;;AACD+E,mBAAK,CAAC3C,IAAN,IAAc,CAAd,GACEoD,IAAI,GAAGzC,GAAG,CAAC7G,CAAJ,CAAMN,IAAN,CAAWiK,KAAX,CAAiBqN,GAAG,CAACC,MAAJ,CAAWnT,GAA5B,EAAiCkT,GAAG,CAACE,MAAJ,CAAWpT,GAAX,GAAiB,CAAlD,CADT,GAEEwF,IAAI,GAAGzC,GAAG,CAAC7G,CAAJ,CAAMN,IAAN,CAAWiK,KAAX,CAAiBqN,GAAG,CAACE,MAAJ,CAAWpT,GAA5B,EAAiCkT,GAAG,CAACC,MAAJ,CAAWnT,GAAX,GAAiB,CAAlD,CAFT;;AAGA,mBAAK,IAAIkE,IAAC,GAAG,CAAR,EAAWC,CAAC,GAAGqB,IAAI,CAAC7D,MAAzB,EAAiCuC,IAAC,GAAGC,CAArC,EAAwCD,IAAC,EAAzC,EAA6C;AAC3C,oBAAMjE,GAAG,GAAGuF,IAAI,CAACtB,IAAD,CAAhB;AACAmG,mBAAG,CAACrO,GAAJ,GAAUiE,GAAV,KAAkBoK,GAAG,CAACrO,GAAJ,GAAUiE,GAA5B;AACAoK,mBAAG,CAACpO,GAAJ,GAAUgE,GAAV,KAAkBoK,GAAG,CAACpO,GAAJ,GAAUgE,GAA5B;AACD;AACF,aAlBD,MAkBO;AACL,kBAAIiT,GAAG,CAACC,MAAJ,CAAWnT,GAAX,KAAmBkT,GAAG,CAACE,MAAJ,CAAWpT,GAAlC,EAAuC;AACrC,oBAAI+E,KAAK,CAAC3C,IAAN,IAAc,CAAlB,EAAqB;AACnB8Q,qBAAG,CAACE,MAAJ,CAAWpT,GAAX;AACAkT,qBAAG,CAACE,MAAJ,CAAWnT,GAAX,GAAiB8C,GAAG,CAACxH,CAAJ,CAAMK,IAAN,CAAWsX,GAAG,CAACE,MAAJ,CAAWzQ,KAAtB,EAA6BuQ,GAAG,CAACE,MAAJ,CAAWpT,GAAxC,CAAjB;AACD,iBAHD,MAGO;AACLkT,qBAAG,CAACE,MAAJ,CAAWpT,GAAX;AACAkT,qBAAG,CAACE,MAAJ,CAAWnT,GAAX,GAAiB8C,GAAG,CAACxH,CAAJ,CAAMK,IAAN,CAAWsX,GAAG,CAACE,MAAJ,CAAWzQ,KAAtB,EAA6BuQ,GAAG,CAACE,MAAJ,CAAWpT,GAAxC,CAAjB;AACD;AACF;;AACD,kBAAI+E,KAAK,CAAC3C,IAAN,IAAc,CAAlB,EAAqB;AACnB,qBAAK,IAAI8B,IAAC,GAAG,CAAR,EAAWC,IAAC,GAAGpB,GAAG,CAAC7G,CAAJ,CAAMN,IAAN,CAAW+F,MAA/B,EAAuCuC,IAAC,GAAGC,IAA3C,EAA8CD,IAAC,EAA/C,EAAmD;AACjD,sBAAMtI,IAAI,GAAGmH,GAAG,CAAC7G,CAAJ,CAAMN,IAAN,CAAWiK,KAAX,CAAiBqN,GAAG,CAACC,MAAJ,CAAWnT,GAA5B,EAAiCkT,GAAG,CAACE,MAAJ,CAAWpT,GAAX,GAAiB,CAAlD,CAAb;;AACA,uBAAK,IAAI+F,CAAC,GAAG,CAAR,EAAWD,GAAG,GAAGlK,IAAI,CAAC+F,MAA3B,EAAmCoE,CAAC,GAAGD,GAAvC,EAA4CC,CAAC,EAA7C,EAAiD;AAC/C,wBAAM9F,MAAG,GAAGrE,IAAI,CAACmK,CAAD,CAAhB;AACAsE,uBAAG,CAACrO,GAAJ,GAAUiE,MAAV,KAAkBoK,GAAG,CAACrO,GAAJ,GAAUiE,MAA5B;AACAoK,uBAAG,CAACpO,GAAJ,GAAUgE,MAAV,KAAkBoK,GAAG,CAACpO,GAAJ,GAAUgE,MAA5B;AACD;AACF;AACF;AACF;;AACDgF,iBAAK,CAACzD,CAAN,CAAQtF,CAAR,CAAUwF,GAAV,GAAgB2I,GAAG,CAACrO,GAApB;AACAiJ,iBAAK,CAACzD,CAAN,CAAQtF,CAAR,CAAUuF,KAAV,GAAkB4I,GAAG,CAACpO,GAAtB;AACA8I,iBAAK,CAAC7C,MAAN,GAAegR,GAAG,CAACC,MAAJ,CAAWlT,GAAX,GAAiB2H,OAAO,CAACjC,CAAzB,GAA6BiC,OAAO,CAAC9F,CAApD;AACAiD,iBAAK,CAAC5C,MAAN,GAAe+Q,GAAG,CAACE,MAAJ,CAAWnT,GAAX,GAAiB2H,OAAO,CAACjC,CAAzB,GAA6BiC,OAAO,CAAC9F,CAApD;AACAiD,iBAAK,CAAC3C,IAAN,GAAa2C,KAAK,CAAC5C,MAAN,GAAe4C,KAAK,CAAC7C,MAAlC;AACA6C,iBAAK,CAAC3C,IAAN,IAAc,CAAd,GACE6Q,OAAO,CAACxK,QAAR,CAAiB1D,KAAK,CAAC7C,MAAvB,EAA+Ba,GAAG,CAAC7H,IAAJ,CAASC,GAAxC,EAA6C4J,KAAK,CAAC3C,IAAnD,EAAyD6C,KAAK,CAACrD,CAAN,CAAQG,CAAjE,CADF,GAEEkR,OAAO,CAACxK,QAAR,CAAiB1D,KAAK,CAAC5C,MAAvB,EAA+BY,GAAG,CAAC7H,IAAJ,CAASC,GAAxC,EAA6CsK,IAAI,CAACC,GAAL,CAASX,KAAK,CAAC3C,IAAf,CAA7C,EAAmE6C,KAAK,CAACrD,CAAN,CAAQG,CAA3E,CAFF;AAGD;AACF;AACF,OAh0CgB;AAi0CjB;AACA2E,uBAAiB,EAAE,6BAAW;AAC5B,YAAI7C,EAAE,GAAG;AACPpC,eAAK,EAAE,IADA;AAEPC,aAAG,EAAE;AAFE,SAAT;AAIA,YAAMqD,KAAK,GAAG,KAAK9C,QAAL,CAAc1G,CAA5B;AAAA,YACIqM,OAAO,GAAG,KAAKtI,cAAL,CAAoBE,UAApB,CAA+BjE,CAD7C;AAAA,YAEI0J,KAAK,GAAG,KAAK1D,MAFjB;AAGA,YAAIwD,KAAK,CAAC3C,IAAN,KAAe,CAAnB,EAAsB;;AACtB,YAAI2C,KAAK,CAAC3C,IAAN,GAAa,CAAjB,EAAoB;AAClByB,YAAE,CAACpC,KAAH,GAAW,CAACsD,KAAK,CAAC7C,MAAN,GAAe0F,OAAO,CAAC9F,CAAxB,IAA6B8F,OAAO,CAACjC,CAAhD;AACA9B,YAAE,CAACnC,GAAH,GAAS,CAACqD,KAAK,CAAC5C,MAAN,GAAeyF,OAAO,CAAC9F,CAAxB,IAA6B8F,OAAO,CAACjC,CAA9C;AACD,SAHD,MAGO;AACL9B,YAAE,CAACpC,KAAH,GAAW,CAACsD,KAAK,CAAC5C,MAAN,GAAeyF,OAAO,CAAC9F,CAAxB,IAA6B8F,OAAO,CAACjC,CAAhD;AACA9B,YAAE,CAACnC,GAAH,GAAS,CAACqD,KAAK,CAAC7C,MAAN,GAAe0F,OAAO,CAAC9F,CAAxB,IAA6B8F,OAAO,CAACjC,CAA9C;AACD;;AACDV,aAAK,CAACzD,CAAN,CAAQjG,CAAR,CAAUkG,KAAV,GAAkBoC,EAAE,CAACpC,KAArB;AACAwD,aAAK,CAACzD,CAAN,CAAQjG,CAAR,CAAUmG,GAAV,GAAgBmC,EAAE,CAACnC,GAAH,GAAS,CAACmC,EAAE,CAACnC,GAAH,GAASmC,EAAE,CAACpC,KAAb,IAAsB,EAA/C;AACA,aAAKuF,QAAL,CAAc,CAAd;AACA,aAAKf,QAAL,CAAc,CAAd;AACA,aAAKC,QAAL;AACA,aAAKC,QAAL;AACA,aAAKC,QAAL;AACD,OAz1CgB;;AA01CjB;;AAEA9C,sBAAgB,EAAE,0BAASoN,MAAT,EAAiBC,MAAjB,EAAyBhV,IAAzB,EAA+B;AAC/C,YAAI;AACF,cAAI8R,IAAI,GAAG,KAAKnL,OAAL,CAAa/G,CAAxB;AAAA,cAA2B8X,IAAI,GAAG,KAAK/Q,OAAL,CAAapG,CAA/C;;AACA,cAAI,QAAQuR,IAAI,CAAC7R,IAAb,IAAqB6R,IAAI,CAAC7R,IAAL,CAAU+F,MAAV,IAAoB,CAA7C,EAAgD;AAC9C,mBAAO,CAAC,CAAR;AACD;;AACD,cAAI2R,EAAE,GAAG7F,IAAI,CAAC7R,IAAL,CAAU+F,MAAV,GAAmB,GAA5B;;AACA,cAAIhG,IAAI,IAAI,CAAZ,EAAe;AACb2X,cAAE,GAAG7N,IAAI,CAAC2E,KAAL,CAAWkJ,EAAE,GAAG,CAAhB,CAAL;AACD;;AACD,cAAIA,EAAE,GAAG,CAAT,EAAY;AACVA,cAAE,GAAG,CAAL;AACD;;AACD,cAAIC,QAAQ,GAAG,KAAKzL,YAAL,CAAkB2F,IAAI,CAAC7R,IAAvB,EAA6B8U,MAA7B,EAAqC,CAArC,CAAf;AACA,cAAI6C,QAAQ,IAAI9F,IAAI,CAAC7R,IAAL,CAAU+F,MAA1B,EACE4R,QAAQ,GAAG9F,IAAI,CAAC7R,IAAL,CAAU+F,MAArB,CADF,KAEK,IAAI4R,QAAQ,GAAG,CAAf,EAAkB;AACrB,gBAAI9N,IAAI,CAACC,GAAL,CAAS+H,IAAI,CAAC7R,IAAL,CAAU2X,QAAV,IAAsB7C,MAA/B,IAAyCjL,IAAI,CAACC,GAAL,CAAS+H,IAAI,CAAC7R,IAAL,CAAU2X,QAAQ,GAAG,CAArB,IAA0B7C,MAAnC,CAA7C,EAAyF;AACvF6C,sBAAQ,GAAGA,QAAQ,GAAG,CAAtB;AACD;AACF;AACD,cAAIC,OAAO,GAAGD,QAAQ,GAAGD,EAAzB;AACA,cAAIG,OAAO,GAAGF,QAAQ,GAAGD,EAAzB;AACA,cAAI3Q,KAAK,GAAG4Q,QAAZ;;AACA,cAAIC,OAAO,IAAI,CAAf,EAAkB;AAChBA,mBAAO,GAAG,CAAV;AACD;;AACD,cAAIC,OAAO,IAAIJ,IAAI,CAACzX,IAAL,CAAU+F,MAAzB,EAAiC;AAC/B8R,mBAAO,GAAGJ,IAAI,CAACzX,IAAL,CAAU+F,MAAV,GAAmB,CAA7B;AACD;;AACD,eAAK,IAAIuC,CAAC,GAAGsP,OAAb,EAAsBtP,CAAC,IAAIuP,OAA3B,EAAoCvP,CAAC,EAArC,EAAyC;AACvC,gBAAImP,IAAI,CAACzX,IAAL,CAAUsI,CAAV,IAAemP,IAAI,CAACzX,IAAL,CAAU+G,KAAV,CAAnB,EAAqC;AACnCA,mBAAK,GAAGuB,CAAR;AACD;AACF;;AACD,iBAAOvB,KAAP;AACD,SAnCD,CAmCE,OAAO+Q,GAAP,EAAY,CAEb;;AACD,eAAO,CAAC,CAAR;AACD,OAp4CgB;AAq4CjB;AACA5L,kBAAY,EAAE,sBAAS4F,GAAT,EAAc3J,KAAd,EAAqBS,IAArB,EAA2B;AAAE;;AACzC;AACA,YAAI7B,KAAK,GAAG,CAAC,CAAb;AACA,YAAIgR,OAAO,GAAG,KAAd;AACA,YAAI3Q,EAAE,GAAGgB,MAAM,CAAC4P,iBAAhB;;AACA,aAAK,IAAI1P,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGwJ,GAAG,CAAC/L,MAAxB,EAAgCuC,CAAC,EAAjC,EAAqC;AACnC,kBAAQM,IAAR;AACE,iBAAK,CAAC,CAAN;AACEmP,qBAAO,GAAGjG,GAAG,CAACxJ,CAAD,CAAH,GAASH,KAAT,IAAkB,CAAlB,GAAsBf,EAAE,GAAGyC,IAAI,CAACC,GAAL,CAASgI,GAAG,CAACxJ,CAAD,CAAH,GAASH,KAAlB,CAA3B,GAAsD,KAAhE;AACA;;AACF,iBAAK,CAAL;AACE4P,qBAAO,GAAG3Q,EAAE,GAAGyC,IAAI,CAACC,GAAL,CAASgI,GAAG,CAACxJ,CAAD,CAAH,GAASH,KAAlB,CAAf;AACA;;AACF,iBAAK,CAAL;AACE4P,qBAAO,GAAGjG,GAAG,CAACxJ,CAAD,CAAH,GAASH,KAAT,IAAkB,CAAlB,GAAsBf,EAAE,GAAGyC,IAAI,CAACC,GAAL,CAASgI,GAAG,CAACxJ,CAAD,CAAH,GAASH,KAAlB,CAA3B,GAAsD,KAAhE;AACA;AATJ;;AAWA,cAAI4P,OAAJ,EAAa;AACX3Q,cAAE,GAAGyC,IAAI,CAACC,GAAL,CAASgI,GAAG,CAACxJ,CAAD,CAAH,GAASH,KAAlB,CAAL;AACApB,iBAAK,GAAGuB,CAAR;;AACA,gBAAIlB,EAAE,IAAI,CAAV,EAAa;AACX;AACD;AACF;AACF;;AACD,eAAOL,KAAP;AACD,OAh6CgB;AAi6CjB;AACAY,mBAAa,EAAE,yBAAW;AAAE;;AAC1B;AACA,YAAI9D,KAAK,GAAG,KAAKA,KAAjB;AACAA,aAAK,CAACY,SAAN,CAAgBE,IAAhB,CAAqBoB,MAArB,GAA8B,CAA9B,KAAoClC,KAAK,CAACY,SAAN,CAAgBE,IAAhB,CAAqBoB,MAArB,GAA8B,CAAlE;AACA,YAAIkG,SAAS,GAAG,EAAhB;AACA,YAAIlF,KAAK,GAAG,CAAC,CAAb;AACA,YAAIuB,CAAC,GAAG,CAAR;AACA,YAAI2P,GAAG,GAAG,CAAC,CAAX,CAPwB,CAOV;;AACd,YAAIC,GAAG,GAAG,CAAC,CAAX,CARwB,CAQV;;AACd,YAAIC,MAAM,GAAG,CAAC,CAAd;AACA,YAAI/Q,EAAE,GAAG,CAAC,CAAV,CAVwB,CAUX;;AACb;;AACA,YAAIvD,KAAK,CAAC/B,KAAN,CAAY2D,YAAZ,IAA4B,CAA5B,IAAiC5B,KAAK,CAACW,UAAN,CAAiBJ,GAAjB,IAAwB,CAAC,CAA9D,EAAiE;AAC/D6T,aAAG,GAAGpU,KAAK,CAACW,UAAN,CAAiBH,GAAvB;AACA0C,eAAK,GAAGlD,KAAK,CAACW,UAAN,CAAiBJ,GAAzB;AACA6H,mBAAS,CAACE,IAAV,CAAe;AACbpN,gBAAI,EAAEkZ,GAAG,GAAG,GAAN,GAAYlR,KAAK,CAAC4G,OAAN,CAAc,CAAd,CADL;AAEb5B,iBAAK,EAAEhF;AAFM,WAAf;AAIAlD,eAAK,CAAC/B,KAAN,CAAY4D,gBAAZ,GAA+B,CAA/B;AACD,SARD,MAQO,IAAK7B,KAAK,CAAC/B,KAAN,CAAY2D,YAAZ,IAA4B,CAA7B,IAAmC5B,KAAK,CAACW,UAAN,CAAiBJ,GAAjB,IAAwB,CAAC,CAAhE,EAAmE;AAAE;AAC1EP,eAAK,CAACW,UAAN,GAAmB;AACjBJ,eAAG,EAAE,CADY;AAEjBC,eAAG,EAAE,KAAKqC,OAAL,CAAa/G,CAAb,CAAeK,IAAf,CAAoB,CAApB;AAFY,WAAnB;AAIAiM,mBAAS,CAACE,IAAV,CAAe;AACbpN,gBAAI,EAAE,IAAI,GAAJ,GAAU,KAAK2H,OAAL,CAAa/G,CAAb,CAAeK,IAAf,CAAoB,CAApB,EAAuB2N,OAAvB,CAA+B,CAA/B,CADH;AAEb5B,iBAAK,EAAE;AAFM,WAAf;AAIAlI,eAAK,CAAC/B,KAAN,CAAY4D,gBAAZ,GAA+B,CAA/B;AACD;AACD;;;AACA,YAAI7B,KAAK,CAAC/B,KAAN,CAAY4D,gBAAZ,IAAiC7B,KAAK,CAAC/B,KAAN,CAAY2D,YAAZ,IAA4B,CAA7D,IAAmE5B,KAAK,CAACM,IAAN,CAAWC,GAAX,KAAmBP,KAAK,CAACW,UAAN,CAAiBJ,GAA3G,EAAgH;AAC9G,cAAIP,KAAK,CAACM,IAAN,CAAWE,GAAX,IAAkB,CAAC,CAAvB,EAA0B;AACxB8T,kBAAM,GAAGtU,KAAK,CAACM,IAAN,CAAWC,GAApB;AACAgD,cAAE,GAAGyC,IAAI,CAACC,GAAL,CAASqO,MAAM,GAAGpR,KAAlB,CAAL;;AACA,gBAAIK,EAAE,IAAI,CAAV,EAAa;AACX;AACD;;AACD,gBAAIgR,EAAE,GAAGD,MAAM,GAAG/Q,EAAlB;;AACA,iBAAK,IAAIzH,CAAC,GAAGyY,EAAb,EAAiBzY,CAAC,GAAG,KAAK+G,OAAL,CAAa/G,CAAb,CAAeK,IAAf,CAAoB+F,MAAzC,EAAiDpG,CAAC,IAAIyH,EAAtD,EAA0D;AACxD,kBAAIzH,CAAC,IAAIoH,KAAT,EAAgB;AACd;AACD;;AACDkF,uBAAS,CAACE,IAAV,CAAe;AACbpN,oBAAI,EAAE,EADO;AAEbgN,qBAAK,EAAEpM,CAFM;AAGbM,yBAAS,EAAE;AACTb,uBAAK,EAAE;AADE;AAHE,eAAf;AAOD;AACF;AACF;;AACD,YAAI6M,SAAS,CAAClG,MAAV,GAAmB,CAAvB,EAA0B;AACxBlC,eAAK,CAACY,SAAN,CAAgBE,IAAhB,GAAuBsH,SAAvB;AACD;AACF,OA39CgB;AA49CjB;AACArE,mBAAa,EAAE,yBAAW;AAAE;;AAC1B;AACA,YAAI/D,KAAK,GAAG,KAAKA,KAAjB;AAAA,YAAwBsD,GAAG,GAAG,KAAKT,OAAnC;AACA7C,aAAK,CAACY,SAAN,CAAgBC,QAAhB,CAAyBqB,MAAzB,GAAkC,CAAlC,KAAwClC,KAAK,CAACY,SAAN,CAAgBC,QAAhB,CAAyBqB,MAAzB,GAAkC,CAA1E;AACA,YAAIkG,SAAS,GAAG,EAAhB;AACA,YAAIlF,KAAK,GAAG,CAAC,CAAb;AACA,YAAIuB,CAAC,GAAG,CAAR;AACA,YAAI6P,MAAM,GAAG,CAAC,CAAd,CAPwB,CAOP;;AACjB,YAAI/Q,EAAE,GAAG,CAAC,CAAV,CARwB,CAQX;;AACb;;AACA,YAAIvD,KAAK,CAACmB,YAAN,CAAmBe,MAAnB,GAA4BlC,KAAK,CAAC/B,KAAN,CAAYyD,WAA5C,EAAyD;AACvD0G,mBAAS,CAACE,IAAV,CAAe;AACbpN,gBAAI,EAAG8E,KAAK,CAAC/B,KAAN,CAAYyD,WAAZ,GAA0B,CAA3B,GAAgC,GADzB;AAEbwG,iBAAK,EAAElI,KAAK,CAACmB,YAAN,CAAmBnB,KAAK,CAAC/B,KAAN,CAAYyD,WAA/B;AAFM,WAAf;AAID;;AACD,YAAI1B,KAAK,CAAC/B,KAAN,CAAYyD,WAAZ,IAA2B,CAAC,CAAhC,EAAmC;AAAE;AACnC0G,mBAAS,CAAClG,MAAV,GAAmB,CAAnB;AACD;AACD;;;AACA,YAAIlC,KAAK,CAAC/B,KAAN,CAAYsD,YAAZ,IAA4B,CAAhC,EAAmC;AAAE;AACnCvB,eAAK,CAACqB,KAAN,GAAc,EAAd;;AACA,cAAIrB,KAAK,CAACoB,KAAN,CAAY,CAAZ,KAAkB,CAAlB,IAAuBpB,KAAK,CAACoB,KAAN,CAAY,CAAZ,KAAkB,CAAC,CAA9C,EAAiD,CAEhD,CAFD,MAEO;AACLpB,iBAAK,CAACoB,KAAN,CAAY,CAAZ,IAAiB,CAAjB;AACD;;AACD,cAAIoT,OAAO,GAAGxU,KAAK,CAACoB,KAAN,CAAY,CAAZ,CAAd;;AACA,cAAIpB,KAAK,CAAC/B,KAAN,CAAYwD,OAAZ,IAAuB,CAA3B,EAA8B;AAAE;AAC9BzB,iBAAK,CAACoB,KAAN,GAAc,EAAd;;AACA,iBAAK,IAAIqD,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,EAApB,EAAwBA,CAAC,EAAzB,EAA6B;AAC3B,kBAAIuP,OAAO,GAAGQ,OAAO,IAAI/P,CAAC,GAAG,CAAR,CAArB;;AACA,kBAAIuP,OAAO,IAAI1Q,GAAG,CAACxH,CAAJ,CAAMK,IAAN,CAAW+F,MAA1B,EAAkC;AAChC;AACD;;AACDlC,mBAAK,CAACoB,KAAN,CAAYkH,IAAZ,CAAiB0L,OAAjB;AACD;AACF;;AACD9Q,eAAK,GAAGlD,KAAK,CAACoB,KAAN,CAAY,CAAZ,CAAR;AACAkT,gBAAM,GAAGtU,KAAK,CAACM,IAAN,CAAWC,GAApB;AACAgD,YAAE,GAAGyC,IAAI,CAACC,GAAL,CAASqO,MAAM,GAAGpR,KAAlB,CAAL;;AAEA,cAAIK,EAAE,IAAI,CAAV,EAAa;AACX,gBAAIgR,EAAE,GAAGD,MAAM,GAAG/Q,EAAlB,CADW,CACW;;AACtB,gBAAIkR,MAAM,GAAGvR,KAAK,GAAG,IAAIK,EAAzB;AACA,gBAAImR,OAAO,GAAGxR,KAAK,GAAG,IAAIK,EAA1B;;AACA,gBAAIkR,MAAM,GAAGF,EAAb,EAAiB;AACfE,oBAAM,GAAGF,EAAT;AACD;;AACD,gBAAIG,OAAO,GAAGpR,GAAG,CAACxH,CAAJ,CAAMK,IAAN,CAAW+F,MAAzB,EAAiC;AAC/BwS,qBAAO,GAAGpR,GAAG,CAACxH,CAAJ,CAAMK,IAAN,CAAW+F,MAArB;AACD,aATU,CAUX;AACA;AACA;;;AACA,iBAAK,IAAIpG,CAAC,GAAG2Y,MAAb,EAAqB3Y,CAAC,IAAI4Y,OAA1B,EAAmC5Y,CAAC,IAAIyH,EAAxC,EAA4C;AAC1C,kBAAI4H,IAAI,GAAG,EAAX;;AACA,kBAAIrP,CAAC,IAAIoH,KAAT,EAAgB;AACdiI,oBAAI,CAAC7K,IAAL,GAAY,IAAZ;AACA6K,oBAAI,CAAC7G,KAAL,GAAaxI,CAAb;AACD,eAHD,MAGO;AACLqP,oBAAI,CAAC7K,IAAL,GAAY,KAAZ;AACA6K,oBAAI,CAAC7G,KAAL,GAAaxI,CAAb;AACD;;AACDkE,mBAAK,CAACqB,KAAN,CAAYiH,IAAZ,CAAiB6C,IAAjB;AACD;AACF;AACF,SA/CD,MA+CO,IAAInL,KAAK,CAAC/B,KAAN,CAAYwD,OAAZ,IAAuB,CAA3B,EAA8B;AAAE;AACrCzB,eAAK,CAACoB,KAAN,GAAc,EAAd;;AACA,eAAK,IAAIqD,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,EAApB,EAAwBA,CAAC,EAAzB,EAA6B;AAC3B,gBAAIzE,KAAK,CAACM,IAAN,CAAWE,GAAX,IAAkB,CAAC,CAAvB,EAA0B;AACxBR,mBAAK,CAACoB,KAAN,GAAc,EAAd;AACD,aAFD,MAEO;AACL,kBAAIkC,GAAG,CAAC3G,MAAJ,CAAWI,OAAX,CAAmBG,QAAnB,IAA+B,CAAnC,EAAsC;AAAE;AACtC,oBAAI8C,KAAK,CAACM,IAAN,CAAWE,GAAX,IAAkBiE,CAAC,GAAG,CAAtB,KAA4BnB,GAAG,CAAC3G,MAAJ,CAAWI,OAAX,CAAmBI,QAAnB,GAA8B,IAA9D,EAAoE;AAClE;AACD;AACF,eAJD,MAIO;AACL,oBAAI6C,KAAK,CAACM,IAAN,CAAWE,GAAX,IAAkBiE,CAAC,GAAG,CAAtB,KAA4BnB,GAAG,CAACxH,CAAJ,CAAMK,IAAN,CAAWmH,GAAG,CAACxH,CAAJ,CAAMK,IAAN,CAAW+F,MAAX,GAAoB,CAA/B,CAAhC,EAAmE;AACjE;AACA;AACD;AACF;;AACD,kBAAIlC,KAAK,CAAC/B,KAAN,CAAYwD,OAAZ,IAAuB,CAAvB,IAA4BgD,CAAC,GAAG,CAApC,EAAuC;AACrC;AACD;;AACD,kBAAIkQ,UAAU,GAAG,KAAKtM,YAAL,CAAkB/E,GAAG,CAACxH,CAAJ,CAAMK,IAAxB,EAA8B6D,KAAK,CAACM,IAAN,CAAWE,GAAX,IAAkBiE,CAAC,GAAG,CAAtB,CAA9B,EAAwD,CAAxD,CAAjB;;AACAzE,mBAAK,CAACoB,KAAN,CAAYkH,IAAZ,CAAiBqM,UAAjB;AACD;AACF;AACF,SAvBM,MAuBA;AACL3U,eAAK,CAACoB,KAAN,CAAY,CAAZ,IAAiBpB,KAAK,CAACM,IAAN,CAAWC,GAA5B;AACD;AACD;;;AACA,YAAIP,KAAK,CAAC/B,KAAN,CAAYwD,OAAZ,IAAuB,CAA3B,EAA8B;AAC5B,cAAImT,OAAO,GAAG,IAAI5J,KAAJ,CAAUhL,KAAK,CAACoB,KAAN,CAAYc,MAAtB,CAAd;;AACA,eAAKuC,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGzE,KAAK,CAACoB,KAAN,CAAYc,MAA5B,EAAoCuC,CAAC,EAArC,EAAyC;AACvC,gBAAIvB,MAAK,GAAGlD,KAAK,CAACoB,KAAN,CAAYqD,CAAZ,KAAkB,CAAlB,GAAsBzE,KAAK,CAACoB,KAAN,CAAYqD,CAAZ,CAAtB,GAAuC,CAAnD;;AACAmQ,mBAAO,CAACnQ,CAAD,CAAP,GAAa,KAAKZ,gBAAL,CAAsBP,GAAG,CAACxH,CAAJ,CAAMK,IAAN,CAAW+G,MAAX,CAAtB,EAAyCI,GAAG,CAAC7G,CAAJ,CAAMN,IAAN,CAAW+G,MAAX,CAAzC,EAA4D,CAA5D,CAAb,CAFuC,CAEsC;;AAC7E,gBAAIlD,KAAK,CAAC/B,KAAN,CAAY0D,YAAhB,EAA8B;AAAE;AAC9B,kBAAI8C,CAAC,IAAI,CAAT,EAAY;AACV2D,yBAAS,CAACE,IAAV,CAAe;AACbJ,uBAAK,EAAEhF,MADM;AAEbhI,sBAAI,EAAGuJ,CAAC,GAAG,CAAL,GAAU,GAAV,GAAgB,GAAhB,GAAsBF,MAAM,CAACjB,GAAG,CAACxH,CAAJ,CAAMK,IAAN,CAAW+G,MAAX,CAAD,CAAN,CAA0B4G,OAA1B,CAAkC,CAAlC,CAAtB,GAA6DxG,GAAG,CAACxH,CAAJ,CAAMZ,IAAnE,GAA0E,GAA1E,GAAgFoI,GAAG,CAAC7G,CAAJ,CAAMN,IAAN,CAAW+G,MAAX,EAAkB4G,OAAlB,CAA0B,CAA1B,CAFzE;AAGb1N,2BAAS,EAAE;AACTb,yBAAK,EAAE+H,GAAG,CAAC1F,OAAJ,CAAYxB,SAAZ,CAAsBb;AADpB;AAHE,iBAAf;AAOD,eARD,MAQO;AACL6M,yBAAS,CAACE,IAAV,CAAe;AACbpN,sBAAI,EAAGuJ,CAAC,GAAG,CAAL,GAAU,GAAV,GAAgB,GAAhB,GAAsBF,MAAM,CAACjB,GAAG,CAACxH,CAAJ,CAAMK,IAAN,CAAWyY,OAAO,CAACnQ,CAAD,CAAlB,CAAD,CAAN,CAA+BqF,OAA/B,CAAuC,CAAvC,CAAtB,GAAkExG,GAAG,CAACxH,CAAJ,CAAMZ,IAAxE,GAA+E,GAA/E,GAAqFoI,GAAG,CAAC7G,CAAJ,CAAMN,IAAN,CAAWyY,OAAO,CAACnQ,CAAD,CAAlB,EAAuBqF,OAAvB,CAA+B,CAA/B,CAD9E;AAEb5B,uBAAK,EAAE0M,OAAO,CAACnQ,CAAD,CAFD;AAGbrI,2BAAS,EAAE;AACTb,yBAAK,EAAE+H,GAAG,CAAC1F,OAAJ,CAAYxB,SAAZ,CAAsBb;AADpB;AAHE,iBAAf;AAOD;AACF,aAlBD,MAkBO;AAAE;AACP6M,uBAAS,CAACE,IAAV,CAAe;AACbpN,oBAAI,EAAGuJ,CAAC,GAAG,CAAL,GAAU,GAAV,GAAgB,GAAhB,GAAsBF,MAAM,CAACjB,GAAG,CAACxH,CAAJ,CAAMK,IAAN,CAAW+G,MAAX,CAAD,CAAN,CAA0B4G,OAA1B,CAAkC,CAAlC,CAAtB,GAA6DxG,GAAG,CAACxH,CAAJ,CAAMZ,IAAnE,GAA0E,GAA1E,GAAgFoI,GAAG,CAAC7G,CAAJ,CAAMN,IAAN,CAAW+G,MAAX,EAAkB4G,OAAlB,CAA0B,CAA1B,CADzE;AAEb5B,qBAAK,EAAEhF,MAFM;AAGb9G,yBAAS,EAAE;AACTb,uBAAK,EAAE+H,GAAG,CAAC1F,OAAJ,CAAYxB,SAAZ,CAAsBb;AADpB;AAHE,eAAf;AAOD;AACF;AACF;AAED;;;AACA,YAAIyE,KAAK,CAAC/B,KAAN,CAAYsD,YAAZ,IAA4B,CAAhC,EAAmC;AACjC,cAAIsT,WAAW,GAAG,IAAI7J,KAAJ,CAAUhL,KAAK,CAACqB,KAAN,CAAYa,MAAtB,CAAlB;;AACA,eAAKuC,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGzE,KAAK,CAACqB,KAAN,CAAYa,MAA5B,EAAoCuC,CAAC,EAArC,EAAyC;AACvCoQ,uBAAW,CAACpQ,CAAD,CAAX,GAAiB,KAAKZ,gBAAL,CAAsBP,GAAG,CAACxH,CAAJ,CAAMK,IAAN,CAAW6D,KAAK,CAACqB,KAAN,CAAYoD,CAAZ,EAAeH,KAA1B,CAAtB,EAAwDhB,GAAG,CAAC7G,CAAJ,CAAMN,IAAN,CAAW6D,KAAK,CAACqB,KAAN,CAAYoD,CAAZ,EAAeH,KAA1B,CAAxD,EAA0F,CAA1F,CAAjB,CADuC,CACwE;;AAC/G,gBAAItE,KAAK,CAACqB,KAAN,CAAYoD,CAAZ,EAAenE,IAAf,IAAuB,IAA3B,EAAiC;AAC/B,kBAAIN,KAAK,CAAC/B,KAAN,CAAYwD,OAAZ,IAAuB,CAA3B,EAA8B;AAC5B2G,yBAAS,CAACE,IAAV,CAAe;AACbpN,sBAAI,EAAE,EADO;AAEbgN,uBAAK,EAAElI,KAAK,CAACqB,KAAN,CAAYoD,CAAZ,EAAeH;AAFT,iBAAf;AAID,eALD,MAKO;AACL8D,yBAAS,CAACE,IAAV,CAAe;AACbpN,sBAAI,EAAEoI,GAAG,CAACxH,CAAJ,CAAMK,IAAN,CAAW6D,KAAK,CAACqB,KAAN,CAAYoD,CAAZ,EAAeH,KAA1B,EAAiCwF,OAAjC,CAAyC,CAAzC,IAA8C,GAA9C,GAAoDxG,GAAG,CAAC7G,CAAJ,CAAMN,IAAN,CAAW6D,KAAK,CAACqB,KAAN,CAAYoD,CAAZ,EAAeH,KAA1B,EAAiCwF,OAAjC,CAAyC,CAAzC,CAD7C;AAEb5B,uBAAK,EAAElI,KAAK,CAACqB,KAAN,CAAYoD,CAAZ,EAAeH;AAFT,iBAAf;AAID;AACF,aAZD,MAYO;AACL8D,uBAAS,CAACE,IAAV,CAAe;AACbpN,oBAAI,EAAE,EADO;AAEbgN,qBAAK,EAAElI,KAAK,CAACqB,KAAN,CAAYoD,CAAZ,EAAeH,KAFT;AAGblI,yBAAS,EAAE;AACTb,uBAAK,EAAE;AADE;AAHE,eAAf;AAOD;AACF;AACF;AAED;;AACA;;;;;;;;;;;;;;;;;AAeA,YAAI6M,SAAS,CAAClG,MAAV,GAAmB,CAAvB,EAA0B;AACxBlC,eAAK,CAACY,SAAN,CAAgBC,QAAhB,GAA2BuH,SAA3B;AACD;AAEF,OA/oDgB;AAgpDjB;AACApE,mBAAa,EAAE,yBAAW;AACxB,YAAI8Q,MAAM,GAAG,KAAKhS,UAAL,CAAgBE,GAAhB,CAAoBzE,OAAjC;AAAA,YACEiS,QAAQ,GAAG,KAAK1N,UAAL,CAAgBE,GAAhB,CAAoB3C,KADjC;AAAA,YAEE0E,IAAI,GAAG,KAAK/E,KAFd;AAAA,YAGEsD,GAAG,GAAG,KAAKT,OAHb;AAAA,YAIEmL,IAAI,GAAG1K,GAAG,CAACxH,CAJb;AAAA,YAKE8X,IAAI,GAAGtQ,GAAG,CAAC7G,CALb;AAAA,YAMEgJ,MAAM,GAAG,KAAK3D,MAAL,CAAYK,CANvB;AAAA,YAOEnE,MAAM,GAAG,KAAK6B,cAAL,CAAoBE,UAP/B;AAAA,YAQEuS,EAAE,GAAGtU,MAAM,CAAClC,CAAP,CAASoK,CARhB;AAAA,YASEqM,EAAE,GAAGvU,MAAM,CAAClC,CAAP,CAASuG,CAThB;AAAA,YAUE8P,EAAE,GAAGnU,MAAM,CAACvB,CAAP,CAASyJ,CAVhB;AAAA,YAWEkM,EAAE,GAAGpU,MAAM,CAACvB,CAAP,CAAS4F,CAXhB;AAYAyS,cAAM,CAACjN,SAAP,CAAiB,CAAjB,EAAoB,CAApB,EAAuB,KAAKnI,IAAL,CAAUrD,KAAjC,EAAwC,KAAKqD,IAAL,CAAUE,MAAlD;AACA4Q,gBAAQ,CAAC3I,SAAT,CAAmB,CAAnB,EAAsB,CAAtB,EAAyB,KAAKnI,IAAL,CAAUrD,KAAnC,EAA0C,KAAKqD,IAAL,CAAUE,MAApD,EAdwB,CAexB;;AACA,YAAImF,IAAI,CAAC9G,KAAL,CAAW2D,YAAX,IAA2B0B,GAAG,CAACrF,KAAJ,CAAUI,aAAV,CAAwBpD,IAAnD,IAA2D8J,IAAI,CAACzE,IAAL,CAAUC,GAAV,GAAgB,CAAC,CAAhF,EAAmF;AACjF,cAAIwE,IAAI,CAACpE,UAAL,CAAgBJ,GAAhB,KAAwBwE,IAAI,CAACzE,IAAL,CAAUC,GAAtC,EAA2C;AACzC,gBAAI2O,IAAI,GAAG,IAAX;;AACA,gBAAIlB,IAAI,CAAC9S,IAAL,KAAc,GAAlB,EAAuB;AACrBgU,kBAAI,GAAG;AACLpT,iBAAC,EAAEkS,IAAI,CAAC7R,IAAL,CAAU4I,IAAI,CAACzE,IAAL,CAAUC,GAApB,IAA2B+R,EAA3B,GAAgCC,EAD9B;AAELtF,oBAAI,EAAE,QAAQ,KAAKtC,KAAL,CAAWqD,IAAI,CAAC7R,IAAL,CAAU4I,IAAI,CAACzE,IAAL,CAAUC,GAApB,CAAX,CAAR,GAA+CyN,IAAI,CAAC9S,IAFrD;AAGL6Z,uBAAO,EAAE,SAAS/O,IAAI,CAAC2E,KAAL,CAAW3E,IAAI,CAACC,GAAL,CAASlB,IAAI,CAACzE,IAAL,CAAUE,GAAV,GAAgBwN,IAAI,CAAC7R,IAAL,CAAU4I,IAAI,CAACpE,UAAL,CAAgBJ,GAA1B,CAAzB,IAA2D,KAAtE,IAA+E,KAAxF,GAAgGyN,IAAI,CAAC9S,IAHzG;AAILqD,uBAAO,EAAE,SAASyH,IAAI,CAAC2E,KAAL,CAAY,IAAI3E,IAAI,CAACC,GAAL,CAASlB,IAAI,CAACpE,UAAL,CAAgBH,GAAhB,GAAsBuE,IAAI,CAACzE,IAAL,CAAUE,GAAzC,CAAL,GAAsD,KAAjE,IAA0E,KAAnF,GAA2F,IAJ/F;AAKLjD,yBAAS,EAAE,QAAQyI,IAAI,CAAC2E,KAAL,CAAWiJ,IAAI,CAACzX,IAAL,CAAU4I,IAAI,CAACzE,IAAL,CAAUC,GAApB,IAA2B,KAAtC,IAA+C,KAAvD,GAA+DqT,IAAI,CAAC1Y;AAL1E,eAAP;AAOA,kBAAI6J,IAAI,CAACpE,UAAL,CAAgBJ,GAAhB,KAAwB,CAAC,CAA7B,EACE2O,IAAI,CAAC6F,OAAL,GAAe,SAAS/O,IAAI,CAAC2E,KAAL,CAAW3E,IAAI,CAACC,GAAL,CAASlB,IAAI,CAACzE,IAAL,CAAUE,GAAV,GAAgBwN,IAAI,CAAC7R,IAAL,CAAU,CAAV,CAAzB,IAAyC,KAApD,IAA6D,KAAtE,GAA8E6R,IAAI,CAAC9S,IAAlG;AACFgU,kBAAI,CAACpT,CAAL,GAASwH,GAAG,CAAC7H,IAAJ,CAASG,IAAlB,IAA0B6J,MAAM,CAACrD,CAAP,GAAW,CAArC,KAA2C8M,IAAI,CAACpT,CAAL,IAAU,GAArD;;AACA,kBAAIoT,IAAI,CAACpT,CAAL,IAAUwH,GAAG,CAAC7H,IAAJ,CAASG,IAAnB,IAA2BsT,IAAI,CAACpT,CAAL,GAAS,GAAT,IAAgB2J,MAAM,CAACtD,CAAtD,EAAyD;AACvD2S,sBAAM,CAAChM,SAAP;AACAgM,sBAAM,CAAC/L,SAAP,GAAmBzF,GAAG,CAAC1F,OAAJ,CAAYE,UAAZ,CAAuBvC,KAA1C;AACAuZ,sBAAM,CAAC9L,QAAP,CAAgBkG,IAAI,CAACpT,CAArB,EAAwBwH,GAAG,CAAC7H,IAAJ,CAASC,GAAjC,EAAsC,GAAtC,EAA2C,EAA3C;AACAoZ,sBAAM,CAAC5F,IAAP,GAAc0E,IAAI,CAACzY,SAAL,CAAeE,IAAf,GAAsB,GAAtB,GAA4BuY,IAAI,CAACzY,SAAL,CAAeG,MAAzD;AACAwZ,sBAAM,CAAC/L,SAAP,GAAmBzF,GAAG,CAAC3G,MAAJ,CAAWP,SAAX,CAAqBb,KAAxC;AACAuZ,sBAAM,CAAC3F,YAAP,GAAsB,KAAtB;AACA2F,sBAAM,CAACzF,QAAP,CAAgBH,IAAI,CAACjC,IAArB,EAA2BiC,IAAI,CAACpT,CAAL,GAAS,EAApC,EAAwCwH,GAAG,CAAC7H,IAAJ,CAASC,GAAT,GAAe,CAAvD;AACAoZ,sBAAM,CAACzF,QAAP,CAAgBH,IAAI,CAAC6F,OAArB,EAA8B7F,IAAI,CAACpT,CAAL,GAAS,EAAvC,EAA2CwH,GAAG,CAAC7H,IAAJ,CAASC,GAAT,GAAe,EAA1D;AACAoZ,sBAAM,CAACzF,QAAP,CAAgBH,IAAI,CAAC3Q,OAArB,EAA8B2Q,IAAI,CAACpT,CAAL,GAAS,EAAvC,EAA2CwH,GAAG,CAAC7H,IAAJ,CAASC,GAAT,GAAe,EAA1D;AACAoZ,sBAAM,CAACzF,QAAP,CAAgBH,IAAI,CAAC3R,SAArB,EAAgC2R,IAAI,CAACpT,CAAL,GAAS,EAAzC,EAA6CwH,GAAG,CAAC7H,IAAJ,CAASC,GAAT,GAAe,EAA5D;AACD;AACF,aAvBD,MAuBO,IAAIsS,IAAI,CAAC9S,IAAL,KAAc,MAAlB,EAA0B;AAC/BgU,kBAAI,GAAG;AACLpT,iBAAC,EAAEiJ,IAAI,CAACzE,IAAL,CAAUE,GAAV,GAAgB8R,EAAhB,GAAqBC,EADnB;AAELtF,oBAAI,EAAE,QAAQlI,IAAI,CAACzE,IAAL,CAAUE,GAFnB;AAGLuU,uBAAO,EAAE,UAAUhQ,IAAI,CAACzE,IAAL,CAAUE,GAAV,GAAgBwN,IAAI,CAAC7R,IAAL,CAAU4I,IAAI,CAACpE,UAAL,CAAgBJ,GAA1B,CAA1B,CAHJ;AAILhD,yBAAS,EAAE,SAASqW,IAAI,CAACzX,IAAL,CAAU4I,IAAI,CAACzE,IAAL,CAAUC,GAApB,EAAyBuJ,OAAzB,CAAiC,CAAjC;AAJf,eAAP;AAMA,kBAAI/E,IAAI,CAACpE,UAAL,CAAgBJ,GAAhB,KAAwB,CAAC,CAA7B,EACE2O,IAAI,CAAC6F,OAAL,GAAe,UAAUhQ,IAAI,CAACzE,IAAL,CAAUE,GAAV,GAAgBwN,IAAI,CAAC7R,IAAL,CAAU,CAAV,CAA1B,CAAf;AACF+S,kBAAI,CAACpT,CAAL,GAASwH,GAAG,CAAC7H,IAAJ,CAASG,IAAlB,IAA0B6J,MAAM,CAACrD,CAAP,GAAW,CAArC,KAA2C8M,IAAI,CAACpT,CAAL,IAAU,GAArD;;AACA,kBAAIoT,IAAI,CAACpT,CAAL,IAAUwH,GAAG,CAAC7H,IAAJ,CAASG,IAAnB,IAA2BsT,IAAI,CAACpT,CAAL,GAAS,GAAT,IAAgB2J,MAAM,CAACtD,CAAtD,EAAyD;AACvD2S,sBAAM,CAAChM,SAAP;AACAgM,sBAAM,CAAC/L,SAAP,GAAmBzF,GAAG,CAAC1F,OAAJ,CAAYE,UAAZ,CAAuBvC,KAA1C;AACAuZ,sBAAM,CAAC9L,QAAP,CAAgBkG,IAAI,CAACpT,CAArB,EAAwBwH,GAAG,CAAC7H,IAAJ,CAASC,GAAjC,EAAsC,GAAtC,EAA2C,EAA3C;AACAoZ,sBAAM,CAAC5F,IAAP,GAAc0E,IAAI,CAACzY,SAAL,CAAeE,IAAf,GAAsB,GAAtB,GAA4BuY,IAAI,CAACzY,SAAL,CAAeG,MAAzD;AACAwZ,sBAAM,CAAC/L,SAAP,GAAmBzF,GAAG,CAAC3G,MAAJ,CAAWP,SAAX,CAAqBb,KAAxC;AACAuZ,sBAAM,CAAC3F,YAAP,GAAsB,KAAtB;AACA2F,sBAAM,CAACzF,QAAP,CAAgBH,IAAI,CAACjC,IAArB,EAA2BiC,IAAI,CAACpT,CAAL,GAAS,EAApC,EAAwCwH,GAAG,CAAC7H,IAAJ,CAASC,GAAT,GAAe,CAAvD;AACAoZ,sBAAM,CAACzF,QAAP,CAAgBH,IAAI,CAAC6F,OAArB,EAA8B7F,IAAI,CAACpT,CAAL,GAAS,EAAvC,EAA2CwH,GAAG,CAAC7H,IAAJ,CAASC,GAAT,GAAe,EAA1D;AACAoZ,sBAAM,CAACzF,QAAP,CAAgBH,IAAI,CAAC3R,SAArB,EAAgC2R,IAAI,CAACpT,CAAL,GAAS,EAAzC,EAA6CwH,GAAG,CAAC7H,IAAJ,CAASC,GAAT,GAAe,EAA5D;AACD;AACF;AACF;;AACD,cAAI4H,GAAG,CAAC1F,OAAJ,CAAYP,MAAZ,CAAmBpC,IAAvB,EAA6B;AAC3B,gBAAII,IAAI,GAAGiI,GAAG,CAAC1F,OAAJ,CAAYP,MAAZ,CAAmBhC,IAA9B;;AACA,iBAAK,IAAIoJ,IAAC,GAAG,CAAR,EAAWC,CAAC,GAAGK,IAAI,CAACnE,SAAL,CAAeE,IAAf,CAAoBoB,MAAxC,EAAgDuC,IAAC,GAAGC,CAApD,EAAuDD,IAAC,EAAxD,EAA4D;AAC1D,kBAAInE,IAAI,GAAG;AACTxE,iBAAC,EAAEkS,IAAI,CAAC7R,IAAL,CAAU4I,IAAI,CAACnE,SAAL,CAAeE,IAAf,CAAoB2D,IAApB,EAAuByD,KAAjC,IAA0CoK,EAA1C,GAA+CC,EADzC;AAET9V,iBAAC,EAAEmX,IAAI,CAACzX,IAAL,CAAU4I,IAAI,CAACnE,SAAL,CAAeE,IAAf,CAAoB2D,IAApB,EAAuByD,KAAjC,IAA0CiK,EAA1C,GAA+CC;AAFzC,eAAX;;AAIA,kBAAI9R,IAAI,CAACxE,CAAL,IAAUwH,GAAG,CAAC7H,IAAJ,CAASG,IAAnB,IAA2B0E,IAAI,CAACxE,CAAL,IAAU2J,MAAM,CAACtD,CAA5C,IAAiD7B,IAAI,CAAC7D,CAAL,IAAU6G,GAAG,CAAC7H,IAAJ,CAASC,GAApE,IAA2E4E,IAAI,CAAC7D,CAAL,IAAUgJ,MAAM,CAACpD,CAAhG,EAAmG;AACjGyS,sBAAM,CAAChM,SAAP;AACAgM,sBAAM,CAAChG,WAAP,GAAqB/J,IAAI,CAACnE,SAAL,CAAeE,IAAf,CAAoB2D,IAApB,EAAuBrI,SAAvB,CAAiCb,KAAtD;AACAuZ,sBAAM,CAAC/L,SAAP,GAAmBhE,IAAI,CAACnE,SAAL,CAAeE,IAAf,CAAoB2D,IAApB,EAAuBrI,SAAvB,CAAiCb,KAApD;AACAuZ,sBAAM,CAAC/F,MAAP,CAAczO,IAAI,CAACxE,CAAnB,EAAsBwH,GAAG,CAAC7H,IAAJ,CAASC,GAA/B;AACAoZ,sBAAM,CAAC9F,MAAP,CAAc1O,IAAI,CAACxE,CAAnB,EAAsBwE,IAAI,CAAC7D,CAAL,GAASpB,IAA/B;AACAyZ,sBAAM,CAAC7F,MAAP;AACA6F,sBAAM,CAAChM,SAAP;AACAgM,sBAAM,CAACvD,GAAP,CAAWjR,IAAI,CAACxE,CAAhB,EAAmBwE,IAAI,CAAC7D,CAAxB,EAA2BpB,IAA3B,EAAiC,CAAjC,EAAoC,IAAI2K,IAAI,CAACwL,EAA7C;AACAsD,sBAAM,CAAC/L,SAAP,GAAmBzF,GAAG,CAAC1F,OAAJ,CAAYP,MAAZ,CAAmB9B,KAAnB,KAA6B,EAA7B,GAAkC+H,GAAG,CAAC1F,OAAJ,CAAYP,MAAZ,CAAmB9B,KAArD,GAA6DwJ,IAAI,CAACnE,SAAL,CAAeE,IAAf,CAAoB2D,IAApB,EAAuBrI,SAAvB,CAAiCb,KAAjH;AACAuZ,sBAAM,CAACrD,IAAP;AACAqD,sBAAM,CAAC/F,MAAP,CAAczO,IAAI,CAACxE,CAAnB,EAAsBwE,IAAI,CAAC7D,CAAL,GAASpB,IAA/B;AACAyZ,sBAAM,CAAC9F,MAAP,CAAc1O,IAAI,CAACxE,CAAnB,EAAsB2J,MAAM,CAACpD,CAA7B;AACAyS,sBAAM,CAAC7F,MAAP;AACD;AACF;AACF,WAvBD,MAuBO;AACL6F,kBAAM,CAAChM,SAAP;;AACA,iBAAK,IAAIrE,IAAC,GAAG,CAAR,EAAWC,IAAC,GAAGK,IAAI,CAACnE,SAAL,CAAeE,IAAf,CAAoBoB,MAAxC,EAAgDuC,IAAC,GAAGC,IAApD,EAAuDD,IAAC,EAAxD,EAA4D;AAC1D,kBAAIA,IAAC,KAAK,CAAV,EAAa;AACb,kBAAInE,KAAI,GAAG;AACTxE,iBAAC,EAAEkS,IAAI,CAAC7R,IAAL,CAAU4I,IAAI,CAACnE,SAAL,CAAeE,IAAf,CAAoB2D,IAApB,EAAuByD,KAAjC,IAA0CoK,EAA1C,GAA+CC,EADzC;AAET9V,iBAAC,EAAEmX,IAAI,CAACzX,IAAL,CAAU4I,IAAI,CAACnE,SAAL,CAAeE,IAAf,CAAoB2D,IAApB,EAAuByD,KAAjC,IAA0CiK,EAA1C,GAA+CC;AAFzC,eAAX;;AAIA,kBAAI9R,KAAI,CAACxE,CAAL,IAAUwH,GAAG,CAAC7H,IAAJ,CAASG,IAAnB,IAA2B0E,KAAI,CAACxE,CAAL,IAAU2J,MAAM,CAACtD,CAA5C,IAAiD7B,KAAI,CAAC7D,CAAL,IAAU6G,GAAG,CAAC7H,IAAJ,CAASC,GAApE,IAA2E4E,KAAI,CAAC7D,CAAL,IAAUgJ,MAAM,CAACpD,CAAhG,EAAmG;AACjGyS,sBAAM,CAAChG,WAAP,GAAqB/J,IAAI,CAACnE,SAAL,CAAeE,IAAf,CAAoB2D,IAApB,EAAuBrI,SAAvB,CAAiCb,KAAtD;AACAuZ,sBAAM,CAAC/L,SAAP,GAAmBhE,IAAI,CAACnE,SAAL,CAAeE,IAAf,CAAoB2D,IAApB,EAAuBrI,SAAvB,CAAiCb,KAApD;AACAuZ,sBAAM,CAAC/F,MAAP,CAAczO,KAAI,CAACxE,CAAnB,EAAsBwH,GAAG,CAAC7H,IAAJ,CAASC,GAA/B;AACAoZ,sBAAM,CAAC9F,MAAP,CAAc1O,KAAI,CAACxE,CAAnB,EAAsB2J,MAAM,CAACpD,CAA7B;AACD;AACF;;AACDyS,kBAAM,CAAC7F,MAAP;AACD;;AACD,eAAKhL,QAAL,CAAcc,IAAI,CAACpE,UAAnB;AACD,SA1GuB,CA2GxB;;;AACA,YAAIoE,IAAI,CAAC9G,KAAL,CAAWsD,YAAX,IAA2B+B,GAAG,CAACrF,KAAJ,CAAUM,OAAV,CAAkBtD,IAA7C,IAAqD8J,IAAI,CAACzE,IAAL,CAAUC,GAAV,GAAgB,CAAC,CAA1E,EAA6E;AAC3E,cAAIjD,IAAI,GAAG0Q,IAAI,CAAC9S,IAAhB;AACA,cAAIgU,MAAI,GAAG;AACTpT,aAAC,EAAEkS,IAAI,CAAC7R,IAAL,CAAU4I,IAAI,CAACzE,IAAL,CAAUC,GAApB,IAA2B+R,EAA3B,GAAgCC,EAD1B;AAETtI,gBAAI,8BAAQ,KAAKU,KAAL,CAAW5F,IAAI,CAACzE,IAAL,CAAUE,GAArB,CAAR,SAAoClD,IAApC,CAFK;AAGT0X,kBAAM,8BAAQ,KAAKrK,KAAL,CAAW5F,IAAI,CAACzE,IAAL,CAAUE,GAAV,GAAgB,EAAhB,GAAqB8C,GAAG,CAAC3G,MAAJ,CAAWI,OAAX,CAAmBE,WAAnD,CAAR,OAHG;AAITsB,mBAAO,8BAAQ,KAAKoM,KAAL,CAAW5F,IAAI,CAACzE,IAAL,CAAUE,GAAV,GAAgBwN,IAAI,CAAC7R,IAAL,CAAU4I,IAAI,CAAC3D,KAAL,CAAW,CAAX,CAAV,CAA3B,CAAR,SAA+D9D,IAA/D,CAJE;AAKTC,qBAAS,8BAAQ,KAAKoN,KAAL,CAAWiJ,IAAI,CAACzX,IAAL,CAAU4I,IAAI,CAACzE,IAAL,CAAUC,GAApB,CAAX,CAAR;AALA,WAAX;;AAOA,cAAIjD,IAAI,KAAK,IAAb,EAAmB;AACjB4R,kBAAI,CAACjF,IAAL,+BAAkB,KAAKU,KAAL,CAAW5F,IAAI,CAACzE,IAAL,CAAUE,GAAV,GAAgB8C,GAAG,CAAC3G,MAAJ,CAAWI,OAAX,CAAmBE,WAAnC,GAAiD,EAA5D,CAAlB;AACAiS,kBAAI,CAAC8F,MAAL,+BAAoB,KAAKrK,KAAL,CAAW5F,IAAI,CAACzE,IAAL,CAAUE,GAArB,CAApB,SAAgDlD,IAAhD;AACD;;AACD4R,gBAAI,CAACpT,CAAL,GAASwH,GAAG,CAAC7H,IAAJ,CAASG,IAAlB,IAA0B6J,MAAM,CAACrD,CAAP,GAAW,CAArC,KAA2C8M,MAAI,CAACpT,CAAL,IAAU,GAArD;;AACA,cAAIoT,MAAI,CAACpT,CAAL,IAAUwH,GAAG,CAAC7H,IAAJ,CAASG,IAAnB,IAA2BsT,MAAI,CAACpT,CAAL,GAAS,GAAT,IAAgB2J,MAAM,CAACtD,CAAtD,EAAyD;AACvD2S,kBAAM,CAAChM,SAAP;AACAgM,kBAAM,CAACjG,SAAP,GAAmB,CAAnB;AACAiG,kBAAM,CAAC/L,SAAP,GAAmBzF,GAAG,CAAC1F,OAAJ,CAAYE,UAAZ,CAAuBvC,KAA1C;AACAuZ,kBAAM,CAAC9L,QAAP,CAAgBkG,MAAI,CAACpT,CAArB,EAAwBwH,GAAG,CAAC7H,IAAJ,CAASC,GAAjC,EAAsC,GAAtC,EAA2C,EAA3C;AACAoZ,kBAAM,CAAC5F,IAAP,GAAc0E,IAAI,CAACzY,SAAL,CAAeE,IAAf,GAAsB,GAAtB,GAA4BuY,IAAI,CAACzY,SAAL,CAAeG,MAAzD;AACAwZ,kBAAM,CAAC/L,SAAP,GAAmBzF,GAAG,CAAC3G,MAAJ,CAAWP,SAAX,CAAqBb,KAAxC;AACAuZ,kBAAM,CAAC3F,YAAP,GAAsB,KAAtB;AACA2F,kBAAM,CAACzF,QAAP,CAAgBH,MAAI,CAACjF,IAArB,EAA2BiF,MAAI,CAACpT,CAAL,GAAS,EAApC,EAAwCwH,GAAG,CAAC7H,IAAJ,CAASC,GAAT,GAAe,CAAvD;AACAoZ,kBAAM,CAACzF,QAAP,CAAgBH,MAAI,CAAC8F,MAArB,EAA6B9F,MAAI,CAACpT,CAAL,GAAS,EAAtC,EAA0CwH,GAAG,CAAC7H,IAAJ,CAASC,GAAT,GAAe,EAAzD;AACAoZ,kBAAM,CAACzF,QAAP,CAAgBH,MAAI,CAAC3Q,OAArB,EAA8B2Q,MAAI,CAACpT,CAAL,GAAS,EAAvC,EAA2CwH,GAAG,CAAC7H,IAAJ,CAASC,GAAT,GAAe,EAA1D;AACAoZ,kBAAM,CAACzF,QAAP,CAAgBH,MAAI,CAAC3R,SAArB,EAAgC2R,MAAI,CAACpT,CAAL,GAAS,EAAzC,EAA6CwH,GAAG,CAAC7H,IAAJ,CAASC,GAAT,GAAe,EAA5D;AACD;;AACD,cAAI4H,GAAG,CAAC1F,OAAJ,CAAYP,MAAZ,CAAmBpC,IAAvB,EAA6B;AAC3B,gBAAII,MAAI,GAAGiI,GAAG,CAAC1F,OAAJ,CAAYP,MAAZ,CAAmBhC,IAA9B;;AACA,iBAAK,IAAIoJ,IAAC,GAAG,CAAR,EAAWC,IAAC,GAAGK,IAAI,CAACnE,SAAL,CAAeC,QAAf,CAAwBqB,MAA5C,EAAoDuC,IAAC,GAAGC,IAAxD,EAA2DD,IAAC,EAA5D,EAAgE;AAC9D,kBAAIM,IAAI,CAACnE,SAAL,CAAeC,QAAf,CAAwB4D,IAAxB,EAA2BvJ,IAA3B,KAAoC,EAApC,IAA0C6J,IAAI,CAACnE,SAAL,CAAeC,QAAf,CAAwB4D,IAAxB,EAA2BrI,SAAzE,EAAoF;AAClF0Y,sBAAM,CAAChG,WAAP,GAAqB/J,IAAI,CAACnE,SAAL,CAAeC,QAAf,CAAwB4D,IAAxB,EAA2BrI,SAA3B,CAAqCb,KAA1D;AACAuZ,sBAAM,CAAC/L,SAAP,GAAmBzF,GAAG,CAAC1F,OAAJ,CAAYP,MAAZ,CAAmB9B,KAAnB,KAA6B,EAA7B,GAAkC+H,GAAG,CAAC1F,OAAJ,CAAYP,MAAZ,CAAmB9B,KAArD,GAA6DwJ,IAAI,CAACnE,SAAL,CAAeC,QAAf,CAAwB4D,IAAxB,EAA2BrI,SAA3B,CAAqCb,KAArH;AACA,oBAAIO,CAAC,GAAGkS,IAAI,CAAC7R,IAAL,CAAU4I,IAAI,CAACnE,SAAL,CAAeC,QAAf,CAAwB4D,IAAxB,EAA2ByD,KAArC,IAA8CoK,EAA9C,GAAmDC,EAA3D;AACA,oBAAI9V,CAAC,GAAGmX,IAAI,CAACzX,IAAL,CAAU4I,IAAI,CAACnE,SAAL,CAAeC,QAAf,CAAwB4D,IAAxB,EAA2ByD,KAArC,IAA8CiK,EAA9C,GAAmDC,EAA3D;;AACA,oBAAItW,CAAC,IAAIwH,GAAG,CAAC7H,IAAJ,CAASG,IAAd,IAAsBE,CAAC,IAAI2J,MAAM,CAACtD,CAAlC,IAAuC1F,CAAC,IAAI6G,GAAG,CAAC7H,IAAJ,CAASC,GAArD,IAA4De,CAAC,IAAIgJ,MAAM,CAACpD,CAA5E,EAA+E;AAC7EyS,wBAAM,CAAChM,SAAP;AACAgM,wBAAM,CAAC/F,MAAP,CAAcjT,CAAd,EAAiBwH,GAAG,CAAC7H,IAAJ,CAASC,GAA1B;AACAoZ,wBAAM,CAAC9F,MAAP,CAAclT,CAAd,EAAiBW,CAAC,GAAGpB,MAArB;AACAyZ,wBAAM,CAAC7F,MAAP;AACA6F,wBAAM,CAAChM,SAAP;AACAgM,wBAAM,CAACvD,GAAP,CAAWzV,CAAX,EAAcW,CAAd,EAAiBpB,MAAjB,EAAuB,CAAvB,EAA0B,IAAI2K,IAAI,CAACwL,EAAnC;AACAsD,wBAAM,CAACrD,IAAP;AACAqD,wBAAM,CAAC/F,MAAP,CAAcjT,CAAd,EAAiBW,CAAC,GAAGpB,MAArB;AACAyZ,wBAAM,CAAC9F,MAAP,CAAclT,CAAd,EAAiB2J,MAAM,CAACpD,CAAxB;AACAyS,wBAAM,CAAC7F,MAAP;AACD;AACF;;AACD,kBAAI,CAAClK,IAAI,CAACnE,SAAL,CAAeC,QAAf,CAAwB4D,IAAxB,EAA2BrI,SAA5B,IAAyC2I,IAAI,CAACnE,SAAL,CAAeC,QAAf,CAAwB4D,IAAxB,EAA2BvJ,IAA3B,CAAgC+M,OAAhC,CAAwC,GAAxC,MAAiD,CAAC,CAA3F,IAAgGlD,IAAI,CAACnE,SAAL,CAAeC,QAAf,CAAwB4D,IAAxB,EAA2BvJ,IAA3B,CAAgC+M,OAAhC,CAAwC,GAAxC,MAAiD,CAAC,CAAtJ,EAAyJ;AACvJ,oBAAIgN,OAAO,GAAG;AACZnZ,mBAAC,EAAEkS,IAAI,CAAC7R,IAAL,CAAU4I,IAAI,CAACnE,SAAL,CAAeC,QAAf,CAAwB4D,IAAxB,EAA2ByD,KAArC,IAA8CoK,EAA9C,GAAmDC,EAD1C;AAEZ9V,mBAAC,EAAEmX,IAAI,CAACzX,IAAL,CAAU4I,IAAI,CAACnE,SAAL,CAAeC,QAAf,CAAwB4D,IAAxB,EAA2ByD,KAArC,IAA8CiK,EAA9C,GAAmDC;AAF1C,iBAAd;;AAIA,oBAAI6C,OAAO,CAACnZ,CAAR,IAAawH,GAAG,CAAC7H,IAAJ,CAASG,IAAtB,IAA8BqZ,OAAO,CAACnZ,CAAR,IAAa2J,MAAM,CAACtD,CAAlD,IAAuD8S,OAAO,CAACxY,CAAR,IAAa6G,GAAG,CAAC7H,IAAJ,CAASC,GAA7E,IAAoFuZ,OAAO,CAACxY,CAAR,IAAagJ,MAAM,CAACpD,CAA5G,EAA+G;AAC7GyS,wBAAM,CAAChM,SAAP;AACAgM,wBAAM,CAAChG,WAAP,GAAqBxL,GAAG,CAAC1F,OAAJ,CAAYxB,SAAZ,CAAsBb,KAA3C;AACAuZ,wBAAM,CAAC/F,MAAP,CAAckG,OAAO,CAACnZ,CAAtB,EAAyBwH,GAAG,CAAC7H,IAAJ,CAASC,GAAlC;AACAoZ,wBAAM,CAAC9F,MAAP,CAAciG,OAAO,CAACnZ,CAAtB,EAAyBmZ,OAAO,CAACxY,CAAR,GAAYpB,MAArC;AACAyZ,wBAAM,CAAC7F,MAAP;AACA6F,wBAAM,CAAChM,SAAP;AACAgM,wBAAM,CAAC/L,SAAP,GAAmBzF,GAAG,CAAC1F,OAAJ,CAAYP,MAAZ,CAAmB9B,KAAnB,KAA6B,EAA7B,GAAkC+H,GAAG,CAAC1F,OAAJ,CAAYP,MAAZ,CAAmB9B,KAArD,GAA6D+H,GAAG,CAAC1F,OAAJ,CAAYxB,SAAZ,CAAsBb,KAAtG;AACAuZ,wBAAM,CAACvD,GAAP,CAAW0D,OAAO,CAACnZ,CAAnB,EAAsBmZ,OAAO,CAACxY,CAA9B,EAAiCpB,MAAjC,EAAuC,CAAvC,EAA0C,IAAI2K,IAAI,CAACwL,EAAnD;AACAsD,wBAAM,CAACrD,IAAP;AACAqD,wBAAM,CAAC/F,MAAP,CAAckG,OAAO,CAACnZ,CAAtB,EAAyBmZ,OAAO,CAACxY,CAAR,GAAYpB,MAArC;AACAyZ,wBAAM,CAAC9F,MAAP,CAAciG,OAAO,CAACnZ,CAAtB,EAAyB2J,MAAM,CAACpD,CAAhC;AACAyS,wBAAM,CAAC7F,MAAP;AACD;AACF;AACF;AACF,WA1CD,MA0CO;AACL,iBAAK,IAAIxK,IAAC,GAAG,CAAR,EAAWC,IAAC,GAAGK,IAAI,CAACnE,SAAL,CAAeC,QAAf,CAAwBqB,MAA5C,EAAoDuC,IAAC,GAAGC,IAAxD,EAA2DD,IAAC,EAA5D,EAAgE;AAC9D,kBAAIM,IAAI,CAACnE,SAAL,CAAeC,QAAf,CAAwB4D,IAAxB,EAA2BvJ,IAA3B,KAAoC,EAApC,IAA0C6J,IAAI,CAACnE,SAAL,CAAeC,QAAf,CAAwB4D,IAAxB,EAA2BrI,SAAzE,EAAoF;AAClF0Y,sBAAM,CAAChG,WAAP,GAAqB/J,IAAI,CAACnE,SAAL,CAAeC,QAAf,CAAwB4D,IAAxB,EAA2BrI,SAA3B,CAAqCb,KAA1D;AACAuZ,sBAAM,CAAC/L,SAAP,GAAmBhE,IAAI,CAACnE,SAAL,CAAeC,QAAf,CAAwB4D,IAAxB,EAA2BrI,SAA3B,CAAqCb,KAAxD;;AACA,oBAAIO,GAAC,GAAGkS,IAAI,CAAC7R,IAAL,CAAU4I,IAAI,CAACnE,SAAL,CAAeC,QAAf,CAAwB4D,IAAxB,EAA2ByD,KAArC,IAA8CoK,EAA9C,GAAmDC,EAA3D;;AACA,oBAAI9V,GAAC,GAAGmX,IAAI,CAACzX,IAAL,CAAU4I,IAAI,CAACnE,SAAL,CAAeC,QAAf,CAAwB4D,IAAxB,EAA2ByD,KAArC,IAA8CiK,EAA9C,GAAmDC,EAA3D;;AACA,oBAAItW,GAAC,IAAIwH,GAAG,CAAC7H,IAAJ,CAASG,IAAd,IAAsBE,GAAC,IAAI2J,MAAM,CAACtD,CAAlC,IAAuC1F,GAAC,IAAI6G,GAAG,CAAC7H,IAAJ,CAASC,GAArD,IAA4De,GAAC,IAAIgJ,MAAM,CAACpD,CAA5E,EAA+E;AAC7EyS,wBAAM,CAAChM,SAAP;AACAgM,wBAAM,CAAC/F,MAAP,CAAcjT,GAAd,EAAiBwH,GAAG,CAAC7H,IAAJ,CAASC,GAA1B;AACAoZ,wBAAM,CAAC9F,MAAP,CAAclT,GAAd,EAAiB2J,MAAM,CAACpD,CAAxB;AACAyS,wBAAM,CAAC7F,MAAP;AACD;AACF;;AACD,kBAAI,CAAClK,IAAI,CAACnE,SAAL,CAAeC,QAAf,CAAwB4D,IAAxB,EAA2BrI,SAA5B,IAAyC2I,IAAI,CAACnE,SAAL,CAAeC,QAAf,CAAwB4D,IAAxB,EAA2BvJ,IAA3B,CAAgC+M,OAAhC,CAAwC,GAAxC,MAAiD,CAAC,CAA3F,IAAgGlD,IAAI,CAACnE,SAAL,CAAeC,QAAf,CAAwB4D,IAAxB,EAA2BvJ,IAA3B,CAAgC+M,OAAhC,CAAwC,GAAxC,MAAiD,CAAC,CAAtJ,EAAyJ;AACvJ,oBAAIgN,QAAO,GAAG;AACZnZ,mBAAC,EAAEkS,IAAI,CAAC7R,IAAL,CAAU4I,IAAI,CAACnE,SAAL,CAAeC,QAAf,CAAwB4D,IAAxB,EAA2ByD,KAArC,IAA8CoK,EAA9C,GAAmDC,EAD1C;AAEZ9V,mBAAC,EAAEmX,IAAI,CAACzX,IAAL,CAAU4I,IAAI,CAACnE,SAAL,CAAeC,QAAf,CAAwB4D,IAAxB,EAA2ByD,KAArC,IAA8CiK,EAA9C,GAAmDC;AAF1C,iBAAd;;AAIA,oBAAI6C,QAAO,CAACnZ,CAAR,IAAawH,GAAG,CAAC7H,IAAJ,CAASG,IAAtB,IAA8BqZ,QAAO,CAACnZ,CAAR,IAAa2J,MAAM,CAACtD,CAAlD,IAAuD8S,QAAO,CAACxY,CAAR,IAAa6G,GAAG,CAAC7H,IAAJ,CAASC,GAA7E,IAAoFuZ,QAAO,CAACxY,CAAR,IAAagJ,MAAM,CAACpD,CAA5G,EAA+G;AAC7GyS,wBAAM,CAAChM,SAAP;AACAgM,wBAAM,CAAChG,WAAP,GAAqBxL,GAAG,CAAC1F,OAAJ,CAAYxB,SAAZ,CAAsBb,KAA3C;AACAuZ,wBAAM,CAAC/F,MAAP,CAAckG,QAAO,CAACnZ,CAAtB,EAAyBwH,GAAG,CAAC7H,IAAJ,CAASC,GAAlC;AACAoZ,wBAAM,CAAC9F,MAAP,CAAciG,QAAO,CAACnZ,CAAtB,EAAyB2J,MAAM,CAACpD,CAAhC;AACAyS,wBAAM,CAAC7F,MAAP;AACD;AACF;AACF;AACF;AACF,SA9MuB,CA+MxB;;;AACA,YAAIlK,IAAI,CAAC9G,KAAL,CAAWwD,OAAX,IAAsB6B,GAAG,CAACrF,KAAJ,CAAUS,SAAV,CAAoBzD,IAA9C,EAAoD;AAClD,cAAIqI,GAAG,CAAC1F,OAAJ,CAAYP,MAAZ,CAAmBpC,IAAvB,EAA6B;AAC3B,gBAAII,MAAI,GAAGiI,GAAG,CAAC1F,OAAJ,CAAYP,MAAZ,CAAmBhC,IAA9B;;AACA,iBAAK,IAAIoJ,IAAC,GAAG,CAAR,EAAWC,IAAC,GAAGK,IAAI,CAACnE,SAAL,CAAeC,QAAf,CAAwBqB,MAA5C,EAAoDuC,IAAC,GAAGC,IAAxD,EAA2DD,IAAC,EAA5D,EAAgE;AAC9D,kBAAIM,IAAI,CAACnE,SAAL,CAAeC,QAAf,CAAwB4D,IAAxB,EAA2BvJ,IAA3B,KAAoC,EAApC,IAA0C6J,IAAI,CAACnE,SAAL,CAAeC,QAAf,CAAwB4D,IAAxB,EAA2BrI,SAAzE,EAAoF;AAClF,oBAAIN,GAAC,GAAGkS,IAAI,CAAC7R,IAAL,CAAU4I,IAAI,CAACnE,SAAL,CAAeC,QAAf,CAAwB4D,IAAxB,EAA2ByD,KAArC,IAA8CoK,EAA9C,GAAmDC,EAA3D;;AACA,oBAAI9V,GAAC,GAAGmX,IAAI,CAACzX,IAAL,CAAU4I,IAAI,CAACnE,SAAL,CAAeC,QAAf,CAAwB4D,IAAxB,EAA2ByD,KAArC,IAA8CiK,EAA9C,GAAmDC,EAA3D;;AACA,oBAAItW,GAAC,GAAGwH,GAAG,CAAC7H,IAAJ,CAASG,IAAb,IAAqBE,GAAC,IAAI2J,MAAM,CAACtD,CAAjC,IAAsC1F,GAAC,IAAI6G,GAAG,CAAC7H,IAAJ,CAASC,GAApD,IAA2De,GAAC,IAAIgJ,MAAM,CAACpD,CAA3E,EAA8E;AAC5E,sBAAI6M,MAAI,GAAGnK,IAAI,CAACnE,SAAL,CAAeC,QAAf,CAAwB4D,IAAxB,EAA2BvJ,IAAtC;AACA,sBAAIK,KAAK,GAAGwJ,IAAI,CAACnE,SAAL,CAAeC,QAAf,CAAwB4D,IAAxB,EAA2BrI,SAA3B,CAAqCb,KAAjD;AACAiV,0BAAQ,CAAC1H,SAAT;AACA0H,0BAAQ,CAAC3B,SAAT,GAAqB,CAArB;AACA2B,0BAAQ,CAAC1B,WAAT,GAAuBvT,KAAvB;AACAiV,0BAAQ,CAACzH,SAAT,GAAqBxN,KAArB;AACAiV,0BAAQ,CAACtB,IAAT,GAAgB0E,IAAI,CAACzY,SAAL,CAAeE,IAAf,GAAsB,GAAtB,GAA4BuY,IAAI,CAACzY,SAAL,CAAeG,MAA3D;AACAkV,0BAAQ,CAAC5B,IAAT;AACA4B,0BAAQ,CAACzB,MAAT,CAAgBjT,GAAhB,EAAmBwH,GAAG,CAAC7H,IAAJ,CAASC,GAA5B;AACA8U,0BAAQ,CAACxB,MAAT,CAAgBlT,GAAhB,EAAmBW,GAAC,GAAGpB,MAAvB;AACAmV,0BAAQ,CAAC0E,SAAT,CAAmBpZ,GAAC,GAAG2J,MAAM,CAACnD,CAA9B,EAAiC,MAAMgB,GAAG,CAAC7H,IAAJ,CAASC,GAAhD;AACA8U,0BAAQ,CAAC2E,MAAT,CAAgB,CAAC,EAAD,GAAMnP,IAAI,CAACwL,EAAX,GAAgB,GAAhC;AACAhB,0BAAQ,CAACpB,SAAT,GAAqB,OAArB;AACAoB,0BAAQ,CAACrB,YAAT,GAAwB,QAAxB;AACAqB,0BAAQ,CAACnB,QAAT,CAAkBH,MAAlB,EAAyB,KAAK5L,GAAG,CAAC7H,IAAJ,CAASC,GAAvC,EAA6C+J,MAAM,CAACnD,CAApD;AACAkO,0BAAQ,CAACpS,OAAT;AACAoS,0BAAQ,CAACvB,MAAT;AACAuB,0BAAQ,CAAC1H,SAAT;AACA0H,0BAAQ,CAACe,GAAT,CAAazV,GAAb,EAAgBW,GAAhB,EAAmBpB,MAAnB,EAAyB,CAAzB,EAA4B,IAAI2K,IAAI,CAACwL,EAArC;AACAhB,0BAAQ,CAACzH,SAAT,GAAqBzF,GAAG,CAAC1F,OAAJ,CAAYP,MAAZ,CAAmB9B,KAAnB,KAA6B,EAA7B,GAAkC+H,GAAG,CAAC1F,OAAJ,CAAYP,MAAZ,CAAmB9B,KAArD,GAA6DA,KAAlF;AACAiV,0BAAQ,CAACiB,IAAT;AACAjB,0BAAQ,CAACzB,MAAT,CAAgBjT,GAAhB,EAAmBW,GAAC,GAAGpB,MAAvB;AACAmV,0BAAQ,CAACxB,MAAT,CAAgBlT,GAAhB,EAAmB2J,MAAM,CAACpD,CAA1B;AACAmO,0BAAQ,CAACvB,MAAT;AACD;AACF;AACF;AACF,WAlCD,MAkCO;AACL,iBAAK,IAAIxK,IAAC,GAAG,CAAR,EAAWC,IAAC,GAAGK,IAAI,CAACnE,SAAL,CAAeC,QAAf,CAAwBqB,MAA5C,EAAoDuC,IAAC,GAAGC,IAAxD,EAA2DD,IAAC,EAA5D,EAAgE;AAC9D,kBAAIM,IAAI,CAACnE,SAAL,CAAeC,QAAf,CAAwB4D,IAAxB,EAA2BvJ,IAA3B,KAAoC,EAApC,IAA0C6J,IAAI,CAACnE,SAAL,CAAeC,QAAf,CAAwB4D,IAAxB,EAA2BrI,SAAzE,EAAoF;AAClF,oBAAIN,GAAC,GAAGkS,IAAI,CAAC7R,IAAL,CAAU4I,IAAI,CAACnE,SAAL,CAAeC,QAAf,CAAwB4D,IAAxB,EAA2ByD,KAArC,IAA8CoK,EAA9C,GAAmDC,EAA3D;;AACA,oBAAI9V,GAAC,GAAGmX,IAAI,CAACzX,IAAL,CAAU4I,IAAI,CAACnE,SAAL,CAAeC,QAAf,CAAwB4D,IAAxB,EAA2ByD,KAArC,IAA8CiK,EAA9C,GAAmDC,EAA3D;;AACA,oBAAItW,GAAC,GAAGwH,GAAG,CAAC7H,IAAJ,CAASG,IAAb,IAAqBE,GAAC,IAAI2J,MAAM,CAACtD,CAAjC,IAAsC1F,GAAC,IAAI6G,GAAG,CAAC7H,IAAJ,CAASC,GAApD,IAA2De,GAAC,IAAIgJ,MAAM,CAACpD,CAA3E,EAA8E;AAC5E,sBAAI6M,MAAI,GAAGnK,IAAI,CAACnE,SAAL,CAAeC,QAAf,CAAwB4D,IAAxB,EAA2BvJ,IAAtC;AACA,sBAAIK,MAAK,GAAGwJ,IAAI,CAACnE,SAAL,CAAeC,QAAf,CAAwB4D,IAAxB,EAA2BrI,SAA3B,CAAqCb,KAAjD;AACAiV,0BAAQ,CAAC1H,SAAT;AACA0H,0BAAQ,CAAC3B,SAAT,GAAqB,CAArB;AACA2B,0BAAQ,CAAC1B,WAAT,GAAuBvT,MAAvB;AACAiV,0BAAQ,CAACzH,SAAT,GAAqBxN,MAArB;AACAiV,0BAAQ,CAACzH,SAAT,GAAqBxN,MAArB;AACAiV,0BAAQ,CAACtB,IAAT,GAAgB0E,IAAI,CAACzY,SAAL,CAAeE,IAAf,GAAsB,GAAtB,GAA4BuY,IAAI,CAACzY,SAAL,CAAeG,MAA3D;AACAkV,0BAAQ,CAAC5B,IAAT;AACA4B,0BAAQ,CAACzB,MAAT,CAAgBjT,GAAhB,EAAmBwH,GAAG,CAAC7H,IAAJ,CAASC,GAA5B;AACA8U,0BAAQ,CAACxB,MAAT,CAAgBlT,GAAhB,EAAmB2J,MAAM,CAACpD,CAA1B;AACAmO,0BAAQ,CAAC0E,SAAT,CAAmBpZ,GAAC,GAAG2J,MAAM,CAACnD,CAA9B,EAAiC,MAAMgB,GAAG,CAAC7H,IAAJ,CAASC,GAAhD;AACA8U,0BAAQ,CAAC2E,MAAT,CAAgB,CAAC,EAAD,GAAMnP,IAAI,CAACwL,EAAX,GAAgB,GAAhC;AACAhB,0BAAQ,CAACpB,SAAT,GAAqB,OAArB;AACAoB,0BAAQ,CAACrB,YAAT,GAAwB,QAAxB;AACAqB,0BAAQ,CAACnB,QAAT,CAAkBH,MAAlB,EAAyB,KAAK5L,GAAG,CAAC7H,IAAJ,CAASC,GAAvC,EAA6C+J,MAAM,CAACnD,CAApD;AACAkO,0BAAQ,CAACpS,OAAT;AACAoS,0BAAQ,CAACvB,MAAT;AACD;AACF;AACF;AACF;AACF;;AACDlK,YAAI,CAACzD,SAAL,GAAiB,CAAjB;AACD,OAl6DgB;AAm6DjB;AACAwF,kBAAY,EAAE,wBAAmB;AAAA,YAAV5K,IAAU,uEAAH,CAAG;AAAE;AACjC,YAAI8D,KAAK,GAAG,KAAKA,KAAjB;AAAA,YACEsD,GAAG,GAAG,KAAKT,OADb;AAAA,YAEEuS,OAAO,GAAG,KAAKtS,UAAL,CAAgBE,GAAhB,CAAoBuF,UAFhC;AAGA,YAAI7D,CAAC,GAAG1E,KAAK,CAACgB,OAAN,CAAckB,MAAtB;AACA,YAAI7G,IAAI,GAAG;AACTgB,eAAK,EAAE,KAAKyF,MAAL,CAAYC,CAAZ,CAAcjG,CAAd,CAAgBmG,GAAhB,CAAoB6H,OAApB,CAA4B,CAA5B,EAA+B5H,MAA/B,IAAyC,CAAzC,GAA6C,GAA7C,GAAmD,GADjD;AAETtC,gBAAM,EAAE;AAFC,SAAX;AAIA,YAAI0O,CAAC,GAAG,CAAC,EAAE,KAAKxM,MAAL,CAAYK,CAAZ,CAAcC,CAAd,IAAmB/G,IAAI,CAACgB,KAAL,GAAa,EAAhC,CAAF,CAAT;AACA,YAAI6V,IAAI,GAAG5O,GAAG,CAACxH,CAAJ,CAAMK,IAAjB,CAV+B,CAW/B;;AACA,YAAIkZ,IAAI,GAAGnD,IAAI,CAACA,IAAI,CAAChQ,MAAL,GAAc,CAAf,CAAf;;AACA,YAAIhG,IAAI,KAAK,CAAT,IAAcwI,CAAC,GAAG4J,CAAtB,EAAyB;AACvB,cAAI5J,CAAC,KAAK,CAAV,EAAa;AACX,iBAAK,IAAID,IAAC,GAAG,CAAb,EAAgBA,IAAC,GAAGC,CAApB,EAAuBD,IAAC,EAAxB,EAA4B;AAC1B,kBAAIzE,KAAK,CAACgB,OAAN,CAAcyD,IAAd,MAAqBzE,KAAK,CAACM,IAAN,CAAWC,GAApC,EAAyC;AACvC;AACD;AACF;;AACDP,iBAAK,CAACgB,OAAN,CAAcsH,IAAd,CAAmBtI,KAAK,CAACM,IAAN,CAAWC,GAA9B;;AACAmE,aAAC;AACF,WARD,MAQO,IAAIA,CAAC,KAAK4J,CAAV,EAAa;AAClB;AACD,WAFM,MAEA;AACLtO,iBAAK,CAACgB,OAAN,CAAcsH,IAAd,CAAmBtI,KAAK,CAACM,IAAN,CAAWC,GAA9B;;AACAmE,aAAC;AACF;;AACD1E,eAAK,CAACgB,OAAN,CAAcsU,IAAd,CAAmB,UAACC,CAAD,EAAIlT,CAAJ,EAAU;AAC3B,mBAAOkT,CAAC,GAAGlT,CAAX;AACD,WAFD;;AAGArC,eAAK,CAACiB,UAAN,CAAiBiB,MAAjB,GAA0B,CAA1B;;AACA,eAAK,IAAIuC,IAAC,GAAG,CAAb,EAAgBA,IAAC,GAAGC,CAApB,EAAuBD,IAAC,EAAxB,EAA4B;AAC1BzE,iBAAK,CAACiB,UAAN,CAAiBqH,IAAjB,CAAsB;AACpBkN,mBAAK,EAAElS,GAAG,CAACxH,CAAJ,CAAMZ,IADO;AAEpB+O,kBAAI,EAAE3G,GAAG,CAACxH,CAAJ,CAAMK,IAAN,CAAW6D,KAAK,CAACgB,OAAN,CAAcyD,IAAd,CAAX,CAFc;AAGpB3I,eAAC,EAAE2I,IAAC,IAAIpJ,IAAI,CAACgB,KAAL,GAAa,CAAjB,CAAD,GAAuBiH,GAAG,CAAC7H,IAAJ,CAASG,IAAhC,GAAuC,GAHtB;AAIpBa,eAAC,EAAE6G,GAAG,CAAC7H,IAAJ,CAASC,GAJQ;AAKpBqJ,kBAAI,EAAE;AALc,aAAtB;AAOD;AACF,SA5BD,MA4BO,IAAI7I,IAAI,KAAK,CAAb,EAAgB;AACrB,cAAI8I,OAAO,GAAG,IAAd;AAAA,cACEyQ,IAAI,GAAG,IADT;AAAA,cAEE1Q,IAAI,GAAG,CAAC,CAFV;;AAGA,eAAK,IAAIN,IAAC,GAAG,CAAb,EAAgBA,IAAC,GAAGC,CAApB,EAAuBD,IAAC,EAAxB,EAA4B;AAC1B,gBAAIzE,KAAK,CAACiB,UAAN,CAAiBwD,IAAjB,EAAoBM,IAAxB,EAA8B;AAC5B0Q,kBAAI,GAAGzV,KAAK,CAACgB,OAAN,CAAcyD,IAAd,CAAP;AACAO,qBAAO,GAAGhF,KAAK,CAACiB,UAAN,CAAiBwD,IAAjB,CAAV;AACAM,kBAAI,GAAGN,IAAP;;AACAzE,mBAAK,CAACgB,OAAN,CAAc0U,MAAd,CAAqBjR,IAArB,EAAwB,CAAxB;;AACAzE,mBAAK,CAACiB,UAAN,CAAiByU,MAAjB,CAAwBjR,IAAxB,EAA2B,CAA3B;;AACA;AACD;AACF;;AACD,cAAIM,IAAI,GAAG,CAAC,CAAZ,EAAe;AACb/E,iBAAK,CAACgB,OAAN,CAAcsH,IAAd,CAAmBmN,IAAnB;;AACAzV,iBAAK,CAACiB,UAAN,CAAiBqH,IAAjB,CAAsBtD,OAAtB;AACD;AACF;;AACD,YAAI1B,GAAG,CAAC3G,MAAJ,CAAWI,OAAX,CAAmBK,QAAnB,IAA+BkG,GAAG,CAACxH,CAAJ,CAAMZ,IAAN,KAAe8E,KAAK,CAACiB,UAAN,CAAiB,CAAjB,EAAoBuU,KAAtE,EAA6E;AAC3E,eAAK,IAAI/Q,IAAC,GAAG,CAAR,EAAW4B,GAAG,GAAG6L,IAAI,CAAChQ,MAA3B,EAAmCuC,IAAC,GAAG4B,GAAvC,EAA4C5B,IAAC,EAA7C,EAAiD;AAC/C,iBAAK,IAAI6B,CAAC,GAAG,CAAR,EAAWpE,MAAM,GAAGlC,KAAK,CAACiB,UAAN,CAAiBiB,MAA1C,EAAkDoE,CAAC,GAAGpE,MAAtD,EAA8DoE,CAAC,EAA/D,EAAmE;AACjE,kBAAItG,KAAK,CAACiB,UAAN,CAAiBqF,CAAjB,EAAoB2D,IAApB,IAA4BiI,IAAI,CAACzN,IAAD,CAApC,EAAyC;AACvCzE,qBAAK,CAACgB,OAAN,CAAcsF,CAAd,IAAmB7B,IAAnB;AACA;AACD;AACF;AACF;AACF;;AACD2Q,eAAO,CAACvN,SAAR,CAAkB,CAAlB,EAAqB,CAArB,EAAwB,KAAKnI,IAAL,CAAUrD,KAAlC,EAAyC,KAAKqD,IAAL,CAAUE,MAAnD;AACAwV,eAAO,CAACtM,SAAR;AACAsM,eAAO,CAAClG,IAAR,GAAe5L,GAAG,CAAC3G,MAAJ,CAAWE,QAAX,CAAoB1B,SAApB,CAA8BE,IAA9B,GACb,GADa,GACPiI,GAAG,CAAC3G,MAAJ,CAAWE,QAAX,CAAoB1B,SAApB,CAA8BG,MADtC;AAEA8Z,eAAO,CAACjG,YAAR,GAAuB,KAAvB;AACAiG,eAAO,CAACtG,WAAR,GAAsBxL,GAAG,CAAC3G,MAAJ,CAAWE,QAAX,CAAoBT,SAApB,CAA8Bb,KAApD;AACA,YAAI+E,IAAI,GAAG;AACTxE,WAAC,EAAE,IADM;AAETW,WAAC,EAAE;AAFM,SAAX;AAIA,YAAMkZ,OAAO,GAAG;AACdC,YAAE,EAAE,KADU;AAEdC,YAAE,EAAE;AAFU,SAAhB;AAIA,YAAI5L,IAAI,GAAG0L,OAAO,CAACrS,GAAG,CAACxH,CAAJ,CAAMZ,IAAP,CAAlB;;AACA,aAAK,IAAIuJ,IAAC,GAAG,CAAb,EAAgBA,IAAC,GAAGC,CAApB,EAAuBD,IAAC,EAAxB,EAA4B;AAC1B,cACGnB,GAAG,CAACxH,CAAJ,CAAMK,IAAN,CAAW+F,MAAX,GAAoBlC,KAAK,CAACgB,OAAN,CAAcyD,IAAd,CAApB,IACCnB,GAAG,CAAC3G,MAAJ,CAAWI,OAAX,CAAmBK,QADrB,IAEC4C,KAAK,CAACiB,UAAN,CAAiBwD,IAAjB,EAAoBwF,IAApB,GAA2BoL,IAA3B,IACCrV,KAAK,CAACiB,UAAN,CAAiBuU,KAAjB,KAA2BlS,GAAG,CAACxH,CAAJ,CAAMZ,IAJrC,EAKE;AACF,cAAI4a,SAAS,GAAG9V,KAAK,CAACiB,UAAN,CAAiBwD,IAAjB,EAAoB3I,CAApB,GAAwBT,IAAI,CAACgB,KAAL,GAAa,CAArD;AACAiE,cAAI,GAAG;AACLxE,aAAC,EAAEwH,GAAG,CAACxH,CAAJ,CAAMK,IAAN,CAAW6D,KAAK,CAACgB,OAAN,CAAcyD,IAAd,CAAX,IAA+B,KAAK5E,cAAL,CAAoBE,UAApB,CAA+BjE,CAA/B,CAAiCoK,CAAhE,GAAoE,KAAKrG,cAAL,CAAoBE,UAApB,CAA+BjE,CAA/B,CAAiCuG,CADnG;AAEL5F,aAAC,EAAE6G,GAAG,CAAC7G,CAAJ,CAAMN,IAAN,CAAW6D,KAAK,CAACgB,OAAN,CAAcyD,IAAd,CAAX,IAA+B,KAAK5E,cAAL,CAAoBE,UAApB,CAA+BtD,CAA/B,CAAiCyJ,CAAhE,GAAoE,KAAKrG,cAAL,CAAoBE,UAApB,CAA+BtD,CAA/B,CAAiC4F;AAFnG,WAAP;AAIA,cAAM0T,SAAS,GAAG,KAAKpL,KAAL,CAAWrH,GAAG,CAACxH,CAAJ,CAAMK,IAAN,CAAW6D,KAAK,CAACgB,OAAN,CAAcyD,IAAd,CAAX,CAAX,CAAlB;AACA2Q,iBAAO,CAACrM,SAAR,GAAoBzF,GAAG,CAAC3G,MAAJ,CAAWE,QAAX,CAAoBT,SAApB,CAA8Bb,KAAlD;AACA6Z,iBAAO,CAACpM,QAAR,CAAiBhJ,KAAK,CAACiB,UAAN,CAAiBwD,IAAjB,EAAoB3I,CAArC,EAAwCkE,KAAK,CAACiB,UAAN,CAAiBwD,IAAjB,EAAoBhI,CAA5D,EAA+DpB,IAAI,CAACgB,KAApE,EAA2EhB,IAAI,CAACuE,MAAhF;AACAwV,iBAAO,CAACrM,SAAR,GAAoBzF,GAAG,CAAC3G,MAAJ,CAAWE,QAAX,CAAoB1B,SAApB,CAA8BI,KAAlD;AACA6Z,iBAAO,CAAC/F,QAAR,CAAiBpF,IAAI,GAAG8L,SAAP,GAAmBzS,GAAG,CAACxH,CAAJ,CAAMZ,IAA1C,EAAgD8E,KAAK,CAACiB,UAAN,CAAiBwD,IAAjB,EAAoB3I,CAApB,GAAwB,CAAxE,EAA2EkE,KAAK,CAACiB,UAAN,CAAiBwD,IAAjB,EAAoBhI,CAApB,GAAwB,CAAnG;AACA2Y,iBAAO,CAAC/F,QAAR,CAAiB,QAAQ/L,GAAG,CAAC7G,CAAJ,CAAMN,IAAN,CAAW6D,KAAK,CAACgB,OAAN,CAAcyD,IAAd,CAAX,EAA6BqF,OAA7B,CAAqC,CAArC,CAAR,GAAkDxG,GAAG,CAAC7G,CAAJ,CAAMvB,IAAzE,EAA+E8E,KAAK,CAACiB,UAAN,CAAiBwD,IAAjB,EAAoB3I,CAApB,GAAwB,CAAvG,EAA0GkE,KAAK,CAACiB,UAAN,CAAiBwD,IAAjB,EAAoBhI,CAApB,GAAwB,EAAlI;AACA2Y,iBAAO,CAACrG,MAAR,CAAe+G,SAAf,EAA0B9V,KAAK,CAACiB,UAAN,CAAiBwD,IAAjB,EAAoBhI,CAApB,GAAwBpB,IAAI,CAACuE,MAAvD;AACAwV,iBAAO,CAACpG,MAAR,CAAe1O,IAAI,CAACxE,CAApB,EAAuBwE,IAAI,CAAC7D,CAA5B;AACD;;AACD2Y,eAAO,CAACnG,MAAR;;AACA,YAAI3L,GAAG,CAAC1F,OAAJ,CAAYP,MAAZ,CAAmBpC,IAAvB,EAA6B;AAC3Bma,iBAAO,CAACtG,WAAR,GAAsBxL,GAAG,CAAC1F,OAAJ,CAAYxB,SAAZ,CAAsBb,KAA5C;AACA6Z,iBAAO,CAACrM,SAAR,GAAoBzF,GAAG,CAAC1F,OAAJ,CAAYP,MAAZ,CAAmB9B,KAAnB,KAA6B,EAA7B,GAAkC+H,GAAG,CAAC1F,OAAJ,CAAYP,MAAZ,CAAmB9B,KAArD,GAA6D+H,GAAG,CAAC1F,OAAJ,CAAYxB,SAAZ,CAAsBb,KAAvG;;AACA,eAAK,IAAIkJ,IAAC,GAAG,CAAb,EAAgBA,IAAC,GAAGC,CAApB,EAAuBD,IAAC,EAAxB,EAA4B;AAC1B2Q,mBAAO,CAACtM,SAAR;AACAxI,gBAAI,GAAG;AACLxE,eAAC,EAAEwH,GAAG,CAACxH,CAAJ,CAAMK,IAAN,CAAW6D,KAAK,CAACgB,OAAN,CAAcyD,IAAd,CAAX,IAA+B,KAAK5E,cAAL,CAAoBE,UAApB,CAA+BjE,CAA/B,CAAiCoK,CAAhE,GAAoE,KAAKrG,cAAL,CAAoBE,UAApB,CAA+BjE,CAA/B,CAAiCuG,CADnG;AAEL5F,eAAC,EAAE6G,GAAG,CAAC7G,CAAJ,CAAMN,IAAN,CAAW6D,KAAK,CAACgB,OAAN,CAAcyD,IAAd,CAAX,IAA+B,KAAK5E,cAAL,CAAoBE,UAApB,CAA+BtD,CAA/B,CAAiCyJ,CAAhE,GAAoE,KAAKrG,cAAL,CAAoBE,UAApB,CAA+BtD,CAA/B,CAAiC4F;AAFnG,aAAP;AAIA+S,mBAAO,CAAC7D,GAAR,CAAYjR,IAAI,CAACxE,CAAjB,EAAoBwE,IAAI,CAAC7D,CAAzB,EAA4B6G,GAAG,CAAC1F,OAAJ,CAAYP,MAAZ,CAAmBhC,IAA/C,EAAqD,CAArD,EAAwD,IAAI2K,IAAI,CAACwL,EAAjE;AACA4D,mBAAO,CAAC3D,IAAR;AACD;AACF;;AACD2D,eAAO,CAACvN,SAAR,CAAkB,CAAlB,EAAqB,CAArB,EAAwB,KAAKnI,IAAL,CAAUrD,KAAlC,EAAyCiH,GAAG,CAAC7H,IAAJ,CAASC,GAAlD;AACA0Z,eAAO,CAACvN,SAAR,CAAkB,CAAlB,EAAqBvE,GAAG,CAAC7H,IAAJ,CAASC,GAA9B,EAAmC4H,GAAG,CAAC7H,IAAJ,CAASG,IAA5C,EAAkD,KAAK8D,IAAL,CAAUE,MAAV,GAAmB0D,GAAG,CAAC7H,IAAJ,CAASC,GAA9E;AACA0Z,eAAO,CAACvN,SAAR,CAAkBvE,GAAG,CAAC7H,IAAJ,CAASG,IAA3B,EAAiC,KAAKkG,MAAL,CAAYK,CAAZ,CAAcE,CAA/C,EAAkD,KAAK3C,IAAL,CAAUrD,KAAV,GAAkBiH,GAAG,CAAC7H,IAAJ,CAASG,IAA7E,EAAmF0H,GAAG,CAAC7H,IAAJ,CAASI,MAA5F;AACAuZ,eAAO,CAACvN,SAAR,CAAkB,KAAK/F,MAAL,CAAYK,CAAZ,CAAcA,CAAhC,EAAmCmB,GAAG,CAAC7H,IAAJ,CAASC,GAA5C,EAAiD4H,GAAG,CAAC7H,IAAJ,CAASE,KAA1D,EAAiE,KAAKmG,MAAL,CAAYK,CAAZ,CAAcG,CAA/E;AACD,OAhiEgB;AAiiEjB;AACA0F,qBAAe,EAAE,yBAASjC,IAAT,EAAeiQ,KAAf,EAAsB;AACrC;;AACA,YAAIjQ,IAAI,CAAC7D,MAAL,IAAe,CAAnB,EAAsB;AACpB,iBAAO,CAAC,CAAD,CAAP;AACD;;AACD,YAAI+T,QAAQ,GAAG,EAAf;AAAA,YACEC,IAAI,GAAG,EADT;AAEA,YAAIC,MAAM,GAAG,EAAb,CAPqC,CAOpB;;AACjB,YAAI1R,CAAC,GAAG,CAAR;AACA,YAAI6B,CAAC,GAAG,CAAR;AACA,YAAID,GAAG,GAAGN,IAAI,CAAC7D,MAAf;AACA,YAAIkU,GAAG,GAAG,EAAV;;AACA,YAAIrQ,IAAI,CAAC,CAAD,CAAJ,GAAUA,IAAI,CAAC,CAAD,CAAlB,EAAuB;AACrBqQ,aAAG,CAAC7V,GAAJ,GAAU,CAAV;AACA6V,aAAG,CAAC9R,KAAJ,GAAYyB,IAAI,CAAC,CAAD,CAAhB;AACAoQ,gBAAM,CAAC7N,IAAP,CAAY8N,GAAZ;AACD;;AACD,aAAK3R,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAG4B,GAAG,GAAG,CAAtB,EAAyB5B,CAAC,EAA1B,EAA8B;AAC5B,cAAIsB,IAAI,CAACtB,CAAD,CAAJ,GAAUsB,IAAI,CAACtB,CAAC,GAAG,CAAL,CAAd,IAAyBsB,IAAI,CAACtB,CAAD,CAAJ,GAAUsB,IAAI,CAACtB,CAAC,GAAG,CAAL,CAA3C,EAAoD;AAClD2R,eAAG,GAAG,EAAN;AACAA,eAAG,CAAC7V,GAAJ,GAAUkE,CAAV;AACA2R,eAAG,CAAC9R,KAAJ,GAAYyB,IAAI,CAACtB,CAAD,CAAhB;AACA0R,kBAAM,CAAC7N,IAAP,CAAY8N,GAAZ;AACD;AACF;;AACD,YAAIrQ,IAAI,CAACM,GAAG,GAAG,CAAP,CAAJ,GAAgBN,IAAI,CAACM,GAAG,GAAG,CAAP,CAAxB,EAAmC;AACjC+P,aAAG,GAAG,EAAN;AACAA,aAAG,CAAC7V,GAAJ,GAAU8F,GAAG,GAAG,CAAhB;AACA+P,aAAG,CAAC9R,KAAJ,GAAYyB,IAAI,CAACM,GAAG,GAAG,CAAP,CAAhB;AACA8P,gBAAM,CAAC7N,IAAP,CAAY8N,GAAZ;AACD;;AACD/P,WAAG,GAAG8P,MAAM,CAACjU,MAAb;;AACA,aAAKuC,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGuR,KAAhB,EAAuBvR,CAAC,EAAxB,EAA4B;AAC1B,eAAK6B,CAAC,GAAG7B,CAAC,GAAG,CAAb,EAAgB6B,CAAC,GAAGD,GAApB,EAAyBC,CAAC,EAA1B,EAA8B;AAC5B,gBAAI6P,MAAM,CAAC1R,CAAD,CAAN,CAAUH,KAAV,GAAkB6R,MAAM,CAAC7P,CAAD,CAAN,CAAUhC,KAAhC,EAAuC;AACrC8R,iBAAG,GAAGD,MAAM,CAAC1R,CAAD,CAAZ;AACA0R,oBAAM,CAAC1R,CAAD,CAAN,GAAY0R,MAAM,CAAC7P,CAAD,CAAlB;AACA6P,oBAAM,CAAC7P,CAAD,CAAN,GAAY8P,GAAZ;AACD;AACF;AACF;;AACD,YAAIJ,KAAK,GAAG3P,GAAZ,EAAiB;AACf2P,eAAK,GAAG3P,GAAR;AACD;;AACD,aAAK5B,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGuR,KAAhB,EAAuBvR,CAAC,EAAxB,EAA4B;AAC1BwR,kBAAQ,CAAC3N,IAAT,CAAc6N,MAAM,CAAC1R,CAAD,CAAN,CAAUlE,GAAxB;AACD;;AACD,eAAO0V,QAAP;AACD,OAllEgB;AAmlEjB;AACA7L,cAplEiB,oBAolERH,IAplEQ,EAolEF9N,IAplEE,EAolEI;AACnB,YAAMuI,CAAC,GAAGvI,IAAI,CAAC+F,MAAf;AACA,YAAI3F,GAAG,GAAGgI,MAAM,CAAC4B,SAAjB;AACA,YAAIkQ,SAAS,GAAG,EAAhB,CAHmB,CAGC;;AACpB,YAAInU,MAAM,GAAGwC,CAAC,GAAG2R,SAAJ,GAAgB,CAA7B,CAJmB,CAIa;;AAChC,YAAIC,aAAa,GAAG,CAApB,CALmB,CAKI;;AACvB,YAAIC,SAAS,GAAGD,aAAa,GAAGD,SAAhB,GAA4B,CAA5C,CANmB,CAM4B;;AAC/C,YAAIlM,MAAM,GAAG,IAAIqM,UAAJ,CAAetU,MAAM,GAAG,EAAxB,CAAb,CAPmB,CAOuB;;AAC1C,YAAIuU,IAAI,GAAG,IAAIC,QAAJ,CAAavM,MAAM,CAACA,MAApB,CAAX,CARmB,CAQqB;;AACxCA,cAAM,CAACwM,GAAP,CAAW,IAAIH,UAAJ,CAAe,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,EAAmB,IAAnB,CAAf,CAAX,EATmB,CASmC;;AACtDC,YAAI,CAACG,SAAL,CAAe,CAAf,EAAkBlS,CAAC,GAAG,EAAtB,EAA0B,IAA1B,EAVmB,CAUc;;AACjCyF,cAAM,CAACwM,GAAP,CAAW,IAAIH,UAAJ,CAAe,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,EAAmB,IAAnB,CAAf,CAAX,EAAqD,CAArD,EAXmB,CAWsC;;AACzDrM,cAAM,CAACwM,GAAP,CAAW,IAAIH,UAAJ,CAAe,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,EAAmB,IAAnB,CAAf,CAAX,EAAqD,EAArD,EAZmB,CAYuC;;AAC1DC,YAAI,CAACG,SAAL,CAAe,EAAf,EAAmB,EAAnB,EAAuB,IAAvB,EAbmB,CAaW;;AAC9BH,YAAI,CAACI,SAAL,CAAe,EAAf,EAAmB,CAAnB,EAAsB,IAAtB,EAdmB,CAcU;;AAC7BJ,YAAI,CAACI,SAAL,CAAe,EAAf,EAAmB,CAAnB,EAAsB,IAAtB,EAfmB,CAeU;;AAC7BJ,YAAI,CAACG,SAAL,CAAe,EAAf,EAAmB3M,IAAnB,EAAyB,IAAzB,EAhBmB,CAgBa;;AAChCwM,YAAI,CAACG,SAAL,CAAe,EAAf,EAAmB3M,IAAI,GAAGsM,SAA1B,EAAqC,IAArC,EAjBmB,CAiByB;;AAC5CE,YAAI,CAACI,SAAL,CAAe,EAAf,EAAmBN,SAAnB,EAA8B,IAA9B,EAlBmB,CAkBkB;;AACrCE,YAAI,CAACI,SAAL,CAAe,EAAf,EAAmBR,SAAnB,EAA8B,IAA9B,EAnBmB,CAmBkB;;AACrClM,cAAM,CAACwM,GAAP,CAAW,IAAIH,UAAJ,CAAe,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,EAAmB,IAAnB,CAAf,CAAX,EAAqD,EAArD,EApBmB,CAoBuC;;AAC1DC,YAAI,CAACG,SAAL,CAAe,EAAf,EAAmB1U,MAAnB,EAA2B,IAA3B,EArBmB,CAqBe;;AAClC,aAAK,IAAIuC,IAAC,GAAG,CAAb,EAAgBA,IAAC,GAAGC,CAApB,EAAuBD,IAAC,EAAxB,EAA4B;AAC1B,cAAIuB,IAAI,CAACC,GAAL,CAAS9J,IAAI,CAACsI,IAAD,CAAb,IAAoBlI,GAAxB,EAA6B;AAC3BA,eAAG,GAAGyJ,IAAI,CAACC,GAAL,CAAS9J,IAAI,CAACsI,IAAD,CAAb,CAAN;AACD;AACF;;AACD,YAAIlI,GAAG,IAAI,CAAX,EAAc;AAAE;AACdA,aAAG,GAAG,MAAN;AACD;;AACD,YAAIua,EAAE,GAAG,QAAQva,GAAjB,CA9BmB,CA8BG;;AACtB,aAAK,IAAIkI,IAAC,GAAG,CAAb,EAAgBA,IAAC,GAAGC,CAApB,EAAuBD,IAAC,EAAxB,EAA4B;AAC1BtI,cAAI,CAACsI,IAAD,CAAJ,GAAUuB,IAAI,CAAC2E,KAAL,CAAWxO,IAAI,CAACsI,IAAD,CAAJ,GAAUqS,EAArB,CAAV,CAD0B,CACU;AACrC;;AACD3M,cAAM,CAACwM,GAAP,CAAW,IAAIH,UAAJ,CAAe,IAAIO,UAAJ,CAAe5a,IAAf,EAAqBgO,MAApC,CAAX,EAAwD,EAAxD,EAlCmB,CAkC0C;;AAC7D,eAAOA,MAAP;AACD,OAxnEgB;AAynEjB;AACAJ,iBAAW,EAAE,qBAASiN,OAAT,EAAkBC,QAAlB,EAA4B;AACvC,YAAIC,OAAO,GAAGxO,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAAd,CADuC,CACI;;AAC3CuO,eAAO,CAAC5N,QAAR,GAAmB2N,QAAnB;AACAC,eAAO,CAACpL,KAAR,CAAcqL,OAAd,GAAwB,MAAxB;AACA,YAAIC,IAAI,GAAG,IAAIC,IAAJ,CAAS,CAACL,OAAD,CAAT,CAAX,CAJuC,CAIP;;AAChCE,eAAO,CAAC7N,IAAR,GAAeiO,GAAG,CAACC,eAAJ,CAAoBH,IAApB,CAAf;AACAF,eAAO,CAAC3N,aAAR,CAAsB,IAAIC,UAAJ,CAAe,OAAf,CAAtB;AACD,OAjoEgB;AAkoEjB;AACA+C,kBAAY,EAAE,wBAAW;AACvB,YAAIjJ,GAAG,GAAG,KAAKT,OAAf;AACA,YAAIoL,GAAG,GAAG3K,GAAG,CAAC3G,MAAJ,CAAWE,QAAX,CAAoBV,IAA9B;AACA,YAAMS,gBAAgB,GAAG0G,GAAG,CAAC3G,MAAJ,CAAWC,gBAApC;AACA,YAAI4a,OAAO,GAAG,KAAK1U,UAAL,CAAgBE,GAAhB,CAAoByU,OAAlC;AACA,YAAIhS,MAAM,GAAG,KAAK3D,MAAL,CAAYK,CAAzB;AACAqV,eAAO,CAAC3P,SAAR,CAAkB,CAAlB,EAAqB,CAArB,EAAwB,KAAKnI,IAAL,CAAUrD,KAAlC,EAAyC,KAAKqD,IAAL,CAAUE,MAAnD;;AACA,YAAIhD,gBAAgB,KAAK,aAAzB,EAAwC;AACtC,cAAIuL,OAAO,GAAG,KAAKtI,cAAL,CAAoBE,UAApB,CAA+BjE,CAA7C;AACA,cAAIqX,OAAO,GAAG,KAAKtT,cAAL,CAAoBE,UAApB,CAA+BtD,CAA7C;AACA,cAAIib,OAAO,GAAG;AACZnb,eAAG,EAAE+G,GAAG,CAACxH,CAAJ,CAAMK,IAAN,CAAWmH,GAAG,CAACxH,CAAJ,CAAMK,IAAN,CAAW+F,MAAX,GAAoB,CAA/B,CADO;AAEZ1F,eAAG,EAAE8G,GAAG,CAACxH,CAAJ,CAAMK,IAAN,CAAW,CAAX;AAFO,WAAd;AAIA,cAAMuI,CAAC,GAAGuJ,GAAG,CAAC/L,MAAd;;AACA,cAAI+L,GAAG,IAAIvJ,CAAC,GAAG,CAAf,EAAkB;AAChB,gBAAIA,CAAC,KAAK,CAAN,IAAWuJ,GAAG,CAAC,CAAD,CAAH,CAAO/S,IAAP,KAAgBwF,SAA/B,EAA0C;AACxC,kBAAM4D,KAAK,GAAG2J,GAAG,CAAC,CAAD,CAAjB;AACA,kBAAMtK,MAAM,GAAG;AACbnD,mBAAG,EAAE8D,KAAK,CAAC9D,GADE;AAEbD,mBAAG,EAAE+D,KAAK,CAAC/D,GAFE;AAGboX,mBAAG,EAAE;AAHQ,eAAf;AAKA,mBAAK1T,QAAL,CAAcN,MAAd;AACA,mBAAK3D,KAAL,CAAWM,IAAX,GAAkB;AAChBC,mBAAG,EAAE0N,GAAG,CAAC,CAAD,CAAH,CAAO1N,GADI;AAEhBC,mBAAG,EAAEyN,GAAG,CAAC,CAAD,CAAH,CAAOzN,GAFI;AAGhBC,mBAAG,EAAEC;AAHW,eAAlB;AAKA,mBAAKV,KAAL,CAAWsB,SAAX,GAAuB,CAAvB;AACA2M,iBAAG,CAAC/L,MAAJ,GAAa,CAAb;AACD,aAfD,MAeO;AACL,kBAAI9F,SAAS,GAAGkH,GAAG,CAAC3G,MAAJ,CAAWE,QAAX,CAAoBT,SAApC;AACA,kBAAIjB,SAAS,GAAGmI,GAAG,CAAC3G,MAAJ,CAAWE,QAAX,CAAoB1B,SAApC;;AACA,mBAAK,IAAIsJ,IAAC,GAAG,CAAb,EAAgBA,IAAC,GAAGC,CAApB,EAAuBD,IAAC,EAAxB,EAA4B;AAC1B,oBAAI3I,CAAC,GAAGwH,GAAG,CAACxH,CAAJ,CAAMK,IAAN,CAAW8R,GAAG,CAACxJ,IAAD,CAAH,CAAOyD,KAAlB,IAA2BC,OAAO,CAACjC,CAAnC,GAAuCiC,OAAO,CAAC9F,CAA/C,GAAmD,GAA3D;AACA,oBAAI5F,CAAC,GAAG6G,GAAG,CAAC7G,CAAJ,CAAMN,IAAN,CAAW8R,GAAG,CAACxJ,IAAD,CAAH,CAAOyD,KAAlB,IAA2BiL,OAAO,CAACjN,CAAnC,GAAuCiN,OAAO,CAAC9Q,CAAvD;;AACA,oBAAIvG,CAAC,IAAIwH,GAAG,CAAC7H,IAAJ,CAASG,IAAd,IAAsBE,CAAC,IAAI2J,MAAM,CAACtD,CAAlC,IAAuC1F,CAAC,IAAI6G,GAAG,CAAC7H,IAAJ,CAASC,GAArD,IAA4De,CAAC,IAAIgJ,MAAM,CAACpD,CAA5E,EAA+E;AAC7EmV,yBAAO,CAAC1O,SAAR;AACA0O,yBAAO,CAAC3I,SAAR,GAAoB,CAApB;AACA2I,yBAAO,CAAC1I,WAAR,GAAsB1S,SAAS,CAACb,KAAhC;AACAic,yBAAO,CAACzO,SAAR,GAAoB5N,SAAS,CAACI,KAA9B;AACAic,yBAAO,CAACtI,IAAR,GAAe/T,SAAS,CAACC,MAAV,GAAmB,GAAnB,GAAyBD,SAAS,CAACE,IAAnC,GAA0C,GAA1C,GAAgDF,SAAS,CAACG,MAAzE;AACAkc,yBAAO,CAAC5I,IAAR;AACA4I,yBAAO,CAACzI,MAAR,CAAejT,CAAf,EAAkBwH,GAAG,CAAC7H,IAAJ,CAASC,GAA3B;AACA8b,yBAAO,CAACxI,MAAR,CAAelT,CAAf,EAAkBW,CAAC,GAAG,CAAtB;AACA+a,yBAAO,CAACtC,SAAR,CAAkBpZ,CAAC,GAAG2J,MAAM,CAACnD,CAA7B,EAAgC,MAAMgB,GAAG,CAAC7H,IAAJ,CAASC,GAA/C;AACA8b,yBAAO,CAACrC,MAAR,CAAe,CAAC,EAAD,GAAMnP,IAAI,CAACwL,EAAX,GAAgB,GAA/B;AACAgG,yBAAO,CAACpI,SAAR,GAAoB,OAApB;AACAoI,yBAAO,CAACrI,YAAR,GAAuB,QAAvB;AACAqI,yBAAO,CAACnI,QAAR,CAAiBpB,GAAG,CAACxJ,IAAD,CAAH,CAAOvJ,IAAxB,EAA+B,KAAKoI,GAAG,CAAC7H,IAAJ,CAASC,GAA7C,EAAmD+J,MAAM,CAACnD,CAA1D;AACAkV,yBAAO,CAACpZ,OAAR;AACAoZ,yBAAO,CAACvI,MAAR;AACAuI,yBAAO,CAAC1O,SAAR;AACA0O,yBAAO,CAACzO,SAAR,GAAoB3M,SAAS,CAACb,KAA9B;AACAic,yBAAO,CAACjG,GAAR,CAAYzV,CAAZ,EAAeW,CAAf,EAAkB,CAAlB,EAAqB,CAArB,EAAwB,IAAIuJ,IAAI,CAACwL,EAAjC;AACAgG,yBAAO,CAAC/F,IAAR;AACA+F,yBAAO,CAACzI,MAAR,CAAejT,CAAf,EAAkBW,CAAC,GAAG,CAAtB;AACA+a,yBAAO,CAACxI,MAAR,CAAelT,CAAf,EAAkB2J,MAAM,CAACpD,CAAzB;AACAmV,yBAAO,CAACvI,MAAR;AACD;AACF;AACF;AACF;AACF,SAzDD,MAyDO,IAAIrS,gBAAgB,KAAK,QAAzB,EAAmC;AACxC,cAAMrB,KAAK,GAAG+H,GAAG,CAAC3G,MAAJ,CAAWR,IAAX,CAAgBZ,KAA9B;;AACA,eAAK,IAAIkJ,IAAC,GAAG,CAAR,EAAWC,IAAC,GAAGuJ,GAAG,CAAC/L,MAAxB,EAAgCuC,IAAC,GAAGC,IAApC,EAAuCD,IAAC,EAAxC,EAA4C;AAC1C+S,mBAAO,CAAC1O,SAAR;AAD0C;AAAA;AAAA;;AAAA;AAE1C,oCAAgBmF,GAAG,CAACxJ,IAAD,CAAnB,mIAAwB;AAAA,oBAAfjE,GAAe;AACtBgX,uBAAO,CAAC1I,WAAR,GAAsBvT,KAAK,CAACkJ,IAAD,CAA3B;AACA+S,uBAAO,CAACjG,GAAR,CAAY9L,MAAM,CAAC3J,CAAnB,EAAsB2J,MAAM,CAAChJ,CAA7B,EAAgC+D,GAAhC,EAAqC,CAArC,EAAwC,IAAIwF,IAAI,CAACwL,EAAjD;AACD;AALyC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAM3C;;AACDgG,iBAAO,CAACvI,MAAR;AACD,SAVM,MAWF,IAAIrS,gBAAgB,KAAK,YAAzB,EAAuC;AAC1C,cAAMrB,OAAK,GAAG+H,GAAG,CAAC3G,MAAJ,CAAWR,IAAX,CAAgBZ,KAA9B;;AACA,eAAK,IAAIkJ,IAAC,GAAG,CAAR,EAAWC,IAAC,GAAGuJ,GAAG,CAAC/L,MAAxB,EAAgCuC,IAAC,GAAGC,IAApC,EAAuCD,IAAC,EAAxC,EAA4C;AAC1C+S,mBAAO,CAAC1O,SAAR;AAD0C;AAAA;AAAA;;AAAA;AAE1C,oCAAgBmF,GAAG,CAACxJ,IAAD,CAAnB,mIAAwB;AAAA,oBAAfjE,MAAe;AACtBgX,uBAAO,CAAC1I,WAAR,GAAsBvT,OAAK,CAACkJ,IAAD,CAA3B;AACA+S,uBAAO,CAACjG,GAAR,CAAY9L,MAAM,CAAC3J,CAAnB,EAAsB2J,MAAM,CAAChJ,CAA7B,EAAgC+D,MAAhC,EAAqC,CAArC,EAAwC,IAAIwF,IAAI,CAACwL,EAAjD;AACD;AALyC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAM3C;;AACDgG,iBAAO,CAACvI,MAAR;AACD;AACF,OAztEgB;AA0tEjB;AACAnB,qBA3tEiB,6BA2tEC;AAChB,YAAMxK,GAAG,GAAG,KAAKT,OAAjB;AACA,YAAM/H,GAAG,GAAG,KAAK4E,IAAjB;AACA,YAAM6O,OAAO,GAAG,KAAKzL,UAAL,CAAgBE,GAAhB,CAAoBlF,UAApC;AACA,YAAM8Z,EAAE,GAAG,KAAK9V,MAAL,CAAYK,CAAvB;AACA,YAAMrG,CAAC,GAAG8b,EAAE,CAAC9b,CAAb;AACA,YAAMW,CAAC,GAAGmb,EAAE,CAACnb,CAAb;AACA,YAAM0F,CAAC,GAAGyV,EAAE,CAACrV,EAAb;AACA,YAAMjC,IAAI,GAAGgD,GAAG,CAAC3G,MAAJ,CAAWP,SAAxB;AACA,YAAM8S,IAAI,GAAG5L,GAAG,CAAC3G,MAAJ,CAAWxB,SAAxB;AACAoT,eAAO,CAAC1G,SAAR,CAAkB,CAAlB,EAAqB,CAArB,EAAwB/M,GAAG,CAACuB,KAA5B,EAAmCvB,GAAG,CAAC8E,MAAvC;AACA2O,eAAO,CAACzF,SAAR;AACAyF,eAAO,CAACO,WAAR,GAAsBxO,IAAI,CAAC/E,KAA3B;AACAgT,eAAO,CAACM,SAAR,GAAoBvO,IAAI,CAACjE,KAAzB;AACAkS,eAAO,CAACxF,SAAR,GAAoBmG,IAAI,CAAC3T,KAAzB;AACAgT,eAAO,CAACgD,GAAR,CAAYzV,CAAZ,EAAeW,CAAf,EAAkB0F,CAAlB,EAAqB,CAArB,EAAwB,IAAI6D,IAAI,CAACwL,EAAjC;AACAjD,eAAO,CAACQ,MAAR,CAAejT,CAAC,GAAGqG,CAAnB,EAAsB1F,CAAtB;AACA8R,eAAO,CAACS,MAAR,CAAelT,CAAC,GAAGqG,CAAnB,EAAsB1F,CAAtB;AACA8R,eAAO,CAACQ,MAAR,CAAejT,CAAf,EAAkBW,CAAC,GAAG0F,CAAtB;AACAoM,eAAO,CAACS,MAAR,CAAelT,CAAf,EAAkBW,CAAC,GAAG0F,CAAtB;AACAoM,eAAO,CAACU,MAAR;AACAV,eAAO,CAACW,IAAR,aAAkBA,IAAI,CAAC7T,IAAvB,cAA+B6T,IAAI,CAAC5T,MAApC;AACAiT,eAAO,CAACa,SAAR,GAAoB,QAApB;AACAb,eAAO,CAACY,YAAR,GAAuB,QAAvB;AACAZ,eAAO,CAACc,QAAR,CAAiB,KAAjB,EAAwBvT,CAAxB,EAA2BW,CAAC,GAAG0F,CAA/B;AACAoM,eAAO,CAACY,YAAR,GAAuB,KAAvB;AACAZ,eAAO,CAACc,QAAR,CAAiB,OAAjB,EAA0BvT,CAA1B,EAA6BW,CAAC,GAAG0F,CAAJ,GAAQ,CAArC;AACAoM,eAAO,CAACa,SAAR,GAAoB,MAApB;AACAb,eAAO,CAACY,YAAR,GAAuB,QAAvB;AACAZ,eAAO,CAACc,QAAR,CAAiB,MAAjB,EAAyBvT,CAAC,GAAGqG,CAAJ,GAAQ,CAAjC,EAAoC1F,CAApC;AACA8R,eAAO,CAACa,SAAR,GAAoB,OAApB;AACAb,eAAO,CAACc,QAAR,CAAiB,OAAjB,EAA0BvT,CAAC,GAAGqG,CAAJ,GAAQ,CAAlC,EAAqC1F,CAArC;AACA8R,eAAO,CAACzF,SAAR;AACAyF,eAAO,CAACgD,GAAR,CAAYzV,CAAZ,EAAeW,CAAf,EAAkB0F,CAAC,GAAG,CAAtB,EAAyB,CAAzB,EAA4B,IAAI6D,IAAI,CAACwL,EAArC;AACAjD,eAAO,CAACU,MAAR;AACAV,eAAO,CAACzF,SAAR;AACAyF,eAAO,CAACgD,GAAR,CAAYzV,CAAZ,EAAeW,CAAf,EAAkB,IAAI0F,CAAJ,GAAQ,CAA1B,EAA6B,CAA7B,EAAgC,IAAI6D,IAAI,CAACwL,EAAzC;AACAjD,eAAO,CAACU,MAAR;AACD,OAjwEgB;AAkwEjB;AACAlB,oBAnwEiB,4BAmwEA;AACf,YAAMjT,GAAG,GAAG,KAAK4E,IAAjB;AACA,YAAM/C,MAAM,GAAG,KAAKkG,OAAL,CAAalG,MAA5B;AACA,YAAMib,EAAE,GAAG,KAAK9V,MAAL,CAAYK,CAAvB;AACA,YAAMiC,EAAE,GAAGwT,EAAE,CAAC9b,CAAd;AAAiB;;AACjB,YAAMuI,EAAE,GAAGuT,EAAE,CAACnb,CAAd;AAAiB;;AACjB,YAAMob,EAAE,GAAGD,EAAE,CAACrV,EAAd;AAAkB;;AAClB,YAAMpG,IAAI,GAAGQ,MAAM,CAACR,IAApB;AACA,YAAMoB,SAAS,GAAGpB,IAAI,CAACoB,SAAvB;AAAkC;;AAClC,YAAMC,KAAK,GAAGrB,IAAI,CAACqB,KAAnB;AAA0B;;AAC1B,YAAMyU,OAAO,GAAG,KAAKnP,UAAL,CAAgBE,GAAhB,CAAoB7G,IAApC;AACA,YAAMI,GAAG,GAAGJ,IAAI,CAACsB,YAAjB;AACA,YAAMjB,GAAG,GAAGL,IAAI,CAAC2b,YAAjB;AACA,YAAMC,EAAE,GAAG5b,IAAI,CAAC4b,EAAhB;AAAoB;;AACpB,YAAM9U,IAAI,GAAG,KAAKA,IAAlB;AACAA,YAAI,CAACnH,CAAL,CAAOoG,MAAP,GAAgB,CAAhB;AACAe,YAAI,CAACxG,CAAL,CAAOyF,MAAP,GAAgB,CAAhB;AACAe,YAAI,CAACC,KAAL,CAAWhB,MAAX,GAAoB,CAApB;;AACA,YAAI3E,SAAS,KAAKmD,SAAd,IAA2BlD,KAAK,KAAKkD,SAArC,IAAkDlD,KAAK,CAAC0E,MAAN,KAAiB,CAAvE,EAA0E;AACxE;AACD;;AACD+P,eAAO,CAACpK,SAAR,CAAkB,CAAlB,EAAqB,CAArB,EAAwB/M,GAAG,CAACuB,KAA5B,EAAmCvB,GAAG,CAAC8E,MAAvC;;AACA,aAAK,IAAI6E,IAAC,GAAG,CAAR,EAAWC,CAAC,GAAGlH,KAAK,CAAC0E,MAA1B,EAAkCuC,IAAC,GAAGC,CAAtC,EAAyCD,IAAC,EAA1C,EAA8C;AAC5C,cAAMuT,IAAI,GAAGza,SAAb;AACA,cAAM0a,IAAI,GAAGza,KAAK,CAACiH,IAAD,CAAlB;AACA,cAAMlJ,KAAK,GAAGY,IAAI,CAACZ,KAAnB;AACA0W,iBAAO,CAACpD,SAAR,GAAoBlS,MAAM,CAACP,SAAP,CAAiBC,KAArC;AACA4V,iBAAO,CAAClJ,SAAR,GAAoBxN,KAApB;AACA0W,iBAAO,CAACnD,WAAR,GAAsBvT,KAAtB;;AACA,cAAI,KAAKqO,WAAL,CAAiBqO,IAAjB,MAA2B,OAA/B,EAAwC;AACtC,iBAAK,IAAI3R,CAAC,GAAG,CAAR,EAAWD,GAAG,GAAG4R,IAAI,CAAC/V,MAA3B,EAAmCoE,CAAC,GAAGD,GAAvC,EAA4CC,CAAC,EAA7C,EAAiD;AAC/C2L,qBAAO,CAACnJ,SAAR;AACA,kBAAMoP,CAAC,GAAG,MAAM7R,GAAN,GAAYC,CAAtB,CAF+C,CAEtB;;AACzB,kBAAIsK,IAAI,GAAGqH,IAAI,CAAC3R,CAAD,CAAf,CAH+C,CAG3B;;AACpB,kBAAI6R,KAAK,GAAGF,IAAI,CAAC3R,CAAC,GAAG,CAAL,CAAhB,CAJ+C,CAItB;;AACzB,kBAAM8R,EAAE,GAAG,MAAM/R,GAAN,IAAaC,CAAC,GAAG,CAAjB,CAAX,CAL+C,CAKf;;AAChC,kBAAGA,CAAC,KAAKD,GAAG,GAAG,CAAf,EAAkB;AAChB8R,qBAAK,GAAGF,IAAI,CAAC,CAAD,CAAZ;AACD;;AACD,kBAAInc,CAAC,SAAL;AACA,kBAAIW,CAAC,SAAL;AACAX,eAAC,GAAG;AACF+I,oBAAI,EAAET,EAAE,GAAG,CAAC,IAAI2T,EAAJ,GAASnH,IAAV,IAAkBiH,EAAlB,GAAuB,CAAvB,GAA2BE,EAA3B,GAAgC/R,IAAI,CAACqS,GAAL,CAASH,CAAC,GAAGlS,IAAI,CAACwL,EAAT,GAAc,GAAvB,CADzC;AAEFoB,oBAAI,EAAExO,EAAE,GAAG,CAAC,IAAI2T,EAAJ,GAASI,KAAV,IAAmBN,EAAnB,GAAwB,CAAxB,GAA4BE,EAA5B,GAAiC/R,IAAI,CAACqS,GAAL,CAASD,EAAE,GAAGpS,IAAI,CAACwL,EAAV,GAAe,GAAxB;AAF1C,eAAJ;AAIA/U,eAAC,GAAG;AACFoI,oBAAI,EAAER,EAAE,GAAG,CAAC,IAAI0T,EAAJ,GAASnH,IAAV,IAAkBiH,EAAlB,GAAuB,CAAvB,GAA2BE,EAA3B,GAAgC/R,IAAI,CAACsS,GAAL,CAASJ,CAAC,GAAGlS,IAAI,CAACwL,EAAT,GAAc,GAAvB,CADzC;AAEFoB,oBAAI,EAAEvO,EAAE,GAAG,CAAC,IAAI0T,EAAJ,GAASI,KAAV,IAAmBN,EAAnB,GAAwB,CAAxB,GAA4BE,EAA5B,GAAiC/R,IAAI,CAACsS,GAAL,CAASF,EAAE,GAAGpS,IAAI,CAACwL,EAAV,GAAe,GAAxB;AAF1C,eAAJ;AAKAS,qBAAO,CAAClD,MAAR,CACEjT,CAAC,CAAC+I,IADJ,EAEEpI,CAAC,CAACoI,IAFJ;AAIAoN,qBAAO,CAACjD,MAAR,CACElT,CAAC,CAAC8W,IADJ,EAEEnW,CAAC,CAACmW,IAFJ;AAIA3P,kBAAI,CAACnH,CAAL,CAAOwM,IAAP,CAAYxM,CAAZ;AACAmH,kBAAI,CAACxG,CAAL,CAAO6L,IAAP,CAAY7L,CAAZ;AACAwG,kBAAI,CAACC,KAAL,CAAWoF,IAAX,CAAgB;AAAC7D,iBAAC,EAADA,IAAD;AAAI6B,iBAAC,EAADA;AAAJ,eAAhB;AACA2L,qBAAO,CAAChD,MAAR;AACD;AACF;AACF;;AACD,YAAMsJ,IAAI,aAAM,KAAK5N,KAAL,CAAWpO,GAAX,CAAN,SAAwBI,MAAM,CAACW,IAA/B,CAAV;AACA,YAAM4R,IAAI,GAAGvS,MAAM,CAACxB,SAApB;AACA8W,eAAO,CAACnJ,SAAR;AACAmJ,eAAO,CAAClJ,SAAR,GAAoBmG,IAAI,CAAC3T,KAAzB;AACA0W,eAAO,CAAC/C,IAAR,aAAkBA,IAAI,CAAC7T,IAAvB,cAA+B6T,IAAI,CAAC5T,MAApC;AACA2W,eAAO,CAAC7C,SAAR,GAAoB,MAApB;AACA6C,eAAO,CAAC9C,YAAR,GAAuB,QAAvB;AACA8C,eAAO,CAAC5C,QAAR,CAAiBkJ,IAAjB,EAAuBnU,EAAE,GAAGyT,EAAE,GAAG7R,IAAI,CAACsS,GAAL,CAAS,KAAKtS,IAAI,CAACwL,EAAV,GAAe,GAAxB,CAAjC,EAA+DnN,EAAE,GAAGwT,EAAE,GAAG7R,IAAI,CAACqS,GAAL,CAAS,KAAKrS,IAAI,CAACwL,EAAV,GAAe,GAAxB,CAAzE;AACAS,eAAO,CAAC7C,SAAR,GAAoB,MAApB;AACA6C,eAAO,CAAC9C,YAAR,GAAuB,KAAvB;AACA8C,eAAO,CAAC5C,QAAR,CAAiBkJ,IAAjB,EAAuBnU,EAAE,GAAGyT,EAAE,GAAG7R,IAAI,CAACsS,GAAL,CAAS,KAAKtS,IAAI,CAACwL,EAAV,GAAe,GAAxB,CAAjC,EAA+DnN,EAAE,GAAGwT,EAAE,GAAG7R,IAAI,CAACqS,GAAL,CAAS,KAAKrS,IAAI,CAACwL,EAAV,GAAe,GAAxB,CAAzE;AACAS,eAAO,CAAC7C,SAAR,GAAoB,OAApB;AACA6C,eAAO,CAAC9C,YAAR,GAAuB,QAAvB;AACA8C,eAAO,CAAC5C,QAAR,CAAiBkJ,IAAjB,EAAuBnU,EAAE,GAAGyT,EAAE,GAAG7R,IAAI,CAACsS,GAAL,CAAS,KAAKtS,IAAI,CAACwL,EAAV,GAAe,GAAxB,CAAjC,EAA+DnN,EAAE,GAAGwT,EAAE,GAAG7R,IAAI,CAACqS,GAAL,CAAS,KAAKrS,IAAI,CAACwL,EAAV,GAAe,GAAxB,CAAzE;AACAS,eAAO,CAAC7C,SAAR,GAAoB,OAApB;AACA6C,eAAO,CAAC9C,YAAR,GAAuB,KAAvB;AACA8C,eAAO,CAAC5C,QAAR,CAAiBkJ,IAAjB,EAAuBnU,EAAE,GAAGyT,EAAE,GAAG7R,IAAI,CAACsS,GAAL,CAAS,KAAKtS,IAAI,CAACwL,EAAV,GAAe,GAAxB,CAAjC,EAA+DnN,EAAE,GAAGwT,EAAE,GAAG7R,IAAI,CAACqS,GAAL,CAAS,KAAKrS,IAAI,CAACwL,EAAV,GAAe,GAAxB,CAAzE;AACA,YAAMgH,KAAK,GAAG,CAACD,IAAf;AACAtG,eAAO,CAACnJ,SAAR;AACAmJ,eAAO,CAAClJ,SAAR,GAAoBmG,IAAI,CAAC3T,KAAzB;AACA0W,eAAO,CAAC/C,IAAR,aAAkBA,IAAI,CAAC7T,IAAvB,cAA+B6T,IAAI,CAAC5T,MAApC;AACA2W,eAAO,CAAC7C,SAAR,GAAoB,OAApB;AACA6C,eAAO,CAAC9C,YAAR,GAAuB,QAAvB;AACA8C,eAAO,CAAC5C,QAAR,CAAiBmJ,KAAjB,EAAwBpU,EAAE,GAAGyT,EAAE,GAAG,CAAL,GAAS7R,IAAI,CAACsS,GAAL,CAAS,KAAKtS,IAAI,CAACwL,EAAV,GAAe,GAAxB,CAAd,GAA6C,EAArE,EAAyEnN,EAAE,GAAGwT,EAAE,GAAG,CAAL,GAAS7R,IAAI,CAACqS,GAAL,CAAS,KAAKrS,IAAI,CAACwL,EAAV,GAAe,GAAxB,CAAvF;AACAS,eAAO,CAAC7C,SAAR,GAAoB,OAApB;AACA6C,eAAO,CAAC9C,YAAR,GAAuB,KAAvB;AACA8C,eAAO,CAAC5C,QAAR,CAAiBmJ,KAAjB,EAAwBpU,EAAE,GAAGyT,EAAE,GAAG,CAAL,GAAS7R,IAAI,CAACsS,GAAL,CAAS,KAAKtS,IAAI,CAACwL,EAAV,GAAe,GAAxB,CAAd,GAA6C,EAArE,EAAyEnN,EAAE,GAAGwT,EAAE,GAAG,CAAL,GAAS7R,IAAI,CAACqS,GAAL,CAAS,KAAKrS,IAAI,CAACwL,EAAV,GAAe,GAAxB,CAAvF;AACAS,eAAO,CAAC7C,SAAR,GAAoB,MAApB;AACA6C,eAAO,CAAC9C,YAAR,GAAuB,QAAvB;AACA8C,eAAO,CAAC5C,QAAR,CAAiBmJ,KAAjB,EAAwBpU,EAAE,GAAGyT,EAAE,GAAG,CAAL,GAAS7R,IAAI,CAACsS,GAAL,CAAS,KAAKtS,IAAI,CAACwL,EAAV,GAAe,GAAxB,CAAd,GAA6C,EAArE,EAAyEnN,EAAE,GAAGwT,EAAE,GAAG,CAAL,GAAS7R,IAAI,CAACqS,GAAL,CAAS,KAAKrS,IAAI,CAACwL,EAAV,GAAe,GAAxB,CAAvF;AACAS,eAAO,CAAC7C,SAAR,GAAoB,MAApB;AACA6C,eAAO,CAAC9C,YAAR,GAAuB,KAAvB;AACA8C,eAAO,CAAC5C,QAAR,CAAiBmJ,KAAjB,EAAwBpU,EAAE,GAAGyT,EAAE,GAAG,CAAL,GAAS7R,IAAI,CAACsS,GAAL,CAAS,KAAKtS,IAAI,CAACwL,EAAV,GAAe,GAAxB,CAAd,GAA6C,EAArE,EAAyEnN,EAAE,GAAGwT,EAAE,GAAG,CAAL,GAAS7R,IAAI,CAACqS,GAAL,CAAS,KAAKrS,IAAI,CAACwL,EAAV,GAAe,GAAxB,CAAvF;AACD,OAr2EgB;AAs2EjB;AACA5D,gBAv2EiB,wBAu2EJ;AACX,YAAMtK,GAAG,GAAG,KAAKT,OAAjB;AACA,YAAM/H,GAAG,GAAG,KAAK4E,IAAjB;AACA,YAAM6O,OAAO,GAAG,KAAKzL,UAAL,CAAgBE,GAAhB,CAAoBlF,UAApC;AACA,YAAM8Z,EAAE,GAAG,KAAK9V,MAAL,CAAYK,CAAvB;AACA,YAAMrG,CAAC,GAAG8b,EAAE,CAAC9b,CAAb;AACA,YAAMW,CAAC,GAAGmb,EAAE,CAACnb,CAAb;AACA,YAAM0F,CAAC,GAAGyV,EAAE,CAACrV,EAAb;AACA,YAAMjC,IAAI,GAAGgD,GAAG,CAAC3G,MAAJ,CAAWP,SAAxB;AACA,YAAM8S,IAAI,GAAG5L,GAAG,CAAC3G,MAAJ,CAAWxB,SAAxB;AACAoT,eAAO,CAAC1G,SAAR,CAAkB,CAAlB,EAAqB,CAArB,EAAwB/M,GAAG,CAACuB,KAA5B,EAAmCvB,GAAG,CAAC8E,MAAvC;AACA2O,eAAO,CAACzF,SAAR;AACAyF,eAAO,CAACO,WAAR,GAAsBxO,IAAI,CAAC/E,KAA3B;AACAgT,eAAO,CAACM,SAAR,GAAoBvO,IAAI,CAACjE,KAAzB;AACAkS,eAAO,CAACxF,SAAR,GAAoBmG,IAAI,CAAC3T,KAAzB;AACAgT,eAAO,CAACgD,GAAR,CAAYzV,CAAZ,EAAeW,CAAf,EAAkB0F,CAAlB,EAAqB,CAArB,EAAwB,IAAI6D,IAAI,CAACwL,EAAjC;AACAjD,eAAO,CAACQ,MAAR,CAAejT,CAAC,GAAGqG,CAAnB,EAAsB1F,CAAtB;AACA8R,eAAO,CAACS,MAAR,CAAelT,CAAC,GAAGqG,CAAnB,EAAsB1F,CAAtB;AACA8R,eAAO,CAACQ,MAAR,CAAejT,CAAf,EAAkBW,CAAC,GAAG0F,CAAtB;AACAoM,eAAO,CAACS,MAAR,CAAelT,CAAf,EAAkBW,CAAC,GAAG0F,CAAtB;AACAoM,eAAO,CAACU,MAAR;AACAV,eAAO,CAACW,IAAR,aAAkBA,IAAI,CAAC7T,IAAvB,cAA+B6T,IAAI,CAAC5T,MAApC;AACAiT,eAAO,CAACa,SAAR,GAAoB,QAApB;AACAb,eAAO,CAACY,YAAR,GAAuB,QAAvB;AACAZ,eAAO,CAACc,QAAR,CAAiB,OAAjB,EAA0BvT,CAA1B,EAA6BW,CAAC,GAAG0F,CAAjC;AACAoM,eAAO,CAACY,YAAR,GAAuB,KAAvB;AACAZ,eAAO,CAACc,QAAR,CAAiB,SAAjB,EAA4BvT,CAA5B,EAA+BW,CAAC,GAAG0F,CAAJ,GAAQ,CAAvC;AACAoM,eAAO,CAACa,SAAR,GAAoB,MAApB;AACAb,eAAO,CAACY,YAAR,GAAuB,QAAvB;AACAZ,eAAO,CAACc,QAAR,CAAiB,QAAjB,EAA2BvT,CAAC,GAAGqG,CAAJ,GAAQ,CAAnC,EAAsC1F,CAAtC;AACA8R,eAAO,CAACa,SAAR,GAAoB,OAApB;AACAb,eAAO,CAACc,QAAR,CAAiB,SAAjB,EAA4BvT,CAAC,GAAGqG,CAAJ,GAAQ,CAApC,EAAuC1F,CAAvC;AACD,OAv4EgB;AAw4EjB;AACAoR,gBAz4EiB,wBAy4EJ;AACX,YAAM/S,GAAG,GAAG,KAAK4E,IAAjB;AACA,YAAM/C,MAAM,GAAG,KAAKkG,OAAL,CAAalG,MAA5B;AACA,YAAMib,EAAE,GAAG,KAAK9V,MAAL,CAAYK,CAAvB;AACA,YAAMiC,EAAE,GAAGwT,EAAE,CAAC9b,CAAd;AAAiB;;AACjB,YAAMuI,EAAE,GAAGuT,EAAE,CAACnb,CAAd;AAAiB;;AACjB,YAAMob,EAAE,GAAGD,EAAE,CAACrV,EAAd;AAAkB;;AAClB,YAAMpG,IAAI,GAAGQ,MAAM,CAACR,IAApB;AACA,YAAMoB,SAAS,GAAGpB,IAAI,CAACoB,SAAvB;AAAkC;;AAClC,YAAMC,KAAK,GAAGrB,IAAI,CAACqB,KAAnB;AAA0B;;AAC1B,YAAMyU,OAAO,GAAG,KAAKnP,UAAL,CAAgBE,GAAhB,CAAoB7G,IAApC;AACA,YAAMI,GAAG,GAAGJ,IAAI,CAACsB,YAAjB;AACA,YAAMwF,IAAI,GAAG,KAAKA,IAAlB;AACAA,YAAI,CAACnH,CAAL,CAAOoG,MAAP,GAAgB,CAAhB;AACAe,YAAI,CAACxG,CAAL,CAAOyF,MAAP,GAAgB,CAAhB;AACAe,YAAI,CAACC,KAAL,CAAWhB,MAAX,GAAoB,CAApB;;AACA,YAAI3E,SAAS,KAAKmD,SAAd,IAA2BnD,SAAS,CAAC2E,MAAV,KAAqB,CAAhD,IAAqD1E,KAAK,KAAKkD,SAA/D,IAA4ElD,KAAK,CAAC0E,MAAN,KAAiB,CAAjG,EAAoG;AAClG;AACD;;AACD+P,eAAO,CAACpK,SAAR,CAAkB,CAAlB,EAAqB,CAArB,EAAwB/M,GAAG,CAACuB,KAA5B,EAAmCvB,GAAG,CAAC8E,MAAvC;;AACA,aAAK,IAAI6E,IAAC,GAAG,CAAR,EAAWC,CAAC,GAAGlH,KAAK,CAAC0E,MAA1B,EAAkCuC,IAAC,GAAGC,CAAtC,EAAyCD,IAAC,EAA1C,EAA8C;AAC5C,cAAMuT,IAAI,GAAGza,SAAS,CAACkH,IAAD,CAAtB;AACA,cAAMwT,IAAI,GAAGza,KAAK,CAACiH,IAAD,CAAlB;AACA,cAAMlJ,KAAK,GAAGY,IAAI,CAACZ,KAAL,CAAWkJ,IAAX,CAAd;AACAwN,iBAAO,CAAClJ,SAAR,GAAoBxN,KAApB;;AACA,eAAK,IAAI+K,CAAC,GAAG,CAAR,EAAWD,GAAG,GAAG2R,IAAI,CAAC9V,MAA3B,EAAmCoE,CAAC,GAAGD,GAAvC,EAA4CC,CAAC,EAA7C,EAAiD;AAC/C2L,mBAAO,CAACnJ,SAAR;AACA,gBAAMoP,CAAC,GAAGF,IAAI,CAAC1R,CAAD,CAAd;AACA,gBAAMmS,CAAC,GAAGR,IAAI,CAAC3R,CAAD,CAAd;AACA,gBAAMxK,CAAC,GAAGsI,EAAE,GAAG8T,CAAC,GAAG3b,GAAJ,GAAUsb,EAAV,GAAe7R,IAAI,CAACqS,GAAL,CAASI,CAAC,GAAGzS,IAAI,CAACwL,EAAT,GAAc,GAAvB,CAA9B;AACA,gBAAM/U,CAAC,GAAG4H,EAAE,GAAG6T,CAAC,GAAG3b,GAAJ,GAAUsb,EAAV,GAAe7R,IAAI,CAACsS,GAAL,CAASG,CAAC,GAAGzS,IAAI,CAACwL,EAAT,GAAc,GAAvB,CAA9B;AACAvO,gBAAI,CAACnH,CAAL,CAAOwM,IAAP,CAAYxM,CAAZ;AACAmH,gBAAI,CAACxG,CAAL,CAAO6L,IAAP,CAAY7L,CAAZ;AACAwG,gBAAI,CAACC,KAAL,CAAWoF,IAAX,CAAgB;AAAC7D,eAAC,EAADA,IAAD;AAAI6B,eAAC,EAADA;AAAJ,aAAhB;AACA2L,mBAAO,CAACV,GAAR,CAAYzV,CAAZ,EAAeW,CAAf,EAAkB,CAAlB,EAAqB,CAArB,EAAwB,IAAIuJ,IAAI,CAACwL,EAAjC;AACAS,mBAAO,CAACR,IAAR;AACD;AACF;;AACD,YAAM8G,IAAI,aAAM,KAAK5N,KAAL,CAAWpO,GAAX,CAAN,SAAwBI,MAAM,CAACW,IAA/B,CAAV;AACA,YAAM4R,IAAI,GAAGvS,MAAM,CAACxB,SAApB;AACA8W,eAAO,CAACnJ,SAAR;AACAmJ,eAAO,CAAClJ,SAAR,GAAoBmG,IAAI,CAAC3T,KAAzB;AACA0W,eAAO,CAAC/C,IAAR,aAAkBA,IAAI,CAAC7T,IAAvB,cAA+B6T,IAAI,CAAC5T,MAApC;AACA2W,eAAO,CAAC7C,SAAR,GAAoB,MAApB;AACA6C,eAAO,CAAC9C,YAAR,GAAuB,QAAvB;AACA8C,eAAO,CAAC5C,QAAR,CAAiBkJ,IAAjB,EAAuBnU,EAAE,GAAGyT,EAAE,GAAG7R,IAAI,CAACsS,GAAL,CAAS,KAAKtS,IAAI,CAACwL,EAAV,GAAe,GAAxB,CAAjC,EAA+DnN,EAAE,GAAGwT,EAAE,GAAG7R,IAAI,CAACqS,GAAL,CAAS,KAAKrS,IAAI,CAACwL,EAAV,GAAe,GAAxB,CAAzE;AACAS,eAAO,CAAC7C,SAAR,GAAoB,MAApB;AACA6C,eAAO,CAAC9C,YAAR,GAAuB,KAAvB;AACA8C,eAAO,CAAC5C,QAAR,CAAiBkJ,IAAjB,EAAuBnU,EAAE,GAAGyT,EAAE,GAAG7R,IAAI,CAACsS,GAAL,CAAS,KAAKtS,IAAI,CAACwL,EAAV,GAAe,GAAxB,CAAjC,EAA+DnN,EAAE,GAAGwT,EAAE,GAAG7R,IAAI,CAACqS,GAAL,CAAS,KAAKrS,IAAI,CAACwL,EAAV,GAAe,GAAxB,CAAzE;AACAS,eAAO,CAAC7C,SAAR,GAAoB,OAApB;AACA6C,eAAO,CAAC9C,YAAR,GAAuB,QAAvB;AACA8C,eAAO,CAAC5C,QAAR,CAAiBkJ,IAAjB,EAAuBnU,EAAE,GAAGyT,EAAE,GAAG7R,IAAI,CAACsS,GAAL,CAAS,KAAKtS,IAAI,CAACwL,EAAV,GAAe,GAAxB,CAAjC,EAA+DnN,EAAE,GAAGwT,EAAE,GAAG7R,IAAI,CAACqS,GAAL,CAAS,KAAKrS,IAAI,CAACwL,EAAV,GAAe,GAAxB,CAAzE;AACAS,eAAO,CAAC7C,SAAR,GAAoB,OAApB;AACA6C,eAAO,CAAC9C,YAAR,GAAuB,KAAvB;AACA8C,eAAO,CAAC5C,QAAR,CAAiBkJ,IAAjB,EAAuBnU,EAAE,GAAGyT,EAAE,GAAG7R,IAAI,CAACsS,GAAL,CAAS,KAAKtS,IAAI,CAACwL,EAAV,GAAe,GAAxB,CAAjC,EAA+DnN,EAAE,GAAGwT,EAAE,GAAG7R,IAAI,CAACqS,GAAL,CAAS,KAAKrS,IAAI,CAACwL,EAAV,GAAe,GAAxB,CAAzE;AACD,OAh8EgB;AAi8EjB;AACAhF,kBAl8EiB,wBAk8EJrQ,IAl8EI,EAk8EE;AACjB,YAAM8G,IAAI,GAAG,KAAKA,IAAlB;AACA,YAAMiB,EAAE,GAAGjB,IAAI,CAACnH,CAAhB;AACA,YAAMqI,EAAE,GAAGlB,IAAI,CAACxG,CAAhB;AACA,YAAMic,GAAG,GAAG;AACV5c,WAAC,EAAEoI,EAAE,CAAC/H,IAAI,CAACoE,GAAN,CADK;AAEV9D,WAAC,EAAE0H,EAAE,CAAChI,IAAI,CAACoE,GAAN,CAFK;AAGV2C,eAAK,EAAED,IAAI,CAACC,KAAL,CAAW/G,IAAI,CAACoE,GAAhB;AAHG,SAAZ;AAKA,aAAKqE,SAAL,CAAe8T,GAAf;AACD,OA58EgB;AA68EjB;AACA9T,eA98EiB,qBA88EP8T,GA98EO,EA88EFxc,IA98EE,EA88EI;AACnB,YAAMpB,GAAG,GAAG,KAAK4E,IAAjB;AACA,YAAM8Q,QAAQ,GAAG,KAAK1N,UAAL,CAAgBE,GAAhB,CAAoB3C,KAArC;AACAmQ,gBAAQ,CAAC3I,SAAT,CAAmB,CAAnB,EAAsB,CAAtB,EAAyB/M,GAAG,CAACuB,KAA7B,EAAoCvB,GAAG,CAAC8E,MAAxC;AACA4Q,gBAAQ,CAAC1H,SAAT;AACA0H,gBAAQ,CAACzH,SAAT,GAAqB,KAArB;AACAyH,gBAAQ,CAACe,GAAT,CAAamH,GAAG,CAAC5c,CAAjB,EAAoB4c,GAAG,CAACjc,CAAxB,EAA2B,CAA3B,EAA8B,CAA9B,EAAiC,IAAIuJ,IAAI,CAACwL,EAA1C;AACAhB,gBAAQ,CAACiB,IAAT;;AACA,YAAIvV,IAAI,IAAI,YAAZ,EAA0B;AACxB,eAAK2G,OAAL,CAAajF,OAAb,CAAqBG,SAArB,CAA+B;AAACuG,iBAAK,EAAEoU,GAAG,CAACjc;AAAZ,WAA/B;AACD,SAFD,MAGI;AACF,eAAKoG,OAAL,CAAajF,OAAb,CAAqBG,SAArB,CAA+B;AAACuW,kBAAM,EAAEoE,GAAG,CAACxV,KAAJ,CAAUuB,CAAnB;AAAsBkU,kBAAM,EAAED,GAAG,CAACxV,KAAJ,CAAUoD;AAAxC,WAA/B;;AACA,eAAKzD,OAAL,CAAalG,MAAb,CAAoBE,QAApB,CAA6BV,IAA7B,CAAkC+F,MAAlC,GAA2C,CAA3C;AACD;AACF,OA79EgB;AA89EjB;AACA1C,YA/9EiB,oBA+9ER;AACP,YAAM1E,GAAG,GAAG,KAAK4E,IAAjB;AAAA,YAAuBjE,IAAI,GAAG,KAAKoH,OAAL,CAAapH,IAA3C;AACA,aAAK4O,KAAL,CAAWvP,GAAG,CAACI,IAAf;AACA,aAAK4G,MAAL,CAAYK,CAAZ,GAAgB;AACdA,WAAC,EAAErH,GAAG,CAACuB,KAAJ,GAAYZ,IAAI,CAACE,KADN;AAEdyG,WAAC,EAAEtH,GAAG,CAACuB,KAAJ,GAAYZ,IAAI,CAACE,KAAjB,GAAyBF,IAAI,CAACG,IAFnB;AAGdyG,WAAC,EAAEvH,GAAG,CAAC8E,MAAJ,GAAanE,IAAI,CAACI,MAHP;AAIdyG,WAAC,EAAExH,GAAG,CAAC8E,MAAJ,GAAanE,IAAI,CAACC,GAAlB,GAAwBD,IAAI,CAACI,MAJlB;AAKdC,WAAC,EAAE,IALW;AAMdW,WAAC,EAAE,IANW;AAOd8F,YAAE,EAAE;AAPU,SAAhB;AASA,YAAMJ,CAAC,GAAG,KAAKL,MAAL,CAAYK,CAAtB;AACA,YAAMuK,EAAE,GAAGvK,CAAC,CAACC,CAAF,GAAM,CAAjB;AACA,YAAMuK,EAAE,GAAGxK,CAAC,CAACG,CAAF,GAAM,CAAjB;AACAH,SAAC,CAACrG,CAAF,GAAM4Q,EAAE,GAAGjR,IAAI,CAACG,IAAhB;AACAuG,SAAC,CAAC1F,CAAF,GAAMkQ,EAAE,GAAGlR,IAAI,CAACC,GAAhB;AACAyG,SAAC,CAACI,EAAF,GAAOyD,IAAI,CAACxJ,GAAL,CAASkQ,EAAT,EAAaC,EAAb,CAAP;AACA,aAAKpG,UAAL,CAAgB,CAAhB;AACD,OAl/EgB;AAm/EjB;AACAqS,cAp/EiB,oBAo/ERC,EAp/EQ,EAo/ELC,EAp/EK,EAo/ED;AACd,YAAI5G,IAAI,GAAG,KAAKrP,OAAL,CAAa/G,CAAb,CAAeK,IAA1B;AACA,YAAI4J,IAAI,GAAG,KAAKlD,OAAL,CAAapG,CAAb,CAAeN,IAA1B;AACA,YAAI4c,MAAM,GAAG,EAAb;;AACA,aAAI,IAAItU,IAAC,GAAG,CAAZ,EAAeA,IAAC,GAAGyN,IAAI,CAAChQ,MAAxB,EAAgCuC,IAAC,EAAjC,EAAqC;AACnC,cAAGoU,EAAE,IAAI3G,IAAI,CAACzN,IAAD,CAAV,IAAiByN,IAAI,CAACzN,IAAD,CAAJ,IAAWqU,EAA/B,EAAmC;AACjCC,kBAAM,CAACzQ,IAAP,CAAYvC,IAAI,CAACtB,IAAD,CAAhB;AACD;AACF;;AACD,eAAOsU,MAAP;AACD,OA9/EgB;;AA+/EjB;;;;AAIAC,YAngFiB,kBAmgFVC,IAngFU,EAmgFJC,IAngFI,EAmgFE;AACjB,YAAIC,KAAK,CAACF,IAAD,CAAT,EAAiB;AACfA,cAAI,GAAG,CAAP;AACD;;AACD,YAAIE,KAAK,CAACD,IAAD,CAAT,EAAiB;AACfA,cAAI,GAAG,CAAP;AACD;;AACDD,YAAI,GAAG1U,MAAM,CAAC0U,IAAD,CAAb;AACAC,YAAI,GAAG3U,MAAM,CAAC2U,IAAD,CAAb;AAEA,YAAIE,EAAJ,EAAQC,EAAR,EAAY5L,CAAZ,EAAea,CAAf;;AACA,YAAI;AACF8K,YAAE,GAAGH,IAAI,CAACxO,QAAL,GAAgB6O,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,EAA8BpX,MAAnC;AACD,SAFD,CAGA,OAAOkB,CAAP,EAAU;AACRgW,YAAE,GAAG,CAAL;AACD;;AACD,YAAI;AACFC,YAAE,GAAGH,IAAI,CAACzO,QAAL,GAAgB6O,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,EAA8BpX,MAAnC;AACD,SAFD,CAGA,OAAOkB,CAAP,EAAU;AACRiW,YAAE,GAAG,CAAL;AACD;;AACD5L,SAAC,GAAGzH,IAAI,CAAC6J,GAAL,CAAS,EAAT,EAAa7J,IAAI,CAACzJ,GAAL,CAAS6c,EAAT,EAAaC,EAAb,CAAb,CAAJ,CAvBiB,CAuBoB;;AACrC/K,SAAC,GAAI8K,EAAE,IAAIC,EAAP,GAAaD,EAAb,GAAkBC,EAAtB;AACA,eAAO,CAAC,CAACJ,IAAI,GAAGxL,CAAP,GAAWyL,IAAI,GAAGzL,CAAnB,IAAwBA,CAAzB,EAA4B3D,OAA5B,CAAoCwE,CAApC,CAAP;AACD,OA7hFgB;;AA8hFjB;;;;;;;;AAQArJ,cAtiFiB,oBAsiFRsU,EAtiFQ,EAsiFJC,SAtiFI,EAsiFOC,EAtiFP,EAsiFiD;AAAA,YAAtCC,QAAsC,uEAA3B,KAA2B;AAAA,YAApBC,UAAoB,uEAAP,KAAO;AAChE,YAAIC,QAAQ,GAAG,EAAf;;AACA,YAAI,CAACL,EAAD,IAAO,CAACC,SAAR,IAAqB,CAACC,EAA1B,EAA8B;AAC5BG,kBAAQ,GAAG,QAAX;AACD,SAFD,MAEO,IAAI,QAAOL,EAAP,MAAc,QAAlB,EAA4B;AACjCK,kBAAQ,GAAG,SAAX;AACD,SAFM,MAEA,IAAI,OAAOJ,SAAP,KAAqB,QAAzB,EAAmC;AACxCI,kBAAQ,GAAG,QAAX;AACD,SAFM,MAEA,IAAI,OAAOH,EAAP,KAAc,UAAlB,EAA8B;AACnCG,kBAAQ,GAAG,SAAX;AACD;;AACD,YAAIA,QAAQ,KAAK,EAAjB,EAAqB;AACnB,gBAAM,IAAIC,KAAJ,CAAUD,QAAV,CAAN;AACD;;AACD,YAAIL,EAAE,CAACO,SAAH,KAAiBpZ,SAArB,EAAgC;AAC9B6Y,YAAE,CAACO,SAAH,GAAe,EAAf;AACD;;AACD,YAAI,CAACJ,QAAL,EAAe;AACb,eAAK,IAAMnZ,GAAX,IAAkBgZ,EAAE,CAACO,SAArB,EAAgC;AAC9B,gBAAIvZ,GAAG,KAAKiZ,SAAZ,EAAuB;AACrB,qBAAO,QAAP;AACD;AACF;AACF,SAvB+D,CAwBhE;;;AACAD,UAAE,CAACQ,gBAAH,CAAoBP,SAApB,EAA+BC,EAA/B,EAAmCE,UAAnC;AACD,OAhkFgB;AAikFjB;AACAzS,iBAlkFiB,uBAkkFLqS,EAlkFK,EAkkFDC,SAlkFC,EAkkFUC,EAlkFV,EAkkFkC;AAAA,YAApBE,UAAoB,uEAAP,KAAO;AACjD,YAAIC,QAAQ,GAAG,EAAf;;AACA,YAAI,CAACL,EAAD,IAAO,CAACC,SAAR,IAAqB,CAACC,EAA1B,EAA8B;AAC5BG,kBAAQ,GAAG,QAAX;AACD,SAFD,MAEO,IAAIpP,MAAM,CAACF,SAAP,CAAiBG,QAAjB,CAA0BC,IAA1B,CAA+B6O,EAA/B,EAAmCnT,KAAnC,CAAyC,CAAzC,EAA4C,CAAC,CAA7C,MAAoD,gBAAxD,EAA0E;AAC/EwT,kBAAQ,GAAG,aAAX;AACD,SAFM,MAEA,IAAI,OAAOJ,SAAP,KAAqB,QAAzB,EAAmC;AACxCI,kBAAQ,GAAG,QAAX;AACD,SAFM,MAEA,IAAI,OAAOH,EAAP,KAAc,UAAlB,EAA8B;AACnCG,kBAAQ,GAAG,SAAX;AACD;;AACD,YAAIA,QAAQ,KAAK,EAAjB,EAAqB;AACnB,gBAAM,IAAIC,KAAJ,CAAUD,QAAV,CAAN;AACD;;AACD,YAAIL,EAAE,CAACO,SAAP,EAAkB;AAChB,iBAAOP,EAAE,CAACO,SAAH,CAAaN,SAApB;AACD;;AACDD,UAAE,CAACS,mBAAH,CAAuBR,SAAvB,EAAkCC,EAAlC,EAAsCE,UAAtC;AACD;AAplFgB,KAAnB;AAslFA,WAAO,IAAIla,MAAJ,CAAW3E,GAAX,CAAP;AACD,GAplHD;;AAslHA,WAASmf,IAAT,CAAcnf,GAAd,EAAmB;AACjB,QAAIA,GAAJ,EAAS;AACP,aAAO,KAAKA,GAAL,CAAP;AACD;AACF;;AACDD,OAAK,CAACof,IAAN,GAAaA,IAAb;AACA,SAAOpf,KAAP;AACD,CApmHA,CAAD,C;;;;;;;;;;;ACJA,iBAAiB,qBAAuB,wB;;;;;;;;;;;ACAxC,iBAAiB,qBAAuB,yB;;;;;;;;;;;ACAxC,iBAAiB,qBAAuB,wB;;;;;;;;;;;ACAxC,iBAAiB,qBAAuB,0B;;;;;;;;;;;ACAxC,iBAAiB,qBAAuB,wB;;;;;;;;;;;ACAxC,iBAAiB,qBAAuB,uB;;;;;;;;;;;ACAxC,iBAAiB,qBAAuB,0B;;;;;;;;;;;ACAxC,iBAAiB,qBAAuB,wB;;;;;;;;;;;ACAxC,iBAAiB,qBAAuB,wB;;;;;;;;;;;ACAxC,iBAAiB,qBAAuB,wB;;;;;;;;;;;ACAxC,iBAAiB,qBAAuB,2B;;;;;;;;;;;;ACAxC;AAAA;AAAA;AAAA;AAAA;AAAmF;AAC3B;AACL;AACc;;;AAGjE;AACgG;AAChG,gBAAgB,2GAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,IAAU;AACd,YAAY,mBAAO,CAAC,wGAAsE;AAC1F,cAAc,mBAAO,CAAC,+CAAK;AAC3B;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,sBAAsB,8HAA2C,EAAE;AAAA;AACnE;AACA,gBAAgB,+EAAM;AACtB,yBAAyB,wFAAe;AACxC,OAAO;AACP,KAAK;AACL;AACA;AACA;AACe,gF;;;;;;;;;;;;ACvCf;AAAA;AAAA,wCAA0L,CAAgB,gPAAG,EAAC,C;;;;;;;;;;;;ACA9M;AAAA;AAAA;AAAA;AAAoX,CAAgB,qYAAG,EAAC,C;;;;;;;;;;;;ACAxY;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAwF;AAC3B;AACL;;;AAGxD;AACgG;AAChG,gBAAgB,2GAAU;AAC1B,EAAE,+EAAM;AACR,EAAE,oFAAM;AACR,EAAE,6FAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,IAAU;AACd,YAAY,mBAAO,CAAC,wGAAsE;AAC1F,cAAc,mBAAO,CAAC,+CAAK;AAC3B;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,sBAAsB,wIAAgD,EAAE;AAAA;AACxE;AACA,gBAAgB,oFAAM;AACtB,yBAAyB,6FAAe;AACxC,OAAO;AACP,KAAK;AACL;AACA;AACA;AACe,gF;;;;;;;;;;;;ACtCf;AAAA;AAAA,wCAA+L,CAAgB,qPAAG,EAAC,C;;;;;;;;;;;;ACAnN;AAAA;AAAA;AAAA;AAAA;AAAA","file":"js/25-277c48ad60e55e458a30.js","sourcesContent":["<template>\r\n    <div id=\"wave-content\">\r\n        <header class=\"myHeader\">\r\n            <div class=\"form-group\">\r\n                <div class=\"select-group\">\r\n                    <span class=\"lableName\">组织：</span>\r\n                    <select id=\"select-folder\" class=\"select-header\" v-model=\"chooseTid\" @change=\"selectFolder\">\r\n                        <option v-for=\"item in sortFolderList\" :value=\"item.t_id\" :title=\"item.t_name\">{{item.t_name}}</option>\r\n                    </select>\r\n                </div>\r\n                <div class=\"select-group\">\r\n                    <span class=\"lableName\">机组：</span>\r\n                    <select id=\"select-mac\" class=\"select-header\" v-model=\"chooseMacId\" @change=\"selectMac\">\r\n                        <option v-for=\"item in sortMacList\" :value=\"item.mac_id\" :title=\"item.mac_me\">{{item.mac_me}}</option>\r\n                    </select>\r\n                </div>\r\n                <div class=\"select-group\">\r\n                    <span class=\"lableName\">测点名称：</span>\r\n                    <select id=\"select-position\" class=\"select-header\" v-model=\"choosePosTypeId\" @change=\"selectPosTypeId\">\r\n                        <option v-for=\"item in choosePosList\" :value=\"item.pos_type+'_'+item.pos_id\" :title=\"item.pos_name\" >{{item.pos_name}}</option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n            <div class=\"speed_choose_div\" id=\"hd_choose\">\r\n                <select @change=\"change_hd()\" class=\"hd_select\" v-model=\"hd_speed\">\r\n                    <option value=\"false\" id=\"hd_low_radio\">低密度波形</option>\r\n                    <option value=\"true\" id=\"hd_high_radio\">高密度波形</option>\r\n                </select>\r\n            </div>\r\n            <div class=\"header-time\">\r\n                <span>起止时间：</span>\r\n                <input type=\"text\" id=\"start_time\" class=\"am-form-field start_date flatpickr\" :placeholder=\"startTime\" :data-default-date=\"startTime\" />\r\n                <span>-</span>\r\n                <input type=\"text\" id=\"end_time\" class=\"am-form-field end_date flatpickr\" :placeholder=\"endTime\" />\r\n            </div>\r\n            <div :class=\"[flag_real?'dashDivSelectd':'dashDiv']\" @click=\"setRealBtn\">\r\n                <span class=\"dashSpan\"></span>\r\n                <span class=\"dashText\">{{toggleText}}</span>\r\n            </div>\r\n            <a class=\"am-btn am-btn-default line_info_btn keep_btn\" id=\"keep_download\" style=\"visibility: hidden\"><span class=\"tool_icon\"></span>&nbsp;保存页面</a>\r\n        </header>\r\n        <div class=\"content\">\r\n            <div id=\"wavespecturm_box\">\r\n                <div class=\"line_box\">\r\n                    <!--波形图-->\r\n                    <wave-chart :position=\"selectPosition\" v-bind:otp=\"1\" v-bind:option=\"waveOption\" v-show=\"showType1 == 1\" ref=\"chart1\" @set-unit=\"showUnitSelect\" :height=\"maxRestoreHeight\" :type=\"specType\" @get-max=\"getMax\" :change=\"changePos\">\r\n                    </wave-chart>\r\n                    <!--频谱图-->\r\n                    <wave-chart :position=\"selectPosition\" v-bind:otp=\"2\" v-bind:option=\"specturmOption\" style=\"float: right;\" v-show=\"showType2 == 2\" ref=\"chart2\" @set-unit=\"showUnitSelect\" :height=\"maxRestoreHeight\" @get-max=\"getMax\" @set-power=\"setAllPower\"></wave-chart>\r\n                    <!--趋势图-->\r\n                    <wave-chart :position=\"selectPosition\" v-bind:otp=\"3\" v-bind:option=\"historyOption\" v-show=\"showType3 == 3\" ref=\"chart3\" @set-unit=\"showUnitSelect\" :height=\"maxRestoreHeight\" @get-max=\"getMax\"></wave-chart>\r\n                    <p class=\"noNowData\" v-show=\"noRealData\">没有实时波形</p>\r\n                    <p class=\"waveTimeText\">{{ changeTime}}</p>\r\n                    <button class=\"wave-btn btn-set\" @click=\"setBaseWave\" v-show=\"selectPosition.pos_type==14\">设为基准</button>\r\n                    <button class=\"wave-btn btn-get\" @click=\"getBaseWave\" v-show=\"selectPosition.pos_type==14\">采集波形</button>\r\n                </div>\r\n                <!--右侧小工具-->\r\n                <div class=\"tool_box\">\r\n                    <ul class=\"tool_list\" ref=\"spectrumTools\">\r\n                        <li v-for=\"(tool,index) in tools\" @click=\"tool.toolFunc();addActive($event,index)\">\r\n                            <img class=\"tool_btn\" ref=\"tool_btn\" :title=\"tool.text\" :src=\"tool.icon\">\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n                <!--以下为弹窗-->\r\n                <!--设置所有测点有效频率-->\r\n                <div class=\"alert_box\" style=\"display: none\" ref=\"allPower\" id=\"allPower_alert\" @click=\"hideBox\">\r\n                    <div class=\"alert_box_header\">\r\n                        <div class=\"alert_box_header_left am-u-lg-8\">\r\n                            <i v-text=\"selectPosition.pos_type == 8||selectPosition.pos_type == 9 ? '所有测点有效阶次' : '所有测点有效频率'\"></i>\r\n                        </div>\r\n                        <div class=\"alert_box_header_right am-u-lg-4\"><span class=\"alert_box_close\" @click=\"closeAlert('#allPower_alert')\"></span></div>\r\n                    </div>\r\n                    <div class=\"alert_box_content\">\r\n                        <div class=\"allPos\">\r\n                            测点：<div :title=\"curPosName\" ref=\"curPos\" id=\"posName\">\r\n                            {{curPosName}}\r\n                        </div>\r\n                            <ul ref=\"selectBox\" v-show=\"boxShow\" class=\"allPosBox\">\r\n                                <li v-for=\"(item, index) in allPos\" :data-id=\"index\" @click.stop=\"selectAllPos\" :title=\"item.name\">\r\n                                    {{item.name}}\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                        <p>下限：<input type=\"text\" ref=\"powerA\" @input=\"setAllPowerA\">&nbsp;<i v-text=\"selectPosition.pos_type == 8||selectPosition.pos_type == 9 ? 'NX' : 'Hz'\"></i>\r\n                        </p>\r\n                        <p>上限：<input type=\"text\" ref=\"powerB\" @input=\"setAllPowerB\">&nbsp;<i v-text=\"selectPosition.pos_type == 8||selectPosition.pos_type == 9 ? 'NX' : 'Hz'\"></i>\r\n                        </p>\r\n                        <p class=\"alert_box_tips\" v-show=\"isRealAll\">\r\n                            上限需要大于下限</p>\r\n                    </div>\r\n                    <div class=\"alert_box_footer\">\r\n                        <button @click=\"allPowerOk\">确定</button>\r\n                        <button @click=\"closeAlert('#allPower_alert')\" class=\"cancel_btn\">取消</button>\r\n                    </div>\r\n                </div>\r\n\r\n                <!--低频过滤的弹窗-->\r\n                <div id=\"hide_low_alert\" class=\"alert_box\" style=\"display: none\">\r\n                    <div class=\"alert_box_header\" v-text=\"selectPosition.pos_type == 8||selectPosition.pos_type == 9 ? '低阶次过滤' : '低频过滤'\">\r\n                        <div class=\"alert_box_header_right\"><span class=\"alert_box_close\" @click=\"closeAlert('#hide_low_alert')\"></span></div>\r\n                    </div>\r\n                    <div class=\"alert_box_content\">\r\n                        <div><span v-text=\"selectPosition.pos_type == 8||selectPosition.pos_type == 9 ? '过滤阶次' : '过滤频率'\"></span>：<input type=\"text\" v-model=\"hide_low\"></div>\r\n                    </div>\r\n                    <div class=\"alert_box_footer\">\r\n                        <button @click=\"hideLowOk('#hide_low_alert')\">确定</button>\r\n                        <button @click=\"closeAlert('#hide_low_alert')\" class=\"cancel_btn\">取消</button>\r\n                    </div>\r\n                </div>\r\n                <!--有效频率设置的弹窗-->\r\n                <div id=\"powerRms_alert\" class=\"alert_box\" style=\"display: none\">\r\n                    <div class=\"alert_box_header\" v-text=\"selectPosition.pos_type == 8||selectPosition.pos_type == 9 ? '有效阶次' : '有效频率'\">\r\n                    </div>\r\n                    <div class=\"alert_box_content\">\r\n                        <p>下限：<input type=\"text\" v-model=\"power_a\">&nbsp;<i v-text=\"selectPosition.pos_type == 8||selectPosition.pos_type == 9 ? 'NX' : 'Hz'\"></i>\r\n                        </p>\r\n                        <p>上限：<input type=\"text\" v-model=\"power_b\">&nbsp;<i v-text=\"selectPosition.pos_type == 8||selectPosition.pos_type == 9 ? 'NX' : 'Hz'\"></i>\r\n                        </p>\r\n                        <p class=\"alert_box_tips\" id=\"alert_tips\" v-show=\"Number(power_a)>Number(power_b)&amp;&amp;power_b!=0\">上限需要大于下限\r\n                        </p>\r\n                    </div>\r\n                    <div class=\"alert_box_footer\">\r\n                        <button @click=\"powerRmsOk('#powerRms_alert')\">确定</button>\r\n                        <button @click=\"closeAlert('#powerRms_alert')\" class=\"cancel_btn\">取消</button>\r\n                    </div>\r\n                </div>\r\n\r\n                <!--单位选择-->\r\n                <div id=\"unitSelect_alert\" class=\"alert_box\" style=\"display: none\">\r\n                    <div class=\"alert_box_header\">\r\n                        单位选择\r\n                    </div>\r\n                    <div class=\"alert_box_content\">\r\n                        <p>单位选择：\r\n                            <select v-model=\"unitSelect\" @change=\"\" id=\"unit_select\" v-cloak=\"\">\r\n                                <option value=\"g\" v-show=\"unitSrc=='g' || unitSrc=='m/s²' || unitSrc=='m/s2'\">g</option>\r\n                                <option value=\"m/s²\" v-show=\"unitSrc=='g' || unitSrc=='m/s²' || unitSrc=='m/s2'\">m/s²\r\n                                </option>\r\n                                <option value=\"mm/s\" v-show=\"unitType != 3 ? specType==2 ? unitSrc=='mm/s' : unitSrc=='gD' || unitSrc=='°' || unitSrc == 'mV' || unitSrc == 'rpm' ? false: true : false\">\r\n                                    mm/s</option>\r\n                                <option value=\"μm\" v-show=\"unitType != 3 ? specType==2 ? unitSrc=='μm': unitSrc=='gD' || unitSrc=='°' || unitSrc == 'mV' || unitSrc == 'rpm' ? false : true : false\">\r\n                                    μm</option>\r\n                            </select>\r\n                        </p>\r\n                    </div>\r\n                    <div class=\"alert_box_footer\">\r\n                        <button @click=\"unitSelectOk('#unitSelect_alert')\">确定</button>\r\n                        <button @click=\"closeAlert('#unitSelect_alert')\" class=\"cancel_btn\">取消</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import WaveChart from 'viewInterface/components/wave/WaveChart'\r\n    import flatpickr from 'flatpickr';\r\n    import 'flatpickr/dist/flatpickr.min.css'\r\n    import html2canvas from 'html2canvas';\r\n    import {compareName} from 'utils/utils'\r\n\r\n    export default {\r\n        name: \"Wave\",\r\n        components: {WaveChart},\r\n        data() {\r\n            return {\r\n                dataResult:[],//获取组织、机组原始信息\r\n                folderList:[],//初始组织列表\r\n                macList:{},//初始机组列表\r\n                posList:{},//初始测点列表\r\n                chooseMacList:[],//选择的机组列表\r\n                choosePosList:[],//选择的测点列表\r\n                chooseTid:'',//所选的组织id\r\n                chooseTroot:'',//所选组织的类型\r\n                chooseMacId:'',//所选的机组id\r\n                choosePosTypeId: \"\",//所选的测点id\r\n                choosePosName:\"\",//所选的测点名\r\n                toggleText:'实时',//实时与历史按钮文字\r\n                chooseIsRealType:1,//1是历史数据，2是实时数据\r\n                activeNum:2,//当前界面的index\r\n                noRealData:false,//有没有实时波形\r\n\r\n                axisPointerColor: \"#FA9A4D\", //频谱图tooltip的标示线的颜色\r\n                axisPointerColor_wave: \"#FA9A4D\", //波形图tooltip的标示线的颜色\r\n                axisPointerColor_his: \"#FA9A4D\", //趋势图的tooltip的标示线的颜色\r\n                click_offsetX: 0, //点击频谱图的点的x轴位置\r\n                clickNum: 0, //点击的图标0表示没有点击，1表示波形图，2表示频谱图，3表示趋势图\r\n                xIndex_history: 0, //点击的趋势图的点的横坐标下标\r\n                xIndex: -1, //点击的频谱图的点的横坐标下标\r\n                xValue: 0, //点击的频谱图的点的横坐标值\r\n                xf_index: 0, //校准倍频时频谱图点击的点的横坐标下标\r\n                xf_xValue: 0, //校准倍频时频谱图点击的点的横坐标值\r\n                xIndexWave: 0, //点击的波形图的点的横坐标下标\r\n                flag_wave_extend: 0, //时间差是否画周期性延展线\r\n                flag_spec_extend: 0, //频谱图对称频率差是否画三条等间隔线\r\n                arr_B: [], //倍频数组\r\n                arr_C: [], //差频数组\r\n                specType: 1, //频谱图类型：1频谱 2阶次\r\n                spectrumStyle: 'line', //频谱图显示类型\r\n                timeColor: \"#fff\", //时间差图标的颜色\r\n                titleScale1: '最大化', //最大化按钮的提示文字\r\n                iconScale1: 'path://M18.9,15.2L31.8,2.2 M31.8,31.8L18.9,18.9 M15.1,15.2L2.2,2.2 M15.1,18.9L2.2,31.8 M22.1,1.3h10.7v9.9 M22.8,32.7h9.9V22.1   M11.1,1.3H1.2v10.7 M1.3,22.8v9.9h10.7', //最大化的logo\r\n                titleScale2: '最大化', //最大化按钮的提示文字\r\n                iconScale2: 'path://M18.9,15.2L31.8,2.2 M31.8,31.8L18.9,18.9 M15.1,15.2L2.2,2.2 M15.1,18.9L2.2,31.8 M22.1,1.3h10.7v9.9 M22.8,32.7h9.9V22.1   M11.1,1.3H1.2v10.7 M1.3,22.8v9.9h10.7', //最大化的logo\r\n                titleScale3: '最大化', //最大化按钮的提示文字\r\n                iconScale3: 'path://M18.9,15.2L31.8,2.2 M31.8,31.8L18.9,18.9 M15.1,15.2L2.2,2.2 M15.1,18.9L2.2,31.8 M22.1,1.3h10.7v9.9 M22.8,32.7h9.9V22.1   M11.1,1.3H1.2v10.7 M1.3,22.8v9.9h10.7', //最大化的logo\r\n                startTime: 0,\r\n                endTime: 0,\r\n                minSpeed: 0,\r\n                maxSpeed: 2000,\r\n                requestTime: 0, //时间节点，用于请求数据 0=实时\r\n                timer: null, //计时器\r\n                sourceWaveX: [], //原始波形\r\n                sourceWaveY: [],\r\n                waveX: [],\r\n                waveY: [], //波形图数据\r\n                historyData: [], //趋势图数据\r\n                srcSpectrum: {}, //不做汉宁窗的原始频谱，用于计算波形\r\n                countSpectrum: {}, //参与计算波形的频谱\r\n                sourceSpectrumX: [], //原始频谱X\r\n                sourceSpectrumY: [],\r\n                scoreSpectrumY: [], //积分后的频谱Y\r\n                spectrumX: [], //显示频谱X\r\n                spectrumY: [], //频谱图数据\r\n                machines: [],\r\n                sortPositions: [], //测点重新排序\r\n                selectMachine: {}, //选中机组\r\n                selectMachineId: '', //选中机组Id\r\n                // gSelectMacId:\"\",\r\n                selectPosition: {}, //选中测点\r\n                selectPositionId: '', //选中测点ID\r\n                selectPositionName: '', //选中测点名称\r\n                curSpeed: 0, //转速rpm\r\n                last_xWave: {}, //上一个选中点\r\n                last_xWave_time: {}, //时间差上一个选中点\r\n                last_xSpec: {}, //上一个选中点\r\n                last_xSpec_time: {}, //对称频率差上一个选中点\r\n                oneFreq: 0, //1倍频\r\n                fMaxFZ: 0, //最大幅值\r\n                maxFreq: 0, //最大频率\r\n                samples: 0, //总采样点数\r\n                freqX: [], //频谱图X轴刻度值\r\n                spectral: 0, //采样点数\r\n                peakIndexArr: [], //自动寻峰10个坐标索引\r\n                flag_real: 1, //实时状态\r\n                flag_subTime: 0, //时间差\r\n                flag_winFunc: 0, //汉宁窗\r\n                flag_subFreq: 0, //频差\r\n                flag_oneF: 0, //1倍频标记\r\n                flag_nx: 0, //标注倍频\r\n                flag_f_nx: { //阶比\r\n                    val: 0,\r\n                    isChange: false\r\n                },\r\n                // flag_f_nx: 0,//阶比\r\n                flag_addLabel: 0, //添加标注\r\n                // str_realState:\"获取中\",\r\n                // str_realBtn:\"停止\",//实时按钮label\r\n                nxArrayWave: [], //带标签竖线\r\n                hide_low: 0, //低频过滤\r\n                sc_power_a: 0, //有效频率初始下限\r\n                power_a: -1, //有效频率下限\r\n                power_b: 0, //有效频率上限\r\n                nxArraySpec: [], //带标签竖线\r\n                autoPeakNum: -1, //自动寻峰计数\r\n                labelList: [], //标注列表\r\n                unitSelect: \"\", //当前操作的单位\r\n                unitSrc: \"\", //\r\n                unitType: 1, //当前操作的图谱单位\r\n                unitWave: \"\", //波形单位\r\n                srcUnitWave: \"\", //设置的波形单位\r\n                unitRms: \"\", //rms的单位\r\n                unitXWave: \"s\",\r\n                unitSpec: \"\", //频谱图单位\r\n                srcUnitSpec: \"\", //设置的频谱单位\r\n                unitXSpec: \"Hz\",\r\n                unitTrend: \"\", //趋势图单位\r\n                srcUnitTrend: '', // 设置的趋势图单位\r\n                zoomStartXWave: 0, //波形图X轴缩放起始位置（百分比）\r\n                zoomEndXWave: 100, //波形图X轴缩放结束位置（百分比）\r\n                zoomStartXSpec: 0, //频谱图X轴缩放起始位置（百分比）\r\n                zoomEndXSpec: 100, //频谱图X轴缩放结束位置（百分比）\r\n                gearList: [], //啮合频率\r\n                bearList: [], //轴承通过频率\r\n                speedList: [], //转频\r\n                failureList: [], //故障频率明细列表\r\n                failureList_detail: [], //故障频率明细列表\r\n                rotateSpeed: 0, //rpm\r\n                validValue: 0, //rms\r\n                changeTime: \"\", //初始化时间\r\n                oriChangeTime:\"\",//初始原始时间\r\n                showType1: 1, //是否显示全部\r\n                showType2: 2, //是否显示全部\r\n                showType3: 3, //是否显示全部\r\n                flag_show: 0, //是否点击显示全部按钮\r\n                freq_speed_failure: 0, //发电机输入轴转速\r\n                interValNum_spectrumX: 1, //频谱图x轴刻度间隔值\r\n                interValNum_waveX: 1, //波形图x轴刻度间隔值\r\n                sourceHistoryY: [], // 历史数据原始y轴坐标值\r\n                historyX: [], //历史数据x轴坐标值\r\n                historyY: [], // 历史数据y轴坐标值\r\n                freqXtrum: [], //x轴阶比功能时x轴的值\r\n                selIndex: 0, //选中的测点下标\r\n                hasPos: false, //是否有默认测点传入\r\n                failureUnit: \"Hz\", //故障频率和故障明细的单位\r\n                failureUnit_detail: \"Hz\", //故障频率明细的单位\r\n                hd_speed: false, //转速测点的高密度波形，低密度波形\r\n                click_num: 0, //记录点击次数\r\n                name_type: \"\", //故障频率传动链名字尾缀，阶次测点显示“阶次”，其他测点显示“频率”\r\n                name_type_speed: \"\", //故障频率传动链转速名字尾缀，阶次测点显示“动阶次”，其他测点显示“频”\r\n                alarm_type: 1, //当前fft算法计算的频谱为峰值。0=有效值，1=峰值，2=峰峰值\r\n                flag_addPeak: true, //校准倍频按钮，默认启用\r\n                click_peak: \"click\", //校准倍频时tooltip为none，其他时候为“click”\r\n                flag_toolTip: false, //频谱图toolTip的内容区域是否显示\r\n                flag_his_toolTip: false, //趋势图的toolTip的内容区域是否显示\r\n                flag_wave_toolTip: false, //波形图的toolTip的内容区域是否显示\r\n                flag_keyBoard: false, //是否开启鼠标事件\r\n                isLoading: true, // 是否显示趋势图加载提示\r\n                search_data: {\r\n                    mac_id: -1,\r\n                    pos_name: \"\",\r\n                    value_type: -1,\r\n                    end_time: new Date,\r\n                    start_time: new Date(new Date - 60*24*3600*1000),\r\n                    max_speed: 2000,\r\n                    min_speed: 50,\r\n                    mac_name_y: \"\",\r\n                    pos_name_y: \"\",\r\n                    value_type_y: -1,\r\n                    // mac_type:1\r\n                },\r\n                isSetPower: false, // 是否设置有效频率\r\n                choose_factory: {\r\n                    db_type: \"root_test_127.0.0.1_3306_1\",\r\n                    factory_id: 1535681473331,\r\n                    factory_name: \"\",\r\n                    country: \"\",\r\n                    province: \"\",\r\n                    normalNum: 0,\r\n                    warningNum: 0,\r\n                    alarmNum: 0,\r\n                    offNum: 0,\r\n                    allNum: 0,\r\n                    onNum: 0,\r\n                    type: 0, //现场类型 0风电；3水电；1水泥；4旋转机械设备\r\n                    factory_type: 1,\r\n                },\r\n                choose_machine: {\r\n                    db_type: \"\",\r\n                    factory_id: -1,\r\n                    factory_name: \"\",\r\n                    factory_type: 1,\r\n                    machine_name: \"\",\r\n                    machine_type: 0,\r\n                    machine_id: \"\",\r\n                    pump_id: -1,\r\n                    line_idx: 1,\r\n                    station_id: -1,\r\n                    rate_speed: 1\r\n                },\r\n                choose_position: {\r\n                    db_type: \"\", //数据库类型\r\n                    factory_id: -1, //现场id\r\n                    factory_name: \"\", //现场名称\r\n                    factory_type: 1, //根据数据库类型返回现场类型 1：风电 4：水电 8：水泥厂\r\n                    machine_name: \"\", //机组名称\r\n                    machine_type: 0, //机组类型\r\n                    machine_id: -1, //机组id\r\n                    pump_id: -1, //机泵id\r\n                    station_id: -1, //水电机组绑定水电站id\r\n                    rate_speed: 1, //机泵额定转速\r\n                    position_name: \"\", //测点名称\r\n                    activity: -1,\r\n                    line_idx: 1,\r\n                    position_id: -1, //测点id\r\n                    position_type: -1, //测点类型\r\n                    key_id: -1, ///key id\r\n                    unit: \"\",\r\n                    unit_sensor: \"\", //传感器器类型单位\r\n                    flange_id: '', //法兰id\r\n                    flange_name: '', //法兰名称\r\n                    tower_channel: 1, //区分塔顶倾角和塔底沉降，2表示沉降\r\n                    angle_time: \"2018-11-16 09:16:17\", //倾角时间\r\n                    angle_val: 0, //倾角幅值\r\n                    angle_place: 0, //倾角相位\r\n                    rock1_id: 0, //倾角x轴id\r\n                    rock2_id: 0, //倾角y轴id\r\n                    offset_angle: 0, //偏置角度\r\n                    condition_rock: \"其他工况：\", //工况\r\n                    isWheel: false\r\n                },\r\n\r\n                toolTip: { // 点击提示信息\r\n                    backgroundColor: '#FA9A4D',\r\n                    fontStyle: {\r\n                        size: '12px'\r\n                    }\r\n                },\r\n                symbol: {\r\n                    color: '',\r\n                },\r\n                waveOptions: {\r\n                    title: {\r\n                        align: 'left', // 波形图标题离容器左侧距离\r\n                        fontSize: '20px', // 波形图标题字体大小\r\n                        color: '#999', //  波形图标题颜色\r\n                    },\r\n                    series: {\r\n                        fontSize: '12px', // 波形图坐标刻度字体大小\r\n                    },\r\n                    grid: {\r\n                        left: 80, // 波形图离容器左侧距离\r\n                        top: 80, // 波形图离容器上侧距离\r\n                        right: 30, // 波形图离容器右侧距离\r\n                        bottom: 60 // 波形图离容器下侧距离\r\n                    }\r\n                },\r\n                spectrumOptions: {\r\n                    title: {\r\n                        align: 'left', // 频谱图标题离容器左侧距离\r\n                        fontSize: '20px', //  频谱图标题字体大小\r\n                        color: '#999', //  频谱图标题颜色\r\n                    },\r\n                    series: {\r\n                        fontSize: '12px', // 频谱图坐标刻度字体大小\r\n                    },\r\n                    grid: {\r\n                        left: 80, // 频谱图离容器左侧距离\r\n                        top: 80, // 频谱图离容器上侧距离\r\n                        right: 30, // 频谱图离容器右侧距离\r\n                        bottom: 60 // 频谱图离容器下侧距离\r\n                    }\r\n                },\r\n                historyOptions: {\r\n                    title: {\r\n                        align: 'left', // 趋势图标题离容器左侧距离\r\n                        fontSize: '20px', //  趋势图标题字体大小\r\n                        color: '#999', //  趋势图标题颜色\r\n                    },\r\n                    series: {\r\n                        fontSize: '12px', // 趋势图坐标刻度字体大小\r\n                    },\r\n                    grid: {\r\n                        left: 80, // 趋势图离容器左侧距离\r\n                        top: 60, // 趋势图离容器上侧距离\r\n                        right: 30, // 趋势图离容器右侧距离\r\n                        bottom: 60 // 趋势图离容器下侧距离\r\n                    },\r\n                },\r\n                spectrumColor: {\r\n                    font: '#999', // 字体颜色\r\n                    background: '#131F4D', // 保存图片背景颜色\r\n                    line: '#3D77FF', // 图谱颜色\r\n                    yLine: '#fff', // 趋势图轴线颜色\r\n                    bLineColor: 'yellow',\r\n                    color:'#999',//轴线颜色\r\n                },\r\n                fileName: '', // 导出文件名称\r\n                maxRestoreHeight: {\r\n                    maxHeight: '500px', // 最大化坐标高度\r\n                    waveHeight: '', // 波形图和频谱图还原后高度\r\n                    historyHeight: '240px', // 趋势图还原后高度\r\n                },\r\n                showSymbol: false, // 趋势图标识显示/隐藏\r\n                spectrumXNum: 1,\r\n                waveXNum: 1,\r\n                changePos: true,\r\n                // changeTrend: true,\r\n                cutSpectrum: {},\r\n                spectrumTools: [],\r\n                selectPos: '', // 上一次选择的测点 (position_type + position_id + machine_id)\r\n                allPos: [], // 所有测点\r\n                sourceAllPower: [], // 所有测点原始频率\r\n                allPower: [], // 所有测点频率\r\n                posIndex: 0, // 当前测点下标\r\n                boxShow: false,\r\n                isRealAll: false, // 所有测点频率提示\r\n                loadWave: true, // 波形频谱图加载提示\r\n                changeTrend: false, // 是否只改变趋势图\r\n                curPosFlag: null, // 当前选中测点\r\n                curPosName: '', // 当前选中测点名字\r\n            }\r\n        },\r\n        created: function() {\r\n            /*this.getMachines();*/\r\n            this.startTime = this.buildTime(this.search_data.start_time);\r\n            this.endTime = this.buildTime(this.search_data.end_time);\r\n            const zh = require(\"flatpickr/dist/l10n/zh.js\").default.zh;//时间选择器汉化\r\n            flatpickr.localize(zh);\r\n\r\n            this.$emit('ievent', this.activeNum);\r\n            // window.document.title = '查看数据';\r\n        },\r\n        mounted: function() {\r\n            this.getHeadData();\r\n            this.spectrumTools = this.$refs.spectrumTools.children;\r\n            let that = this;\r\n            flatpickr(\"#start_time\",{\r\n                onChange: function(selectedDates, dateStr, instance) {\r\n                    if (new Date(dateStr).getTime() > new Date(that.endTime).getTime()) {\r\n                        swal({\r\n                            title: \"提示\",\r\n                            text: '开始日期应小于结束日期',\r\n                            button: \"确认\",\r\n                        });\r\n                        instance.setDate(that.startTime);\r\n                    } else {\r\n                        that.startTime = dateStr;\r\n                        that.search_data.start_time = that.startTime;\r\n                        that.searchTrend();\r\n                    }\r\n                },\r\n            });\r\n            flatpickr(\"#end_time\",{\r\n                onChange: function(selectedDates, dateStr, instance) {\r\n                    if (new Date(dateStr).getTime() < new Date(that.startTime).getTime()) {\r\n                        swal({\r\n                            title: \"提示\",\r\n                            text: '开始日期应小于结束日期',\r\n                            button: \"确认\",\r\n                        });\r\n                        instance.setDate(that.endTime);\r\n                    } else {\r\n                        that.endTime = dateStr;\r\n                        that.search_data.end_time = that.endTime;\r\n                        that.searchTrend();\r\n                    }\r\n                },\r\n            });\r\n        },\r\n        computed: {\r\n            sortFolderList: function () {\r\n                return this.folderList.sort(compareName('t_name'));\r\n            },\r\n            sortMacList: function () {\r\n                return this.chooseMacList.sort(compareName('mac_me'));\r\n            },\r\n            waveOption: function() {\r\n                var that = this;\r\n                return {\r\n                    // 图谱标题\r\n                    title: {\r\n                        show: true, // 是否显示标题\r\n                        name: '波形图', // 标题名字\r\n                        // 标题字体样式\r\n                        fontStyle: {\r\n                            weight: 'bold', // 粗细，默认 'bold'\r\n                            size: this.waveOptions.title.fontSize, // 大小，默认 '20px'\r\n                            family: 'sans-serif', // 字体，默认 'Arial'\r\n                            color: this.waveOptions.title.color, // 颜色，默认 '#000'\r\n                            align: this.waveOptions.title.align, // 对齐方式，默认 'left'\r\n                        }\r\n                    },\r\n                    // 图谱位置\r\n                    grid: that.waveOptions.grid,\r\n                    // x 轴信息\r\n                    x: {\r\n                        name: this.unitXWave, // 名称(单位)\r\n                        type: 'category', // 坐标轴类型\r\n                        data: this.waveX, // 数据\r\n                        lineStyle: { // 轴线样式\r\n                            color: that.spectrumColor.font, // 颜色，默认 '#000'\r\n                        },\r\n                        nameStyle: { // 名称(单位)字体样式\r\n                            color: this.spectrumColor.font, // 颜色，默认 '#000'\r\n                        },\r\n                        fontStyle: { // 刻度字体样式\r\n                            color: this.spectrumColor.font, // 颜色，默认 '#000'\r\n                            size: this.waveOptions.series.fontSize,\r\n                        },\r\n                    },\r\n                    // y 轴信息\r\n                    y: {\r\n                        name: this.unitWave, // 名称(单位)\r\n                        data: this.waveY, // 数据\r\n                        lineStyle: { // 轴线样式\r\n                            color: that.spectrumColor.font, // 颜色，默认 '#000'\r\n                        },\r\n                        fontStyle: { // 刻度字体样式\r\n                            color: this.spectrumColor.color, // 颜色，默认 '#000'\r\n                            size: this.waveOptions.series.fontSize,\r\n                        },\r\n                        nameStyle: { // 名称(单位)字体样式\r\n                            color: this.spectrumColor.font, // 颜色，默认 '#000'\r\n                        },\r\n                    },\r\n                    // 图谱信息\r\n                    series: {\r\n                        type: 'line', // 类型，默认 'line'\r\n                        lineStyle: { // 样式\r\n                            color: that.spectrumColor.line, // 颜色，默认 '#0032ff\r\n                            width: 1, // 粗细，默认 1\r\n                        },\r\n                        markLine: { // 标线\r\n                            data: [],\r\n                            lineStyle: { // 样式\r\n                                color: '#ebd662', // 颜色，默认 '#ebd662'\r\n                                width: 1, // 粗细，默认 1\r\n                            },\r\n                            fontStyle: { // 标注字体样式\r\n                                color: '#FA9A4D', // 颜色，默认 '#ebd662'\r\n                                size: '12px', // 大小，默认 '12px'\r\n                                family: 'Microsoft YaHei', // 字体，默认 'Microsoft YaHei'\r\n                                weight: 'normal' // 粗细，默认 'normal'\r\n                            }\r\n                        },\r\n                        symbol: this.symbol,\r\n                    },\r\n                    // 标注信息\r\n                    toolTip: {\r\n                        symbol: this.symbol,\r\n                        lineStyle: { // 标线样式\r\n                            color: this.axisPointerColor_wave, // 颜色，默认 '#FA9A4D'\r\n                        },\r\n                        fontStyle: {\r\n                            size: this.toolTip.fontStyle.size,\r\n                        },\r\n                        background: { // 提示框背景\r\n                            color: this.toolTip.backgroundColor, // 颜色，默认 'rgba(50, 50, 50, 0.3)'\r\n                        },\r\n                        formatter: function() {\r\n                            that.boxShow = false;\r\n                        }\r\n                    },\r\n                    tools: {\r\n                        // 开窗放大\r\n                        enlarge: {\r\n                            show: true,\r\n                            dom: document.getElementsByClassName('dataZoom')[0],\r\n                        },\r\n                        // 最大化 / 还原\r\n                        maxOrMin: {\r\n                            show: true,\r\n                            dom: document.getElementsByClassName('max')[0],\r\n                        },\r\n                        // 重置\r\n                        restore: {\r\n                            show: true,\r\n                            dom: document.getElementsByClassName('restore')[0],\r\n                        },\r\n                        // 时间差\r\n                        timeDifferent: {\r\n                            show: true,\r\n                            dom: document.getElementsByClassName('subTime')[0],\r\n                        },\r\n                        // 导出图片\r\n                        exportImage: {\r\n                            show: true,\r\n                            dom: document.getElementsByClassName('exportImage')[0],\r\n                            imageName: this.fileName + '-波形图',\r\n                            formatter: function(bool) {\r\n                                if (bool) {\r\n                                    that.keepPage();\r\n                                }\r\n                            }\r\n                        },\r\n                        // 导出数据\r\n                        exportData: {\r\n                            fileName: this.fileName,\r\n                            show: true,\r\n                            dom: document.getElementsByClassName('exportData')[0],\r\n                        },\r\n                        // 导出音频\r\n                        exportAudio: {\r\n                            fileName: this.fileName + '_音频',\r\n                            show: true,\r\n                            dom: document.getElementsByClassName('exportMusic')[0],\r\n                            maxFreq: this.maxFreq,\r\n                        }\r\n                    },\r\n                    backgroundColor: that.spectrumColor.background, // 图谱背景颜色，默认 '#fff'\r\n                    changePos: this.changePos, // 是否切换测点 / 机组，默认 false\r\n                }\r\n            },\r\n            specturmOption: function() {\r\n                var that = this;\r\n                return {\r\n                    // 图谱标题\r\n                    title: {\r\n                        show: true, // 是否显示标题\r\n                        name: '频谱图', // 标题名字\r\n                        // 标题字体样式\r\n                        fontStyle: {\r\n                            weight: 'bold', // 粗细，默认 'bold'\r\n                            size: this.spectrumOptions.title.fontSize, // 大小，默认 '20px'\r\n                            family: 'sans-serif', // 字体，默认 'Arial'\r\n                            color: this.spectrumOptions.title.color, // 颜色，默认 '#000'\r\n                            align: this.spectrumOptions.title.align, // 对齐方式，默认 'left'\r\n                        }\r\n                    },\r\n                    // 图谱位置\r\n                    grid: that.spectrumOptions.grid,\r\n                    // x 轴信息\r\n                    x: {\r\n                        name: this.unitXSpec, // 名称(单位)\r\n                        type: 'category', // 坐标轴类型\r\n                        freqData: this.freqXtrum, // 阶比数据\r\n                        data: this.spectrumX, // 数据\r\n                        lineStyle: { // 轴线样式\r\n                            color: this.spectrumColor.font, // 颜色，默认 '#000'\r\n                        },\r\n                        nameStyle: { // 名称(单位)字体样式\r\n                            color: this.spectrumColor.font, // 颜色，默认 '#000'\r\n                        },\r\n                        fontStyle: { // 刻度字体样式\r\n                            color: this.spectrumColor.font, // 颜色，默认 '#000'\r\n                            size: this.spectrumOptions.series.fontSize,\r\n                        },\r\n                    },\r\n                    // y 轴信息\r\n                    y: {\r\n                        name: this.unitSpec, // 名称(单位)\r\n                        data: this.spectrumY, // 数据\r\n                        lineStyle: { // 轴线样式\r\n                            color: that.spectrumColor.font, // 颜色，默认 '#000'\r\n                        },\r\n                        nameStyle: { // 名称(单位)字体样式\r\n                            color: this.spectrumColor.font, // 颜色，默认 '#000'\r\n                        },\r\n                        fontStyle: { // 刻度字体样式\r\n                            color: this.spectrumColor.font, // 颜色，默认 '#000'\r\n                            size: this.spectrumOptions.series.fontSize,\r\n                        },\r\n                    },\r\n                    // 图谱信息\r\n                    series: {\r\n                        type: this.spectrumStyle, // 类型，默认 'line'\r\n                        lineStyle: { // 样式\r\n                            color: that.spectrumColor.line, // 颜色，默认 '#0032ff\r\n                            width: 1, // 粗细，默认 1\r\n                        },\r\n                        markLine: { // 标线\r\n                            data: this.nxArraySpec,\r\n                            lineStyle: { // 样式\r\n                                color: '#ebd662', // 颜色，默认 '#ebd662'\r\n                                width: 1, // 粗细，默认 1\r\n                            },\r\n                            fontStyle: { // 标注字体样式\r\n                                color: '#FA9A4D', // 颜色，默认 '#ebd662'\r\n                                size: '12px', // 大小，默认 '12px'\r\n                                family: 'Microsoft YaHei', // 字体，默认 'Microsoft YaHei'\r\n                                weight: 'normal' // 粗细，默认 'normal'\r\n                            }\r\n                        },\r\n                        dataMsg: {\r\n                            oneFreq: this.oneFreq,\r\n                            rotateSpeed: this.rotateSpeed,\r\n                            specType: this.specType,\r\n                            setPower: this.isSetPower,\r\n                            spectral: this.spectral,\r\n                        },\r\n                        symbol: this.symbol\r\n                    },\r\n                    // 标注信息\r\n                    toolTip: {\r\n                        lineStyle: { // 标线样式\r\n                            color: this.axisPointerColor, // 颜色，默认 '#FA9A4D'\r\n                        },\r\n                        symbol: this.symbol,\r\n                        background: { // 提示框背景\r\n                            color: this.toolTip.backgroundColor, // 颜色，默认 'rgba(50, 50, 50, 0.3)'\r\n                        },\r\n                        fontStyle: {\r\n                            size: this.toolTip.fontStyle.size,\r\n                        },\r\n                        formatter: function() {\r\n                            that.boxShow = false;\r\n                        }\r\n                    },\r\n                    tools: {\r\n                        // 开窗放大\r\n                        enlarge: {\r\n                            show: true,\r\n                            dom: document.getElementsByClassName('dataZoom')[1],\r\n                        },\r\n                        // 最大化 / 还原\r\n                        maxOrMin: {\r\n                            show: true,\r\n                            dom: document.getElementsByClassName('max')[1],\r\n                        },\r\n                        // 重置\r\n                        restore: {\r\n                            show: true,\r\n                            dom: document.getElementsByClassName('restore')[1],\r\n                            formatter: function(isRestore) {\r\n                                if (isRestore) {\r\n                                    that.hide_low = 0;\r\n                                    that.power_a = 0;\r\n                                    that.power_b = 0;\r\n                                    that.flag_f_nx.val = 1;\r\n                                    that.specType == 1 && that.rotateSpeed !== 0?\r\n                                        that.setFreq_or_nx(2) : that.makeFftData(2);\r\n                                    document.getElementsByClassName('tool_list')[0].children[2].className = '';\r\n                                    document.getElementsByClassName('tool_list')[0].children[0].className = '';\r\n                                    document.getElementsByClassName('tool_list')[0].children[6].className = '';\r\n                                }\r\n                            }\r\n                        },\r\n                        // 差频\r\n                        subFreq: {\r\n                            show: true,\r\n                            dom: this.spectrumTools[0],\r\n                        },\r\n                        // 1倍频\r\n                        oneFreq: {\r\n                            show: true,\r\n                            dom: this.spectrumTools[3],\r\n                            formatter: function(bool) {\r\n                                bool && (that.spectrumTools[6].className = '');\r\n                            }\r\n                        },\r\n                        // 标注倍频\r\n                        labelFreq: {\r\n                            show: true,\r\n                            dom: this.spectrumTools[6],\r\n                        },\r\n                        // 寻峰\r\n                        peakSearch: {\r\n                            show: true,\r\n                            dom: this.spectrumTools[9],\r\n                        },\r\n                        // 添加标注\r\n                        addLabel: {\r\n                            show: true,\r\n                            dom: this.spectrumTools[7],\r\n                        },\r\n                        // 取消标注\r\n                        cancelLabel: {\r\n                            show: true,\r\n                            dom: this.spectrumTools[8],\r\n                        },\r\n                        // 校准倍频\r\n                        setPeak: {\r\n                            show: true,\r\n                            dom: this.spectrumTools[10],\r\n                        },\r\n                        // 导出图片\r\n                        exportImage: {\r\n                            show: true,\r\n                            dom: document.getElementsByClassName('exportImage')[1],\r\n                            imageName: this.fileName + '-频谱图',\r\n                            formatter: function(bool) {\r\n                                if (bool) {\r\n                                    that.keepPage();\r\n                                }\r\n                            }\r\n                        },\r\n                        // 导出数据\r\n                        exportData: {\r\n                            fileName: this.fileName,\r\n                            show: true,\r\n                            dom: document.getElementsByClassName('exportData')[1],\r\n                        },\r\n                    },\r\n                    backgroundColor: that.spectrumColor.background, // 图谱背景颜色，默认 '#fff'\r\n                    changePos: this.changePos, // 是否切换测点 / 机组，默认 false\r\n                    // isloading: function (res) {if (!res) that.$refs.loadWave.style.display = 'none'}\r\n                }\r\n            },\r\n            historyOption: function() {\r\n                var that = this;\r\n                return {\r\n                    // 图谱标题\r\n                    title: {\r\n                        show: true, // 是否显示标题\r\n                        name: '趋势图', // 标题名字\r\n                        // 标题字体样式\r\n                        fontStyle: {\r\n                            weight: 'bold', // 粗细，默认 'bold'\r\n                            size: that.historyOptions.title.fontSize, // 大小，默认 '20px'\r\n                            family: 'sans-serif', // 字体，默认 'Arial'\r\n                            color: this.historyOptions.title.color, // 颜色，默认 '#000'\r\n                            align: that.historyOptions.title.align, // 对齐方式，默认 'left'\r\n                        }\r\n                    },\r\n                    // 图谱位置\r\n                    grid: that.historyOptions.grid,\r\n                    // x 轴信息\r\n                    x: {\r\n                        type: 'time', // 坐标轴类型\r\n                        data: this.historyX, // 数据\r\n                        lineStyle: { // 轴线样式\r\n                            color: that.spectrumColor.font, // 颜色，默认 '#000'\r\n                        },\r\n                        fontStyle: { // 刻度字体样式\r\n                            color: this.spectrumColor.color, // 颜色，默认 '#000'\r\n                            size: this.historyOptions.series.fontSize,\r\n                        },\r\n                    },\r\n                    // y 轴信息\r\n                    y: {\r\n                        name: this.unitTrend, // 名称(单位)\r\n                        data: this.historyY, // 数据\r\n                        lineStyle: { // 轴线样式\r\n                            color: that.spectrumColor.font, // 颜色，默认 '#000'\r\n                        },\r\n                        nameStyle: { // 名称(单位)字体样式\r\n                            color: this.spectrumColor.font, // 颜色，默认 '#000'\r\n                        },\r\n                        fontStyle: { // 刻度字体样式\r\n                            color: this.spectrumColor.color, // 颜色，默认 '#000'\r\n                            size: this.historyOptions.series.fontSize,\r\n                        },\r\n                    },\r\n                    // 图谱信息\r\n                    series: {\r\n                        type: \"line\", // 类型，默认 'line'\r\n                        lineStyle: { // 样式\r\n                            color: that.spectrumColor.line, // 颜色，默认 '#0032ff\r\n                            width: 1, // 粗细，默认 1\r\n                        },\r\n                        markLine: { // 标线\r\n                            data: [],\r\n                            lineStyle: { // 样式\r\n                                color: '#ebd662', // 颜色，默认 '#ebd662'\r\n                                width: 1, // 粗细，默认 1\r\n                            },\r\n                            fontStyle: { // 标注字体样式\r\n                                color: '#FA9A4D', // 颜色，默认 '#ebd662'\r\n                                size: '12px', // 大小，默认 '12px'\r\n                                family: 'Microsoft YaHei', // 字体，默认 'Microsoft YaHei'\r\n                                weight: 'normal' // 粗细，默认 'normal'\r\n                            }\r\n                        },\r\n                        symbol: {\r\n                            show: true,\r\n                        },\r\n                    },\r\n                    // 标注信息\r\n                    toolTip: {\r\n                        lineStyle: { // 标线样式\r\n                            color: this.axisPointerColor, // 颜色，默认 '#FA9A4D'\r\n                        },\r\n                        background: { // 提示框背景\r\n                            color: this.toolTip.backgroundColor, // 颜色，默认 'rgba(50, 50, 50, 0.3)'\r\n                        },\r\n                        fontStyle: {\r\n                            size: this.toolTip.fontStyle.size,\r\n                        },\r\n                        formatter: function(params) {\r\n                            that.boxShow = false;\r\n                            that.changePos = false;\r\n                            if (that.flag_real == 1) { //点击趋势图时，强制停止实时按钮\r\n                                that.setRealBtn();\r\n                            }\r\n                            that.searchWave(params.val);\r\n                        },\r\n                        symbol: this.symbol,\r\n                    },\r\n                    tools: {\r\n                        // 开窗放大\r\n                        enlarge: {\r\n                            show: true,\r\n                            dom: document.getElementsByClassName('dataZoom')[2],\r\n                        },\r\n                        // 最大化 / 还原\r\n                        maxOrMin: {\r\n                            show: true,\r\n                            dom: document.getElementsByClassName('max')[2],\r\n                        },\r\n                        // 重置\r\n                        restore: {\r\n                            show: true,\r\n                            dom: document.getElementsByClassName('restore')[2],\r\n                        },\r\n                        // 导出图片\r\n                        exportImage: {\r\n                            show: true,\r\n                            dom: document.getElementsByClassName('exportImage')[2],\r\n                            imageName: this.fileName + '-趋势图',\r\n                            formatter: function(bool) {\r\n                                if (bool) {\r\n                                    that.keepPage();\r\n                                }\r\n                            }\r\n                        },\r\n                    },\r\n                    backgroundColor: that.spectrumColor.background, // 图谱背景颜色，默认 '#fff'\r\n                    changePos: this.changePos, // 是否切换测点 / 机组，默认 false\r\n                }\r\n            },\r\n            tools: function() {\r\n                return [{\r\n                    text: \"对称频率差\",\r\n                    icon: require(\"viewInterface/assets/img/tool_icons/dcplc.png\"),\r\n                    toolFunc: this.setDouble_sub_freq\r\n                }, {\r\n                    text: \"汉宁窗\",\r\n                    icon: require(\"viewInterface/assets/img/tool_icons/hnc.png\"),\r\n                    toolFunc: this.setHanning\r\n                }, {\r\n                    text: \"切换x轴阶比\",\r\n                    icon: require(\"viewInterface/assets/img/tool_icons/qhxzqb.png\"),\r\n                    toolFunc: this.setFreq_or_nx\r\n                }, {\r\n                    text: \"定位到1倍频\",\r\n                    icon: require(\"viewInterface/assets/img/tool_icons/dwdybp.png\"),\r\n                    toolFunc: this.setTo_1_X\r\n                }, {\r\n                    text: \"低频过滤\",\r\n                    icon: require(\"viewInterface/assets/img/tool_icons/dpgl.png\"),\r\n                    toolFunc: this.showHideLow\r\n                }, {\r\n                    text: \"有效频率设置\",\r\n                    icon: require(\"viewInterface/assets/img/tool_icons/yxplzsz.png\"),\r\n                    toolFunc: this.showPowerRms\r\n                }, {\r\n                    text: \"标注倍频\",\r\n                    icon: require(\"viewInterface/assets/img/tool_icons/bzbp.png\"),\r\n                    toolFunc: this.setLabel_nx\r\n                }, {\r\n                    text: \"添加标注\",\r\n                    icon: require(\"viewInterface/assets/img/tool_icons/tjbz.png\"),\r\n                    toolFunc: this.setAdd_label\r\n                }, {\r\n                    text: \"取消所有标注\",\r\n                    icon: require(\"viewInterface/assets/img/tool_icons/qxbz.png\"),\r\n                    toolFunc: this.setClear_label\r\n                }, {\r\n                    text: \"循环寻峰\",\r\n                    icon: require(\"viewInterface/assets/img/tool_icons/xhxf.png\"),\r\n                    toolFunc: this.setAuto_tip\r\n                }, {\r\n                    text: \"校准倍频\",\r\n                    icon: require(\"viewInterface/assets/img/tool_icons/fztk.png\"),\r\n                    toolFunc: this.setPeak_nx\r\n                },\r\n                ]\r\n            }\r\n        },\r\n        destroyed:function () {\r\n            let that = this;\r\n            clearInterval(that.timer);//离开界面时清掉实时数据的定时器\r\n            that.timer = null;\r\n            this.paramsConfig={\r\n                chooseTid:this.chooseTid,\r\n                chooseTroot:this.chooseTroot,\r\n                chooseMacId:this.chooseMacId,\r\n                choosePosTypeId: this.choosePosTypeId,//所选的测点id\r\n                choosePosName:this.choosePosName,//所选的测点名\r\n                toggleText:this.toggleText,//实时与历史按钮文字\r\n            };\r\n            if(this.flag_real==1){\r\n                this.paramsConfig.chooseIsRealType = 2;\r\n                this.paramsConfig.isReal = true;//1是历史数据，2是实时数据\r\n            }\r\n            else{\r\n                this.paramsConfig.chooseIsRealType = 1;\r\n                this.paramsConfig.isReal = false;//1是历史数据，2是实时数据\r\n            }\r\n            if(this.chooseTid == ''){\r\n                this.paramsConfig={};\r\n            };\r\n            sessionStorage.setItem('paramsConfig',JSON.stringify(this.paramsConfig));\r\n        },\r\n        methods: {\r\n            //获取组织、机组信息\r\n            getHeadData() {\r\n                let that = this;\r\n                let params=null;\r\n                params={\r\n                    type:2,\r\n                    t_ids:JSON.parse(sessionStorage.getItem('getTidList')),\r\n                };\r\n                this.$axios.post('getPositionDataConfig',params)\r\n                    .then(res => {\r\n                        if(res.msg===0){\r\n                            that.dataResult = res.list;\r\n                            let result = res.list;\r\n                            if(result.length>0){\r\n                                that.folderList.length=0;\r\n                                for(let i=0;i<result.length; i++){\r\n                                    that.folderList.push({'t_id':result[i].t_id,'t_root':result[i].t_root,'t_name':result[i].t_name});\r\n                                    that.macList[result[i].t_id]=[];\r\n                                    if('mac_list' in result[i] && result[i].mac_list.length>0){\r\n                                        for(let j=0;j<result[i].mac_list.length;j++){\r\n                                            that.macList[result[i].t_id].push({'mac_id':result[i].mac_list[j].mac_id,'mac_me':result[i].mac_list[j].mac_me});\r\n                                            that.posList[result[i].mac_list[j].mac_id]=[];\r\n                                            if('positions_list' in result[i].mac_list[j] && result[i].mac_list[j].positions_list.length>0){\r\n                                                for(let m=0;m<result[i].mac_list[j].positions_list.length;m++){\r\n                                                    that.posList[result[i].mac_list[j].mac_id].push(result[i].mac_list[j].positions_list[m]);\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                    }\r\n\r\n                                }\r\n                                that.chooseTid = that.sortFolderList[0].t_id;\r\n                                that.chooseTroot = that.sortFolderList[0].t_root;\r\n                                if(!$.isEmptyObject(that.macList)){\r\n                                    that.chooseMacList = that.macList[that.sortFolderList[0].t_id].concat();\r\n                                    if(that.chooseMacList.length>0){\r\n                                        that.chooseMacId = that.sortMacList[0].mac_id;\r\n                                        that.fileName = that.sortMacList[0].mac_me;\r\n                                        that.selectMachineId = that.sortMacList[0].mac_id;\r\n                                        if(!$.isEmptyObject(that.posList)){\r\n                                            that.choosePosList = that.posList[that.sortMacList[0].mac_id].concat();\r\n                                            that.choosePosList = that.sortPositionsName(that.choosePosList);\r\n                                            if(that.choosePosList.length>0){\r\n                                                that.choosePosTypeId = that.choosePosList[this.selIndex].pos_type + '_' + that.choosePosList[this.selIndex].pos_id;\r\n                                                that.choosePosName = that.choosePosList[this.selIndex].pos_name;\r\n                                                that.selectPosition=that.choosePosList[this.selIndex];\r\n                                                that.selectPositionId = that.choosePosList[this.selIndex].pos_type + '_' + that.choosePosList[this.selIndex].pos_id;\r\n                                                that.selectPositionName = that.choosePosList[this.selIndex].pos_name;\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                }\r\n                                let linkInfo = JSON.parse(sessionStorage.getItem('paramsConfig'));\r\n                                if(!$.isEmptyObject(linkInfo)) {\r\n                                    if (linkInfo.chooseTid != undefined && linkInfo.chooseMacId != undefined && linkInfo.chooseTid != \"\" && linkInfo.chooseMacId != \"\" && that.macList[linkInfo.chooseTid].length > 0) {\r\n                                        that.chooseTid = linkInfo.chooseTid;//所选的组织id\r\n                                        that.chooseTroot = linkInfo.chooseTroot;//所选的组织类型\r\n                                        that.chooseMacList = that.macList[that.chooseTid].concat();\r\n                                        that.chooseMacId = linkInfo.chooseMacId;//所选的机组id\r\n                                        that.chooseMacList.forEach(machine => {\r\n                                            if (machine.mac_id == that.chooseMacId) {\r\n                                                that.fileName = machine.mac_me;\r\n                                            }\r\n                                        });\r\n                                        that.selectMachineId = that.chooseMacId;\r\n                                        that.choosePosList = that.posList[that.chooseMacId].concat();\r\n                                        that.choosePosList = that.sortPositionsName(that.choosePosList);\r\n\r\n                                        if (linkInfo.hasOwnProperty(\"choosePosTypeId\") && linkInfo.choosePosTypeId != '_') {\r\n                                            let posType = linkInfo.choosePosTypeId.split('_')[0];\r\n                                            let posId = linkInfo.choosePosTypeId.split('_')[1];\r\n                                            let choosePosTypeId = \"\";\r\n                                            that.choosePosList.forEach(position => {\r\n                                                if (position.pos_type == posType && position.pos_id == posId) {\r\n                                                    choosePosTypeId = linkInfo.choosePosTypeId;\r\n                                                }\r\n                                            });\r\n                                            if (choosePosTypeId !== \"\") {\r\n                                                that.choosePosTypeId = linkInfo.choosePosTypeId;//所选的测点id\r\n                                                that.choosePosName = linkInfo.choosePosName;//所选的测点名\r\n                                            } else {\r\n                                                that.choosePosTypeId = that.choosePosList[this.selIndex].pos_type + '_' + that.choosePosList[this.selIndex].pos_id;\r\n                                                that.choosePosName = that.choosePosList[this.selIndex].pos_name;//所选的测点名\r\n                                            }\r\n                                            that.toggleText = linkInfo.toggleText;//实时与历史按钮文字\r\n                                            if (linkInfo.isReal == 1) {\r\n                                                that.isReal = true;//是否实时\r\n                                                that.flag_real = 1;\r\n                                                that.chooseIsRealType = 2;\r\n                                            } else {\r\n                                                that.isReal = false;//是否实时\r\n                                                that.flag_real = 0;\r\n                                                that.chooseIsRealType = 1;\r\n                                            }\r\n                                        } else {\r\n                                            that.choosePosTypeId = that.choosePosList[this.selIndex].pos_type + '_' + that.choosePosList[this.selIndex].pos_id;\r\n                                            that.choosePosName = that.choosePosList[this.selIndex].pos_name;//所选的测点名\r\n                                            that.toggleText = \"实时\";//实时与历史按钮文字\r\n                                            that.isReal = true;//是否实时\r\n                                            that.flag_real = 1;\r\n                                            that.chooseIsRealType = 2;//1是历史数据，2是实时数据\r\n                                        }\r\n                                        for (let i = 0; i < that.choosePosList.length; i++) {\r\n                                            if (that.choosePosList[i].pos_type == that.choosePosTypeId.split('_')[0] && that.choosePosList[i].pos_id == that.choosePosTypeId.split('_')[1]) {\r\n                                                that.selectPosition = that.choosePosList[i];\r\n                                            }\r\n                                        }\r\n                                        that.selectPositionId = that.choosePosTypeId.split('_')[1];\r\n                                        that.selectPositionName = that.choosePosName;\r\n                                        /**如果风场类型不是水电或者石化并且测点为转速测点的情况下有高低密度波形选择**/\r\n                                        if (that.selectPosition.pos_type == 1) {\r\n                                            $('#hd_choose').css('display', 'inline-block');\r\n                                            /**如果测点为转速测点的情况下低密度波形，单位为“rpm”,高密度波形，单位为“MV”**/\r\n                                            if (that.hd_speed) {\r\n                                                that.selectPosition.unitName[0] = \"mV\";\r\n                                            } else {\r\n                                                that.selectPosition.unitName[0] = \"rpm\";\r\n                                            }\r\n                                        }\r\n                                        else {\r\n                                            $('#hd_choose').css('display', 'none');\r\n\r\n                                        }\r\n                                        // that.changeMachine();\r\n                                        /*that.searchTrend();*/\r\n                                    }\r\n                                    that.searchTrend();\r\n                                }\r\n                            }\r\n                            else{\r\n                                swal({\r\n                                    title: \"提示\",\r\n                                    text: '无数据',\r\n                                    button: \"确认\",\r\n                                });\r\n                            }\r\n                            // console.log(that.folderList);\r\n                            // console.log(that.macList);\r\n                            // console.log(that.posList);\r\n\r\n\r\n                        }\r\n                    }).catch(err => {\r\n                    console.log(err)\r\n                })\r\n            },\r\n            //改变所选组织\r\n            selectFolder(){\r\n                this.chooseMacList.length = 0;\r\n                this.choosePosList.length = 0;\r\n                let that = this;\r\n                this.sortFolderList.forEach(folder =>{\r\n                    if(folder.t_id == that.chooseTid){\r\n                        that.chooseTroot = folder.t_root;\r\n                    }\r\n                });\r\n                if(!$.isEmptyObject(this.macList)){\r\n                    this.chooseMacList = this.macList[this.chooseTid].concat();\r\n                    if(this.chooseMacList.length>0){\r\n                        this.chooseMacId = this.sortMacList[0].mac_id;\r\n                        this.fileName = this.sortMacList[0].mac_me;\r\n                        this.selectMachineId = this.sortMacList[0].mac_id;\r\n                        if(!$.isEmptyObject(this.posList)){\r\n                            this.choosePosList = this.posList[this.sortMacList[0].mac_id].concat();\r\n                            this.choosePosList = this.sortPositionsName(this.choosePosList);\r\n                            if(this.choosePosList.length>0){\r\n                                this.choosePosTypeId = this.choosePosList[this.selIndex].pos_type + '_' + this.choosePosList[this.selIndex].pos_id;\r\n                                this.choosePosName = this.choosePosList[this.selIndex].pos_name;\r\n                                this.selectPosition=this.choosePosList[this.selIndex];\r\n                                this.selectPositionId = this.choosePosList[this.selIndex].pos_type + '_' + this.choosePosList[this.selIndex].pos_id;\r\n                                this.selectPositionName = this.choosePosList[this.selIndex].pos_name;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                this.searchTrend();\r\n            },\r\n            //改变机组选择\r\n            selectMac(){\r\n                this.choosePosList.length = 0;\r\n                this.chooseMacList.forEach( machine =>{\r\n                    if(machine.mac_id==this.chooseMacId){\r\n                        this.fileName = machine.mac_me;\r\n                    }\r\n                });\r\n                if(!$.isEmptyObject(this.posList)){\r\n                    this.choosePosList = this.posList[this.chooseMacId].concat();\r\n                    this.choosePosList = this.sortPositionsName(this.choosePosList);\r\n                    if(this.choosePosList.length>0){\r\n                        this.choosePosTypeId = this.choosePosList[this.selIndex].pos_type + '_' + this.choosePosList[this.selIndex].pos_id;\r\n                        this.choosePosName = this.choosePosList[this.selIndex].pos_name;\r\n                        this.selectPosition=this.choosePosList[this.selIndex];\r\n                        this.selectPositionId = this.choosePosList[this.selIndex].pos_type + '_' + this.choosePosList[this.selIndex].pos_id;\r\n                        this.selectPositionName = this.choosePosList[this.selIndex].pos_name;\r\n                        /**如果测点类型是阶次**/\r\n                        if (this.selectPosition.pos_type == 8 || this.selectPosition.pos_type == 9) {\r\n                            this.name_type = \"阶次\";\r\n                            this.name_type_speed = \"动阶次\";\r\n                        } else {\r\n                            this.name_type = \"频率\";\r\n                            this.name_type_speed = \"频\";\r\n                        }\r\n                        // if (this.choose_factory.factory_type == 8) {\r\n                        //     this.setSignalArr(this.selectMachine.xml_channel);\r\n                        // } else {\r\n                        //     this.setSignalArr(this.selectMachine.mach_model_xml);\r\n                        // }\r\n                        /**测点为阶次，显示柱状图，其他的测点显示折线图**/\r\n                        if (this.selectPosition.pos_type == 8 || this.selectPosition.pos_type == 9) {\r\n                            this.spectrumStyle = 'bar';\r\n                        } else {\r\n                            this.spectrumStyle = 'line';\r\n                        }\r\n                        /**长采样测点的处理，如果capture_mode=0是自动采样，=1是手动采样**/\r\n                        /*if (this.selectPosition.pos_type == 200) {\r\n                            if (this.selectPosition.capture_mode == 0) {\r\n                                this.selectPositionId = 200 + \"_\" + parseInt(this.selectPosition.capture_byId - 1);\r\n                                this.selectPosition.pos_id = this.selectPosition.capture_byId - 1;\r\n                                this.selectPositionName = this.selectPosition.pos_name;\r\n                            } else {\r\n                                this.selectPositionId = 200 + \"_\" + parseInt(this.selectPosition.channel_id + 16);\r\n                                this.selectPosition.pos_id = parseInt(this.selectPosition.channel_id + 16);\r\n                                this.selectPositionName = this.selectPosition.pos_name;\r\n                            }\r\n                        }*/\r\n                        // /**如果风场类型不是水电或者石化并且测点为转速测点的情况下有高低密度波形选择**/\r\n                        // if (this.choose_factory.factory_type != 4 && this.selectPosition.position_type == 1) {\r\n                        //     $('#hd_choose').css('display', 'inline-block');\r\n                        //     /**如果测点为转速测点的情况下低密度波形，单位为“rpm”,高密度波形，单位为“MV”**/\r\n                        //     if (this.hd_speed) {\r\n                        //         this.selectPosition.unitName[0] = \"mV\";\r\n                        //     } else {\r\n                        //         this.selectPosition.unitName[0] = \"rpm\";\r\n                        //     }\r\n                        //\r\n                        // } else {\r\n                        //     $('#hd_choose').css('display', 'none');\r\n                        // }\r\n\r\n                    }\r\n                }\r\n                this.searchTrend();\r\n            },\r\n            //改变测点选择\r\n            selectPosTypeId(){\r\n                this.unitWave = \"\";\r\n                this.unitSpec = \"\";\r\n                this.hd_speed = false;\r\n                this.changePos = true;\r\n                if(this.choosePosTypeId!=undefined){\r\n                    for(let i=0;i<this.choosePosList.length;i++){\r\n                        if(this.choosePosList[i].pos_type==this.choosePosTypeId.split('_')[0] && this.choosePosList[i].pos_id==this.choosePosTypeId.split('_')[1]){\r\n                            this.choosePosName = this.choosePosList[i].pos_name;\r\n                            this.selectPositionName = this.choosePosList[i].pos_name;\r\n                            this.selectPosition = this.choosePosList[i];\r\n                        }\r\n                    }\r\n                    this.requestTime = 0; //获取波形，0表示实时\r\n\r\n                    /**长采样测点的处理，如果capture_mode=0是自动采样，=1是手动采样**/\r\n                    // console.log(this.selectPosition);\r\n                    /*if (this.selectPosition.pos_type == 200) {\r\n                        if (this.selectPosition.capture_mode == 0) {\r\n                            this.selectPositionId = 200 + \"_\" + parseInt(this.selectPosition.capture_byId - 1);\r\n                            this.selectPosition.pos_id = this.selectPosition.capture_byId - 1;\r\n                            this.selectPositionName = this.selectPosition.position_name;\r\n                        } else {\r\n                            this.selectPositionId = 200 + \"_\" + parseInt(this.selectPosition.channel_id + 16);\r\n                            this.selectPosition.pos_id = parseInt(this.selectPosition.channel_id + 16);\r\n                            this.selectPositionName = this.selectPosition.pos_name;\r\n                        }\r\n                        this.choosePosTypeId = this.selectPositionId;\r\n                    }*/\r\n                    /**如果风场类型不是水电或者石化并且测点为转速测点的情况下有高低密度波形选择**/\r\n                    if (this.selectPosition.pos_type == 1) {\r\n                        $('#hd_choose').css('display', 'inline-block');\r\n                        /**如果测点为转速测点的情况下低密度波形，单位为“rpm”,高密度波形，单位为“MV”**/\r\n                        if (this.hd_speed) {\r\n                            this.selectPosition.unitName[0] = \"mV\";\r\n                        } else {\r\n                            this.selectPosition.unitName[0] = \"rpm\";\r\n                        }\r\n                    }\r\n                    else {\r\n                        $('#hd_choose').css('display', 'none');\r\n\r\n                    }\r\n                    /**如果测点类型是阶次**/\r\n                    if (this.selectPosition.pos_type == 8 || this.selectPosition.pos_type == 9) {\r\n                        this.name_type = \"阶次\";\r\n                        this.name_type_speed = \"动阶次\";\r\n                    }\r\n                    else if(this.selectPosition.pos_type == 4 || this.selectPosition.pos_type == 9){\r\n                        this.selectPosition.unitName = \"gD\";\r\n                        this.unitWave = \"gD\";\r\n                        this.unitSpec = \"gD\";\r\n                    }\r\n                    else {\r\n                        this.name_type = \"频率\";\r\n                        this.name_type_speed = \"频\";\r\n                    }\r\n                    /*if (this.choose_factory.factory_type == 8) {\r\n                        this.setSignalArr(this.selectMachine.xml_channel);\r\n                    } else {\r\n                        this.setSignalArr(this.selectMachine.mach_model_xml);\r\n                    }*/\r\n                };\r\n\r\n                this.searchTrend();\r\n            },\r\n            //切换按钮\r\n            toggleBtn(){\r\n                this.flag_real = Math.abs(this.flag_real - 1);\r\n                if(this.flag_real){\r\n                    this.toggleText = '实时';\r\n                    this.chooseIsRealType = 2;\r\n                }\r\n                else{\r\n                    this.toggleText = '历史';\r\n                    this.chooseIsRealType = 1;\r\n                }\r\n            },\r\n            //转换日期方法\r\n            translateDate(value){\r\n                value = new Date(value);\r\n                value = value.getFullYear() + '-'\r\n                    + (value.getMonth() + 1) + '-'\r\n                    + this.fixTime(value.getDate()) + ' '\r\n                    + this.fixTime(value.getHours()) + ':'\r\n                    + this.fixTime(value.getMinutes());\r\n                return value;\r\n            },\r\n            //补0\r\n            fixTime (str) {\r\n                if (Number(str) < 10) {\r\n                    str = \"0\" + str;\r\n                }\r\n                return str;\r\n            },\r\n            hideBox: function(e) {\r\n                this.boxShow = e.target.id === 'posName' || e.target.tagName === 'IMG' ? !this.boxShow : false;\r\n            },\r\n            allToCurPower: function() {\r\n                for (let i = 0, l = this.allPos.length; i < l; i++) {\r\n                    if ((this.selectPositionId.split('_')[0] == this.allPos[i].type &&\r\n                        this.selectPositionId.split('_')[1] == this.allPos[i].id) ||\r\n                        (this.allPos[i].name === this.curPosFlag.name &&\r\n                            this.allPos[i].ppid == this.curPosFlag.ppid)\r\n                    ) {\r\n                        this.power_a = this.sourceAllPower[i].a\r\n                        this.power_b = this.sourceAllPower[i].b\r\n                        break;\r\n                    }\r\n                }\r\n            },\r\n            setAllPower: function() {\r\n                if (this.allPower.length > 0) {\r\n                    if (this.posIndex === 0) {\r\n                        for (let i = 0, l = this.allPos.length; i < l; i++) {\r\n                            this.curPosName = this.allPos[i].name;\r\n                            break;\r\n                        }\r\n                    } else {\r\n                        this.curPosName = this.allPos[this.posIndex].name;\r\n                    }\r\n                    for (let i = 0, l = this.allPos.length; i < l; i++) {\r\n                        if (this.curPosName === this.allPos[i].name) {\r\n                            this.posIndex = i\r\n                            break;\r\n                        }\r\n                    }\r\n                    this.$refs.powerA.value = this.allPower[this.posIndex].a;\r\n                    this.$refs.powerB.value = this.allPower[this.posIndex].b;\r\n                    this.$refs.allPower.style.display = 'block';\r\n                }\r\n            },\r\n            allPowerOk: function() {\r\n                this.sourceAllPower = this.allPower;\r\n                this.allToCurPower();\r\n                this.makeFftData(2);\r\n                this.$refs.allPower.style.display = 'none';\r\n            },\r\n            selectAllPos: function(e) {\r\n                this.boxShow = false;\r\n                this.posIndex = e.currentTarget.getAttribute('data-id');\r\n                this.curPosName = this.allPos[this.posIndex].name;\r\n                // this.$refs.curPos.title = this.allPos[this.posIndex].name;\r\n                this.$refs.powerA.value = this.allPower[this.posIndex].a;\r\n                this.$refs.powerB.value = this.allPower[this.posIndex].b;\r\n            },\r\n            setAllPowerA: function(e) {\r\n                if (this.isReal()) return\r\n                this.allPower[this.posIndex].a = Number(e.currentTarget.value);\r\n            },\r\n            setAllPowerB: function(e) {\r\n                if (this.isReal()) return\r\n                this.allPower[this.posIndex].b = Number(e.currentTarget.value);\r\n            },\r\n            isReal: function() {\r\n                let powerA, powerB;\r\n                this.$refs.powerA && (powerA = Number(this.$refs.powerA.value))\r\n                this.$refs.powerB && (powerB = Number(this.$refs.powerB.value))\r\n                this.isRealAll = powerA > powerB && powerB !== 0\r\n                return powerA > powerB && powerB !== 0;\r\n            },\r\n            getMax: function(num) {\r\n                this.isLoading === num ? false : true;\r\n            },\r\n            getMachines: function() {\r\n\r\n            },\r\n            setMachineInfo: function(result) {\r\n                var that = this;\r\n                if (null != result && result.length > 0) {\r\n                    // console.log(result);\r\n                    var machine_info = result;\r\n                    if (that.choose_factory.factory_type == 1) {\r\n                        that.sortMachines(machine_info);\r\n                        that.selectMachineId = that.choose_machine.machine_id + \"_\" + that.choose_machine.machine_type;\r\n                        for (var i = 0; i < machine_info.length; i++) {\r\n                            machine_info[i].machine_name = machine_info[i].m_me;\r\n                            machine_info[i].machine_id = machine_info[i].machine_id + \"_\" + machine_info[i].m_type;\r\n                        }\r\n                    } else if (that.choose_factory.factory_type == 8) {\r\n                        var machine_arr = [];\r\n                        that.selectMachineId = that.choose_machine.machine_id + \"_0_\" + that.choose_machine.rate_speed + \"_\" + that.choose_machine.pump_id;\r\n                        if (machine_info.length > 0) {\r\n                            for (var i = 0; i < machine_info.length; i++) {\r\n                                if (machine_info[i].pumps) {\r\n                                    for (var j = 0; j < machine_info[i].pumps.length; j++) {\r\n                                        machine_info[i].pumps[j].machine_name = machine_info[i].name + \"-\" + machine_info[i].pumps[j].pump_name;\r\n                                        machine_info[i].pumps[j].c_machine_positions = machine_info[i].pumps[j].positions;\r\n                                        machine_info[i].pumps[j].m_type = 0;\r\n                                        machine_info[i].pumps[j].machine_id = machine_info[i].pumps[j].machine_id + \"_0_\" + machine_info[i].pumps[j].rated_speed + \"_\" + machine_info[i].pumps[j].pump_id;\r\n                                        machine_arr.push(machine_info[i].pumps[j]);\r\n                                    }\r\n                                }\r\n                            }\r\n                            machine_info = machine_arr;\r\n                        }\r\n                    } else if (that.choose_factory.factory_type == 4) {\r\n                        that.selectMachineId = that.choose_machine.machine_id + \"_\" + that.choose_machine.station_id;\r\n                        for (var i = 0; i < machine_info.length; i++) {\r\n                            machine_info[i].c_machine_positions = [];\r\n                            machine_info[i].machine_name = machine_info[i].name;\r\n                            machine_info[i].m_type = 0;\r\n                            if (machine_info[i].keyMaps) {\r\n                                machine_info[i].machine_id = machine_info[i].id + \"_\" + machine_info[i].keyMaps[0].station_id;\r\n                                var t_posMaps = [];\r\n                                for (var k = 0; k < machine_info[i].keyMaps.length; k++) {\r\n                                    if (machine_info[i].keyMaps[k].posMaps && machine_info[i].keyMaps[k].posMaps.length > 0) {\r\n                                        t_posMaps = t_posMaps.concat(machine_info[i].keyMaps[k].posMaps);\r\n                                    }\r\n                                }\r\n                                // console.log(t_posMaps);\r\n\r\n                                for (var j = 0; j < t_posMaps.length; j++) {\r\n                                    machine_info[i].c_machine_positions.push({});\r\n                                    machine_info[i].c_machine_positions[j].position_id = t_posMaps[j].pos_id;\r\n                                    machine_info[i].c_machine_positions[j].position_name = t_posMaps[j].positionName;\r\n                                    machine_info[i].c_machine_positions[j].position_type = t_posMaps[j].positionType;\r\n                                    machine_info[i].c_machine_positions[j].unitName = t_posMaps[j].unitName;\r\n                                    machine_info[i].c_machine_positions[j].activity = t_posMaps[j].activity;\r\n                                    machine_info[i].c_machine_positions[j].alarm_type = t_posMaps[j].alarm_type;\r\n                                    if (that.choose_factory.type == 3 && machine_info[i].c_machine_positions[j].position_type == 3 || machine_info[i].c_machine_positions[j].position_type == 4) {\r\n                                        machine_info[i].c_machine_positions[j] = [];\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    var result_machines = [];\r\n                    for (var i = 0; i < machine_info.length; i++) {\r\n                        if (machine_info[i].c_machine_positions != null && machine_info[i].c_machine_positions.length > 0 || (machine_info[i].keyMaps && machine_info[i].keyMaps.length > 0)) {\r\n                            result_machines.push(machine_info[i]); //将没有测点的机组剔除\r\n                        }\r\n                    }\r\n                    that.machines = result_machines;\r\n                    // console.log(that.machines);\r\n                    // console.log(that.selectMachineId);\r\n                    that.selectPositionId = that.choose_position.position_type + \"_\" + that.choose_position.position_id;\r\n                    if (that.selectPosition.position_type == 8 || that.selectPosition.position_type == 9) {\r\n                        that.spectrumStyle = 'bar-line';\r\n                    } else {\r\n                        that.spectrumStyle = 'line';\r\n                    }\r\n                    that.$nextTick(function() {\r\n                        that.initMacPosSet();\r\n                        that.keepPage();\r\n                        if (that.flag_real == 1) {\r\n                            that.getRealData();\r\n                        }\r\n                    })\r\n                }\r\n            },\r\n            sortMachines: function(arr) {\r\n                for (var j = 0; j < arr.length - 1; j++) {\r\n                    for (var i = 0; i < arr.length - 1 - j; i++) {\r\n                        if (parseInt(arr[i].m_me.replace(/[^0-9]/ig, \"\")) > parseInt(arr[i + 1].m_me.replace(/[^0-9]/ig, \"\"))) {\r\n                            var temp = arr[i];\r\n                            arr[i] = arr[i + 1];\r\n                            arr[i + 1] = temp;\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            searchWave: function(date) { //获取实时或历史波形\r\n                this.requestTime = date;\r\n                let that = this;\r\n                let params = null;\r\n                if(that.choosePosTypeId!=undefined){\r\n                    params={\r\n                        p_type:that.choosePosTypeId.split('_')[0],\r\n                        machine_id:that.chooseMacId,\r\n                        p_id:that.choosePosTypeId.split('_')[1],\r\n                        currTime:date,\r\n                        hd_wave:that.hd_speed,\r\n                    };\r\n                    this.$axios.post('getWave',params)\r\n                        .then(res => {\r\n                            that.initParams();\r\n                            if(res.msg===0 && res.waveObject!=null){\r\n                                that.setWave(res,date);\r\n                            }\r\n                            else{\r\n                                that.sourceWaveX = [];\r\n                                that.sourceWaveY = [];\r\n                                that.waveX=[];\r\n                                that.waveY=[];\r\n                                that.sourceSpectrumX=[];\r\n                                that.sourceSpectrumY=[];\r\n                                that.spectrumX=[];\r\n                                that.spectrumY=[];\r\n                                if(that.flag_real == 1){//选择不同的测点时，强制停止实时按钮\r\n                                    that.setRealBtn();\r\n                                }\r\n                                // swal('没有波形')\r\n                                that.noRealData=true;\r\n                            }\r\n\r\n                        }).catch(err => {\r\n                        console.log(err);\r\n                    })\r\n                }\r\n            },\r\n            setWave: function(result,date) {\r\n                var that = this;\r\n                if (!$.isEmptyObject(result)) {\r\n                    that.initParams();\r\n                    if (!that.changePos) {\r\n                        that.flag_subFreq && ($('.tool_list>li')[0].className = 'active')\r\n                        that.flag_nx && ($('.tool_list>li')[6].className = 'active')\r\n                    }\r\n\r\n                    var speed = result.waveObject.speed;\r\n                    var t_time;\r\n                    if (that.choose_factory.factory_type == 4) {\r\n                        that.alarm_type = parseInt(that.selectPosition.alarm_type);\r\n                    }\r\n                    t_time = result.value.saveTime_Com;\r\n                    that.curSpeed = speed;\r\n                    that.rotateSpeed = Math.round(speed);\r\n                    if (that.choose_factory.factory_type != 4 && that.selectPosition.pos_type == 1) {\r\n                        that.validValue = -1;\r\n                    }\r\n                    else {\r\n                        that.validValue = Math.round(result.value.rms * 10000) / 10000;\r\n                    }\r\n                    that.oriChangeTime = t_time;\r\n                    that.changeTime = that.timetrans(t_time);\r\n                    that.oneFreq = speed == 0 ? 0.908 / 60 : speed / 60;\r\n                    var freq = result.waveObject.freq;\r\n                    that.maxFreq = freq;\r\n                    that.samples = result.waveObject.samples;\r\n                    // var lastSpecType = that.specType;\r\n                    if (that.selectPosition.pos_type == 8 || that.selectPosition.pos_type == 9) {\r\n                        that.specType = 2;\r\n                        that.unitXWave = \"smpl\";\r\n                        that.unitXSpec = \"NX\";\r\n                        that.spectrumStyle = 'bar-line';\r\n                        that.unitXSpec = 'NX';\r\n                    }\r\n                    else {\r\n                        that.specType = 1;\r\n                        that.unitXWave = \"s\";\r\n                        that.unitXSpec = \"Hz\";\r\n                        that.spectrumStyle = 'line';\r\n                        that.unitXSpec = 'Hz';\r\n                    }\r\n                    if(that.selectPosition.pos_type == 14){\r\n                        that.unitXWave = \"ns\"\r\n                    }\r\n                    if (that.specType == 2) {\r\n                        if (result.waveObject.cycles > 0 && result.waveObject.samples > 0) {\r\n                            that.spectral = result.waveObject.samples / result.waveObject.cycles;\r\n                        }\r\n                        else if (result.waveObject.b[2] > 0 && result.waveObject.samples) {\r\n                            that.spectral = result.waveObject.samples / result.waveObject.b[2];\r\n                        }\r\n                        else {\r\n                            that.spectral = 1;\r\n                        }\r\n                    }\r\n                    var wave_y = [];\r\n                    var wave_x = [];\r\n                    var len = wave_y.length;\r\n                    var i = 0;\r\n                    if(that.selectPosition.pos_type == 14){\r\n                        wave_y = result.waveObject;\r\n                    }\r\n                    else{\r\n                        wave_y = result.waveObject.wave;\r\n                    }\r\n\r\n                    if (that.specType == 2) {\r\n                        let len=wave_y.length;\r\n                        for (i = 0; i < len; i++) {\r\n                            wave_x.push(i);\r\n                        }\r\n                    }\r\n                    else if(that.selectPosition.pos_type == 14){\r\n                        let len=wave_y.length;\r\n                        let spaceTime = 10;//UT目前每隔10ns(spaceTime)采一个点，且转换成um显示波形横坐标(暂时写死，以后要改再说)\r\n                        for(let i=0; i<len; i++){\r\n                            wave_x.push(i*spaceTime/1000);\r\n                        }\r\n                    }\r\n                    else {\r\n                        let len=wave_y.length;\r\n                        for (i = 0; i < len; i++) {\r\n                            wave_x.push(Math.floor(i / freq * 10000) / 10000);\r\n                        }\r\n                    }\r\n                    that.sourceWaveX = wave_x;\r\n                    that.sourceWaveY = wave_y;\r\n                    that.waveX = wave_x;\r\n                    that.waveY = wave_y;\r\n                    that.setSrcSpectrum();//计算原始频谱，用于计算波形\r\n                    that.setHanning();//计算频谱\r\n                    $('.tool_list>li:nth-child(2)').addClass('active');\r\n                    $('.tool_list>li:nth-child(11)').addClass('active');\r\n                    // that.waveSetIntervalNum();\r\n                    if (typeof that.selectPosition.unitName == \"string\") {//水电：如果返回的unit不是数组而是字符串就直接显示字符串\r\n                        that.unitTrend = that.selectPosition.unitName;\r\n                        that.unitWave = that.selectPosition.unitName;\r\n                        that.unitRms = that.selectPosition.unitName;//rms的单位\r\n                        that.unitSpec = that.selectPosition.unitName;\r\n                        that.srcUnitWave = that.selectPosition.unitName;\r\n                        that.srcUnitSpec = that.selectPosition.unitName;\r\n                    } else {\r\n                        var t_unitArr = [];\r\n                        var byIntegral = 0;\r\n                        var unit0 = \"g\";//积分前单位\r\n                        var unit1 = \"g\";//积分后单位\r\n                        if (that.selectPosition != null) {\r\n                            if (that.selectPosition.hasOwnProperty(\"power_a\")) {\r\n                                if (that.selectPosition.power_a == \"NaN\" || that.selectPosition.power_a == null) {\r\n                                    that.selectPosition.power_a = 0;\r\n                                }\r\n                                that.sc_power_a = parseInt(that.selectPosition.power_a);\r\n                            } else {\r\n                                that.sc_power_a = 0;\r\n                            }\r\n                            byIntegral = parseInt(that.selectPosition.byIntegral);\r\n                        }\r\n                        if (that.power_a == -1) {\r\n                            that.power_a = that.sc_power_a;\r\n                        }\r\n                        if (that.power_a == \"NaN\") {\r\n                            that.power_a = 0;\r\n                        }\r\n                        if (that.sc_power_a == \"NaN\") {\r\n                            that.sc_power_a = 0;\r\n                        }\r\n                        unit0 = that.selectPosition.unitName[0];\r\n                        if (unit0 == \"§\") {\r\n                            unit0 = \"gD\";\r\n                        } else if (unit0 == \"m/s?\") {\r\n                            unit0 = \"m/s²\";\r\n                        }\r\n                        if (that.selectPosition && that.selectPosition.byIntegral && that.selectPosition.unitName) {\r\n                            unit1 = that.getUnit1(byIntegral, unit0);\r\n                        }\r\n                        else {\r\n                            unit1 = unit0;\r\n                        }\r\n                        that.srcUnitWave = unit0;\r\n                        that.srcUnitSpec = unit0;\r\n                        that.srcUnitTrend = unit0;\r\n                        if (that.hd_speed) {\r\n                            that.unitTrend = \"mV\";//高密度波形情况下，单位为“mV\"\r\n                        }\r\n                        else if ((that.selectPosition.dgm_type == 3 || that.selectPosition.dgm_type == 4 ) && that.selectPosition.pos_type == 3) {\r\n                            that.unitTrend = unit1;//振动传感器或者MHD传感器的振动测点的趋势图单位为积分后的单位\r\n                            that.unitWave = unit0;\r\n                            that.unitSpec = unit1;\r\n                            that.unitRms = unit1;\r\n                        }\r\n                        else {\r\n                            that.unitTrend = unit0;//趋势图都是有效值，用积分前单位\r\n                            that.unitWave = unit0;\r\n                            that.unitSpec = unit0;\r\n                            that.unitRms = unit0;\r\n                        }\r\n                    }\r\n\r\n                    var newUnitWave = \"\";\r\n                    var newUnitSpec = \"\";\r\n                    /**波形图单位选择单位改变数据也要改变**/\r\n                    if (that.unitWave != that.srcUnitWave) {\r\n                        that.unitType = 1;\r\n                        newUnitWave = that.unitWave;\r\n                        that.unitWave = that.srcUnitWave;\r\n                        that.setUnitSelect(newUnitWave);\r\n                    }\r\n                    /**频谱图单位选择单位改变数据也要改变**/\r\n                    if (that.unitSpec != that.srcUnitSpec) {\r\n                        that.unitType = 2;\r\n                        newUnitSpec = that.unitSpec;\r\n                        that.unitSpec = that.srcUnitSpec;\r\n                        that.setUnitSelect(newUnitSpec);\r\n                    }\r\n                    that.choose_position.unit_sensor = that.unitWave;\r\n                    /*that.failureOk();*///故障频率暂时屏蔽\r\n                    if (date == 0 && that.flag_real) {\r\n                        that.changePos = false;\r\n                        window.clearTimeout(that.timer);\r\n                        that.timer = null;\r\n                        that.timer = setTimeout(function () {\r\n                            that.searchWave(0);\r\n                        }, 5000);\r\n                    }\r\n                } else {\r\n                    that.sourceWaveX = [];\r\n                    that.sourceWaveY = [];\r\n                    that.waveX = [];\r\n                    that.waveY = [];\r\n                    that.srcSpectrum = {};\r\n                    that.countSpectrum = {};\r\n                    that.sourceSpectrumX = [];\r\n                    that.sourceSpectrumY = [];\r\n                    that.scoreSpectrumY = [];\r\n                    that.spectrumX = [];\r\n                    that.spectrumY = [];\r\n                    swal({\r\n                        title: \"提示\",\r\n                        text: '请求波形失败',\r\n                        button: \"确认\",\r\n                    });\r\n                    if (that.flag_real == 1) { //选择不同的测点时，强制停止实时按钮\r\n                        that.setRealBtn();\r\n                    }\r\n                }\r\n                if (!this.changePos && this.flag_f_nx.isChange) {\r\n                    $('.tool_btn')[2].click();\r\n                }\r\n            },\r\n            change_hd: function() {\r\n\r\n                if ($('#hd_low_radio').is(\":checked\")) {\r\n                    this.hd_speed = false;\r\n                } else {\r\n                    this.hd_speed = true;\r\n                }\r\n                /**如果是低密度波形，单位为“rpm”,高密度波形，单位为“MV”**/\r\n                if (this.hd_speed) {\r\n                    this.selectPosition.unitName[0] = \"mV\";\r\n                } else {\r\n                    this.selectPosition.unitName[0] = \"rpm\";\r\n                }\r\n                this.requestTime = 0; //获取波形，0表示实时\r\n                this.searchTrend();\r\n            },\r\n            buildTime: function(date) {\r\n                var t = new Date(date);\r\n                return t.getFullYear() + '-' +\r\n                    (this.fixTime(t.getMonth() + 1)) + '-' +\r\n                    this.fixTime(t.getDate());\r\n            },\r\n            //时间戳转化时分秒\r\n            timestampToTime(timestamp) {\r\n                if(timestamp!=0 && timestamp){\r\n                    var date = new Date(timestamp);\r\n                }\r\n                else{\r\n                    var date = new Date();//时间戳为10位需*1000，时间戳为13位的话不需乘1000\r\n                }\r\n\r\n                var Y = date.getFullYear() + '-';\r\n                var M = (date.getMonth()+1 < 10 ? '0'+(date.getMonth()+1) : date.getMonth()+1) + '-';\r\n                var D = (date.getDate() < 10 ? '0'+date.getDate() : date.getDate()) + ' ';\r\n                var h = (date.getHours() < 10 ? '0'+date.getHours() : date.getHours()) + ':';\r\n                var m = (date.getMinutes() < 10 ? '0'+date.getMinutes() : date.getMinutes()) + ':';\r\n                var s = (date.getSeconds() < 10 ? '0'+date.getSeconds() : date.getSeconds());\r\n\r\n                let strDate = Y+M+D+h+m+s;\r\n                return strDate;\r\n            },\r\n            hasWave: function(pos_type) { //测点过滤\r\n                if (pos_type == 3 || pos_type == 4 || pos_type == 6 || pos_type == 8 || pos_type == 9 || pos_type == 12 || pos_type == 200 || pos_type == 1) {\r\n                    return true;\r\n                } else {\r\n                    return false;\r\n                }\r\n            },\r\n            setSelectVal: function(position) {\r\n                if (position) {\r\n                    return position.position_type + \"_\" + position.position_id;\r\n                }\r\n            },\r\n            isInArray: function(arr, value) {\r\n                for (var i = 0; i < arr.length; i++) {\r\n                    if (value == arr[i]) {\r\n                        return true;\r\n                    }\r\n                }\r\n                return false;\r\n            },\r\n            initMacPosSet: function() { //初始化选中机组和测点\r\n                // console.log(this.selectMachineId);\r\n                if (this.machines.length > 0) {\r\n                    var machines_id = [];\r\n                    for (var k = 0; k < this.machines.length; k++) {\r\n                        machines_id.push(this.machines[k].machine_id.split(\"_\")[0]);\r\n                    }\r\n                    // console.log(this.isInArray(machines_id, this.choose_machine.machine_id));\r\n                    if (this.choose_machine.machine_id == \"\" || this.isInArray(machines_id, this.choose_machine.machine_id) == false) { //如果带过来的机组没有测点就默认显示第一个机组\r\n                        this.selectMachineId = this.machines[0].machine_id;\r\n                    }\r\n\r\n                    for (var i = 0; i < this.machines.length; i++) {\r\n                        if (this.machines[i].machine_id == this.selectMachineId) {\r\n                            this.selectMachine = this.machines[i];\r\n                            this.sortPositions = this.sortPositionsName(this.machines[i].c_machine_positions);\r\n                            /**如果测点类型是阶次，故障频率文案改变为阶次，其他为频率**/\r\n                            if (this.selectPosition.position_type == 8 || this.selectPosition.position_type == 9) {\r\n                                this.name_type = \"阶次\";\r\n                                this.name_type_speed = \"动阶次\";\r\n                            } else {\r\n                                this.name_type = \"频率\";\r\n                                this.name_type_speed = \"频\";\r\n                            }\r\n                            /**水泥厂的传动链“xml_channel”,其他的是“mach_model_xml”**/\r\n                            if (this.choose_factory.factory_type == 8) {\r\n                                this.setSignalArr(this.selectMachine.xml_channel);\r\n                            } else {\r\n                                this.setSignalArr(this.selectMachine.mach_model_xml);\r\n                            }\r\n                            break;\r\n                        }\r\n                    }\r\n                    var positions = this.sortPositions;\r\n                    if (this.selectPositionId == -1 || this.selectPositionId == \"-1_-1\" || this.choose_position.position_type == 2 || this.choose_position.position_type == 5 || this.choose_position.position_type == 7 || this.choose_position.position_type == 10 || this.choose_position.position_type == 11 || this.choose_position.position_type == 13 || this.choose_position.position_type == 200) { //没有带入测点，默认显示第一个振动测点\r\n                        this.selectPositionId = positions[this.selIndex].position_type + \"_\" + positions[this.selIndex].position_id;\r\n                        this.selectPosition = positions[this.selIndex];\r\n                        this.selectPositionName = positions[this.selIndex].position_name;\r\n                    } else { //选中带入的测点\r\n                        for (i = 0; i < positions.length; i++) {\r\n                            if (positions[i].position_id == Number(this.selectPositionId.split(/_/)[1]) && positions[i].position_type == Number(this.selectPositionId.split(/_/)[0])) {\r\n                                this.selectPosition = positions[i];\r\n                                this.selectPositionName = positions[i].position_name;\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                    // console.log(this.selectPosition);\r\n                    /**当测点为阶次时显示柱状图**/\r\n                    if (this.selectPosition.position_type == 8 || this.selectPosition.position_type == 9) {\r\n                        this.spectrumStyle = 'bar-line';\r\n                        this.name_type = \"阶次\";\r\n                        this.name_type_speed = \"动阶次\";\r\n                    } else {\r\n                        this.spectrumStyle = 'line';\r\n                        this.name_type = \"频率\";\r\n                        this.name_type_speed = \"频\";\r\n                    }\r\n\r\n                    /**长采样测点的处理，如果capture_mode=0是自动采样，=1是手动采样**/\r\n                    if (this.selectPosition.position_type == 200) {\r\n                        if (this.selectPosition.xmlValMap.capture_mode == 0) {\r\n                            this.selectPositionId = 200 + \"_\" + parseInt(this.selectPosition.xmlValMap.capture_byId - 1);\r\n                            this.selectPosition.position_id = this.selectPosition.xmlValMap.capture_byId - 1;\r\n                            this.selectPositionName = this.selectPosition.position_name;\r\n                        } else {\r\n                            this.selectPositionId = 200 + \"_\" + parseInt(this.selectPosition.channel_id + 16);\r\n                            this.selectPosition.position_id = parseInt(this.selectPosition.channel_id + 16);\r\n                            this.selectPositionName = this.selectPosition.position_name;\r\n                        }\r\n                    }\r\n                    /**如果风场类型不是水电或者石化并且测点为转速测点的情况下有高低密度波形选择**/\r\n                    if (this.selectPosition.position_type == 1) {\r\n                        $('#hd_choose').css('display', 'inline-block');\r\n                        /**如果低密度波形，单位为“rpm”,高密度波形，单位为“MV”**/\r\n                        if (this.hd_speed) {\r\n                            this.selectPosition.unitName[0] = \"mV\";\r\n                        } else {\r\n                            this.selectPosition.unitName[0] = \"rpm\";\r\n                        }\r\n                    } else {\r\n                        $('#hd_choose').css('display', 'none');\r\n                    }\r\n                    this.searchTrend();\r\n                }\r\n            },\r\n            changeMachine: function() { //机组改变，需要初始化选择第一个振动测点\r\n                // console.log(this.selectPositionId);\r\n                if (this.chooseMacList.length > 0) {\r\n                    if (typeof(this.selectMachineId) == \"undefined\" || this.selectMachineId == \"\" || this.selectMachineId.split(/_/)[0] == \"\") {\r\n                        return;\r\n                    }\r\n                    for (var i = 0; i < this.chooseMacList.length; i++) {\r\n                        if (this.chooseMacList[i].mac_id == this.selectMachineId) {\r\n                            this.selectMachine = this.chooseMacList[i];\r\n                            this.choosePosList = this.posList[this.selectMachineId].concat();\r\n                            this.choosePosList = this.sortPositionsName(this.choosePosList);\r\n                            this.sortPositions = this.choosePosList;\r\n                            /**如果测点类型是阶次**/\r\n                            if (this.selectPosition.pos_type == 8 || this.selectPosition.pos_type == 9) {\r\n                                this.name_type = \"阶次\";\r\n                                this.name_type_speed = \"动阶次\";\r\n                            } else {\r\n                                this.name_type = \"频率\";\r\n                                this.name_type_speed = \"频\";\r\n                            }\r\n                            if (this.choose_factory.factory_type == 8) {\r\n                                this.setSignalArr(this.selectMachine.xml_channel);\r\n                            } else {\r\n                                this.setSignalArr(this.selectMachine.mach_model_xml);\r\n                            }\r\n                            break;\r\n                        }\r\n                    }\r\n                    var positions = this.sortPositions;\r\n                    this.selectPositionId = positions[this.selIndex].pos_type + \"_\" + positions[this.selIndex].pos_id;\r\n                    this.selectPosition = positions[this.selIndex];\r\n                    this.selectPositionName = positions[this.selIndex].pos_name;\r\n                    /**测点为阶次，显示柱状图，其他的测点显示折线图**/\r\n                    if (this.selectPosition.pos_type == 8 || this.selectPosition.pos_type == 9) {\r\n                        this.spectrumStyle = 'bar-line';\r\n                    } else {\r\n                        this.spectrumStyle = 'line';\r\n                    }\r\n                    /**长采样测点的处理，如果capture_mode=0是自动采样，=1是手动采样**/\r\n                    if (this.selectPosition.pos_type == 200) {\r\n                        if (this.selectPosition.xmlValMap.capture_mode == 0) {\r\n                            this.selectPositionId = 200 + \"_\" + parseInt(this.selectPosition.xmlValMap.capture_byId - 1);\r\n                            this.selectPosition.pos_id = this.selectPosition.xmlValMap.capture_byId - 1;\r\n                            this.selectPositionName = this.selectPosition.pos_name;\r\n                        } else {\r\n                            this.selectPositionId = 200 + \"_\" + parseInt(this.selectPosition.channel_id + 16);\r\n                            this.selectPosition.pos_id = parseInt(this.selectPosition.channel_id + 16);\r\n                            this.selectPositionName = this.selectPosition.pos_name;\r\n                        }\r\n                    }\r\n                    /**如果风场类型不是水电或者石化并且测点为转速测点的情况下有高低密度波形选择**/\r\n                    if (this.selectPosition.position_type == 1) {\r\n                        $('#hd_choose').css('display', 'inline-block');\r\n                        /**如果测点为转速测点的情况下低密度波形，单位为“rpm”,高密度波形，单位为“MV”**/\r\n                        if (this.hd_speed) {\r\n                            this.selectPosition.unitName[0] = \"mV\";\r\n                        } else {\r\n                            this.selectPosition.unitName[0] = \"rpm\";\r\n                        }\r\n\r\n                    } else {\r\n                        $('#hd_choose').css('display', 'none');\r\n                    }\r\n\r\n                    this.searchTrend();\r\n                }\r\n            },\r\n            searchTrend: function() { //搜索数据\r\n                let that = this;\r\n                let params = null;\r\n                if(this.choosePosTypeId!=undefined){\r\n                    params={\r\n                        p_type:this.choosePosTypeId.split('_')[0],\r\n                        machine_id:this.chooseMacId,\r\n                        p_id:this.choosePosTypeId.split('_')[1],\r\n                        endTime:(new Date(this.endTime.replace(/-/ig,\"/\") + \" 23:59:59\")).getTime(),\r\n                        startTime:(new Date(this.startTime.replace(/-/ig,\"/\") + \" 00:00:00\")).getTime(),\r\n                        hd_wave:this.hd_speed\r\n                    };\r\n                    this.$axios.post('getWaveValue',params)\r\n                        .then(res => {\r\n                            if(res.msg===0 && res.list.length>0){\r\n                                if (typeof that.selectPosition.unitName == \"string\") { //水电：如果返回的unit不是数组而是字符串就直接显示字符串\r\n                                    that.unitTrend = that.selectPosition.unitName;\r\n                                    that.srcUnitTrend = that.unitTrend;\r\n                                }\r\n                                else {\r\n                                    that.unitTrend = that.selectPosition.unitName[0];\r\n                                    that.srcUnitTrend = that.unitTrend;\r\n                                }\r\n                                that.setTrend(res.list);\r\n                            }\r\n                            else{\r\n                                that.historyData = [];\r\n                                that.historyX = [];\r\n                                that.waveX = [];\r\n                                that.waveY = [];\r\n                                that.spectrumX = [];\r\n                                that.spectrumY = [];\r\n                                swal({\r\n                                    title: \"提示\",\r\n                                    text: '该时段内无历史数据',\r\n                                    button: \"确认\",\r\n                                });\r\n                            }\r\n                            that.searchWave(that.requestTime); //获取波形\r\n\r\n                        }).catch(err => {\r\n                        console.log(err)\r\n                    });\r\n                }\r\n            },\r\n            setTrend: function(result) {\r\n                var that = this;\r\n                if (result != null && result.length > 0) {\r\n                    var history_data = [];\r\n                    var historyXdata = [];\r\n                    var historyYdata = [];\r\n                    var value = 0;\r\n                    var startValue;\r\n                    var save_time;\r\n                    result.sort((a, b) => {\r\n                        return a.saveTime_Com - b.saveTime_Com\r\n                    })\r\n                    for (var i = 0, len = result.length; i < len; i++) {\r\n                        save_time = new Date(result[i].saveTime_Com);\r\n                        value = result[i].tempValue.toFixed(4);\r\n                        if (i == 0) {\r\n                            startValue = save_time;\r\n                        }\r\n                        history_data.push([result[i].saveTime_Com, value]);\r\n                        historyXdata.push(Number(result[i].saveTime_Com));\r\n                        historyYdata.push(Number(value));\r\n                    }\r\n                    that.sourceHistoryY = historyYdata;\r\n                    that.historyY = historyYdata;\r\n                    that.historyData = history_data;\r\n                    that.historyX = historyXdata;\r\n\r\n                    var newUnitWave = \"\";\r\n                    var newUnitSpec = \"\";\r\n                    /**趋势图单位选择单位改变数据也要改变**/\r\n                    if (that.unitTrend != that.srcUnitTrend) {\r\n                        that.unitType = 3;\r\n                        newUnitSpec = that.unitTrend;\r\n                        that.unitTrend = that.srcUnitTrend;\r\n                        that.setUnitSelect(newUnitSpec);\r\n                    }\r\n                    // that.searchWave(that.requestTime);//获取波形\r\n                } else {\r\n                    that.historyData = [];\r\n                    that.historyX = [];\r\n                    that.waveX = [];\r\n                    that.waveY = [];\r\n                    that.spectrumX = [];\r\n                    that.spectrumY = [];\r\n                    swal({\r\n                        title: \"提示\",\r\n                        text: '该时段内无历史数据',\r\n                        button: \"确认\",\r\n                    });\r\n                }\r\n            },\r\n            isPosVibSeries: function(position_type) { //是否为振动系的测点\r\n                var isVibSeries = false;\r\n                switch (position_type) {\r\n                    case 3:\r\n                    case 4:\r\n                    case 6:\r\n                    case 8:\r\n                    case 9:\r\n                    case 12:\r\n                        isVibSeries = true;\r\n                        break;\r\n                }\r\n                return isVibSeries;\r\n            },\r\n            changePosition: function() {\r\n                this.unitWave = \"\";\r\n                this.unitSpec = \"\";\r\n                this.hd_speed = false;\r\n                var positions = this.sortPositions;\r\n                for (var i = 0; i < positions.length; i++) {\r\n                    if (positions[i].position_id == Number(this.selectPositionId.split(/_/)[1]) && positions[i].position_type == Number(this.selectPositionId.split(/_/)[0])) {\r\n                        this.selectPosition = positions[i];\r\n                        this.selectPositionName = positions[i].position_name;\r\n                        break;\r\n                    }\r\n                }\r\n                this.requestTime = 0; //获取波形，0表示实时\r\n\r\n                /**长采样测点的处理，如果capture_mode=0是自动采样，=1是手动采样**/\r\n                // console.log(this.selectPosition);\r\n                if (this.selectPosition.position_type == 200) {\r\n                    if (this.selectPosition.capture_mode == 0) {\r\n                        this.selectPositionId = 200 + \"_\" + parseInt(this.selectPosition.capture_byId - 1);\r\n                        this.selectPosition.position_id = this.selectPosition.capture_byId - 1;\r\n                        this.selectPositionName = this.selectPosition.position_name;\r\n                    } else {\r\n                        this.selectPositionId = 200 + \"_\" + parseInt(this.selectPosition.channel_id + 16);\r\n                        this.selectPosition.position_id = parseInt(this.selectPosition.channel_id + 16);\r\n                        this.selectPositionName = this.selectPosition.position_name;\r\n                    }\r\n                }\r\n                /**如果风场类型不是水电或者石化并且测点为转速测点的情况下有高低密度波形选择**/\r\n                if (this.selectPosition.pos_type == 1) {\r\n                    $('#hd_choose').css('display', 'inline-block');\r\n                    /**如果测点为转速测点的情况下低密度波形，单位为“rpm”,高密度波形，单位为“MV”**/\r\n                    if (this.hd_speed) {\r\n                        this.selectPosition.unitName[0] = \"mV\";\r\n                    } else {\r\n                        this.selectPosition.unitName[0] = \"rpm\";\r\n                    }\r\n                } else {\r\n                    $('#hd_choose').css('display', 'none');\r\n\r\n                }\r\n                /**如果测点类型是阶次**/\r\n                if (this.selectPosition.pos_type == 8 || this.selectPosition.pos_type == 9) {\r\n                    this.name_type = \"阶次\";\r\n                    this.name_type_speed = \"动阶次\";\r\n                } else {\r\n                    this.name_type = \"频率\";\r\n                    this.name_type_speed = \"频\";\r\n                }\r\n                if (this.choose_factory.factory_type == 8) {\r\n                    this.setSignalArr(this.selectMachine.xml_channel);\r\n                } else {\r\n                    this.setSignalArr(this.selectMachine.mach_model_xml);\r\n                }\r\n                this.searchTrend();\r\n            },\r\n            /**测点排序方法**/\r\n            sortPositionsName: function(arr_result) {\r\n                var that = this;\r\n                var sortArr = [];\r\n                var pos_speed = []; //转速测点\r\n                var pos_vibrate = []; //振动测点\r\n                var pos_envelope = []; //包络测点\r\n                var pos_vibrateOrder = []; //振动阶次测点\r\n                var pos_envelopeOrder = []; //包络阶次测点\r\n                var pos_samp = []; //长采样测点\r\n                var pos_slosh = []; //晃度测点\r\n                var pos_overturn = []; //倾覆测点\r\n                var pos_inclinate = []; //倾角测点\r\n                var pos_synthetic = []; //合成倾角测点\r\n                var pos_temp = []; //合成倾角测点\r\n                var pos_process = []; //过程量测点\r\n                var pos_digital = []; //数字量测点\r\n                var pos_crafts = []; //工艺量测点\r\n                var pos_bolt = []; //螺栓测点\r\n                var pos_shock = []; //冲击测点\r\n                var pos_shockOrder = []; //冲击阶次测点\r\n                if (arr_result != null && arr_result.length > 0) {\r\n                    // var arr = [];\r\n                    // for (var i = 0; i < arr_result.length; i++) { //清除掉有测点没有采集器的测点\r\n                    //     if (arr_result[i].dgm_type != 0) {\r\n                    //         arr.push(arr_result[i]);\r\n                    //     }\r\n                    // }\r\n\r\n                    for (var m = 0, posLen = arr_result.length; m < posLen; m++) {\r\n                        let pos_type = arr_result[m].pos_type;\r\n                        switch (pos_type) {\r\n                            case 1:\r\n                                pos_speed.push(arr_result[m]);\r\n                                break;\r\n                            case 3:\r\n                                pos_vibrate.push(arr_result[m]);\r\n                                break;\r\n                            case 4:\r\n                                pos_envelope.push(arr_result[m]);\r\n                                break;\r\n                            case 8:\r\n                                pos_vibrateOrder.push(arr_result[m]);\r\n                                break;\r\n                            case 9:\r\n                                pos_envelopeOrder.push(arr_result[m]);\r\n                                break;\r\n                            case 200:\r\n                                pos_samp.push(arr_result[m]);\r\n                                break;\r\n                            case 6:\r\n                                pos_slosh.push(arr_result[m]);\r\n                                break;\r\n                            case 11:\r\n                                pos_overturn.push(arr_result[m]);\r\n                                break;\r\n                            case 12:\r\n                                pos_inclinate.push(arr_result[m]);\r\n                                break;\r\n                            case 13:\r\n                                pos_synthetic.push(arr_result[m]);\r\n                                break;\r\n                            case 7:\r\n                                pos_temp.push(arr_result[m]);\r\n                                break;\r\n                            case 2:\r\n                                pos_process.push(arr_result[m]);\r\n                                break;\r\n                            case 5:\r\n                                pos_digital.push(arr_result[m]);\r\n                                break;\r\n                            case 10:\r\n                                pos_crafts.push(arr_result[m]);\r\n                                break;\r\n                            case 14:\r\n                                pos_bolt.push(arr_result[m]);\r\n                                break;\r\n                            case 15:\r\n                                pos_shock.push(arr_result[m]);\r\n                                break;\r\n                            case 16:\r\n                                pos_shockOrder.push(arr_result[m]);\r\n                                break;\r\n                            default:\r\n                                break;\r\n                        }\r\n                    }\r\n                    pos_speed = pos_speed.sort(compareName('pos_name'));//根据测点名的assic码排序\r\n                    pos_vibrate = pos_vibrate.sort(compareName('pos_name'));\r\n                    pos_envelope = pos_envelope.sort(compareName('pos_name'));\r\n                    pos_vibrateOrder = pos_vibrateOrder.sort(compareName('pos_name'));\r\n                    pos_envelopeOrder = pos_envelopeOrder.sort(compareName('pos_name'));\r\n                    pos_slosh = pos_slosh.sort(compareName('pos_name'));\r\n                    pos_overturn = pos_overturn.sort(compareName('pos_name'));\r\n                    pos_inclinate = pos_inclinate.sort(compareName('pos_name'));\r\n                    pos_synthetic = pos_synthetic.sort(compareName('pos_name'));\r\n                    pos_temp = pos_temp.sort(compareName('pos_name'));\r\n                    pos_process = pos_process.sort(compareName('pos_name'));\r\n                    pos_digital = pos_digital.sort(compareName('pos_name'));\r\n                    pos_crafts = pos_crafts.sort(compareName('pos_name'));\r\n                    pos_bolt = pos_bolt.sort(compareName('pos_name'));\r\n                    pos_samp = pos_samp.sort(compareName('pos_name'));\r\n                    pos_shock = pos_shock.sort(compareName('pos_name'));\r\n                    pos_shockOrder = pos_shockOrder.sort(compareName('pos_name'));\r\n                    sortArr = pos_speed.concat(pos_vibrate, pos_envelope, pos_vibrateOrder, pos_envelopeOrder, pos_samp, pos_slosh, pos_overturn, pos_inclinate, pos_synthetic, pos_temp, pos_process, pos_digital, pos_crafts, pos_bolt,pos_shock,pos_shockOrder);\r\n                    if (sortArr.length > 0) {\r\n                        /**没有振动取第一个测点**/\r\n                        if (pos_vibrate.length == 0) {\r\n                            that.selIndex = 0;\r\n                        } else {\r\n                            that.selIndex = pos_speed.length;\r\n                        }\r\n                    }\r\n                }\r\n                return sortArr;\r\n            },\r\n            factory_type: function() {\r\n                if (this.db_type.length > 0) {\r\n                    var db_strs = this.db_type.split(/_/ig);\r\n                    var db_type_n = Number(db_strs[db_strs.length - 1][0]);\r\n                    return db_type_n\r\n                }\r\n            },\r\n            removeItem: function(arr, item) { //数组中移除某特定元素的方法\r\n                var result = [];\r\n                for (var i = 0; i < arr.length; i++) {\r\n                    if (arr[i].dgm_type != item) {\r\n                        result.push(arr[i]);\r\n                    }\r\n                }\r\n                return result;\r\n            },\r\n            copyArr: function(arr) { //简单的复制数组对象方法\r\n                var t_arr = [];\r\n                var t_obj = {};\r\n                for (var i = 0; i < arr.length; i++) {\r\n                    t_obj = {};\r\n                    t_obj = this.copyObj(arr[i]);\r\n                    t_arr.push(t_obj);\r\n                }\r\n                return t_arr;\r\n            },\r\n            copyObj: function(obj) { //简单的复制对象方法\r\n                var t_obj = {};\r\n                for (var key in obj) {\r\n                    t_obj[key] = obj[key]\r\n                }\r\n                return t_obj;\r\n            },\r\n            setSignalArr: function(xmlStr) { //构造故障频率树结构\r\n                if (xmlStr == null || xmlStr == \"\") {\r\n                    return;\r\n                }\r\n                var xmlDoc;\r\n                if (window.DOMParser) {\r\n                    var parser = new DOMParser();\r\n                    xmlDoc = parser.parseFromString(xmlStr, \"text/xml\");\r\n                } else // Internet Explorer\r\n                {\r\n                    xmlDoc = new ActiveXObject(\"Microsoft.XMLDOM\");\r\n                    xmlDoc.async = false;\r\n                    xmlDoc.loadXML(xmlStr);\r\n                }\r\n                var model_xml = xmlDoc.childNodes[0];\r\n                var itemList = model_xml.childNodes;\r\n\r\n                this.gearList = [{\r\n                    id: 0,\r\n                    name: \"啮合\" + this.name_type,\r\n                    label: \"啮合\" + this.name_type,\r\n                    state: false,\r\n                    children: []\r\n                }];\r\n                this.bearList = [{\r\n                    id: 1,\r\n                    name: \"轴承通过\" + this.name_type,\r\n                    label: \"轴承通过\" + this.name_type,\r\n                    state: false,\r\n                    children: []\r\n                }];\r\n                this.speedList = [{\r\n                    id: 2,\r\n                    name: \"转\" + this.name_type_speed,\r\n                    label: \"转\" + this.name_type_speed,\r\n                    state: false,\r\n                    children: []\r\n                }];\r\n                var children_gear1 = [{\r\n                    id: 0,\r\n                    name: \"啮合\" + this.name_type,\r\n                    label: \"\",\r\n                    state: false,\r\n                    type: \"GMF\"\r\n                }];\r\n                var children_gear2 = [{\r\n                    id: 0,\r\n                    name: \"定齿啮合\" + this.name_type,\r\n                    label: \"\",\r\n                    state: false,\r\n                    type: \"GMF\"\r\n                }, {\r\n                    id: 1,\r\n                    name: \"太阳轮啮合\" + this.name_type,\r\n                    label: \"\",\r\n                    state: false,\r\n                    type: \"GMF\"\r\n                }];\r\n                var children_bear = [{\r\n                    id: 0,\r\n                    name: \"外环通过\" + this.name_type,\r\n                    label: \"\",\r\n                    state: false,\r\n                    type: \"BPFO\"\r\n                }, {\r\n                    id: 1,\r\n                    name: \"内环通过\" + this.name_type,\r\n                    label: \"\",\r\n                    state: false,\r\n                    type: \"BPFI\"\r\n                }, {\r\n                    id: 2,\r\n                    name: \"滚动体通过\" + this.name_type,\r\n                    label: \"\",\r\n                    state: false,\r\n                    type: \"BSF\"\r\n                }, {\r\n                    id: 3,\r\n                    name: \"2倍滚动体通过\" + this.name_type,\r\n                    label: \"\",\r\n                    state: false,\r\n                    type: \"2xBSF\"\r\n                }, {\r\n                    id: 4,\r\n                    name: \"保持架通过\" + this.name_type,\r\n                    label: \"\",\r\n                    state: false,\r\n                    type: \"FTF\"\r\n                }, ];\r\n                var i = 0;\r\n                var j = 0;\r\n                var len = (itemList.length - 1) / 2;\r\n                var itemType = -1; //部件类型\r\n                var itemType2 = -1;\r\n                var ids = [];\r\n                var ids2 = [];\r\n                var obj = {};\r\n                var obj2 = {};\r\n                var item = {}; //叶节点\r\n                var t_children = [];\r\n                var fix_teeth_num = 0; //定齿数（行星轮）\r\n                var plant_teeth_num = 0; //行星齿数（行星轮）\r\n                var sun_teeth_num = 0; //太阳齿数（行星轮）\r\n                /**啮合频率**/\r\n                for (i = 1; i <= len; i++) {\r\n                    itemType = Number(itemList[2 * i - 1].getAttribute(\"itemtype\"));\r\n                    if (!(itemType == 5 || itemType == 6 || itemType == 9 || itemType == 10)) {\r\n                        continue;\r\n                    }\r\n                    obj = {};\r\n                    ids = itemList[2 * i - 1].getAttribute(\"id\").split(\"_\");\r\n                    obj.id = Number(ids[ids.length - 1]);\r\n                    obj.name = itemList[2 * i - 1].getAttribute(\"name\");\r\n                    obj.label = \"\";\r\n                    obj.itemType = itemType;\r\n                    obj.state = false;\r\n                    obj.speedRate = Number(itemList[2 * i - 1].getAttribute(\"speedRate\"));\r\n                    obj.children = [];\r\n                    obj.parent = this.gearList;\r\n                    var gearBoth = false;\r\n                    if (itemType == 5) { //直齿\r\n                        for (j = 0; j < this.gearList[0].children.length; j++) {\r\n                            obj2 = this.gearList[0].children[j];\r\n                            if (obj2.itemType == 5) {\r\n                                if (Number(itemList[2 * i - 1].getAttribute(\"up\")) == obj2.id || Number(itemList[2 * i - 1].getAttribute(\"down\")) == obj2.id) {\r\n                                    obj2.name = obj2.name + \"/\" + obj.name;\r\n                                    gearBoth = true;\r\n                                    break;\r\n                                }\r\n                            }\r\n                        }\r\n                        if (gearBoth) {\r\n                            continue;\r\n                        }\r\n                        t_children = this.copyArr(children_gear1);\r\n                        t_children[0].value = Number(itemList[2 * i - 1].getAttribute(\"gear_teeth_num\"));\r\n                        t_children[0].speedRate = obj.speedRate;\r\n                        t_children[0].parent = obj;\r\n                        obj.children = this.copyArr(t_children);\r\n                    } else if (itemType == 6 || itemType == 9) {\r\n                        t_children = this.copyArr(children_gear2);\r\n                        t_children[0].value = Number(itemList[2 * i - 1].getAttribute(\"fix_teeth_num\"));\r\n                        t_children[0].speedRate = obj.speedRate;\r\n                        t_children[0].parent = obj;\r\n                        t_children[1].value = Number(itemList[2 * i - 1].getAttribute(\"fix_teeth_num\"));\r\n                        t_children[1].speedRate = obj.speedRate;\r\n                        t_children[1].parent = obj;\r\n                        obj.children = this.copyArr(t_children);\r\n                    } else if (itemType == 10) {\r\n                        for (j = 1; j < len; j++) {\r\n                            itemType2 = Number(itemList[2 * j - 1].getAttribute(\"itemtype\"));\r\n                            if (!(itemType2 == 6 || itemType2 == 9 || itemType2 == 10)) {\r\n                                continue;\r\n                            }\r\n                            obj2 = {};\r\n                            ids2 = itemList[2 * j - 1].getAttribute(\"id\").split(\"_\");\r\n                            obj2.id = Number(ids2[ids2.length - 1]);\r\n                            if (Number(itemList[2 * i - 1].getAttribute(\"left2\")) == obj2.id) {\r\n                                obj2.speedRate = Number(itemList[2 * j - 1].getAttribute(\"speedRate\"));\r\n                                break;\r\n                            }\r\n                        }\r\n                        fix_teeth_num = Number(itemList[2 * i - 1].getAttribute(\"fix_teeth_num\"));\r\n                        plant_teeth_num = Number(itemList[2 * i - 1].getAttribute(\"plant_teeth_num\"));\r\n                        sun_teeth_num = Number(itemList[2 * i - 1].getAttribute(\"sun_teeth_num\"));\r\n                        t_children = this.copyArr(children_gear2);\r\n                        t_children[0].value = fix_teeth_num;\r\n                        t_children[0].speedRate = obj.speedRate + obj2.speedRate;\r\n                        t_children[0].parent = obj;\r\n                        t_children[1].value = sun_teeth_num;\r\n                        t_children[1].speedRate = (1 + fix_teeth_num / sun_teeth_num) * obj2.speedRate + (fix_teeth_num / sun_teeth_num) * obj.speedRate - obj2.speedRate;\r\n                        t_children[1].parent = obj;\r\n                        obj.children = this.copyArr(t_children);\r\n                    }\r\n                    this.gearList[0].children.push(obj);\r\n                }\r\n                /**轴承通过频率**/\r\n                /**轴承**/\r\n                for (i = 1; i <= len; i++) {\r\n                    itemType = Number(itemList[2 * i - 1].getAttribute(\"itemtype\"));\r\n                    if (itemType != 7) {\r\n                        continue;\r\n                    }\r\n                    obj = {};\r\n                    ids = itemList[2 * i - 1].getAttribute(\"id\").split(\"_\");\r\n                    obj.id = Number(ids[ids.length - 1]);\r\n                    obj.name = itemList[2 * i - 1].getAttribute(\"name\");\r\n                    obj.label = \"\";\r\n                    obj.itemType = itemType;\r\n                    obj.state = false;\r\n                    obj.speedRate = Number(itemList[2 * i - 1].getAttribute(\"speedRate\"));\r\n                    obj.children = [];\r\n                    obj.parent = this.bearList;\r\n                    t_children = this.copyArr(children_bear);\r\n                    t_children[0].value = Number(itemList[2 * i - 1].getAttribute(\"bpfo\"));\r\n                    t_children[0].speedRate = obj.speedRate;\r\n                    t_children[1].value = Number(itemList[2 * i - 1].getAttribute(\"bpfi\"));\r\n                    t_children[1].speedRate = obj.speedRate;\r\n                    t_children[2].value = Number(itemList[2 * i - 1].getAttribute(\"bsf\"));\r\n                    t_children[2].speedRate = obj.speedRate;\r\n                    t_children[3].value = 2 * Number(itemList[2 * i - 1].getAttribute(\"bsf\"));\r\n                    t_children[3].speedRate = obj.speedRate;\r\n                    t_children[4].value = Number(itemList[2 * i - 1].getAttribute(\"ftf\"));\r\n                    t_children[4].speedRate = obj.speedRate;\r\n                    obj.children = this.copyArr(t_children);\r\n                    this.bearList[0].children.push(obj);\r\n                }\r\n                /**发电机前、后轴承**/\r\n                for (i = 1; i <= len; i++) {\r\n                    itemType = Number(itemList[2 * i - 1].getAttribute(\"itemtype\"));\r\n                    if (itemType != 8) {\r\n                        continue;\r\n                    }\r\n                    /**前轴承**/\r\n                    obj = {};\r\n                    ids = itemList[2 * i - 1].getAttribute(\"id\").split(\"_\");\r\n                    obj.id = Number(ids[ids.length - 1]) * 100 + 1;\r\n                    obj.name = itemList[2 * i - 1].getAttribute(\"name\") + \"前轴承\";\r\n                    obj.label = \"\";\r\n                    obj.itemType = itemType;\r\n                    obj.state = false;\r\n                    obj.speedRate = Number(itemList[2 * i - 1].getAttribute(\"speedRate\"));\r\n                    obj.children = [];\r\n                    t_children = this.copyArr(children_bear);\r\n                    t_children[0].value = Number(itemList[2 * i - 1].getAttribute(\"comp1Freq3\"));\r\n                    t_children[0].speedRate = obj.speedRate;\r\n                    t_children[1].value = Number(itemList[2 * i - 1].getAttribute(\"comp1Freq4\"));\r\n                    t_children[1].speedRate = obj.speedRate;\r\n                    t_children[2].value = Number(itemList[2 * i - 1].getAttribute(\"comp1Freq2\"));\r\n                    t_children[2].speedRate = obj.speedRate;\r\n                    t_children[3].value = 2 * Number(itemList[2 * i - 1].getAttribute(\"comp1Freq2\"));\r\n                    t_children[3].speedRate = obj.speedRate;\r\n                    t_children[4].value = Number(itemList[2 * i - 1].getAttribute(\"comp1Freq1\"));\r\n                    t_children[4].speedRate = obj.speedRate;\r\n                    obj.children = this.copyArr(t_children);\r\n                    this.bearList[0].children.push(obj);\r\n                    /**后轴承**/\r\n                    obj = {};\r\n                    ids = itemList[2 * i - 1].getAttribute(\"id\").split(\"_\");\r\n                    obj.id = Number(ids[ids.length - 1]) * 100 + 2;\r\n                    obj.name = itemList[2 * i - 1].getAttribute(\"name\") + \"后轴承\";\r\n                    obj.label = \"\";\r\n                    obj.itemType = itemType;\r\n                    obj.state = false;\r\n                    obj.speedRate = Number(itemList[2 * i - 1].getAttribute(\"speedRate\"));\r\n                    obj.children = [];\r\n                    t_children = this.copyArr(children_bear);\r\n                    t_children[0].value = Number(itemList[2 * i - 1].getAttribute(\"comp2Freq3\"));\r\n                    t_children[0].speedRate = obj.speedRate;\r\n                    t_children[1].value = Number(itemList[2 * i - 1].getAttribute(\"comp2Freq4\"));\r\n                    t_children[1].speedRate = obj.speedRate;\r\n                    t_children[2].value = Number(itemList[2 * i - 1].getAttribute(\"comp2Freq2\"));\r\n                    t_children[2].speedRate = obj.speedRate;\r\n                    t_children[3].value = 2 * Number(itemList[2 * i - 1].getAttribute(\"comp2Freq2\"));\r\n                    t_children[3].speedRate = obj.speedRate;\r\n                    t_children[4].value = Number(itemList[2 * i - 1].getAttribute(\"comp2Freq1\"));\r\n                    t_children[4].speedRate = obj.speedRate;\r\n                    obj.children = this.copyArr(t_children);\r\n                    this.bearList[0].children.push(obj);\r\n                }\r\n                /**齿轮**/\r\n                for (i = 1; i <= len; i++) {\r\n                    itemType = Number(itemList[2 * i - 1].getAttribute(\"itemtype\"));\r\n                    if (!(itemType == 6 || itemType == 9 || itemType == 10)) {\r\n                        continue;\r\n                    }\r\n                    obj = {};\r\n                    ids = itemList[2 * i - 1].getAttribute(\"id\").split(\"_\");\r\n                    obj.id = Number(ids[ids.length - 1]);\r\n                    obj.name = itemList[2 * i - 1].getAttribute(\"name\");\r\n                    obj.label = \"\";\r\n                    obj.itemType = itemType;\r\n                    obj.state = false;\r\n                    obj.speedRate = Number(itemList[2 * i - 1].getAttribute(\"speedRate\"));\r\n                    obj.children = [];\r\n                    t_children = this.copyArr(children_bear);\r\n                    if (itemType == 10) {\r\n                        for (j = 1; j < len; j++) {\r\n                            itemType2 = Number(itemList[2 * j - 1].getAttribute(\"itemtype\"));\r\n                            if (!(itemType2 == 6 || itemType2 == 9 || itemType2 == 10)) {\r\n                                continue;\r\n                            }\r\n                            obj2 = {};\r\n                            ids2 = itemList[2 * j - 1].getAttribute(\"id\").split(\"_\");\r\n                            obj2.id = Number(ids2[ids2.length - 1]);\r\n                            if (Number(itemList[2 * i - 1].getAttribute(\"left2\")) == obj2.id) {\r\n                                obj2.speedRate = Number(itemList[2 * j - 1].getAttribute(\"speedRate\"));\r\n                                break;\r\n                            }\r\n                        }\r\n                        obj.speedRate = Math.abs(obj.speedRate - obj2.speedRate) * (Number(itemList[2 * i - 1].getAttribute(\"fix_teeth_num\")) / Number(itemList[2 * i - 1].getAttribute(\"plant_teeth_num\")));\r\n                    } else {\r\n                        obj.speedRate = obj.speedRate * Number(itemList[2 * i - 1].getAttribute(\"fix_teeth_num\")) / Number(itemList[2 * i - 1].getAttribute(\"plant_teeth_num\"));\r\n                    }\r\n                    t_children[0].value = Number(itemList[2 * i - 1].getAttribute(\"bpfo\"));\r\n                    t_children[0].speedRate = obj.speedRate;\r\n                    t_children[1].value = Number(itemList[2 * i - 1].getAttribute(\"bpfi\"));\r\n                    t_children[1].speedRate = obj.speedRate;\r\n                    t_children[2].value = Number(itemList[2 * i - 1].getAttribute(\"bsf\"));\r\n                    t_children[2].speedRate = obj.speedRate;\r\n                    t_children[3].value = 2 * Number(itemList[2 * i - 1].getAttribute(\"bsf\"));\r\n                    t_children[3].speedRate = obj.speedRate;\r\n                    t_children[4].value = Number(itemList[2 * i - 1].getAttribute(\"ftf\"));\r\n                    t_children[4].speedRate = obj.speedRate;\r\n                    obj.children = this.copyArr(t_children);\r\n                    this.bearList[0].children.push(obj);\r\n                }\r\n                /**转频**/\r\n                for (i = 1; i <= len; i++) {\r\n                    itemType = Number(itemList[2 * i - 1].getAttribute(\"itemtype\"));\r\n                    if (itemType != 2) {\r\n                        continue;\r\n                    }\r\n                    obj = {};\r\n                    ids = itemList[2 * i - 1].getAttribute(\"id\").split(\"_\");\r\n                    obj.id = Number(ids[ids.length - 1]);\r\n                    obj.name = itemList[2 * i - 1].getAttribute(\"name\") + \"转\" + this.name_type_speed;\r\n                    obj.label = \"\";\r\n                    obj.itemType = itemType;\r\n                    obj.state = false;\r\n                    obj.value = 1;\r\n                    obj.speedRate = Number(itemList[2 * i - 1].getAttribute(\"speedRate\"));\r\n                    obj.type = \"F\";\r\n                    this.speedList[0].children.push(obj);\r\n                }\r\n            },\r\n            initParams: function() { //初始化参数\r\n                this.noRealData = false;//是否有实时波形\r\n                this.last_xWave = {}; //上一个选中点\r\n                this.last_xSpec = {}; //上一个选中点\r\n                this.oneFreq = 0; //1倍频\r\n                this.fMaxFZ = 0; //最大幅值\r\n                this.maxFreq = 0; //最大频率\r\n                this.samples = 0; //谱线数\r\n                this.peakIndexArr = []; //自动寻峰10个坐标索引\r\n                this.flag_winFunc = 0; //汉宁窗\r\n                this.flag_oneF = 0; //1倍频标记\r\n                this.flag_f_nx.val = 0; //阶比\r\n                this.flag_addLabel = 0; //添加标注\r\n                this.nxArrayWave = []; //带标签竖线\r\n                this.sc_power_a = 0;\r\n                // this.spectrumXNum = this.interValNum_spectrumX;\r\n\r\n                this.flag_show = 0;\r\n                this.waveXNum = 1;\r\n                this.interValNum_waveX = 1;\r\n                this.spectrumXNum = 1;\r\n                this.flag_addPeak = true;\r\n                this.timeColor = this.spectrumColor.font;\r\n                if (this.changePos) {\r\n                    this.flag_nx = 0; //标注倍频\r\n                    this.flag_subFreq = 0; //频差\r\n                    this.interValNum_spectrumX = 1;\r\n                    this.flag_f_nx.isChange = false;\r\n                    this.hide_low = 0; //低频过滤\r\n                    this.power_a = -1; //有效频率下限\r\n                    this.power_b = 0; //有效频率上限\r\n                    this.zoomStartXWave = 0; //波形图X轴缩放起始位置（百分比）\r\n                    this.zoomEndXWave = 100; //波形图X轴缩放结束位置（百分比）\r\n                    this.zoomStartXSpec = 0; //频谱图X轴缩放起始位置（百分比）\r\n                    this.zoomEndXSpec = 100; //频谱图X轴缩放结束位置（百分比）\r\n                    this.failureList.length = 0; //故障频率画线清除\r\n                    this.failureList_detail.length = 0; //故障频率明细列表\r\n                    this.nxArraySpec.length = 0; //带标签竖线\r\n                    this.freq_speed_failure = 0; //发电机输入轴转速\r\n                    if (this.choose_factory.type != 3) // 水电没有转速测点\r\n                        this.setSignalArr();\r\n                    $('#chooseYes').attr('checked', false);\r\n                    this.chooseSpeed();\r\n                }\r\n                // this.nxArraySpec = [];//带标签竖线\r\n                this.autoPeakNum = -1; //自动寻峰计数\r\n                this.labelList = []; //标注列表\r\n                // this.unitSelect=\"g\";//当前操作的单位\r\n                // this.gearList=[],//啮合频率\r\n                // this.bearList=[],//轴承通过频率\r\n                // this.speedList=[],//转频\r\n                this.rotateSpeed = 0;\r\n                this.validValue = 0;\r\n                this.changeTime = \"\";\r\n                this.flag_toolTip = false;\r\n                this.flag_wave_toolTip = false;\r\n                // this.spectrumStyle = 'line';//阶比初始化为折线图\r\n                // this.name_type= \"频率\";//故障频率传动链名字尾缀，阶次测点显示“阶次”，其他测点显示“频率”\r\n                // this.name_type_speed= \"频\";//故障频率传动链转速名字尾缀，阶次测点显示“动阶次”，其他测点显示“频”\r\n                if (this.selectPosition.pos_type != 1) {\r\n                    this.hd_speed = false; //转速测点的true高密度波形，false低密度波形\r\n                }\r\n                $('.tool_list li').removeClass('active'); //右侧功能键恢复未选中状态\r\n\r\n                this.keepPage();\r\n            },\r\n            waveFFT: function(data, freq, nFirst, nCount, mi) {\r\n                var nPointNumber = 1;\r\n                for (var i = 0; i < mi; i++)\r\n                    nPointNumber *= 2;\r\n\r\n                var pBegin = nFirst;\r\n                var nWaveCount = data.length;\r\n                if (nFirst >= nWaveCount)\r\n                    return -1;\r\n                if ((nFirst + nCount) > nWaveCount)\r\n                    nCount = nWaveCount - nFirst;\r\n\r\n                var all_count = nCount;\r\n                var fDF = freq / nPointNumber;\r\n                if (this.specType == 2) {\r\n                    fDF = fDF * this.spectral / this.maxFreq;\r\n                }\r\n\r\n                // 抽取\r\n                var x_arr = [];\r\n                var y_arr = [];\r\n                // x_arr.length = (nPointNumber + 1);\r\n                x_arr[0] = 0; // 插入空白点\r\n                for (i = 0; i < (nPointNumber - 1); i++) {\r\n                    // i * nCount 可能很大，超过int的范围\r\n                    // 因此用double进行计算\r\n                    var pos = i;\r\n                    pos = parseInt((pos * (nCount - 1)) / nPointNumber);\r\n                    var ipos0 = pos;\r\n                    var ipos1 = ipos0 + 1;\r\n                    var v0 = data[pBegin + ipos0];\r\n                    // // console.log(pBegin + ipos0);\r\n                    var v1 = data[pBegin + ipos1];\r\n                    // 插值\r\n                    var t = pos - ipos0;\r\n                    var v = v0 + (v1 - v0) * t;\r\n                    x_arr.push(v);\r\n                }\r\n                x_arr.push(data[pBegin + nCount - 1]); // 插入最后一个点\r\n\r\n                //\t\t\tif (x_arr.length != (nPointNumber+1))\r\n                //\t\t\t\treturn -1;\r\n\r\n                // 计算平均值average，并且令x[i] -= average以消除直流分量\r\n                var sum = 0;\r\n                for (i = 1; i < x_arr.length; i++)\r\n                    sum += x_arr[i];\r\n                var average = sum / nPointNumber;\r\n                for (i = 1; i < x_arr.length; i++)\r\n                    x_arr[i] -= average;\r\n\r\n                // y_arr.length = (nPointNumber + 1);\r\n                this.offt(1, mi, x_arr, y_arr, nPointNumber);\r\n                // 处理计算结果\r\n                var t_fMaxFZ = 0;\r\n                var number = parseInt(nPointNumber / 2.56);\r\n                var OutX = [];\r\n                var OutY = [];\r\n                var OutPhase = [];\r\n                var pAlarm = 1; //计算因数：默认峰值\r\n                switch (this.alarm_type) {\r\n                    case 0: //有效值\r\n                        pAlarm = Math.sqrt(2) / 2;\r\n                        break;\r\n                    case 2: //峰峰值\r\n                        pAlarm = 2\r\n                        break;\r\n                }\r\n                // OutX.length = number;\r\n                // OutY.length = number;\r\n                // OutPhase.length = number;\r\n                for (i = 0; i < number; i++) {\r\n                    var xi = x_arr[i + 1];\r\n                    var yi = y_arr[i + 1];\r\n                    // 频率\r\n                    OutX.push(Math.round(i * fDF * 10000) / 10000);\r\n                    // 幅值 mantis 695 *4 改为 *2\r\n                    OutY.push(Math.round(Math.sqrt(xi * xi + yi * yi) * 2 / nPointNumber * pAlarm * 1000000) / 1000000);\r\n                    // 相位 (弧度)\r\n                    OutPhase.push(Math.atan2(yi, xi));\r\n                    // 最大幅值\r\n                    t_fMaxFZ = Math.max(OutY[i], t_fMaxFZ);\r\n                }\r\n\r\n                if (t_fMaxFZ < Number.NEGATIVE_INFINITY || t_fMaxFZ > Number.POSITIVE_INFINITY) {\r\n                    t_fMaxFZ = -1;\r\n                    this.fMaxFZ = t_fMaxFZ;\r\n                    return t_fMaxFZ;\r\n                }\r\n                this.fMaxFZ = t_fMaxFZ;\r\n                return [OutX, OutY, OutPhase];\r\n            },\r\n            offt: function(dir, i_dianshu_mi, x, y, i_dianshu) {\r\n                i_dianshu = i_dianshu || 0;\r\n                var i, j, k, l, m, l1;\r\n                var t1, t2, u1, u2, w1, w2, p2, z;\r\n\r\n                // Calculate the number of points\r\n                if (i_dianshu == 0) {\r\n                    i_dianshu = 1;\r\n                    for (i = 0; i < i_dianshu_mi; i++)\r\n                        i_dianshu *= 2;\r\n                }\r\n\r\n                // y.length = i_dianshu + 1;\r\n                for (i = 0; i <= i_dianshu; i++)\r\n                    y[i] = 0;\r\n\r\n                j = 1;\r\n\r\n                for (l = 1; l <= (i_dianshu - 1); l++) {\r\n                    if (l < j) {\r\n                        t1 = x[j];\r\n                        //\t\t\t\t\tt2 = y[j];\r\n                        x[j] = x[l];\r\n                        //\t\t\t\t\ty[j] = y[l];\r\n                        x[l] = t1;\r\n                        //\t\t\t\t\ty[l] = t2;\r\n                    }\r\n                    k = (i_dianshu) >> 1;\r\n                    while (k < j) {\r\n                        j -= k;\r\n                        k = k >> 1;\r\n                    }\r\n                    j = j + k;\r\n                }\r\n                m = 1;\r\n\r\n                for (i = 1; i <= i_dianshu_mi; i++) {\r\n                    u1 = 1;\r\n                    u2 = 0;\r\n                    k = m;\r\n                    m = m << 1;\r\n                    p2 = Math.PI / k;\r\n                    w1 = (Math.cos(p2));\r\n                    //\t\t\t\tw2 = (-Math.sin(p2));\r\n                    //\t\t\t\tw2 = -w2;\r\n                    w2 = (Math.sin(p2));\r\n                    for (j = 1; j <= k; j++) {\r\n                        for (l = j; l <= i_dianshu; l += m) {\r\n                            l1 = l + k;\r\n                            t1 = x[l1] * u1 - y[l1] * u2;\r\n                            t2 = x[l1] * u2 + y[l1] * u1;\r\n                            x[l1] = x[l] - t1;\r\n                            y[l1] = y[l] - t2;\r\n                            x[l] += t1;\r\n                            y[l] += t2;\r\n                        }\r\n                        z = u1 * w1 - u2 * w2;\r\n                        u2 = u1 * w2 + u2 * w1;\r\n                        u1 = z;\r\n                    }\r\n                }\r\n            },\r\n            makeWaveData: function(type, arraY) { //波形单位转换\r\n\r\n            },\r\n            makeFftData: function(type, arrayY) { //单位转换、低频过滤、有效频率上下限等处理\r\n                /**arrayY=单位转换后的频谱数据**/\r\n                var t_sourceSpectrumY = [];\r\n                if (type == 1) { //单位转换\r\n                    t_sourceSpectrumY = arrayY.concat();\r\n                } else {\r\n                    t_sourceSpectrumY = this.scoreSpectrumY.concat();\r\n                }\r\n                var i = 0;\r\n                var len = t_sourceSpectrumY.length;\r\n                var tmpSpectrumY = [];\r\n                var tmpSpectrumX = [];\r\n                var t_hideLow = this.hide_low;\r\n                var a_index = 0;\r\n                var b_index = 0;\r\n                /**低频过滤**/\r\n                for (i = 0; i < len; i++) {\r\n                    if (t_hideLow > 0 && this.sourceSpectrumX[i] <= t_hideLow) {\r\n                        tmpSpectrumY.push(0);\r\n                    } else {\r\n                        tmpSpectrumY.push(t_sourceSpectrumY[i]);\r\n                    }\r\n                }\r\n                /**有效频率上下限**/\r\n                if (this.power_a == \"NaN\") {\r\n                    this.power_a = 0;\r\n                }\r\n                if (Number(this.power_a) < Number(this.power_b) || this.power_b == 0) {\r\n                    this.isSetPower = true;\r\n                    tmpSpectrumX = this.sourceSpectrumX.concat();\r\n                    if (Number(this.power_a) < tmpSpectrumX[tmpSpectrumX.length - 1]) {\r\n                        if (this.specType == 2) {\r\n                            a_index = this.indexOfArray(tmpSpectrumX, this.power_a, 1);\r\n                        } else {\r\n                            a_index = this.indexOfArray(tmpSpectrumX, this.power_a, 1);\r\n                        }\r\n                        if (this.power_b == 0) {\r\n                            b_index = tmpSpectrumX.length;\r\n                        } else {\r\n                            if (this.specType == 2) {\r\n                                b_index = this.indexOfArray(tmpSpectrumX, this.power_b, -1) + 1;\r\n                            } else {\r\n                                b_index = this.indexOfArray(tmpSpectrumX, this.power_b, -1) + 1;\r\n                            }\r\n                        }\r\n                        if (this.flag_f_nx.val == 1) {\r\n                            tmpSpectrumX = this.freqXtrum.slice(a_index, b_index);\r\n                        } else {\r\n                            tmpSpectrumX = tmpSpectrumX.slice(a_index, b_index);\r\n                        }\r\n                        tmpSpectrumY = tmpSpectrumY.slice(a_index, b_index);\r\n                    } else {\r\n                        if (this.flag_f_nx.val == 1) {\r\n                            tmpSpectrumX = this.freqXtrum;\r\n                        }\r\n                        tmpSpectrumY = this.sourceSpectrumY;\r\n                    }\r\n                } else {\r\n\r\n                }\r\n                this.spectrumX = tmpSpectrumX;\r\n                this.spectrumY = tmpSpectrumY;\r\n                // this.labelLineSpec();\r\n            },\r\n            indexOfArray: function(arr, value, flag) { //获取最匹配点的下标\r\n                /**flag=0，最近点；flag=1，右边最近点；flag=-1，左边最近点**/\r\n                var index = -1;\r\n                var flag_pm = false;\r\n                var dx = Number.POSITIVE_INFINITY;\r\n                for (var i = 0; i < arr.length; i++) {\r\n                    switch (flag) {\r\n                        case -1:\r\n                            flag_pm = arr[i] - value <= 0 ? dx > Math.abs(arr[i] - value) : false;\r\n                            break;\r\n                        case 0:\r\n                            flag_pm = dx > Math.abs(arr[i] - value);\r\n                            break;\r\n                        case 1:\r\n                            flag_pm = arr[i] - value >= 0 ? dx > Math.abs(arr[i] - value) : false;\r\n                            break;\r\n                    }\r\n                    if (flag_pm) {\r\n                        dx = Math.abs(arr[i] - value);\r\n                        index = i;\r\n                        if (dx == 0) {\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                return index;\r\n            },\r\n            getUnit1: function(byIntergal, unit) {\r\n                //构造积分后单位\r\n                if (unit == \"§\") {\r\n                    unit = \"gD\";\r\n                } else if (unit == \"m/s?\") {\r\n                    unit = \"m/s²\";\r\n                }\r\n                var unit1 = unit;\r\n                switch (unit) {\r\n                    case \"μm\": //位移\r\n                        break;\r\n                    case \"mm/s\": //速度\r\n                        if (byIntergal == 1) {\r\n                            unit1 = \"μm\";\r\n                        }\r\n                        break;\r\n                    case \"m/s²\": //加速度且不积分\r\n                        break;\r\n                    case \"g\": //加速度\r\n                        if (byIntergal == 2) {\r\n                            unit1 = \"μm\";\r\n                        } else if (byIntergal == 1) {\r\n                            unit1 = \"mm/s\";\r\n                        }\r\n                        break;\r\n                }\r\n                return unit1;\r\n            },\r\n            getUnitIndex: function(unitName) { //根据测点名称获取测点索引\r\n                var unitIndex = 0;\r\n                switch (unitName) {\r\n                    case \"g\":\r\n                        unitIndex = 0;\r\n                        break;\r\n                    case \"m/s²\":\r\n                        unitIndex = 1;\r\n                        break;\r\n                    case \"mm/s\":\r\n                        unitIndex = 2;\r\n                        break;\r\n                    case \"μm\":\r\n                        unitIndex = 3;\r\n                        break;\r\n                }\r\n                return unitIndex;\r\n            },\r\n            funDownload: function(content, filename) { //导出文件\r\n                var eleLink = document.createElement('a'); // 创建隐藏的可下载链接\r\n                eleLink.download = filename;\r\n                eleLink.style.display = 'none';\r\n                var blob = new Blob([content]); // 字符内容转变成blob地址\r\n                eleLink.href = URL.createObjectURL(blob);\r\n                document.body.appendChild(eleLink); // 触发点击\r\n                eleLink.click();\r\n                document.body.removeChild(eleLink); // 然后移除\r\n            },\r\n            getPeakIndexArr: function(yArr, count) { //获取最大的峰值下标\r\n                /*yArr=频谱y数组 count=需要获取的最大下标数目*/\r\n                if (yArr.length <= 1) {\r\n                    return [0];\r\n                }\r\n                var indexArr = [],\r\n                    xVal = [];\r\n                var t_yArr = []; //构造包含索引和y最大极值的数组\r\n                var i = 0;\r\n                var j = 0;\r\n                var len = yArr.length;\r\n                var obj = {};\r\n                if (yArr[0] > yArr[1]) {\r\n                    obj.key = 0;\r\n                    obj.value = yArr[0];\r\n                    t_yArr.push(obj);\r\n                }\r\n                for (i = 1; i < len - 1; i++) {\r\n                    if (yArr[i] > yArr[i - 1] && yArr[i] > yArr[i + 1]) {\r\n                        obj = {};\r\n                        obj.key = i;\r\n                        obj.value = yArr[i];\r\n                        t_yArr.push(obj);\r\n                    }\r\n                }\r\n                if (yArr[len - 2] < yArr[len - 1]) {\r\n                    obj = {};\r\n                    obj.key = len - 1;\r\n                    obj.value = yArr[len - 1];\r\n                    t_yArr.push(obj);\r\n                }\r\n                len = t_yArr.length;\r\n                for (i = 0; i < count; i++) {\r\n                    for (j = i + 1; j < len; j++) {\r\n                        if (t_yArr[i].value < t_yArr[j].value) {\r\n                            obj = t_yArr[i];\r\n                            t_yArr[i] = t_yArr[j];\r\n                            t_yArr[j] = obj;\r\n                        }\r\n                    }\r\n                }\r\n                if (count > len) {\r\n                    count = len;\r\n                }\r\n                if (this.spectrumX.length !== this.cutSpectrum.x.length) {\r\n                    for (i = 0; i < count; i++) {\r\n                        xVal.push(this.cutSpectrum.x[t_yArr[i].key]);\r\n                    }\r\n                    for (i = 0, l = xVal.length; i < l; i++) {\r\n                        indexArr.push(this.indexOfArray(this.spectrumX, xVal[i], 0))\r\n                    }\r\n                } else {\r\n                    for (i = 0; i < count; i++) {\r\n                        indexArr.push(t_yArr[i].key);\r\n                    }\r\n                }\r\n                return indexArr;\r\n            },\r\n            closeAlert: function(t_id) {\r\n                //关闭弹窗\r\n                $(t_id).css({\r\n                    \"display\": \"none\"\r\n                });\r\n            },\r\n            integralWave: function(t_waveY, samples, deltaT, dcCorr, t_sourceIndex) { //波形积分\r\n                var i = 0;\r\n                var result = [dcCorr];\r\n                if (t_sourceIndex == 0) {\r\n                    for (i = 0; i < samples; i++) {\r\n                        t_waveY[i] = t_waveY[i] * 9.8;\r\n                    }\r\n                }\r\n                for (i = 1; i < samples; i++) {\r\n                    result[i] = result[i - 1] + (t_waveY[i] + t_waveY[i - 1]) * deltaT / 2;\r\n                }\r\n                return result;\r\n            },\r\n            waveDCOut: function(t_waveY, len) { //去直流\r\n                var i = 0;\r\n                var avg = 0;\r\n                // 求平均值\r\n                for (i = 0; i < len; i++) {\r\n                    avg += t_waveY[i] / len;\r\n                }\r\n                //去掉直流量\r\n                for (i = 0; i < len; i++) {\r\n                    t_waveY[i] = t_waveY[i] - avg;\r\n                }\r\n                return t_waveY;\r\n            },\r\n            integralFft: function(t_specY, len, deltaF, t_sourceIndex) { //频谱积分\r\n                var i = 0;\r\n                var result = [0];\r\n                //首次计算时 单位是g的时候乘以9.8 不是则不乘\r\n                var g = 1;\r\n                if (t_sourceIndex == 0) {\r\n                    g = 9.8;\r\n                }\r\n                for (i = 1; i < len; i++) {\r\n                    result[i] = t_specY[i] * g * 1000 / (2 * Math.PI * deltaF * i);\r\n                }\r\n                return result;\r\n            },\r\n            labelLineWave: function() { //带标签的竖线\r\n                /**带标签的竖线**/\r\n                if (this.nxArrayWave.length > 0) {\r\n                    this.nxArrayWave = [];\r\n                }\r\n                var t_nxArray = [];\r\n                var index = -1;\r\n                var i = 0;\r\n                var nx0 = -1; //锁定光标位置\r\n                var nx1 = -1; //画周期性延展线\r\n                var index1 = -1;\r\n                var dx = -1; //基准线和时间差线的距离\r\n                /**画光标线**/\r\n                if ((this.flag_subTime == 1) && this.last_xWave != null && this.last_xWave.nx0 >= 0) {\r\n                    nx0 = this.last_xWave.nx0;\r\n                    index = this.indexOfArray(this.waveX, nx0, 0);\r\n                    t_nxArray.push({\r\n                        name: nx0 + \",\" + this.waveY[index].toFixed(4),\r\n                        xAxis: index\r\n                    });\r\n                    this.flag_wave_extend = 1;\r\n                } else if ((this.flag_subTime == 1) && this.last_xWave.nx0 == undefined) { //开启时间差功能前没有点击页面，将基准线定在0的位置\r\n                    index = 0;\r\n                    t_nxArray.push({\r\n                        name: 0 + \",\" + this.waveY[index].toFixed(4),\r\n                        xAxis: index\r\n                    });\r\n                    this.flag_wave_extend = 1;\r\n                }\r\n                /**画时间差的延展线**/\r\n                if (this.flag_wave_extend && (this.flag_subTime == 1) && this.last_xWave_time != null) {\r\n                    nx1 = this.last_xWave_time.nx0;\r\n                    if (nx1 != undefined) {\r\n                        index1 = this.indexOfArray(this.waveX, nx1, 0);\r\n                        dx = Math.abs(index1 - index);\r\n                        if (dx == 0) {\r\n                            return;\r\n                        }\r\n                        var x0 = index1 % dx;\r\n                        for (var x = x0; x < this.waveX.length; x += dx) {\r\n                            if (x == index) {\r\n                                continue;\r\n                            }\r\n                            t_nxArray.push({\r\n                                name: \"\",\r\n                                xAxis: x,\r\n                                lineStyle: {\r\n                                    color: \"red\"\r\n                                }\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n                if (t_nxArray.length > 0) {\r\n                    this.nxArrayWave = t_nxArray;\r\n                }\r\n            },\r\n            labelLineSpec: function() { //带标签的竖线\r\n\r\n\r\n            },\r\n            setRealBtn: function() { //实时数据按钮响应\r\n                this.flag_real = Math.abs(this.flag_real - 1);\r\n                if (this.flag_real == 1) { //实时\r\n                    this.getRealData();\r\n                } else {\r\n                    this.stopRealData();\r\n                }\r\n            },\r\n            getRealData: function() { //开始获取实时数据\r\n                var that = this;\r\n                // that.searchWave(0);\r\n                if(that.flag_real){\r\n                    that.toggleText = '实时';\r\n                    that.chooseIsRealType = 2;\r\n                }\r\n                else{\r\n                    that.toggleText = '历史';\r\n                    that.chooseIsRealType = 1;\r\n                }\r\n                clearInterval(that.timer);\r\n                that.timer = null;\r\n                this.timer = window.setInterval(function() {\r\n                    that.searchWave(0);\r\n                }, 5000);\r\n            },\r\n            stopRealData: function() { //停止获取实时数据\r\n                this.toggleText = \"历史\";\r\n                let that = this;\r\n                clearInterval(that.timer);\r\n                that.timer = null;\r\n            },\r\n            setSubTime: function() { //波形时间差\r\n                var that = this;\r\n                that.flag_subTime = Math.abs(that.flag_subTime - 1);\r\n                if (that.flag_subTime == 1) {\r\n                    that.timeColor = '#3bb5ff';\r\n                } else {\r\n                    that.timeColor = that.spectrumColor.font;\r\n                }\r\n                that.labelLineWave();\r\n            },\r\n            setDataExport: function(type) { //数据导出 type= 1波形，2频谱\r\n                var str = \"\\ufeffX,Y\\r\\n\"; //导出数据（中文兼容）\r\n                var fileName = this.fileName; //导出文件名\r\n                var i = 0;\r\n                var len = 0;\r\n                if (type == 1) {\r\n                    fileName += \"_波形.csv\";\r\n                    len = this.waveY.length;\r\n                    for (i = 0; i < len; i++) {\r\n                        str += this.sourceWaveX[i] + \",\" + this.waveY[i].toFixed(4) * 1 + \"\\r\\n\";\r\n                    }\r\n                } else {\r\n                    fileName += \"_频谱.csv\";\r\n                    len = this.scoreSpectrumY.length;\r\n                    for (i = 0; i < len; i++) {\r\n                        str += this.sourceSpectrumX[i] + \",\" + this.scoreSpectrumY[i].toFixed(4) * 1 + \"\\r\\n\";\r\n                    }\r\n                }\r\n                this.funDownload(str, fileName);\r\n\r\n            },\r\n            setDisplayAll: function(type) { //显示全部\r\n                let maxWidth = 100% - 20;\r\n                let waveWidth = (window.innerWidth - 320)/2 + 'px';\r\n                if (this.flag_show % 2 == 0) {\r\n                    switch (type) {\r\n                        case 1:\r\n                            this.showType2 = 0;\r\n                            this.showType3 = 0;\r\n                            this.titleScale1 = \"返回\";\r\n                            this.iconScale1 = \"path://M32.8,1.3L19.8,14.2 M19.8,19.8l12.9,12.9 M1.2,1.3l12.9,12.9 M1.3,32.7l12.9-12.9 M29.5,15.2H18.9V5.3 M28.8,18.9h-9.9v10.7   M5.2,15.2h9.9V4.5 M15.1,28.8v-9.9H4.4\";\r\n                            $('.wave-chart').height(this.maxHeight).width(maxWidth + 'px').resize();\r\n                            if (this.xIndexWave) {\r\n                                this.wave_chart.dispatchAction({\r\n                                    type: 'showTip',\r\n                                    // 系列的 index，在 tooltip 的 trigger 为 axis 的时候可选。\r\n                                    seriesIndex: 0,\r\n                                    // 数据的 index，如果不指定也可以通过 name 属性根据名称指定数据\r\n                                    dataIndex: this.xIndexWave,\r\n                                });\r\n                            }\r\n                            this.flag_show++;\r\n                            break;\r\n                        case 2:\r\n                            this.showType1 = 0;\r\n                            this.showType3 = 0;\r\n                            this.titleScale2 = \"返回\";\r\n                            this.iconScale2 = \"path://M32.8,1.3L19.8,14.2 M19.8,19.8l12.9,12.9 M1.2,1.3l12.9,12.9 M1.3,32.7l12.9-12.9 M29.5,15.2H18.9V5.3 M28.8,18.9h-9.9v10.7   M5.2,15.2h9.9V4.5 M15.1,28.8v-9.9H4.4\";\r\n                            $('.wave-chart').height(this.maxHeight).width(maxWidth + 'px').resize();\r\n                            if (this.xIndex) {\r\n                                this.chart.dispatchAction({\r\n                                    type: 'showTip',\r\n                                    // 系列的 index，在 tooltip 的 trigger 为 axis 的时候可选。\r\n                                    seriesIndex: 0,\r\n                                    // 数据的 index，如果不指定也可以通过 name 属性根据名称指定数据\r\n                                    dataIndex: this.xIndex,\r\n                                });\r\n                            }\r\n                            this.flag_show++;\r\n                            break;\r\n                        case 3:\r\n                            this.showType1 = 0;\r\n                            this.showType2 = 0;\r\n                            this.titleScale3 = \"返回\";\r\n                            this.iconScale3 = \"path://M32.8,1.3L19.8,14.2 M19.8,19.8l12.9,12.9 M1.2,1.3l12.9,12.9 M1.3,32.7l12.9-12.9 M29.5,15.2H18.9V5.3 M28.8,18.9h-9.9v10.7   M5.2,15.2h9.9V4.5 M15.1,28.8v-9.9H4.4\";\r\n                            $('.wave-chart').height(this.maxHeight).width(maxWidth + 'px').resize();\r\n                            if (this.xIndex_history) {\r\n                                this.his_chart.dispatchAction({\r\n                                    type: 'showTip',\r\n                                    // 系列的 index，在 tooltip 的 trigger 为 axis 的时候可选。\r\n                                    seriesIndex: 0,\r\n                                    // 数据的 index，如果不指定也可以通过 name 属性根据名称指定数据\r\n                                    dataIndex: this.xIndex_history,\r\n                                });\r\n                            }\r\n                            this.flag_show++;\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                } else {\r\n                    this.titleScale1 = \"最大化\";\r\n                    this.iconScale1 = \"path://M18.9,15.2L31.8,2.2 M31.8,31.8L18.9,18.9 M15.1,15.2L2.2,2.2 M15.1,18.9L2.2,31.8 M22.1,1.3h10.7v9.9 M22.8,32.7h9.9V22.1   M11.1,1.3H1.2v10.7 M1.3,22.8v9.9h10.7\";\r\n                    this.titleScale2 = \"最大化\";\r\n                    this.iconScale2 = \"path://M18.9,15.2L31.8,2.2 M31.8,31.8L18.9,18.9 M15.1,15.2L2.2,2.2 M15.1,18.9L2.2,31.8 M22.1,1.3h10.7v9.9 M22.8,32.7h9.9V22.1   M11.1,1.3H1.2v10.7 M1.3,22.8v9.9h10.7\";\r\n                    this.titleScale3 = \"最大化\";\r\n                    this.iconScale3 = \"path://M18.9,15.2L31.8,2.2 M31.8,31.8L18.9,18.9 M15.1,15.2L2.2,2.2 M15.1,18.9L2.2,31.8 M22.1,1.3h10.7v9.9 M22.8,32.7h9.9V22.1   M11.1,1.3H1.2v10.7 M1.3,22.8v9.9h10.7\";\r\n                    $('.wave-chart').show();\r\n                    this.showType1 = 1;\r\n                    this.showType2 = 2;\r\n                    this.showType3 = 3;\r\n                    $('.wave-chart').height(this.waveRestoreHeight).width(waveWidth).resize();\r\n                    $('.wave-chart:nth-child(3)').height(this.historyRestoreHeight).width(maxWidth + 'px').resize();\r\n                    if (this.xIndexWave) {\r\n                        this.wave_chart.dispatchAction({\r\n                            type: 'showTip',\r\n                            // 系列的 index，在 tooltip 的 trigger 为 axis 的时候可选。\r\n                            seriesIndex: 0,\r\n                            // 数据的 index，如果不指定也可以通过 name 属性根据名称指定数据\r\n                            dataIndex: this.xIndexWave,\r\n                        });\r\n                    }\r\n                    if (this.xIndex) {\r\n                        this.chart.dispatchAction({\r\n                            type: 'showTip',\r\n                            // 系列的 index，在 tooltip 的 trigger 为 axis 的时候可选。\r\n                            seriesIndex: 0,\r\n                            // 数据的 index，如果不指定也可以通过 name 属性根据名称指定数据\r\n                            dataIndex: this.xIndex,\r\n                        });\r\n                    }\r\n                    if (this.xIndex_history) {\r\n                        this.his_chart.dispatchAction({\r\n                            type: 'showTip',\r\n                            // 系列的 index，在 tooltip 的 trigger 为 axis 的时候可选。\r\n                            seriesIndex: 0,\r\n                            // 数据的 index，如果不指定也可以通过 name 属性根据名称指定数据\r\n                            dataIndex: this.xIndex_history,\r\n                        });\r\n                    }\r\n                    this.flag_show++;\r\n                }\r\n            },\r\n            setAudioExport: function() { //音频导出\r\n                var i = 0;\r\n                var max = Number.MIN_VALUE;\r\n                var frequency = this.maxFreq; //采样频率\r\n                var pointSize = 16; //采样点大小\r\n                var channelNumber = 1; //声道数量\r\n                var blockSize = channelNumber * pointSize / 8; //采样块大小\r\n                var wave = this.sourceWaveY.concat(); //数据\r\n                var length = wave.length * pointSize / 8; //数据长度\r\n                var buffer = new Uint8Array(length + 44); //wav文件数据\r\n                var view = new DataView(buffer.buffer); //数据视图\r\n                buffer.set(new Uint8Array([0x52, 0x49, 0x46, 0x46])); //\"RIFF\"\r\n                view.setUint32(4, wave.length + 44, true); //总长度\r\n                buffer.set(new Uint8Array([0x57, 0x41, 0x56, 0x45]), 8); //\"WAVE\"\r\n                buffer.set(new Uint8Array([0x66, 0x6D, 0x74, 0x20]), 12); //\"fmt \"\r\n                view.setUint32(16, 16, true); //WAV头大小\r\n                view.setUint16(20, 1, true); //编码方式\r\n                view.setUint16(22, 1, true); //声道数量\r\n                view.setUint32(24, frequency, true); //采样频率\r\n                view.setUint32(28, frequency * blockSize, true); //每秒字节数\r\n                view.setUint16(32, blockSize, true); //采样块大小\r\n                view.setUint16(34, pointSize, true); //采样点大小\r\n                buffer.set(new Uint8Array([0x64, 0x61, 0x74, 0x61]), 36); //\"data\"\r\n                view.setUint32(40, length, true); //数据长度\r\n                for (i = 0; i < wave.length; i++) {\r\n                    if (Math.abs(wave[i]) > max) {\r\n                        max = Math.abs(wave[i]);\r\n                    }\r\n                }\r\n                if (max == 0) { //波形坐标轴最小刻度为0.001\r\n                    max = 0.0001;\r\n                }\r\n                var xs = 32760 / max; //放大系数:short/max，short范围(-32768~32767)\r\n                for (i = 0; i < wave.length; i++) {\r\n                    wave[i] = Math.round(wave[i] * xs); //数据\r\n                }\r\n                buffer.set(new Uint8Array(new Int16Array(wave).buffer), 44); //数据\r\n                var fileName = this.fileName + \"_音频.wav\"; //导出文件名\r\n                this.funDownload(buffer, fileName);\r\n            },\r\n            showUnitSelect: function(type) { //单位选择 type= 1波形，2频谱\r\n                this.unitType = type;\r\n                if (type == 1) {\r\n                    this.unitSelect = this.unitWave;\r\n                    this.unitSrc = this.srcUnitWave;\r\n                } else {\r\n                    this.unitSelect = this.unitSpec;\r\n                    this.unitSrc = this.srcUnitSpec;\r\n                }\r\n                $(\"#unitSelect_alert\").css({\r\n                    \"display\": \"block\"\r\n                });\r\n            },\r\n            unitSelectOk: function(t_id) { //确定\r\n                this.setUnitSelect(this.unitSelect);\r\n                /*当点击单位选择时，数据会重汇，导致tooltip会消失。现处理为当启用峰值停靠时取消tooltip,当关闭峰值停靠时重新tooltip*/\r\n                /*频谱图*/\r\n                // this.locationIndex();\r\n                /*波形图*/\r\n                /*this.$nextTick(function () {\r\n          if(this.xIndexWave>0){\r\n              this.wave_chart.dispatchAction({\r\n                  type: 'showTip',\r\n                  seriesIndex: 0,\r\n                  dataIndex: this.xIndexWave,\r\n              });\r\n          }\r\n      });*/\r\n                this.closeAlert(t_id);\r\n            },\r\n            makeFilterWave: function(dPi, outY) { //计算滤波波形\r\n                var i = 0;\r\n                var j = 0;\r\n                var fftObj = {};\r\n                var outX = this.srcSpectrum.outX.slice(0);\r\n                var outP = this.srcSpectrum.outP.slice(0);\r\n                var len = outY.length;\r\n                for (i = 0; i < len; i++) {\r\n                    if (outX[i] < this.sc_power_a) { //低于最低取0\r\n                        outY[i] = 0;\r\n                    } else {\r\n                        break;\r\n                    }\r\n                }\r\n                if (len <= 6400) {\r\n                    fftObj.outY = outY.slice(0);\r\n                    fftObj.outX = outX.slice(0);\r\n                    fftObj.outP = outP.slice(0);\r\n                } else {\r\n                    var indexArr = this.getMaxIndexArr(outY, 6400);\r\n                    var t_outY = [];\r\n                    var t_outX = [];\r\n                    var t_outP = [];\r\n                    for (j = 0; j < indexArr.length; j++) {\r\n                        i = indexArr[j];\r\n                        t_outY.push(outY[i]);\r\n                        t_outX.push(outX[i]);\r\n                        t_outP.push(outP[i]);\r\n                    }\r\n                    fftObj.outY = t_outY.slice(0);\r\n                    fftObj.outX = t_outX.slice(0);\r\n                    fftObj.outP = t_outP.slice(0);\r\n                }\r\n                this.countSpectrum = fftObj;\r\n                this.makeWave();\r\n            },\r\n            getMaxIndexArr: function(outY, len) { //获取最大值数组的索引表\r\n                var i = 0;\r\n                var indexArr = []; //需要返回的索引表\r\n                if (len == 0 || outY == null || outY.length <= len) {\r\n                    return indexArr;\r\n                }\r\n                /**outY.length > len处理**/\r\n                var minIndexs = []; //存储最大值中最小值的索引表（应对重复数据）\r\n                var arr = outY.slice(0);\r\n                /**按数值冒泡（升序）排序，只排末尾最大的len个点**/\r\n                var t = 0;\r\n                for (i = 0; i < len; i++) {\r\n                    for (j = 0; j < outY.length - 1 - i; j++) {\r\n                        if (arr[j] > arr[j + 1]) {\r\n                            t = arr[j];\r\n                            arr[j] = arr[j + 1];\r\n                            arr[j + 1] = t;\r\n                        }\r\n                    }\r\n                }\r\n                var baseValue = arr[arr.length - len]; //最大值中最小的\r\n                for (i = 0; i < outY.length; i++) {\r\n                    if (outY[i] > baseValue) {\r\n                        indexArr.push(i);\r\n                        continue;\r\n                    }\r\n                    if (outY[i] == baseValue) {\r\n                        minIndexs.push(i);\r\n                        continue;\r\n                    }\r\n                }\r\n                for (var j = 0; j < (len - indexArr.length); j++) {\r\n                    i = minIndexs.pop();\r\n                    indexArr.push(i);\r\n                }\r\n                return indexArr;\r\n            },\r\n            makeWave: function() { //构造波形\r\n                var i = 0;\r\n                var j = 0;\r\n                var len = this.countSpectrum.outY.length;\r\n                var t_waveY = []; //需要返回的波形\r\n                for (i = 0; i < this.samples; i++) {\r\n                    t_waveY.push(0);\r\n                }\r\n                for (j = 0; j < len; j++) {\r\n                    if (this.countSpectrum.outY[j] > 0) {\r\n                        var x_1 = 2 * Math.PI * this.countSpectrum.outX[j];\r\n                        for (i = 0; i < this.samples; i++) {\r\n                            var x = i / this.maxFreq * x_1 + this.countSpectrum.outP[j];\r\n                            var value = this.countSpectrum.outY[j] * Math.sin(x);\r\n                            t_waveY[i] += value;\r\n                        }\r\n                    }\r\n                }\r\n                this.waveY = t_waveY;\r\n            },\r\n            makeWaveY: function(t_waveY, freq) { //波形一次积分算法\r\n                var fs = freq;\r\n                var dt = 1 / fs;\r\n                var t = [];\r\n                var i = 0;\r\n                for (i = 0; i < t_waveY.length; i++) {\r\n                    t.push(dt * i);\r\n                }\r\n                var x = t_waveY;\r\n                // for (i = 0; i < t_waveY; i++) {\r\n                //     x.push(Math.sin(2*Math.PI*160*t[i]));\r\n                // }\r\n                var N = x.length;\r\n                this.waveDCOut(x, N);\r\n                var y = [];\r\n                for (i = 0; i < x.length - 1; i++) {\r\n                    y[0] = 0;\r\n                    y[i + 1] = Number(y[i]) + (Number(x[i + 1]) + Number(x[i])) / 2 / fs * 1000;\r\n                }\r\n                var xx = [\r\n                    [],\r\n                    []\r\n                ];\r\n                xx[0][0] = N;\r\n                xx[0][1] = this.sum(t);\r\n                xx[1][0] = this.sum(t);\r\n                var t_2 = [];\r\n                var t_y = [];\r\n                for (i = 0; i < t.length; i++) {\r\n                    t_2[i] = Number(t[i]) * Number(t[i]);\r\n                    t_y[i] = Number(t[i]) * Number(y[i]);\r\n                }\r\n                xx[1][1] = this.sum(t_2);\r\n                var yy = [this.sum(y), this.sum(t_y)];\r\n                var _xx = this.inverse(xx);\r\n                var cof_1_1 = _xx[0][0] * yy[0] + _xx[0][1] * yy[1];\r\n                var cof_2_1 = _xx[1][0] * yy[0] + _xx[1][1] * yy[1];\r\n                for (i = 0; i < t.length - 1; i++) {\r\n                    y[i] = y[i] - (cof_2_1 * t[i] + cof_1_1);\r\n                }\r\n                return y;\r\n            },\r\n            GaussJordanEliminate: function(m, epsilon) {\r\n                // Translated from:\r\n                // http://elonen.iki.fi/code/misc-notes/python-gaussj/index.html\r\n                var eps = (typeof epsilon === 'undefined') ? 1e-10 : epsilon;\r\n\r\n                var h = m.length;\r\n                var w = m[0].length;\r\n                var y = -1;\r\n                var y2, x, c;\r\n\r\n                while (++y < h) {\r\n                    // Pivot.\r\n                    var maxrow = y;\r\n                    y2 = y;\r\n                    while (++y2 < h) {\r\n                        if (Math.abs(m[y2][y]) > Math.abs(m[maxrow][y]))\r\n                            maxrow = y2;\r\n                    }\r\n                    var tmp = m[y];\r\n                    m[y] = m[maxrow];\r\n                    m[maxrow] = tmp;\r\n\r\n                    // Singular\r\n                    if (Math.abs(m[y][y]) <= eps) {\r\n                        return m;\r\n                    }\r\n\r\n                    // Eliminate column\r\n                    y2 = y;\r\n                    while (++y2 < h) {\r\n                        c = m[y2][y] / m[y][y];\r\n                        x = y - 1;\r\n                        while (++x < w) {\r\n                            m[y2][x] -= m[y][x] * c;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                // Backsubstitute.\r\n                y = h;\r\n                while (--y >= 0) {\r\n                    c = m[y][y];\r\n                    y2 = -1;\r\n                    while (++y2 < y) {\r\n                        x = w;\r\n                        while (--x >= y) {\r\n                            m[y2][x] -= m[y][x] * m[y2][y] / c;\r\n                        }\r\n                    }\r\n                    m[y][y] /= c;\r\n\r\n                    // Normalize row\r\n                    x = h - 1;\r\n                    while (++x < w) {\r\n                        m[y][x] /= c;\r\n                    }\r\n                }\r\n\r\n                return m;\r\n            },\r\n            inverse: function(m) { //求逆矩阵的方法\r\n                var n = m.length,\r\n                    identity = this.identity(n),\r\n                    i;\r\n\r\n                // AI\r\n                for (i = 0; i < n; i++) {\r\n                    m[i] = m[i].concat(identity[i]);\r\n                }\r\n\r\n                // inv(IA)\r\n                m = this.GaussJordanEliminate(m);\r\n\r\n                // inv(A)\r\n                for (i = 0; i < n; i++) {\r\n                    m[i] = m[i].slice(n);\r\n                }\r\n\r\n                return m;\r\n            },\r\n            identity: function(n) {\r\n                var result = new Array(n);\r\n\r\n                for (var i = 0; i < n; i++) {\r\n                    result[i] = new Array(n);\r\n                    for (var j = 0; j < n; j++) {\r\n                        result[i][j] = (i === j) ? 1 : 0;\r\n                    }\r\n                }\r\n\r\n                return result;\r\n            },\r\n            sum: function(arr) { //数组求和\r\n                var s = 0;\r\n                arr.forEach(function(val, idx, arr) {\r\n                    s += val;\r\n                }, 0);\r\n                return s;\r\n            },\r\n            setUnitSelect: function(value) { //单位选择 type= 1波形，2频谱，3趋势\r\n                this.changePos = false;\r\n                var sourceIndex = -1;\r\n                var oldIndex = -1;\r\n                var newIndex = -1;\r\n                var i = 0;\r\n                var len = 0;\r\n                var t_waveY = [];\r\n                var t_specY = [];\r\n                if (this.unitType == 1) { // 波形\r\n                    sourceIndex = this.getUnitIndex(this.srcUnitWave);\r\n                    oldIndex = this.getUnitIndex(this.unitWave);\r\n                    newIndex = this.getUnitIndex(value);\r\n                    len = this.sourceWaveY.length;\r\n                    if (oldIndex != newIndex && (sourceIndex <= newIndex || sourceIndex == 1)) {\r\n                        if (sourceIndex == newIndex) {\r\n                            this.waveY = this.sourceWaveY.concat();\r\n                        } else if (newIndex == 0) {\r\n                            if (sourceIndex == 1) {\r\n                                for (i = 0; i < len; i++) {\r\n                                    t_waveY.push(this.sourceWaveY[i] / 9.8);\r\n                                }\r\n                            }\r\n                            this.waveY = t_waveY;\r\n                        } else if (newIndex == 1) {\r\n                            if (sourceIndex == 0) {\r\n                                for (i = 0; i < len; i++) {\r\n                                    t_waveY.push(this.sourceWaveY[i] * 9.8);\r\n                                }\r\n                            }\r\n                            this.waveY = t_waveY;\r\n                        } else if (newIndex == 2) {\r\n                            this.waveY = this.makeWaveY(this.sourceWaveY, this.maxFreq);\r\n                        } else if (newIndex == 3) {\r\n                            if (sourceIndex < 2) {\r\n                                t_waveY = this.makeWaveY(this.sourceWaveY, this.maxFreq);\r\n                            } else {\r\n                                t_waveY = this.sourceWaveY;\r\n                            }\r\n                            this.waveY = this.makeWaveY(t_waveY, this.maxFreq);\r\n                        }\r\n                        this.unitWave = value;\r\n                    }\r\n                } else if (this.unitType == 2) { //频谱\r\n                    sourceIndex = this.getUnitIndex(this.srcUnitSpec);\r\n                    oldIndex = this.getUnitIndex(this.unitSpec);\r\n                    newIndex = this.getUnitIndex(value);\r\n                    len = this.sourceSpectrumY.length;\r\n                    if (oldIndex != newIndex && sourceIndex <= newIndex || sourceIndex == 1) {\r\n                        if (sourceIndex == newIndex) {\r\n                            t_specY = this.sourceSpectrumY.concat();\r\n                            this.makeFftData(1, t_specY);\r\n                        } else if (newIndex == 0) {\r\n                            if (sourceIndex == 1) {\r\n                                for (i = 0; i < len; i++) {\r\n                                    t_specY.push(this.sourceSpectrumY[i] / 9.8);\r\n                                }\r\n                            }\r\n                            this.makeFftData(1, t_specY);\r\n                        } else if (newIndex == 1) {\r\n                            if (sourceIndex == 0) {\r\n                                for (i = 0; i < len; i++) {\r\n                                    t_specY.push(this.sourceSpectrumY[i] * 9.8);\r\n                                }\r\n                            }\r\n                            this.makeFftData(1, t_specY);\r\n                        } else if (newIndex == 2) {\r\n                            t_specY = this.integralFft(this.sourceSpectrumY.concat(), len, this.maxFreq / this.samples, sourceIndex);\r\n                            this.makeFftData(1, t_specY);\r\n                        } else if (newIndex == 3) {\r\n                            if (sourceIndex < 2) {\r\n                                t_specY = this.integralFft(this.sourceSpectrumY.concat(), len, this.maxFreq / this.samples, sourceIndex);\r\n                            } else {\r\n                                t_specY = this.sourceSpectrumY.concat();\r\n                            }\r\n                            t_specY = this.integralFft(t_specY.concat(), len, this.maxFreq / this.samples, 2);\r\n                            this.makeFftData(1, t_specY);\r\n                        }\r\n                        this.scoreSpectrumY = t_specY;\r\n                        this.unitSpec = value;\r\n                    }\r\n                } else if (this.unitType == 3) { // 趋势\r\n                    sourceIndex = this.getUnitIndex(this.srcUnitTrend);\r\n                    oldIndex = this.getUnitIndex(this.unitTrend);\r\n                    newIndex = this.getUnitIndex(value);\r\n                    len = this.historyY.length;\r\n                    if (oldIndex != newIndex && sourceIndex <= newIndex || sourceIndex == 1) {\r\n                        if (sourceIndex == newIndex) {\r\n                            t_specY = this.sourceHistoryY.concat();\r\n                        } else if (newIndex == 0) {\r\n                            if (sourceIndex == 1) {\r\n                                for (i = 0; i < len; i++) {\r\n                                    t_specY.push(this.historyY[i] / 9.8);\r\n                                }\r\n                            }\r\n                        } else if (newIndex == 1) {\r\n                            if (sourceIndex == 0) {\r\n                                for (i = 0; i < len; i++) {\r\n                                    t_specY.push(this.historyY[i] * 9.8);\r\n                                }\r\n                            }\r\n                        } else {\r\n                            this.unitTrend = value;\r\n                            return\r\n                        }\r\n                        this.historyY = t_specY;\r\n                        this.unitTrend = value;\r\n                    }\r\n                }\r\n            },\r\n            setDouble_sub_freq: function() { //对称频率差\r\n                this.flag_subFreq = Math.abs(this.flag_subFreq - 1);\r\n                // this.labelLineSpec();\r\n            },\r\n            setSrcSpectrum: function() { //计算原始频谱，不做汉宁窗，用于计算波形\r\n                var tmpWaveY = [];\r\n                var sum = 0;\r\n                var aver = 0;\r\n                var len = 1;\r\n                var freq = this.maxFreq;\r\n                var spectral = this.waveY.length; //data.getNumberFromConfig(\"spectral\") * 2.56\r\n                var mi = 0;\r\n                var k = Math.floor(Math.log(spectral) / Math.LN2);\r\n                var waveY = this.waveY.concat()\r\n                if (Math.pow(2, k) === waveY.length) {\r\n                    for (; spectral > 1; spectral >>= 1) {\r\n                        mi++;\r\n                    }\r\n                    for (i = 0; i < mi; i++) {\r\n                        len = len * 2\r\n                    }\r\n                    for (i = 0; i < len; i++) {\r\n                        tmpWaveY.push(this.waveY[i]);\r\n                    }\r\n                    if (tmpWaveY.length > 0) {\r\n                        for (i = 0; i < tmpWaveY.length; i++) {\r\n                            sum += tmpWaveY[i];\r\n                        }\r\n                        aver = sum / tmpWaveY.length;\r\n                        for (i = 0; i < tmpWaveY.length; i++) {\r\n                            tmpWaveY[i] -= aver;\r\n                        }\r\n                    }\r\n                } else {\r\n                    var dValue = Math.pow(2, k + 1) - waveY.length\r\n                    var d2 = dValue / 2\r\n                    var before = [],\r\n                        after = []\r\n                    for (var i = 0; i < dValue; i++) {\r\n                        i < d2 ? before.push(0) : after.push(0)\r\n                    }\r\n                    tmpWaveY = before.concat(waveY, after)\r\n                    len = tmpWaveY.length;\r\n                    mi = k + 1\r\n                }\r\n                var specturm_data = this.waveFFT(tmpWaveY, freq, 0, len, mi);\r\n                this.srcSpectrum = {};\r\n                this.srcSpectrum.outX = specturm_data[0];\r\n                this.srcSpectrum.outY = specturm_data[1];\r\n                this.srcSpectrum.outP = specturm_data[2];\r\n            },\r\n            setHanning: function() {\r\n                this.flag_winFunc = Math.abs(this.flag_winFunc - 1);\r\n                var i = 0;\r\n                var tmpWaveY = [];\r\n                var sum = 0;\r\n                var aver = 0;\r\n                var len = 1;\r\n                var freq = this.maxFreq;\r\n                var spectral = this.waveY.length; //data.getNumberFromConfig(\"spectral\") * 2.56\r\n                var mi = 0;\r\n                var k = Math.floor(Math.log(spectral) / Math.LN2);\r\n                var waveY = this.waveY.concat()\r\n                if (Math.pow(2, k) === waveY.length) {\r\n                    for (; spectral > 1; spectral >>= 1) {\r\n                        mi++;\r\n                    }\r\n                    for (i = 0; i < mi; i++) {\r\n                        len = len * 2\r\n                    }\r\n                    for (i = 0; i < len; i++) {\r\n                        tmpWaveY.push(this.waveY[i]);\r\n                    }\r\n                    if (tmpWaveY.length > 0) {\r\n                        for (i = 0; i < tmpWaveY.length; i++) {\r\n                            sum += tmpWaveY[i];\r\n                        }\r\n                        aver = sum / tmpWaveY.length;\r\n                        for (i = 0; i < tmpWaveY.length; i++) {\r\n                            tmpWaveY[i] -= aver;\r\n                        }\r\n                    }\r\n                } else {\r\n                    var dValue = Math.pow(2, k + 1) - waveY.length\r\n                    var d2 = dValue / 2\r\n                    var before = [],\r\n                        after = []\r\n                    for (var i = 0; i < dValue; i++) {\r\n                        i < d2 ? before.push(0) : after.push(0)\r\n                    }\r\n                    tmpWaveY = before.concat(waveY, after)\r\n                    len = tmpWaveY.length;\r\n                    mi = k + 1\r\n                }\r\n                if (this.flag_winFunc == 1) {\r\n                    for (i = 0; i < len; i++) {\r\n                        tmpWaveY[i] = tmpWaveY[i] * (0.5 - 0.5 * Math.cos(2 * Math.PI * i / len));\r\n                    }\r\n                }\r\n                var tmpSpectrumY = [];\r\n                var specturm_data = this.waveFFT(tmpWaveY, freq, 0, len, mi);\r\n                tmpSpectrumY = specturm_data[1];\r\n                len = tmpSpectrumY.length;\r\n                if (this.flag_winFunc == 1) { //加汉宁窗后，幅值补偿\r\n                    for (i = 0; i < len; i++) {\r\n                        tmpSpectrumY[i] *= 2;\r\n                    }\r\n                    if (this.fMaxFZ != -1) {\r\n                        this.fMaxFZ *= 2;\r\n                    }\r\n                }\r\n                this.sourceSpectrumX = specturm_data[0];\r\n                this.sourceSpectrumY = tmpSpectrumY;\r\n                this.scoreSpectrumY = tmpSpectrumY;\r\n                this.spectrumX = specturm_data[0];\r\n                this.spectrumY = tmpSpectrumY;\r\n                var freqXtrumValue = 0;\r\n                this.freqXtrum = [];\r\n                if (this.rotateSpeed != 0) {\r\n                    for (var j = 0; j < this.sourceSpectrumX.length; j++) {\r\n                        freqXtrumValue = Math.round(this.sourceSpectrumX[j] * 60 / this.rotateSpeed * 10000) / 10000;\r\n                        this.freqXtrum.push(freqXtrumValue);\r\n                    }\r\n                } else {\r\n                    this.freqXtrum = specturm_data[0];\r\n                }\r\n                this.allToCurPower();\r\n                this.makeFftData(2);\r\n                if (this.unitSpec != this.srcUnitSpec) {\r\n                    this.unitType = 2;\r\n                    var newUnitSpec = this.unitSpec;\r\n                    this.unitSpec = this.srcUnitSpec;\r\n                    this.setUnitSelect(newUnitSpec);\r\n                }\r\n                /*当点击汉宁窗时，数据会重汇，导致tooltip会消失。现处理为当启用峰值停靠时取消tooltip,当关闭峰值停靠时重新tooltip*/\r\n\r\n                /*if(this.flag_addPeak){\r\n          this.click_peak = \"click\";\r\n          if(this.xIndex>0){\r\n              this.chart.dispatchAction({\r\n                  type: 'showTip',\r\n                  seriesIndex: 0,\r\n                  dataIndex: this.xIndex,\r\n              });\r\n          }\r\n          setTimeout(function(){\r\n              this.click_peak = \"none\";\r\n          },1000);\r\n      }else {\r\n          if(this.xIndex>0){\r\n              this.chart.dispatchAction({\r\n                  type: 'showTip',\r\n                  seriesIndex: 0,\r\n                  dataIndex: this.xIndex,\r\n              });\r\n          }\r\n      }*/\r\n            },\r\n            setFreq_or_nx: function(type) { //切换阶比\r\n                this.changePos = false;\r\n                this.changeTrend = false;\r\n                this.flag_f_nx.val = Math.abs(this.flag_f_nx.val - 1);\r\n                if (this.rotateSpeed == 0) {\r\n                    swal({\r\n                        title: \"提示\",\r\n                        text: '转速为0，切换为阶比功能不可用',\r\n                        button: \"确认\",\r\n                    });\r\n                    this.flag_f_nx.val = 0;\r\n                    return;\r\n                } else if (this.rotateSpeed == 1000000000) {\r\n                    if(type!==2){\r\n                        swal({\r\n                            title: \"提示\",\r\n                            text: '无转速，切换为阶比功能不可用',\r\n                            button: \"确认\",\r\n                        });\r\n                    }\r\n                    this.flag_f_nx.val = 0;\r\n                    return;\r\n                } else if (this.rotateSpeed != 0 && (this.selectPosition.pos_type == 8 || this.selectPosition.pos_type == 9)) {\r\n                    swal({\r\n                        title: \"提示\",\r\n                        text: '已为阶比，切换为阶比功能不可用',\r\n                        button: \"确认\",\r\n                    });\r\n                    this.flag_f_nx.val = 0;\r\n                    return;\r\n                } else {\r\n                    if (this.flag_f_nx.val == 1) { //阶比\r\n                        this.spectrumStyle = 'bar-line';\r\n                        this.unitXSpec = 'NX';\r\n                        this.spectrumX = this.freqXtrum;\r\n                        /*this.setIntervalNum();\r\n          if(this.spectrumX.length>50000){\r\n              this.spectrumStyle = 'line';\r\n              // /!*this.specturmOption.series[0].large = true;*!/\r\n          }else{\r\n              this.spectrumStyle = 'bar-line';\r\n              /!*if(this.specturmOption.series[0].large){\r\n                  delete this.specturmOption.series[0].large;\r\n              }*!/\r\n          }*/\r\n                        this.flag_f_nx.isChange = true\r\n\r\n                    } else {\r\n                        this.spectrumStyle = 'line';\r\n                        this.unitXSpec = 'Hz';\r\n                        this.spectrumX = this.sourceSpectrumX;\r\n                        // this.setIntervalNum();\r\n                        /*if (this.specturmOption.series[0].large) {\r\n              delete this.specturmOption.series[0].large;\r\n          }*/\r\n                        this.flag_f_nx.isChange = false\r\n                    }\r\n                }\r\n                // console.log(this.specturmOption.series[0]);\r\n                /*当点击切换阶比时，数据会重汇，导致tooltip会消失。现处理为当启用峰值停靠时取消tooltip,当关闭峰值停靠时重新tooltip*/\r\n                if (this.flag_f_nx.val) {\r\n                    this.name_type = \"倍频\";\r\n                    this.failureUnit_detail = \"NX\";\r\n                }\r\n                this.makeFftData(2);\r\n                /*this.$nextTick(function () {\r\n              if(this.power_a==\"NaN\"){\r\n                  this.power_a = 0;\r\n              }\r\n              // this.setPowerRms(this.power_a,this.power_b);\r\n              /!*this.failureOk();*!/\r\n              if(this.click_num>1){\r\n                  this.failureOk();\r\n              }\r\n              setTimeout(function () {\r\n                  if(this.clickNum!=3){\r\n                      if(this.flag_addPeak){\r\n                          this.click_peak = \"click\";\r\n                          if(this.xIndex>0){\r\n                              this.chart.dispatchAction({\r\n                                  type: 'showTip',\r\n                                  seriesIndex: 0,\r\n                                  dataIndex: this.xIndex,\r\n                              });\r\n                          }\r\n                          setTimeout(function(){\r\n                              this.click_peak = \"none\";\r\n                          },1000);\r\n                      }\r\n                      else {\r\n                          if(this.xIndex>0){\r\n                              this.chart.dispatchAction({\r\n                                  type: 'showTip',\r\n                                  seriesIndex: 0,\r\n                                  dataIndex: this.xIndex,\r\n                              });\r\n                          }\r\n                      }\r\n                  }\r\n              })\r\n          });*/\r\n\r\n            },\r\n            setTo_1_X: function() { //定位1倍频\r\n                /*if (this.rotateSpeed == 0) { //如果转速为0，定位一倍频功能不可用\r\n          // this.flag_oneF = 0;\r\n          swal('转速为0，定位1倍频功能不可用！');\r\n      } else {\r\n          this.flag_oneF = Math.abs(this.flag_oneF - 1);\r\n          this.labelLineSpec();\r\n      }*/\r\n\r\n            },\r\n            showHideLow: function() { //显示低频过滤设置窗口\r\n                $(\"#hide_low_alert\").css({\r\n                    \"display\": \"block\"\r\n                });\r\n                // this.hideLowOk();\r\n            },\r\n            hideLowOk: function(t_id) { //确定\r\n                // this.setHideLow(this.hide_low);\r\n                this.changePos = false;\r\n                this.changeTrend = false;\r\n                if (Number(this.power_a) > Number(this.power_b) && this.power_b != 0) {\r\n                    return;\r\n                }\r\n                for (let i = 0, l = this.allPos.length; i < l; i++) {\r\n                    if (this.selectPositionId.split('_')[0] == this.allPos[i].type &&\r\n                        this.selectPositionId.split('_')[1] == this.allPos[i].id) {\r\n                        this.sourceAllPower[i].a = this.power_a\r\n                        this.sourceAllPower[i].b = this.power_b\r\n                        break;\r\n                    }\r\n                }\r\n                this.setPowerRms(this.power_a, this.power_b);\r\n                this.closeAlert(t_id);\r\n            },\r\n            showPowerRms: function() { //有效频率上下限窗口\r\n                if (this.power_a == -1) {\r\n                    this.power_a = 0;\r\n                }\r\n                $(\"#powerRms_alert\").css({\r\n                    \"display\": \"block\"\r\n                });\r\n            },\r\n            powerRmsOk: function(t_id) { //确定\r\n                this.changePos = false;\r\n                this.changeTrend = false;\r\n                if (Number(this.power_a) > Number(this.power_b) && this.power_b != 0) {\r\n                    return;\r\n                }\r\n                for (let i = 0, l = this.allPos.length; i < l; i++) {\r\n                    if (this.selectPositionId.split('_')[0] == this.allPos[i].type &&\r\n                        this.selectPositionId.split('_')[1] == this.allPos[i].id ||\r\n                        (this.allPos[i].name === this.curPosFlag.name &&\r\n                            this.allPos[i].ppid == this.curPosFlag.ppid)\r\n                    ) {\r\n                        this.sourceAllPower[i].a = this.power_a\r\n                        this.sourceAllPower[i].b = this.power_b\r\n                        break;\r\n                    }\r\n                }\r\n                this.setPowerRms(this.power_a, this.power_b);\r\n                /*当启用有效频率差时，标注倍频的点如果超出范围应该过滤掉*/\r\n                /*var rms_labelList = [];\r\n      for(var i=0;i<this.labelList.length;i++){\r\n          if(this.spectrumX[Number(this.labelList[i].coord[0])]>this.spectrumX[this.spectrumX.length-1] || this.spectrumX[Number(this.labelList[i].coord[0])]< this.spectrumX[0] ){\r\n              continue;\r\n          }\r\n          else{\r\n              rms_labelList.push(this.labelList[i]);\r\n          }\r\n      }\r\n      this.labelList = rms_labelList;*/\r\n                this.closeAlert(t_id);\r\n                /*当点有效频率时，数据会重汇，导致tooltip会消失。现处理为当启用峰值停靠时取消tooltip,当关闭峰值停靠时重新tooltip*/\r\n                // this.locationIndex();\r\n            },\r\n            setPowerRms: function(a, b) { //设置有效频率上下限\r\n                this.power_a = a;\r\n                this.power_b = b;\r\n\r\n                this.peakIndexArr.length = 0;\r\n                this.autoPeakNum = -1;\r\n                $($('.tool_list > li')[9]).removeClass(\"active\");\r\n                this.labelLineSpec();\r\n                this.makeFftData(2);\r\n                // this.setIntervalNum();\r\n            },\r\n            setLabel_nx: function() { //标注倍频\r\n                this.flag_nx = Math.abs(this.flag_nx - 1);\r\n                // this.labelLineSpec();\r\n            },\r\n            setAuto_tip: function() { //循环寻峰\r\n                // this.peakIndexArr = this.getPeakIndexArr(this.spectrumY,10);\r\n                /*this.peakIndexArr = this.getPeakIndexArr(this.cutSpectrum.y,10);\r\n      this.autoPeakNum++;\r\n      if(this.autoPeakNum >= 10){\r\n          this.autoPeakNum = -1;\r\n      }\r\n      this.labelLineSpec();*/\r\n            },\r\n            setAdd_label: function() { //添加标注\r\n                this.flag_addLabel = Math.abs(this.flag_addLabel - 1);\r\n            },\r\n            setClear_label: function() { //取消所有标注\r\n                this.labelList = new Array();\r\n\r\n            },\r\n            setPeak_nx: function() {\r\n                this.flag_addPeak = !this.flag_addPeak;\r\n                this.peak_tooltip();\r\n            },\r\n            peak_tooltip: function() {\r\n                if (this.flag_addPeak) {\r\n                    this.click_peak = \"none\";\r\n                } else {\r\n                    this.click_peak = \"click\";\r\n                }\r\n            },\r\n            timetrans: function(date) {\r\n                var date = new Date(date); //如果date为10位不需要乘1000\r\n                var Y = date.getFullYear() + '-';\r\n                var M = (date.getMonth() + 1 < 10 ? '0' + (date.getMonth() + 1) : date.getMonth() + 1) + '-';\r\n                var D = (date.getDate() < 10 ? '0' + (date.getDate()) : date.getDate()) + ' ';\r\n                var h = (date.getHours() < 10 ? '0' + date.getHours() : date.getHours()) + ':';\r\n                var m = (date.getMinutes() < 10 ? '0' + date.getMinutes() : date.getMinutes()) + ':';\r\n                var s = (date.getSeconds() < 10 ? '0' + date.getSeconds() : date.getSeconds());\r\n                return Y + M + D + h + m + s;\r\n            },\r\n            keepPage: function() {\r\n                var that = this;\r\n                var fileName = that.fileName + \"_深入分析图.png\"; //导出文件名\r\n                // console.log(fileName);\r\n                setTimeout(function() {\r\n                    var canvas2 = document.createElement(\"canvas\");\r\n                    var _canvas = document.querySelector('.line_box');\r\n                    var w = parseInt(window.getComputedStyle(_canvas).width);\r\n                    var h = parseInt(window.getComputedStyle(_canvas).height);\r\n                    //将canvas画布放大若干倍，然后盛放在较小的容器内，就显得不模糊了\r\n                    canvas2.width = w * 2;\r\n                    canvas2.height = h * 2;\r\n                    canvas2.style.width = w + \"px\";\r\n                    canvas2.style.height = h + \"px\";\r\n                    //context的参数修改,translate指的是偏移量\r\n                    var context = canvas2.getContext(\"2d\");\r\n                    context.scale(2, 2);\r\n                    html2canvas(document.querySelector('.line_box'), {\r\n                        backgroundColor: that.backgroundColor\r\n                    }, {\r\n                        canvas: canvas2\r\n                    }).then(function(canvas) {\r\n                        //canvas转换成url，然后利用a标签的download属性，直接下载，绕过上传服务器再下载\r\n                        if(document.querySelector(\"#keep_download\")!=undefined){\r\n                            document.querySelector(\"#keep_download\").setAttribute('href', canvas.toDataURL());\r\n                            document.querySelector(\"#keep_download\").setAttribute('download', fileName);\r\n                        }\r\n                    });\r\n                    $('#keep_download').click();\r\n                }, 600);\r\n            },\r\n            showFailureAlert: function() {\r\n\r\n                this.click_num = Number(this.click_num + 1);\r\n                if (this.click_num == 1) { //如果是第一次点击，发电机输入轴转速初始化为rpm\r\n                    this.freq_speed_failure = this.rotateSpeed;\r\n                    this.failureOk();\r\n                }\r\n\r\n                if (this.selectPosition.dgm_type == 2) {\r\n                    $('#failure_alert').css('display', 'none');\r\n                    $('#failure_alert_dolt').css('display', 'block');\r\n                } else {\r\n                    $('#failure_alert_dolt').css('display', 'none');\r\n                    $('#failure_alert').css('display', 'block');\r\n                }\r\n            },\r\n            setFailure_alert: function() { //故障频率弹窗\r\n                $('#failure_detail_alert').css('display', 'block');\r\n            },\r\n            clear_failure: function(t_id) {\r\n                this.failureList = [];\r\n                this.nxArraySpec = [];\r\n                $('#failure_alert_dolt').css('display', 'none');\r\n            },\r\n            failureOk: function() { //确定\r\n                this.failureList = [];\r\n                this.failureList_detail = [];\r\n                var i = 0;\r\n                var j = 0;\r\n                var t_num = 0;\r\n                var t_x = 0; //计算频率\r\n                var t_index = 0; //索引\r\n                var t_child = {};\r\n                var t_item = {};\r\n                var t_obj = {};\r\n                var flag_checked = false;\r\n                var xArr = this.sourceSpectrumX;\r\n                /**叶片的情况**/\r\n                if (this.selectPosition.dgm_type == 2) {\r\n                    this.failureList = [];\r\n                    var freq_value;\r\n                    var blade_index;\r\n                    var blade_x;\r\n                    var blade_y;\r\n                    for (var k = 0; k < 6; k++) {\r\n                        var blade_obj = {};\r\n                        freq_value = Number($(\"#freq\" + k).val().trim());\r\n                        if (freq_value < xArr[xArr.length - 1] || freq_value == xArr[xArr.length - 1]) {\r\n                            blade_index = this.indexOfArray(xArr, freq_value, 0);\r\n                            blade_x = Number(xArr[blade_index]).toFixed(2);\r\n                            blade_y = Number(this.sourceSpectrumY[blade_index]).toFixed(5);\r\n                            blade_obj.id = k;\r\n                            blade_obj.num = \"BPF\" + \".\" + (k + 1);\r\n                            blade_obj.name = \"通过频率\" + (k + 1);\r\n                            blade_obj.index = blade_index;\r\n                            blade_obj.x = blade_x;\r\n                            blade_obj.y = blade_y;\r\n                            this.failureList.push(blade_obj);\r\n                        }\r\n                    }\r\n                } else { //非叶片的情况\r\n                    var t_curSpeedRate = 1;\r\n                    if (this.specType == 2 && this.isPosVibSeries(this.selectPosition.position_type)) {\r\n                        t_curSpeedRate = this.selectPosition.speedRate;\r\n                    }\r\n                    if (this.gearList[0].state == true && this.gearList[0].children.length > 0) {\r\n                        t_num = 0;\r\n                        /* console.log(this.gearList[0]);*/\r\n                        for (i = 0; i < this.gearList[0].children.length; i++) {\r\n                            t_child = this.gearList[0].children[i];\r\n                            if (t_child.state == false) {\r\n                                continue;\r\n                            }\r\n                            for (j = 0; j < t_child.children.length; j++) {\r\n                                t_item = t_child.children[j];\r\n                                if (t_item.state == false) {\r\n                                    continue;\r\n                                }\r\n                                t_num++;\r\n                                t_obj = {};\r\n                                t_obj.id = t_item.id;\r\n                                t_obj.num = t_item.type + \".\" + t_num;\r\n                                t_obj.name = t_child.name + \"/\" + t_item.name;\r\n                                if (this.specType == 2) {\r\n                                    t_x = t_item.value * t_item.speedRate / t_curSpeedRate;\r\n                                } else if (this.flag_f_nx.isChange) {\r\n                                    t_x = t_item.value * t_item.speedRate * this.freq_speed_failure / this.rotateSpeed;\r\n                                    xArr = this.freqXtrum;\r\n                                } else {\r\n                                    t_x = t_item.value * t_item.speedRate * this.freq_speed_failure / 60;\r\n                                }\r\n                                if (t_x <= xArr[xArr.length - 1]) {\r\n                                    t_index = this.indexOfArray(xArr, t_x, 0);\r\n                                    t_obj.index = t_index;\r\n                                    t_obj.x = Number(xArr[t_index]).toFixed(2);\r\n                                    t_obj.y = Number(this.sourceSpectrumY[t_index]).toFixed(5);\r\n                                    this.failureList.push(t_obj);\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    if (this.bearList[0].state == true && this.bearList[0].children.length > 0) {\r\n                        t_num = 1;\r\n                        for (i = 0; i < this.bearList[0].children.length; i++) {\r\n                            t_child = this.bearList[0].children[i];\r\n                            if (t_child.state == false) {\r\n                                continue;\r\n                            }\r\n                            flag_checked = false;\r\n                            for (j = 0; j < t_child.children.length; j++) {\r\n                                t_item = t_child.children[j];\r\n                                if (t_item.state == false) {\r\n                                    continue;\r\n                                }\r\n                                t_obj = {};\r\n                                t_obj.id = t_item.id;\r\n                                t_obj.num = t_item.type + \".\" + t_num;\r\n                                t_obj.name = t_child.name + \"/\" + t_item.name;\r\n                                if (this.specType == 2) {\r\n                                    t_x = t_item.value * t_item.speedRate / t_curSpeedRate;\r\n                                } else if (this.flag_f_nx.isChange) {\r\n                                    t_x = t_item.value * t_item.speedRate * this.freq_speed_failure / this.rotateSpeed;\r\n                                    xArr = this.freqXtrum;\r\n                                } else {\r\n                                    t_x = t_item.value * t_item.speedRate * this.freq_speed_failure / 60;\r\n                                }\r\n                                if (t_x <= xArr[xArr.length - 1]) {\r\n                                    t_index = this.indexOfArray(xArr, t_x, 0);\r\n                                    t_obj.index = t_index;\r\n                                    t_obj.x = Number(xArr[t_index]).toFixed(2);\r\n                                    t_obj.y = Number(this.sourceSpectrumY[t_index]).toFixed(5);\r\n                                    this.failureList.push(t_obj);\r\n                                }\r\n                                flag_checked = true;\r\n                            }\r\n                            if (flag_checked) {\r\n                                t_num++;\r\n                            }\r\n                        }\r\n                    }\r\n                    if (this.speedList[0].state == true && this.speedList[0].children.length > 0) {\r\n                        t_num = 0;\r\n                        for (j = 0; j < this.speedList[0].children.length; j++) {\r\n                            t_item = this.speedList[0].children[j];\r\n                            if (t_item.state == false) {\r\n                                continue;\r\n                            }\r\n                            t_num++;\r\n                            t_obj = {};\r\n                            t_obj.id = t_item.id;\r\n                            t_obj.num = t_item.type + \".\" + t_num;\r\n                            t_obj.name = t_item.name;\r\n                            if (this.specType == 2) {\r\n                                t_x = t_item.value * t_item.speedRate / t_curSpeedRate;\r\n                            } else if (this.flag_f_nx.isChange) {\r\n                                t_x = t_item.value * t_item.speedRate * this.freq_speed_failure / this.rotateSpeed;\r\n                                xArr = this.freqXtrum;\r\n                            } else {\r\n                                t_x = t_item.value * t_item.speedRate * this.freq_speed_failure / 60;\r\n                            }\r\n                            if (t_x <= xArr[xArr.length - 1]) {\r\n                                t_index = this.indexOfArray(xArr, t_x, 0);\r\n                                t_obj.index = t_index;\r\n                                t_obj.x = Number(xArr[t_index]).toFixed(2);\r\n                                t_obj.y = Number(this.sourceSpectrumY[t_index]).toFixed(5);\r\n                                this.failureList.push(t_obj);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                this.failureList_detail = this.failureList\r\n                this.labelLineSpec();\r\n                // this.closeAlert(t_id);\r\n            },\r\n            toggleList: function(obj, number) { //故障那个频率弹窗中点击列表下拉\r\n                var el = obj.target;\r\n                var failureList = '.failure_list' + number;\r\n                if (number == 2) {\r\n                    $(el).toggleClass('f-iconJian f-iconJia1');\r\n                } else {\r\n                    $(el).toggleClass('f-iconJia f-iconJian');\r\n                }\r\n\r\n                $(el).parent().find(failureList).slideToggle();\r\n            },\r\n            checkChange: function(flag, list, child, item) {\r\n                var nextState = false; //点击事件后的勾选状态\r\n                var i = 0;\r\n                var j = 0;\r\n                var t_list = {};\r\n                var t_child = {};\r\n                var t_item = {};\r\n                var flag_one_check = false; //至少有一个选中\r\n                switch (flag) {\r\n                    case 0: //根节点\r\n                        nextState = !list.state;\r\n                        if (list.children.length > 0) {\r\n                            for (i = 0; i < list.children.length; i++) {\r\n                                t_child = list.children[i];\r\n                                t_child.state = nextState;\r\n                                if (t_child.hasOwnProperty(\"children\") && t_child.children.length > 0) {\r\n                                    for (j = 0; j < t_child.children.length; j++) {\r\n                                        t_item = t_child.children[j];\r\n                                        t_item.state = nextState;\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                        break;\r\n                    case 1: //子节点\r\n                        nextState = !child.state;\r\n                        if (child.hasOwnProperty(\"children\") && child.children.length > 0) {\r\n                            for (j = 0; j < child.children.length; j++) {\r\n                                t_item = child.children[j];\r\n                                t_item.state = nextState;\r\n                            }\r\n                        }\r\n                        if (nextState == false) {\r\n                            for (i = 0; i < list.children.length; i++) {\r\n                                t_child = list.children[i];\r\n                                if (t_child.id == child.id) {\r\n                                    continue;\r\n                                }\r\n                                if (t_child.state == true) {\r\n                                    flag_one_check = true;\r\n                                    break;\r\n                                }\r\n                            }\r\n                            if (flag_one_check) {\r\n                                list.state = true;\r\n                            } else {\r\n                                list.state = false;\r\n                            }\r\n                        } else {\r\n                            list.state = true;\r\n                        }\r\n                        break;\r\n                    case 2: //叶节点\r\n                        nextState = !item.state;\r\n                        if (nextState == false) {\r\n                            flag_one_check = false;\r\n                            for (j = 0; j < child.children.length; j++) {\r\n                                t_item = child.children[j];\r\n                                if (t_item.id == item.id) {\r\n                                    continue;\r\n                                }\r\n                                if (t_item.state == true) {\r\n                                    flag_one_check = true;\r\n                                    break;\r\n                                }\r\n                            }\r\n                            if (flag_one_check) {\r\n                                child.state = true;\r\n                            } else {\r\n                                child.state = false;\r\n                            }\r\n                        } else {\r\n                            child.state = true;\r\n                        }\r\n                        if (child.state == false) {\r\n                            flag_one_check = false;\r\n                            for (i = 0; i < list.children.length; i++) {\r\n                                t_child = list.children[i];\r\n                                if (t_child.id == child.id) {\r\n                                    continue;\r\n                                }\r\n                                if (t_child.state == true) {\r\n                                    flag_one_check = true;\r\n                                    break;\r\n                                }\r\n                            }\r\n                            if (flag_one_check) {\r\n                                list.state = true;\r\n                            } else {\r\n                                list.state = false;\r\n                            }\r\n                        } else {\r\n                            list.state = true;\r\n                        }\r\n                        break;\r\n                };\r\n                this.$nextTick(function() {\r\n                    this.checkedNum();\r\n                });\r\n            },\r\n            checkedNum: function() {\r\n                /**选中项的相同单位的序号赋值如：GMF.1/GMF.2**/\r\n                var k = 0;\r\n                var l = 0;\r\n                var t_num = 0;\r\n                var t_child_num = {};\r\n                var t_item_num = {};\r\n                var flag_checked = false;\r\n                // console.log(this.gearList[0]);\r\n                if (this.gearList[0].state == true && this.gearList[0].children.length > 0) {\r\n                    t_num = 0;\r\n                    for (k = 0; k < this.gearList[0].children.length; k++) {\r\n                        t_child_num = this.gearList[0].children[k];\r\n                        if (t_child_num.state == false) {\r\n                            continue;\r\n                        }\r\n                        for (l = 0; l < t_child_num.children.length; l++) {\r\n                            t_item_num = t_child_num.children[l];\r\n                            if (t_item_num.state == false) {\r\n                                continue;\r\n                            }\r\n                            t_num++;\r\n                            t_item_num.label = t_num;\r\n                        }\r\n                    }\r\n                }\r\n                if (this.bearList[0].state == true && this.bearList[0].children.length > 0) {\r\n                    t_num = 1;\r\n                    for (k = 0; k < this.bearList[0].children.length; k++) {\r\n                        t_child_num = this.bearList[0].children[k];\r\n                        if (t_child_num.state == false) {\r\n                            continue;\r\n                        }\r\n                        flag_checked = false;\r\n                        for (l = 0; l < t_child_num.children.length; l++) {\r\n                            t_item_num = t_child_num.children[l];\r\n                            if (t_item_num.state == false) {\r\n                                continue;\r\n                            }\r\n                            flag_checked = true;\r\n                            t_item_num.label = t_num;\r\n                        }\r\n                        if (flag_checked) {\r\n                            t_num++;\r\n                        }\r\n                    }\r\n                }\r\n                if (this.speedList[0].state == true && this.speedList[0].children.length > 0) {\r\n                    t_num = 0;\r\n                    for (l = 0; l < this.speedList[0].children.length; l++) {\r\n                        t_item_num = this.speedList[0].children[l];\r\n                        if (t_item_num.state == false) {\r\n                            continue;\r\n                        }\r\n                        t_num++;\r\n                        t_item_num.label = t_num;\r\n                    }\r\n                }\r\n                this.failureOk();\r\n            },\r\n            checkAll: function(number, list) {\r\n                var nextState = !list.state; //点击事件后的勾选状态\r\n                var i = 0;\r\n                var j = 0;\r\n                var child = {};\r\n                var item = {};\r\n                if (list.children.length > 0) {\r\n                    for (i = 0; i < list.children.length; i++) {\r\n                        child = list.children[i];\r\n                        child.state = nextState;\r\n                        if (child.hasOwnProperty(\"children\") && child.children.length > 0) {\r\n                            for (j = 0; j < child.children.length; j++) {\r\n                                item = child.children[j];\r\n                                item.state = nextState;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            chooseSpeed: function() { //是否启用模拟转速\r\n                if ($('#chooseYes').is(':checked')) { //如果选中了启用模拟转速，这输入框可输入数字\r\n                    $('#failure_speed_number').attr('disabled', false);\r\n                } else {\r\n                    $('#failure_speed_number').attr('disabled', true);\r\n                }\r\n            },\r\n            labelChanges: function(item) {\r\n                if (this.selectPosition.position_type == 8 || this.selectPosition.position_type == 9) {\r\n                    this.failureUnit = \"NX\"; //当测点为振动阶次或者包络阶次时，故障频率和故障明细的单位要改变\r\n                    this.failureUnit_detail = \"NX\"\r\n                } else if (this.flag_f_nx.val) {\r\n                    this.failureUnit_detail = \"NX\"\r\n                    this.failureUnit = 'NX';\r\n                } else {\r\n                    this.failureUnit = \"Hz\";\r\n                    this.name_type = \"频率\";\r\n                    this.failureUnit_detail = \"Hz\"\r\n                }\r\n\r\n                var freq = 0;\r\n                if (this.specType == 2) {\r\n                    var t_curSpeedRate = 1;\r\n                    if (this.isPosVibSeries(this.selectPosition.position_type)) {\r\n                        t_curSpeedRate = this.selectPosition.speedRate;\r\n                    }\r\n                    freq = (item.value * item.speedRate / t_curSpeedRate).toFixed(2);\r\n                } else {\r\n                    freq = (item.value * item.speedRate * this.freq_speed_failure / 60).toFixed(2);\r\n                    this.flag_f_nx.val && (freq = (freq * 60 / this.rotateSpeed).toFixed(2));\r\n                }\r\n                var types = \"(\" + item.type + \".\" + item.label + \")\";\r\n                var labelValue = types + freq + this.failureUnit;\r\n                return labelValue;\r\n            },\r\n            addActive: function(event, index) {\r\n                var target = event.currentTarget;\r\n                /**对称频率差**/\r\n                if (index == 0 || index == 1 || index == 6 || index == 10) {\r\n                    $(target).toggleClass('active');\r\n                }\r\n                if (index == 9) { //点击循环寻峰\r\n                    $(target).addClass('active');\r\n                    if (this.autoPeakNum == -1) {\r\n                        $(target).removeClass(\"active\");\r\n                    }\r\n                }\r\n                if (index == 2 && this.rotateSpeed == 0) { //点击切换为阶比功能\r\n                    swal({\r\n                        title: \"提示\",\r\n                        text: '当前转速为0，切换为x轴阶比不可用',\r\n                        button: \"确认\",\r\n                    });\r\n                } else if (index == 2 && this.rotateSpeed != 0 && (this.selectPosition.position_type != 8 && this.selectPosition.position_type != 9)) {\r\n                    $(target).toggleClass('active');\r\n                }\r\n                if (index == 3 && this.rotateSpeed == 0) { //点击切换为1倍频功能\r\n                    swal({\r\n                        title: \"提示\",\r\n                        text: '当前转速为0，切换为1倍频不可用',\r\n                        button: \"确认\",\r\n                    });\r\n                }\r\n            },\r\n           //2600设为基准\r\n            setBaseWave(){\r\n                let params = null;\r\n                params = {\r\n                    dgm_id: this.selectPosition.dgm_id,\r\n                    ch_id: this.selectPosition.ch_id,\r\n                    time: this.oriChangeTime,\r\n                };\r\n                this.$getApi.setBasicWave(params)\r\n                    .then(res=>{\r\n                        if(res.msg===0){\r\n                            swal({\r\n                                title: \"提示\",\r\n                                text: '设置成功',\r\n                                button: \"确认\",\r\n                            });\r\n                        }\r\n                        else{\r\n                            swal({\r\n                                title: \"提示\",\r\n                                text: '设置失败',\r\n                                button: \"确认\",\r\n                            });\r\n                        }\r\n                    })\r\n                    .catch(err=>{\r\n                        console.log('请求错误' ,err)\r\n                    })\r\n            },\r\n            // 2600手动采集波形\r\n            getBaseWave(){\r\n                let params = null;\r\n                params = {\r\n                    dgm_id: this.selectPosition.dgm_id,\r\n                    channel: this.selectPosition.ch_id\r\n                };\r\n                this.$getApi.clickToDgmData(params)\r\n                    .then(res=>{\r\n                        if(res.msg===0){\r\n                            swal({\r\n                                title: \"提示\",\r\n                                text: '设置成功',\r\n                                button: \"确认\",\r\n                            });\r\n                        }\r\n                        else{\r\n                            swal({\r\n                                title: \"提示\",\r\n                                text: '设置失败',\r\n                                button: \"确认\",\r\n                            });\r\n                        }\r\n                    })\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n    #wave-content{\r\n        .myHeader{\r\n            height: 80px;\r\n            line-height: 80px;\r\n            padding: 0 20px;\r\n            background: #fff;\r\n            .form-group{\r\n                float: left;\r\n                .select-group{\r\n                    display: inline-block;\r\n                    margin-right: 90px;\r\n                    &:last-child{\r\n                        margin-right: 10px;\r\n                    }\r\n                    .lableName{\r\n                        font-size: 20px;\r\n                        vertical-align: middle;\r\n                    }\r\n                    .select-header{\r\n                        font-size: 14px;\r\n                        min-width:100px;\r\n                        height:30px;\r\n                        border:1px solid #D9D9D9;\r\n                        border-radius:8px;\r\n                        cursor: pointer;\r\n                        vertical-align: middle;\r\n                        &:focus{\r\n                            outline: none;\r\n                            border:1px solid #C9DBEF;\r\n                        }\r\n                    }\r\n                }\r\n                @media (max-width: 1400px) {\r\n                    .select-group{\r\n                        margin-right: 15px;\r\n                    }\r\n                }\r\n            }\r\n            /*关闭状态*/\r\n            .dashDiv{\r\n                position: absolute;\r\n                right: 20px;\r\n                top: 25px;\r\n                border-radius: 20px;\r\n                border: 1px solid #CBCBCB;\r\n                width: 75px;\r\n                height: 30px;\r\n                line-height: 30px;\r\n                box-sizing: border-box;\r\n                background: #CBCBCB;\r\n                cursor: pointer;\r\n                display:flex;\r\n                justify-content:space-between;\r\n            }\r\n            .dashDiv .dashSpan{\r\n                border-radius: 50%;\r\n                border: 1px solid #CBCBCB;\r\n                background-color: #FFFFFF;\r\n                display: inline-block;\r\n                width: 28px;\r\n                height: 28px;\r\n                box-sizing: border-box;\r\n            }\r\n            .dashDiv .dashText{\r\n                display: inline-block;\r\n                padding-right: 6px;\r\n                height: 30px;\r\n                line-height: 28px;\r\n            }\r\n            /*开通状态*/\r\n            .dashDivSelectd{\r\n                position: absolute;\r\n                right: 20px;\r\n                top: 25px;\r\n                border-radius: 20px;\r\n                border: 1px solid #597DD2;\r\n                width: 75px;\r\n                height: 30px;\r\n                line-height: 30px;\r\n                box-sizing: border-box;\r\n                background: #597DD2;\r\n                cursor: pointer;\r\n                display:flex;\r\n                justify-content:space-between;\r\n                transition: .5s;\r\n                flex-flow: row-reverse;\r\n            }\r\n            .dashDivSelectd .dashSpan{\r\n                border-radius: 50%;\r\n                border: 1px solid #fff;\r\n                background-color: #FFFFFF;\r\n                display: inline-block;\r\n                width: 28px;\r\n                height: 28px;\r\n                box-sizing: border-box;\r\n            }\r\n            .dashDivSelectd .dashText{\r\n                display: inline-block;\r\n                padding-left: 6px;\r\n                height: 30px;\r\n                line-height: 28px;\r\n                color: #fff;\r\n            }\r\n            .headerBtn{\r\n                position: absolute;\r\n                right: 20px;\r\n                top: 25px;\r\n                width:100px;\r\n                height:30px;\r\n                background: #597dd2;\r\n                border-radius:4px;\r\n                outline: none;\r\n                border: none;\r\n                color: #fff;\r\n                &:hover{\r\n                    background: darken(#597dd2,10%);\r\n                }\r\n                &:active{\r\n                    background: darken(#597dd2,2%);\r\n                }\r\n            }\r\n            .header-time{\r\n                display: inline-block;\r\n                margin-left: 90px;\r\n                span{\r\n                    font-size: 20px;\r\n                    vertical-align: middle;\r\n                }\r\n                .am-form-field{\r\n                    font-size: 14px;\r\n                    padding: 0 12px;\r\n                    max-width:100px;\r\n                    height:30px;\r\n                    border:1px solid #D9D9D9;\r\n                    border-radius:8px;\r\n                    cursor: pointer;\r\n                    vertical-align: middle;\r\n                    &:focus{\r\n                        outline: none;\r\n                        border:1px solid #C9DBEF;\r\n                    }\r\n                }\r\n            }\r\n            @media (max-width: 1400px) {\r\n                .header-time{\r\n                    margin-left: 15px;\r\n                }\r\n            }\r\n            .speed_choose_div{\r\n                display: none;\r\n                select{\r\n                    font-size: 14px;\r\n                    min-width: 100px;\r\n                    height: 30px;\r\n                    border: 1px solid #d9d9d9;\r\n                    border-radius: 8px;\r\n                    cursor: pointer;\r\n                    vertical-align: middle;\r\n                    &:active,&:focus{\r\n                        outline: none;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        .content{\r\n            background: #e4e8f4;\r\n            padding: 20px;\r\n            flex: 1;\r\n        }\r\n        /*右侧图谱样式*/\r\n        #wavespecturm_box {\r\n            /*position: absolute;*/\r\n            /*left: 18%;*/\r\n            /*top: 0.9rem;*/\r\n            /*width: 82%;*/\r\n            /*height: 80%;*/\r\n        }\r\n        .line_info_box, .line_box, .tool_box, .tool_list {\r\n            font-size: 0.18rem;\r\n            color: #AEAEAE;\r\n        }\r\n        .line_box {\r\n            position: relative;\r\n            width: 95%;\r\n            float: left;\r\n        }\r\n        .tool_box, .line_box {\r\n            overflow: hidden;\r\n            height: 93%;\r\n        }\r\n        .tool_box {\r\n            width: 4%;\r\n            float: right;\r\n        }\r\n        .tool_list {\r\n            height: auto;\r\n            margin: 0 auto;\r\n            padding: 5px 0;\r\n            border-radius: 6px;\r\n            background-color: #fff;\r\n        }\r\n        .line_info_box {\r\n            height: 0.5rem;\r\n            line-height: 0.5rem;\r\n            padding-right: 4%;\r\n        }\r\n        /*保存页面按钮*/\r\n        .line_info_right {\r\n            height: 0.5rem;\r\n            line-height: 0.5rem;\r\n            padding: 0;\r\n            float: right;\r\n        }\r\n        @media (max-width: 1400px) {\r\n            .line_info_right {\r\n                padding: 0.1rem 0;\r\n            }\r\n            .select-header{\r\n                max-width: 80px;\r\n            }\r\n        }\r\n        .line_info_btn {\r\n            background-color: rgba(200,200,200,0.3);\r\n            border-radius: 6px;\r\n            border-color: transparent;\r\n            font-size: 16px;\r\n            margin-bottom: 4px;\r\n            margin-right: 10px;\r\n            text-decoration: none;\r\n            padding: 0.05rem 0.25rem;\r\n        }\r\n        a.keep_btn {\r\n            color: #6BB2FF!important;\r\n        }\r\n        a.keep_btn:hover {\r\n            color: #fff!important;\r\n            background: #6BB2FF;\r\n            cursor: pointer;\r\n        }\r\n        .keep_btn .tool_icon {\r\n            /*background-image: url('../img/save.png');*/\r\n            background-repeat: no-repeat;\r\n            background-size: 0.2rem;\r\n            height: 0.2rem;\r\n            width: 0.2rem;\r\n            line-height: 0.2rem;\r\n            display: inline-block;\r\n        }\r\n        /*波形图和频谱图高度*/\r\n        .wave-chart {\r\n            width:calc((100vw - 320px)/2);\r\n            padding: 10px 0 0 10px;\r\n            float: left;\r\n            height: calc(100vh - 360px);\r\n            background: #fff;\r\n            border-radius: 10px;\r\n            margin-bottom: 20px;\r\n            &:nth-child(3){\r\n                width:calc(100% - 10px);\r\n                height: 200px;\r\n            }\r\n        }\r\n        .wave-chart > span {\r\n            position: relative;\r\n            margin-left: 10px;\r\n            cursor: pointer;\r\n            background-repeat: no-repeat;\r\n            background-position: center center;\r\n            background-size: 100%;\r\n            height: 24px;\r\n            width: 24px;\r\n            float: right;\r\n            z-index: 2;\r\n        }\r\n        .noNowData{\r\n            position: absolute;\r\n            top: 30%;\r\n            left: 21%;\r\n            z-index: 99;\r\n            font-size: 20px;\r\n        }\r\n        .waveTimeText{\r\n            position: absolute;\r\n            top: 14px;\r\n            left: 8%;\r\n            z-index: 99;\r\n            font-size: 14px;\r\n        }\r\n        .wave-btn{\r\n            z-index: 99;\r\n            font-size: 14px;\r\n            height: 30px;\r\n            padding: 0 10px;\r\n            border: 1px solid #d9d9d9;\r\n            border-radius: 8px;\r\n            cursor: pointer;\r\n            background: none;\r\n            &:hover{\r\n                border-color: #eee;\r\n                background: #eee;\r\n            }\r\n        }\r\n        .btn-set{\r\n            position: absolute;\r\n            top: 38px;\r\n            right: calc(50% + 120px);\r\n        }\r\n        .btn-get{\r\n            position: absolute;\r\n            top: 38px;\r\n            right: calc(50% + 30px);\r\n        }\r\n        .wave-chart > span:first-child {\r\n            margin-right: 20px;\r\n        }\r\n        .selectUnit {\r\n            background-image: url('~viewInterface/assets/img/selectUnit.svg');\r\n        }\r\n        .max {\r\n            background-image: url('~viewInterface/assets/img/max.svg');\r\n        }\r\n        .exportMusic {\r\n            background-image: url('~viewInterface/assets/img/exportMusic.svg');\r\n        }\r\n        .exportData {\r\n            background-image: url('~viewInterface/assets/img/exportData.svg');\r\n        }\r\n        .restore {\r\n            background-image: url('~viewInterface/assets/img/restore.svg');\r\n        }\r\n        .dataZoom {\r\n            background-image: url('~viewInterface/assets/img/enlarge.svg');\r\n        }\r\n        .exportImage {\r\n            background-image: url('~viewInterface/assets/img/saveImage.svg');\r\n        }\r\n        .subTime {\r\n            background-image: url('~viewInterface/assets/img/subTime.svg');\r\n        }\r\n        .back {\r\n            background-image: url('~viewInterface/assets/img/back.svg');\r\n        }\r\n        .setAllPower{\r\n            background-image: url('~viewInterface/assets/img/setPower.svg');\r\n        }\r\n\r\n        .selectUnit:hover {\r\n            background-image: url('~viewInterface/assets/img/selectUnitActive.svg');\r\n        }\r\n        .max:hover {\r\n            background-image: url('~viewInterface/assets/img/maxActive.svg');\r\n        }\r\n        .exportMusic:hover {\r\n            background-image: url('~viewInterface/assets/img/exportMusicActive.svg');\r\n        }\r\n        .exportData:hover {\r\n            background-image: url('~viewInterface/assets/img/exportDataActive.svg');\r\n        }\r\n        .restore:hover {\r\n            background-image: url('~viewInterface/assets/img/restoreActive.svg');\r\n        }\r\n        .dataZoom:hover {\r\n            background-image: url('~viewInterface/assets/img/enlargeActive.svg');\r\n        }\r\n        .exportImage:hover {\r\n            background-image: url('~viewInterface/assets/img/saveImageActive.svg');\r\n        }\r\n        .subTime:hover {\r\n            background-image: url('~viewInterface/assets/img/subTimeActive.svg');\r\n        }\r\n        .back:hover {\r\n            background-image: url('~viewInterface/assets/img/backActive.svg');\r\n        }\r\n        .setAllPower:hover{\r\n            background-image: url('~viewInterface/assets/img/setPowerActive.svg');\r\n        }\r\n        .wave-chart > span.active {\r\n            background-image: url('~viewInterface/assets/img/subTimeActive.svg');\r\n        }\r\n        /*右侧小工具*/\r\n        .tool_list > li {\r\n            list-style: none;\r\n            height: 40px;\r\n            line-height: 50px;\r\n            text-align: center;\r\n            width: 40px;\r\n            border: 1px solid transparent;\r\n            border-radius: 10px;\r\n            margin: 20px auto;\r\n        }\r\n        @media (max-height: 800px) {\r\n            .tool_list > li {\r\n                margin: 0.15rem auto;\r\n            }\r\n            .btn-set{\r\n                position: absolute;\r\n                top: 38px;\r\n                right: calc(51% + 110px);\r\n            }\r\n            .btn-get{\r\n                position: absolute;\r\n                top: 38px;\r\n                right: calc(51% + 30px);\r\n            }\r\n        }\r\n        .tool_btn {\r\n            margin: 0 auto;\r\n            display: inline-block;\r\n            width: 22px;\r\n            height: 22px;\r\n            cursor: pointer;\r\n        }\r\n        /*小工具弹出框*/\r\n        .alert_box{\r\n            border-radius: 8px;\r\n            background-color: #e4e8f4;\r\n            position: absolute;\r\n            left: 50%;\r\n            top: 50%;\r\n            color: grey;\r\n            z-index: 999;\r\n        }\r\n        i, font, p {\r\n            font-size: 0.18rem;\r\n        }\r\n        #hide_low_alert, #powerRms_alert {\r\n            width: 300px;\r\n            margin-top: -95px;\r\n            margin-left: -150px;\r\n        }\r\n        #hide_low_alert {\r\n            margin-top: -80px;\r\n        }\r\n        .alert_box i{\r\n            font-style:normal;\r\n        }\r\n        .alert_box_header{\r\n            font-size: 16px;\r\n            font-weight: 400;\r\n            height: 40px;\r\n            line-height: 40px;\r\n            margin: 0;\r\n            text-align: left;\r\n            background: #343c45;\r\n            color: #fff;\r\n            padding: 0 0 0 15px;\r\n            border-top-left-radius: 4px;\r\n            border-top-right-radius: 4px;\r\n        }\r\n        .alert_box_header_left{\r\n            padding: 0px;\r\n            float: left;\r\n        }\r\n        .alert_box_header_right{\r\n            padding: 0px;\r\n            text-align: right;\r\n        }\r\n        .alert_box_content{\r\n            padding: 30px 10px;\r\n            border-bottom: 1px solid #ccc;\r\n        }\r\n        #hide_low_alert .alert_box_content{\r\n            height: 50px;\r\n            line-height: 50px;\r\n        }\r\n        .alert_box_content > p, .allPos{\r\n            font-size: 18px;\r\n            height: 40px;\r\n            line-height:40px;\r\n            margin: 0;\r\n            padding: 0px;\r\n        }\r\n        #unit_select{\r\n            width: 175px;\r\n            height: 28px;\r\n            margin-top: -4px;\r\n        }\r\n        .alert_box_content > .alert_box_tips {\r\n            color: red;\r\n            font-size: 12px;\r\n        }\r\n        .allPos {\r\n            position: relative;\r\n        }\r\n        .allPos > div {\r\n            overflow: hidden;\r\n            white-space: nowrap;\r\n            text-overflow: ellipsis;\r\n            vertical-align: middle;\r\n            padding-left: 5px;\r\n            border: 1px solid #a9a9a9;\r\n            width: 175px;\r\n            height: 24px;\r\n            line-height: 24px;\r\n            display: inline-block;\r\n            box-sizing: border-box;\r\n        }\r\n        .allPosBox {\r\n            max-height: 200px;\r\n            position: absolute;\r\n            top: 29px;\r\n            left: 40px;\r\n            z-index: 10;\r\n            width: 175px;\r\n            border: 1px solid #a9a9a9;\r\n            background: #fff;\r\n            overflow-y: auto;\r\n        }\r\n        .allPosBox > li {\r\n            padding: 0 5px;\r\n            height: 30px;\r\n            width: 100%;\r\n            line-height: 30px;\r\n            overflow: hidden;\r\n            white-space: nowrap;\r\n            text-overflow: ellipsis;\r\n            vertical-align: middle;\r\n        }\r\n        .allPosBox > li:hover {\r\n            background: #568ada;\r\n            color: #fff;\r\n        }\r\n        .alert_box_tips{\r\n            position: absolute;\r\n            bottom: 36px;\r\n            left: 60px;\r\n            font-size: 12px;\r\n            color: red;\r\n        }\r\n        .alert_box_content input{\r\n            width: 175px;\r\n            height: 24px;\r\n            margin-top: -4px;\r\n        }\r\n        /*低频过滤*/\r\n\r\n        /*有效频率设置*/\r\n        #powerRms_alert .alert_box_content {\r\n            border-bottom: 1px solid #ccc;\r\n        }\r\n        .alert_box_footer > button {\r\n            width: 50px;\r\n            height: 24px;\r\n            line-height: 24px;\r\n            background: #597dd2;\r\n            border-radius: 4px;\r\n            color: #fff;\r\n            border: none;\r\n            box-shadow: none;\r\n            font-weight: 400;\r\n            font-size: 12px;\r\n            padding: 0;\r\n            margin: 0;\r\n        }\r\n        .alert_box_footer > button.cancel_btn{\r\n            background: #798ca1;\r\n        }\r\n        .tool_list > li.active, .tool_list > li:hover {\r\n            border-color: #6BB2FF;\r\n        }\r\n\r\n        /*单位选择框*/\r\n        #unitSelect_alert {\r\n            font-size: 18px;\r\n            width: 300px;\r\n            margin-top: -80px;\r\n            margin-left: -120px;\r\n        }\r\n        #unitSelect_alert > .alert_box_content {\r\n\r\n        }\r\n        #navigation > .alert_box {\r\n            font-size: 0.18rem;\r\n            width: 300px;\r\n            height: 240px;\r\n            margin-top: -150px;\r\n            margin-left: -120px;\r\n            left: 60%;\r\n            top: 54%;\r\n        }\r\n        .line_box > div:last-child {\r\n            height: 200px;\r\n        }\r\n        @media (max-height: 800px) {\r\n            .line_box > div:last-child {\r\n                height: 200px;\r\n            }\r\n            .myHeader .form-group .select-group .lableName,.myHeader .header-time span{\r\n                font-size: 18px;\r\n            }\r\n            .myHeader .form-group .select-group{\r\n                margin-right: 20px;\r\n            }\r\n            .myHeader .header-time .start_date{\r\n                margin-right: 20px;\r\n            }\r\n        }\r\n        .alert_box_content select{\r\n            min-width: 140px;\r\n            width: 160px;\r\n            margin-left: -4px;\r\n        }\r\n        .alert_box_close{\r\n            display: inline-block;\r\n            width: 20px;\r\n            height: 20px;\r\n            margin-top: 4px;\r\n            -webkit-background-size:20px 20px;\r\n            background-size:20px 20px;\r\n            background-position: 50% 50%;\r\n            background-repeat:no-repeat;\r\n            /*background-image: url(\"../img/icon/close_icon.png\") !important;*/\r\n            cursor: pointer;\r\n        }\r\n        .alert_box_close:hover{\r\n            /*background-image: url(\"../img/icon/close_focus.png\") !important;*/\r\n        }\r\n        /*删除组织*/\r\n        #left > .delete {\r\n            font-size: 0.14rem;\r\n            position: absolute;\r\n            top: 0;\r\n            left: 0;\r\n            width: 80px;\r\n            height: 20px;\r\n            line-height: 20px;\r\n            padding: 0 10px;\r\n            border: 1px solid #cdcdcd;\r\n            cursor: pointer;\r\n            text-align: center;\r\n        }\r\n        #left > .delete:hover {\r\n            background: #e9e9e9;\r\n        }\r\n        /*振动、包络切换*/\r\n        .vibOrEnv {\r\n            position: fixed;\r\n            top: 0.4rem;\r\n            right: 3.2%;\r\n            height: 30px;\r\n            line-height: 30px;\r\n            background: rgba(200,200,200,0.3);\r\n            color: #6BB2FF;\r\n            font-size: 16px;\r\n            padding: 0 0.25rem;\r\n            border-radius: 6px;\r\n            cursor: pointer;\r\n        }\r\n        .line_info_box {\r\n            padding-right: 3%;\r\n        }\r\n        .vibOrEnv:hover {\r\n            color: #fff;\r\n            background: #6BB2FF;\r\n        }\r\n        .setFilterBtn {\r\n            right: calc(3.2% + 130px);\r\n        }\r\n        .vibOrEnv > img, .setFilterBtn > img {\r\n            width: 0.2rem;\r\n            height: 0.2rem;\r\n        }\r\n        @media (min-width: 1600px) {\r\n            .setFilterBtn {\r\n                right: calc(3.2% + 150px);\r\n            }\r\n        }\r\n        /*设置滤波上下限*/\r\n        .filterBk, .progress {\r\n            position: fixed;\r\n            width: 100%;\r\n            height: 100%;\r\n            left: 0;\r\n            top: 0;\r\n            z-index: 20;\r\n        }\r\n        .filterBox, .alert_box {\r\n            width: 300px;\r\n            position: absolute;\r\n            left: 50%;\r\n            top: 50%;\r\n            margin-left: -120px;\r\n            margin-top: -100px;\r\n            border-radius: 5px;\r\n            font-size: 16px;\r\n            background: #e4e8f4;\r\n            box-sizing: border-box;\r\n        }\r\n        .alert_box {\r\n            /*height: 220px;*/\r\n        }\r\n        .filterTitle, .alert_box_header_left {\r\n            color: #6BB2FF;\r\n            height: 30px;\r\n            line-height: 30px;\r\n            position: relative;\r\n        }\r\n        .closeFilter {\r\n            /*background: url('../img/icon/close_icon.png') no-repeat;*/\r\n            background-position: 50%;\r\n            background-size: 20px;\r\n            position: absolute;\r\n            height: 20px;\r\n            width: 20px;\r\n            top: 5px;\r\n            right: 0;\r\n            cursor: pointer;\r\n        }\r\n        .closeFilter:hover {\r\n            /*background-image: url('../img/icon/close_focus.png');*/\r\n        }\r\n        .filter, .allPos, .alert_box_content > p {\r\n            font-size: 18px;\r\n            height: 40px;\r\n            line-height: 40px;\r\n            color: #808080;\r\n        }\r\n        .filterTitle, .filterBox > .allPos, .filter {\r\n            padding-left: 15px;\r\n        }\r\n        .allPos > .allPosBox {\r\n            top: 30px;\r\n            left: 63px;\r\n            width: 180px;\r\n            text-align: left;\r\n        }\r\n        .allPosBox, #checkPos, #posName {\r\n            cursor: default;\r\n            text-align: left;\r\n        }\r\n        #checkPos, #posName {\r\n            position: relative;\r\n            width: 180px;\r\n        }\r\n        #checkPos > img, #posName > img {\r\n            position: absolute;\r\n            right: 5px;\r\n            top: 8px;\r\n        }\r\n        .filter > input, .filterBox > .allPos > .checkPos, .alert_box_content > p > input {\r\n            width: 190px;\r\n        }\r\n        .filterBtn, .alert_box_footer {\r\n            height: 40px;\r\n            line-height: 40px;\r\n            text-align: center;\r\n        }\r\n        .filterBtn > button, .alert_box_footer > button {\r\n            width: 50px;\r\n            height: 24px;\r\n            line-height: 24px;\r\n            background: #597dd2;\r\n            border-radius: 4px;\r\n            color: #fff;\r\n            border: none;\r\n            box-shadow: none;\r\n            font-weight: 400;\r\n            font-size: 12px;\r\n            padding: 0;\r\n            margin: 0;\r\n        }\r\n        .filterBtn > button.cancel_btn, .alert_box_footer > button.cancel_btn{\r\n            background: #798ca1;\r\n        }\r\n        /*波形图加载进度条*/\r\n        @keyframes warning-animation {\r\n            0% {\r\n                background-position: 0 0;\r\n            }\r\n            100% {\r\n                background-position: 3em 0;\r\n            }\r\n        }\r\n        .container {\r\n            width: 200px;\r\n            height: 24px;\r\n            line-height: 20px;\r\n            position: absolute;\r\n            left: 50%;\r\n            top: 50%;\r\n            margin-top: -15px;\r\n            margin-left: -100px;\r\n        }\r\n        .warning {\r\n            font-size: 14px;\r\n            font-weight: bold;\r\n            text-align: center;\r\n            color: #fff;\r\n            height: 20px;\r\n            position: relative;\r\n            background-color: #326eb0;\r\n            border: 1px solid #326eb0;\r\n            border-radius: 10px;\r\n            background-size: 3em 3em;\r\n            background-image: linear-gradient(-45deg, transparent 0em, transparent 0.8em, #6BB2FF 0.9em, #6BB2FF 2.1em, transparent 2.1em, transparent 2.9em, #6BB2FF 3.1em);\r\n            -webkit-animation: warning-animation 1000ms infinite linear;\r\n            -moz-animation: warning-animation 1000ms infinite linear;\r\n            animation: warning-animation 1000ms infinite linear;\r\n        }\r\n        .warning:before {\r\n            content: '';\r\n            position: absolute;\r\n            top: 0;\r\n            left: 0;\r\n            right: 0;\r\n            bottom: 0;\r\n            height: 100%;\r\n            border-radius: 10px;\r\n            background-image: linear-gradient(to bottom, #326eb0, rgba(50, 110, 176, 0.6) 15%, transparent 60%, #326eb0);\r\n        }\r\n        .progressPoint {\r\n            width: 150px;\r\n            height: 30px;\r\n            line-height: 13px;\r\n            border-radius: 50px;\r\n            border: 5px solid #6BB2FF;\r\n            background: #fff;\r\n            position: absolute;\r\n            left: 55%;\r\n            top: 52%;\r\n        }\r\n        .progressPoint > div {\r\n            height: 16px;\r\n            width: 16px;\r\n            border-radius: 50%;\r\n            background: #6BB2FF;\r\n            position: absolute;\r\n            top: 2px;\r\n        }\r\n        .progressPoint0 {\r\n            left: 10%;\r\n        }\r\n        .progressPoint1 {\r\n            left: 33%;\r\n        }\r\n        .progressPoint2 {\r\n            right: 33%;\r\n        }\r\n        .progressPoint3 {\r\n            right: 10%;\r\n        }\r\n    }\r\n</style>\r\n","<template>\r\n    <div class=\"wave-chart\">\r\n        <span class='selectUnit' @click='setUnit' :title='title.selectUnit'></span>\r\n        <span @click='maxOrMin' class='max' :title='maxData.title'></span>\r\n        <span v-if='otp === 1' class='exportMusic' :title='title.exportMusic'></span>\r\n        <span v-if='otp !== 3' class='exportData' :title='title.exportData'></span>\r\n        <span class='restore' :title='title.restore'></span>\r\n        <span class='dataZoom' :title='title.enlarge'></span>\r\n        <span class='exportImage' :title='title.saveImage'></span>\r\n        <span v-if='otp === 1' class='subTime' :title='title.subTime' @click=\"subTime\"></span>\r\n        <!--<span v-if='otp === 2 && factoryType != 1' class='setAllPower' :title='title.setAllPower' @click='setPower'></span>-->\r\n\r\n    </div >\r\n</template>\r\n\r\n<script>\r\n    import myChart from 'assets/lib/waveChart/myCharts.js'\r\n    export default {\r\n        name: \"WaveChart\",\r\n        props: ['option', 'otp', 'height', 'type', 'change', 'position'],\r\n        data: function() {\r\n            return {\r\n                /*waveChart: {}*/\r\n                chart: null,\r\n                title: {\r\n                    selectUnit: '单位选择',\r\n                    subTime: '时间差',\r\n                    exportMusic: '音频导出',\r\n                    exportData: '数据导出',\r\n                    restore: '重置',\r\n                    saveImage: '保存为图片',\r\n                    enlarge: '放大',\r\n                    setAllPower: '所有测点有效频率',\r\n                },\r\n                maxData: {\r\n                    title: '最大化',\r\n                    flag: 1,\r\n                },\r\n                subTimeFlag: 0,\r\n                factoryType: 0, //现场类型 0风电；3水电；1水泥；4旋转机械设备\r\n            }\r\n        },\r\n        mounted: function() {\r\n            this.chart = myChart.init(this.$el);\r\n            this.chart.setOption(this.option);\r\n        },\r\n        watch: {\r\n            //观察option的变化\r\n            option: {\r\n                handler() {\r\n                    this.chart.setOption(this.option);\r\n                    if (this.option.x.data.length > 0 && this.option.y.data.length > 0 && this.otp == 2) {\r\n                        $('.loadWave').css('display', 'none');\r\n                    }\r\n                },\r\n                deep: true //对象内部属性的监听，关键。\r\n            },\r\n            type: function() {\r\n                this.title.subTime = this.type === 2 ? '点数差' : '时间差';\r\n            },\r\n            change: function() {\r\n                if (this.change) {\r\n                    document.getElementsByClassName('subTime')[0].classList.remove('active');\r\n                    this.subTimeFlag = 0;\r\n                }\r\n            }\r\n        },\r\n        methods: {\r\n            maxOrMin: function(e) {\r\n                let thisWave = e.currentTarget.parentNode;\r\n                let waveWidth = (window.innerWidth - 320)/2 + 'px';\r\n                let wave = document.getElementsByClassName('wave-chart');\r\n                if (this.maxData.flag) {\r\n                    this.maxData.title = '返回';\r\n                    e.currentTarget.classList.add('back');\r\n                    thisWave.style.height = this.height.maxHeight;\r\n                    thisWave.style.width = '100%';\r\n                    switch (this.otp) {\r\n                        case 1:\r\n                            wave[1].style.display = 'none';\r\n                            wave[2].style.display = 'none';\r\n                            break;\r\n                        case 2:\r\n                            wave[0].style.display = 'none';\r\n                            wave[2].style.display = 'none';\r\n                            break;\r\n                        case 3:\r\n                            wave[0].style.display = 'none';\r\n                            wave[1].style.display = 'none';\r\n                            break;\r\n                    }\r\n                } else {\r\n                    this.maxData.title = '最大化';\r\n                    e.currentTarget.classList.remove('back');\r\n                    if (this.otp === 3) {\r\n                        thisWave.style.height = this.height.historyHeight;\r\n                        thisWave.style.width = '100%';\r\n                    } else {\r\n                        thisWave.style.height = this.height.waveHeight;\r\n                        thisWave.style.width = waveWidth;\r\n                    }\r\n                    for (let i = 0, l = wave.length; i < l; i++) {\r\n                        wave[i].style.display = 'block';\r\n                    }\r\n                }\r\n                this.$emit('get-max', this.maxData.flag);\r\n                this.maxData.flag = Math.abs(--this.maxData.flag);\r\n            },\r\n            setUnit: function() {\r\n                if (this.factoryType != 3 && this.position.position_type == 200 || this.position.position_type == 1 || this.position.position_type == 4 || this.position.position_type == 9 || this.position.position_type == 12)\r\n                    swal('当前测点类型，单位选择不可用');\r\n                else\r\n                    this.$emit('set-unit', this.otp);\r\n            },\r\n            subTime: function(e) {\r\n                if (this.subTimeFlag === 1) {\r\n                    e.currentTarget.classList.remove('active');\r\n                    this.subTimeFlag = 0;\r\n                } else {\r\n                    this.subTimeFlag ?\r\n                        e.currentTarget.classList.remove('active') :\r\n                        e.currentTarget.classList.add('active');\r\n                    this.subTimeFlag = Math.abs(--this.subTimeFlag);\r\n                }\r\n            },\r\n            setPower: function() {\r\n                this.$emit('set-power');\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n</style>","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", { attrs: { id: \"wave-content\" } }, [\n    _c(\"header\", { staticClass: \"myHeader\" }, [\n      _c(\"div\", { staticClass: \"form-group\" }, [\n        _c(\"div\", { staticClass: \"select-group\" }, [\n          _c(\"span\", { staticClass: \"lableName\" }, [_vm._v(\"组织：\")]),\n          _vm._v(\" \"),\n          _c(\n            \"select\",\n            {\n              directives: [\n                {\n                  name: \"model\",\n                  rawName: \"v-model\",\n                  value: _vm.chooseTid,\n                  expression: \"chooseTid\"\n                }\n              ],\n              staticClass: \"select-header\",\n              attrs: { id: \"select-folder\" },\n              on: {\n                change: [\n                  function($event) {\n                    var $$selectedVal = Array.prototype.filter\n                      .call($event.target.options, function(o) {\n                        return o.selected\n                      })\n                      .map(function(o) {\n                        var val = \"_value\" in o ? o._value : o.value\n                        return val\n                      })\n                    _vm.chooseTid = $event.target.multiple\n                      ? $$selectedVal\n                      : $$selectedVal[0]\n                  },\n                  _vm.selectFolder\n                ]\n              }\n            },\n            _vm._l(_vm.sortFolderList, function(item) {\n              return _c(\n                \"option\",\n                {\n                  attrs: { title: item.t_name },\n                  domProps: { value: item.t_id }\n                },\n                [_vm._v(_vm._s(item.t_name))]\n              )\n            }),\n            0\n          )\n        ]),\n        _vm._v(\" \"),\n        _c(\"div\", { staticClass: \"select-group\" }, [\n          _c(\"span\", { staticClass: \"lableName\" }, [_vm._v(\"机组：\")]),\n          _vm._v(\" \"),\n          _c(\n            \"select\",\n            {\n              directives: [\n                {\n                  name: \"model\",\n                  rawName: \"v-model\",\n                  value: _vm.chooseMacId,\n                  expression: \"chooseMacId\"\n                }\n              ],\n              staticClass: \"select-header\",\n              attrs: { id: \"select-mac\" },\n              on: {\n                change: [\n                  function($event) {\n                    var $$selectedVal = Array.prototype.filter\n                      .call($event.target.options, function(o) {\n                        return o.selected\n                      })\n                      .map(function(o) {\n                        var val = \"_value\" in o ? o._value : o.value\n                        return val\n                      })\n                    _vm.chooseMacId = $event.target.multiple\n                      ? $$selectedVal\n                      : $$selectedVal[0]\n                  },\n                  _vm.selectMac\n                ]\n              }\n            },\n            _vm._l(_vm.sortMacList, function(item) {\n              return _c(\n                \"option\",\n                {\n                  attrs: { title: item.mac_me },\n                  domProps: { value: item.mac_id }\n                },\n                [_vm._v(_vm._s(item.mac_me))]\n              )\n            }),\n            0\n          )\n        ]),\n        _vm._v(\" \"),\n        _c(\"div\", { staticClass: \"select-group\" }, [\n          _c(\"span\", { staticClass: \"lableName\" }, [_vm._v(\"测点名称：\")]),\n          _vm._v(\" \"),\n          _c(\n            \"select\",\n            {\n              directives: [\n                {\n                  name: \"model\",\n                  rawName: \"v-model\",\n                  value: _vm.choosePosTypeId,\n                  expression: \"choosePosTypeId\"\n                }\n              ],\n              staticClass: \"select-header\",\n              attrs: { id: \"select-position\" },\n              on: {\n                change: [\n                  function($event) {\n                    var $$selectedVal = Array.prototype.filter\n                      .call($event.target.options, function(o) {\n                        return o.selected\n                      })\n                      .map(function(o) {\n                        var val = \"_value\" in o ? o._value : o.value\n                        return val\n                      })\n                    _vm.choosePosTypeId = $event.target.multiple\n                      ? $$selectedVal\n                      : $$selectedVal[0]\n                  },\n                  _vm.selectPosTypeId\n                ]\n              }\n            },\n            _vm._l(_vm.choosePosList, function(item) {\n              return _c(\n                \"option\",\n                {\n                  attrs: { title: item.pos_name },\n                  domProps: { value: item.pos_type + \"_\" + item.pos_id }\n                },\n                [_vm._v(_vm._s(item.pos_name))]\n              )\n            }),\n            0\n          )\n        ])\n      ]),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        { staticClass: \"speed_choose_div\", attrs: { id: \"hd_choose\" } },\n        [\n          _c(\n            \"select\",\n            {\n              directives: [\n                {\n                  name: \"model\",\n                  rawName: \"v-model\",\n                  value: _vm.hd_speed,\n                  expression: \"hd_speed\"\n                }\n              ],\n              staticClass: \"hd_select\",\n              on: {\n                change: [\n                  function($event) {\n                    var $$selectedVal = Array.prototype.filter\n                      .call($event.target.options, function(o) {\n                        return o.selected\n                      })\n                      .map(function(o) {\n                        var val = \"_value\" in o ? o._value : o.value\n                        return val\n                      })\n                    _vm.hd_speed = $event.target.multiple\n                      ? $$selectedVal\n                      : $$selectedVal[0]\n                  },\n                  function($event) {\n                    return _vm.change_hd()\n                  }\n                ]\n              }\n            },\n            [\n              _c(\"option\", { attrs: { value: \"false\", id: \"hd_low_radio\" } }, [\n                _vm._v(\"低密度波形\")\n              ]),\n              _vm._v(\" \"),\n              _c(\"option\", { attrs: { value: \"true\", id: \"hd_high_radio\" } }, [\n                _vm._v(\"高密度波形\")\n              ])\n            ]\n          )\n        ]\n      ),\n      _vm._v(\" \"),\n      _c(\"div\", { staticClass: \"header-time\" }, [\n        _c(\"span\", [_vm._v(\"起止时间：\")]),\n        _vm._v(\" \"),\n        _c(\"input\", {\n          staticClass: \"am-form-field start_date flatpickr\",\n          attrs: {\n            type: \"text\",\n            id: \"start_time\",\n            placeholder: _vm.startTime,\n            \"data-default-date\": _vm.startTime\n          }\n        }),\n        _vm._v(\" \"),\n        _c(\"span\", [_vm._v(\"-\")]),\n        _vm._v(\" \"),\n        _c(\"input\", {\n          staticClass: \"am-form-field end_date flatpickr\",\n          attrs: { type: \"text\", id: \"end_time\", placeholder: _vm.endTime }\n        })\n      ]),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        {\n          class: [_vm.flag_real ? \"dashDivSelectd\" : \"dashDiv\"],\n          on: { click: _vm.setRealBtn }\n        },\n        [\n          _c(\"span\", { staticClass: \"dashSpan\" }),\n          _vm._v(\" \"),\n          _c(\"span\", { staticClass: \"dashText\" }, [\n            _vm._v(_vm._s(_vm.toggleText))\n          ])\n        ]\n      ),\n      _vm._v(\" \"),\n      _vm._m(0)\n    ]),\n    _vm._v(\" \"),\n    _c(\"div\", { staticClass: \"content\" }, [\n      _c(\"div\", { attrs: { id: \"wavespecturm_box\" } }, [\n        _c(\n          \"div\",\n          { staticClass: \"line_box\" },\n          [\n            _c(\"wave-chart\", {\n              directives: [\n                {\n                  name: \"show\",\n                  rawName: \"v-show\",\n                  value: _vm.showType1 == 1,\n                  expression: \"showType1 == 1\"\n                }\n              ],\n              ref: \"chart1\",\n              attrs: {\n                position: _vm.selectPosition,\n                otp: 1,\n                option: _vm.waveOption,\n                height: _vm.maxRestoreHeight,\n                type: _vm.specType,\n                change: _vm.changePos\n              },\n              on: { \"set-unit\": _vm.showUnitSelect, \"get-max\": _vm.getMax }\n            }),\n            _vm._v(\" \"),\n            _c(\"wave-chart\", {\n              directives: [\n                {\n                  name: \"show\",\n                  rawName: \"v-show\",\n                  value: _vm.showType2 == 2,\n                  expression: \"showType2 == 2\"\n                }\n              ],\n              ref: \"chart2\",\n              staticStyle: { float: \"right\" },\n              attrs: {\n                position: _vm.selectPosition,\n                otp: 2,\n                option: _vm.specturmOption,\n                height: _vm.maxRestoreHeight\n              },\n              on: {\n                \"set-unit\": _vm.showUnitSelect,\n                \"get-max\": _vm.getMax,\n                \"set-power\": _vm.setAllPower\n              }\n            }),\n            _vm._v(\" \"),\n            _c(\"wave-chart\", {\n              directives: [\n                {\n                  name: \"show\",\n                  rawName: \"v-show\",\n                  value: _vm.showType3 == 3,\n                  expression: \"showType3 == 3\"\n                }\n              ],\n              ref: \"chart3\",\n              attrs: {\n                position: _vm.selectPosition,\n                otp: 3,\n                option: _vm.historyOption,\n                height: _vm.maxRestoreHeight\n              },\n              on: { \"set-unit\": _vm.showUnitSelect, \"get-max\": _vm.getMax }\n            }),\n            _vm._v(\" \"),\n            _c(\n              \"p\",\n              {\n                directives: [\n                  {\n                    name: \"show\",\n                    rawName: \"v-show\",\n                    value: _vm.noRealData,\n                    expression: \"noRealData\"\n                  }\n                ],\n                staticClass: \"noNowData\"\n              },\n              [_vm._v(\"没有实时波形\")]\n            ),\n            _vm._v(\" \"),\n            _c(\"p\", { staticClass: \"waveTimeText\" }, [\n              _vm._v(_vm._s(_vm.changeTime))\n            ]),\n            _vm._v(\" \"),\n            _c(\n              \"button\",\n              {\n                directives: [\n                  {\n                    name: \"show\",\n                    rawName: \"v-show\",\n                    value: _vm.selectPosition.pos_type == 14,\n                    expression: \"selectPosition.pos_type==14\"\n                  }\n                ],\n                staticClass: \"wave-btn btn-set\",\n                on: { click: _vm.setBaseWave }\n              },\n              [_vm._v(\"设为基准\")]\n            ),\n            _vm._v(\" \"),\n            _c(\n              \"button\",\n              {\n                directives: [\n                  {\n                    name: \"show\",\n                    rawName: \"v-show\",\n                    value: _vm.selectPosition.pos_type == 14,\n                    expression: \"selectPosition.pos_type==14\"\n                  }\n                ],\n                staticClass: \"wave-btn btn-get\",\n                on: { click: _vm.getBaseWave }\n              },\n              [_vm._v(\"采集波形\")]\n            )\n          ],\n          1\n        ),\n        _vm._v(\" \"),\n        _c(\"div\", { staticClass: \"tool_box\" }, [\n          _c(\n            \"ul\",\n            { ref: \"spectrumTools\", staticClass: \"tool_list\" },\n            _vm._l(_vm.tools, function(tool, index) {\n              return _c(\n                \"li\",\n                {\n                  on: {\n                    click: function($event) {\n                      tool.toolFunc()\n                      _vm.addActive($event, index)\n                    }\n                  }\n                },\n                [\n                  _c(\"img\", {\n                    ref: \"tool_btn\",\n                    refInFor: true,\n                    staticClass: \"tool_btn\",\n                    attrs: { title: tool.text, src: tool.icon }\n                  })\n                ]\n              )\n            }),\n            0\n          )\n        ]),\n        _vm._v(\" \"),\n        _c(\n          \"div\",\n          {\n            ref: \"allPower\",\n            staticClass: \"alert_box\",\n            staticStyle: { display: \"none\" },\n            attrs: { id: \"allPower_alert\" },\n            on: { click: _vm.hideBox }\n          },\n          [\n            _c(\"div\", { staticClass: \"alert_box_header\" }, [\n              _c(\"div\", { staticClass: \"alert_box_header_left am-u-lg-8\" }, [\n                _c(\"i\", {\n                  domProps: {\n                    textContent: _vm._s(\n                      _vm.selectPosition.pos_type == 8 ||\n                        _vm.selectPosition.pos_type == 9\n                        ? \"所有测点有效阶次\"\n                        : \"所有测点有效频率\"\n                    )\n                  }\n                })\n              ]),\n              _vm._v(\" \"),\n              _c(\"div\", { staticClass: \"alert_box_header_right am-u-lg-4\" }, [\n                _c(\"span\", {\n                  staticClass: \"alert_box_close\",\n                  on: {\n                    click: function($event) {\n                      return _vm.closeAlert(\"#allPower_alert\")\n                    }\n                  }\n                })\n              ])\n            ]),\n            _vm._v(\" \"),\n            _c(\"div\", { staticClass: \"alert_box_content\" }, [\n              _c(\"div\", { staticClass: \"allPos\" }, [\n                _vm._v(\"\\n                        测点：\"),\n                _c(\n                  \"div\",\n                  {\n                    ref: \"curPos\",\n                    attrs: { title: _vm.curPosName, id: \"posName\" }\n                  },\n                  [\n                    _vm._v(\n                      \"\\n                        \" +\n                        _vm._s(_vm.curPosName) +\n                        \"\\n                    \"\n                    )\n                  ]\n                ),\n                _vm._v(\" \"),\n                _c(\n                  \"ul\",\n                  {\n                    directives: [\n                      {\n                        name: \"show\",\n                        rawName: \"v-show\",\n                        value: _vm.boxShow,\n                        expression: \"boxShow\"\n                      }\n                    ],\n                    ref: \"selectBox\",\n                    staticClass: \"allPosBox\"\n                  },\n                  _vm._l(_vm.allPos, function(item, index) {\n                    return _c(\n                      \"li\",\n                      {\n                        attrs: { \"data-id\": index, title: item.name },\n                        on: {\n                          click: function($event) {\n                            $event.stopPropagation()\n                            return _vm.selectAllPos($event)\n                          }\n                        }\n                      },\n                      [\n                        _vm._v(\n                          \"\\n                                \" +\n                            _vm._s(item.name) +\n                            \"\\n                            \"\n                        )\n                      ]\n                    )\n                  }),\n                  0\n                )\n              ]),\n              _vm._v(\" \"),\n              _c(\"p\", [\n                _vm._v(\"下限：\"),\n                _c(\"input\", {\n                  ref: \"powerA\",\n                  attrs: { type: \"text\" },\n                  on: { input: _vm.setAllPowerA }\n                }),\n                _vm._v(\" \"),\n                _c(\"i\", {\n                  domProps: {\n                    textContent: _vm._s(\n                      _vm.selectPosition.pos_type == 8 ||\n                        _vm.selectPosition.pos_type == 9\n                        ? \"NX\"\n                        : \"Hz\"\n                    )\n                  }\n                })\n              ]),\n              _vm._v(\" \"),\n              _c(\"p\", [\n                _vm._v(\"上限：\"),\n                _c(\"input\", {\n                  ref: \"powerB\",\n                  attrs: { type: \"text\" },\n                  on: { input: _vm.setAllPowerB }\n                }),\n                _vm._v(\" \"),\n                _c(\"i\", {\n                  domProps: {\n                    textContent: _vm._s(\n                      _vm.selectPosition.pos_type == 8 ||\n                        _vm.selectPosition.pos_type == 9\n                        ? \"NX\"\n                        : \"Hz\"\n                    )\n                  }\n                })\n              ]),\n              _vm._v(\" \"),\n              _c(\n                \"p\",\n                {\n                  directives: [\n                    {\n                      name: \"show\",\n                      rawName: \"v-show\",\n                      value: _vm.isRealAll,\n                      expression: \"isRealAll\"\n                    }\n                  ],\n                  staticClass: \"alert_box_tips\"\n                },\n                [_vm._v(\"\\n                        上限需要大于下限\")]\n              )\n            ]),\n            _vm._v(\" \"),\n            _c(\"div\", { staticClass: \"alert_box_footer\" }, [\n              _c(\"button\", { on: { click: _vm.allPowerOk } }, [_vm._v(\"确定\")]),\n              _vm._v(\" \"),\n              _c(\n                \"button\",\n                {\n                  staticClass: \"cancel_btn\",\n                  on: {\n                    click: function($event) {\n                      return _vm.closeAlert(\"#allPower_alert\")\n                    }\n                  }\n                },\n                [_vm._v(\"取消\")]\n              )\n            ])\n          ]\n        ),\n        _vm._v(\" \"),\n        _c(\n          \"div\",\n          {\n            staticClass: \"alert_box\",\n            staticStyle: { display: \"none\" },\n            attrs: { id: \"hide_low_alert\" }\n          },\n          [\n            _c(\n              \"div\",\n              {\n                staticClass: \"alert_box_header\",\n                domProps: {\n                  textContent: _vm._s(\n                    _vm.selectPosition.pos_type == 8 ||\n                      _vm.selectPosition.pos_type == 9\n                      ? \"低阶次过滤\"\n                      : \"低频过滤\"\n                  )\n                }\n              },\n              [\n                _c(\"div\", { staticClass: \"alert_box_header_right\" }, [\n                  _c(\"span\", {\n                    staticClass: \"alert_box_close\",\n                    on: {\n                      click: function($event) {\n                        return _vm.closeAlert(\"#hide_low_alert\")\n                      }\n                    }\n                  })\n                ])\n              ]\n            ),\n            _vm._v(\" \"),\n            _c(\"div\", { staticClass: \"alert_box_content\" }, [\n              _c(\"div\", [\n                _c(\"span\", {\n                  domProps: {\n                    textContent: _vm._s(\n                      _vm.selectPosition.pos_type == 8 ||\n                        _vm.selectPosition.pos_type == 9\n                        ? \"过滤阶次\"\n                        : \"过滤频率\"\n                    )\n                  }\n                }),\n                _vm._v(\"：\"),\n                _c(\"input\", {\n                  directives: [\n                    {\n                      name: \"model\",\n                      rawName: \"v-model\",\n                      value: _vm.hide_low,\n                      expression: \"hide_low\"\n                    }\n                  ],\n                  attrs: { type: \"text\" },\n                  domProps: { value: _vm.hide_low },\n                  on: {\n                    input: function($event) {\n                      if ($event.target.composing) {\n                        return\n                      }\n                      _vm.hide_low = $event.target.value\n                    }\n                  }\n                })\n              ])\n            ]),\n            _vm._v(\" \"),\n            _c(\"div\", { staticClass: \"alert_box_footer\" }, [\n              _c(\n                \"button\",\n                {\n                  on: {\n                    click: function($event) {\n                      return _vm.hideLowOk(\"#hide_low_alert\")\n                    }\n                  }\n                },\n                [_vm._v(\"确定\")]\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"button\",\n                {\n                  staticClass: \"cancel_btn\",\n                  on: {\n                    click: function($event) {\n                      return _vm.closeAlert(\"#hide_low_alert\")\n                    }\n                  }\n                },\n                [_vm._v(\"取消\")]\n              )\n            ])\n          ]\n        ),\n        _vm._v(\" \"),\n        _c(\n          \"div\",\n          {\n            staticClass: \"alert_box\",\n            staticStyle: { display: \"none\" },\n            attrs: { id: \"powerRms_alert\" }\n          },\n          [\n            _c(\"div\", {\n              staticClass: \"alert_box_header\",\n              domProps: {\n                textContent: _vm._s(\n                  _vm.selectPosition.pos_type == 8 ||\n                    _vm.selectPosition.pos_type == 9\n                    ? \"有效阶次\"\n                    : \"有效频率\"\n                )\n              }\n            }),\n            _vm._v(\" \"),\n            _c(\"div\", { staticClass: \"alert_box_content\" }, [\n              _c(\"p\", [\n                _vm._v(\"下限：\"),\n                _c(\"input\", {\n                  directives: [\n                    {\n                      name: \"model\",\n                      rawName: \"v-model\",\n                      value: _vm.power_a,\n                      expression: \"power_a\"\n                    }\n                  ],\n                  attrs: { type: \"text\" },\n                  domProps: { value: _vm.power_a },\n                  on: {\n                    input: function($event) {\n                      if ($event.target.composing) {\n                        return\n                      }\n                      _vm.power_a = $event.target.value\n                    }\n                  }\n                }),\n                _vm._v(\" \"),\n                _c(\"i\", {\n                  domProps: {\n                    textContent: _vm._s(\n                      _vm.selectPosition.pos_type == 8 ||\n                        _vm.selectPosition.pos_type == 9\n                        ? \"NX\"\n                        : \"Hz\"\n                    )\n                  }\n                })\n              ]),\n              _vm._v(\" \"),\n              _c(\"p\", [\n                _vm._v(\"上限：\"),\n                _c(\"input\", {\n                  directives: [\n                    {\n                      name: \"model\",\n                      rawName: \"v-model\",\n                      value: _vm.power_b,\n                      expression: \"power_b\"\n                    }\n                  ],\n                  attrs: { type: \"text\" },\n                  domProps: { value: _vm.power_b },\n                  on: {\n                    input: function($event) {\n                      if ($event.target.composing) {\n                        return\n                      }\n                      _vm.power_b = $event.target.value\n                    }\n                  }\n                }),\n                _vm._v(\" \"),\n                _c(\"i\", {\n                  domProps: {\n                    textContent: _vm._s(\n                      _vm.selectPosition.pos_type == 8 ||\n                        _vm.selectPosition.pos_type == 9\n                        ? \"NX\"\n                        : \"Hz\"\n                    )\n                  }\n                })\n              ]),\n              _vm._v(\" \"),\n              _c(\n                \"p\",\n                {\n                  directives: [\n                    {\n                      name: \"show\",\n                      rawName: \"v-show\",\n                      value:\n                        Number(_vm.power_a) > Number(_vm.power_b) &&\n                        _vm.power_b != 0,\n                      expression: \"Number(power_a)>Number(power_b)&&power_b!=0\"\n                    }\n                  ],\n                  staticClass: \"alert_box_tips\",\n                  attrs: { id: \"alert_tips\" }\n                },\n                [_vm._v(\"上限需要大于下限\\n                    \")]\n              )\n            ]),\n            _vm._v(\" \"),\n            _c(\"div\", { staticClass: \"alert_box_footer\" }, [\n              _c(\n                \"button\",\n                {\n                  on: {\n                    click: function($event) {\n                      return _vm.powerRmsOk(\"#powerRms_alert\")\n                    }\n                  }\n                },\n                [_vm._v(\"确定\")]\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"button\",\n                {\n                  staticClass: \"cancel_btn\",\n                  on: {\n                    click: function($event) {\n                      return _vm.closeAlert(\"#powerRms_alert\")\n                    }\n                  }\n                },\n                [_vm._v(\"取消\")]\n              )\n            ])\n          ]\n        ),\n        _vm._v(\" \"),\n        _c(\n          \"div\",\n          {\n            staticClass: \"alert_box\",\n            staticStyle: { display: \"none\" },\n            attrs: { id: \"unitSelect_alert\" }\n          },\n          [\n            _c(\"div\", { staticClass: \"alert_box_header\" }, [\n              _vm._v(\"\\n                    单位选择\\n                \")\n            ]),\n            _vm._v(\" \"),\n            _c(\"div\", { staticClass: \"alert_box_content\" }, [\n              _c(\"p\", [\n                _vm._v(\"单位选择：\\n                        \"),\n                _c(\n                  \"select\",\n                  {\n                    directives: [\n                      {\n                        name: \"model\",\n                        rawName: \"v-model\",\n                        value: _vm.unitSelect,\n                        expression: \"unitSelect\"\n                      }\n                    ],\n                    attrs: { id: \"unit_select\" },\n                    on: {\n                      change: [\n                        function($event) {\n                          var $$selectedVal = Array.prototype.filter\n                            .call($event.target.options, function(o) {\n                              return o.selected\n                            })\n                            .map(function(o) {\n                              var val = \"_value\" in o ? o._value : o.value\n                              return val\n                            })\n                          _vm.unitSelect = $event.target.multiple\n                            ? $$selectedVal\n                            : $$selectedVal[0]\n                        },\n                        function($event) {}\n                      ]\n                    }\n                  },\n                  [\n                    _c(\n                      \"option\",\n                      {\n                        directives: [\n                          {\n                            name: \"show\",\n                            rawName: \"v-show\",\n                            value:\n                              _vm.unitSrc == \"g\" ||\n                              _vm.unitSrc == \"m/s²\" ||\n                              _vm.unitSrc == \"m/s2\",\n                            expression:\n                              \"unitSrc=='g' || unitSrc=='m/s²' || unitSrc=='m/s2'\"\n                          }\n                        ],\n                        attrs: { value: \"g\" }\n                      },\n                      [_vm._v(\"g\")]\n                    ),\n                    _vm._v(\" \"),\n                    _c(\n                      \"option\",\n                      {\n                        directives: [\n                          {\n                            name: \"show\",\n                            rawName: \"v-show\",\n                            value:\n                              _vm.unitSrc == \"g\" ||\n                              _vm.unitSrc == \"m/s²\" ||\n                              _vm.unitSrc == \"m/s2\",\n                            expression:\n                              \"unitSrc=='g' || unitSrc=='m/s²' || unitSrc=='m/s2'\"\n                          }\n                        ],\n                        attrs: { value: \"m/s²\" }\n                      },\n                      [_vm._v(\"m/s²\\n                            \")]\n                    ),\n                    _vm._v(\" \"),\n                    _c(\n                      \"option\",\n                      {\n                        directives: [\n                          {\n                            name: \"show\",\n                            rawName: \"v-show\",\n                            value:\n                              _vm.unitType != 3\n                                ? _vm.specType == 2\n                                  ? _vm.unitSrc == \"mm/s\"\n                                  : _vm.unitSrc == \"gD\" ||\n                                    _vm.unitSrc == \"°\" ||\n                                    _vm.unitSrc == \"mV\" ||\n                                    _vm.unitSrc == \"rpm\"\n                                  ? false\n                                  : true\n                                : false,\n                            expression:\n                              \"unitType != 3 ? specType==2 ? unitSrc=='mm/s' : unitSrc=='gD' || unitSrc=='°' || unitSrc == 'mV' || unitSrc == 'rpm' ? false: true : false\"\n                          }\n                        ],\n                        attrs: { value: \"mm/s\" }\n                      },\n                      [_vm._v(\"\\n                                mm/s\")]\n                    ),\n                    _vm._v(\" \"),\n                    _c(\n                      \"option\",\n                      {\n                        directives: [\n                          {\n                            name: \"show\",\n                            rawName: \"v-show\",\n                            value:\n                              _vm.unitType != 3\n                                ? _vm.specType == 2\n                                  ? _vm.unitSrc == \"μm\"\n                                  : _vm.unitSrc == \"gD\" ||\n                                    _vm.unitSrc == \"°\" ||\n                                    _vm.unitSrc == \"mV\" ||\n                                    _vm.unitSrc == \"rpm\"\n                                  ? false\n                                  : true\n                                : false,\n                            expression:\n                              \"unitType != 3 ? specType==2 ? unitSrc=='μm': unitSrc=='gD' || unitSrc=='°' || unitSrc == 'mV' || unitSrc == 'rpm' ? false : true : false\"\n                          }\n                        ],\n                        attrs: { value: \"μm\" }\n                      },\n                      [_vm._v(\"\\n                                μm\")]\n                    )\n                  ]\n                )\n              ])\n            ]),\n            _vm._v(\" \"),\n            _c(\"div\", { staticClass: \"alert_box_footer\" }, [\n              _c(\n                \"button\",\n                {\n                  on: {\n                    click: function($event) {\n                      return _vm.unitSelectOk(\"#unitSelect_alert\")\n                    }\n                  }\n                },\n                [_vm._v(\"确定\")]\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"button\",\n                {\n                  staticClass: \"cancel_btn\",\n                  on: {\n                    click: function($event) {\n                      return _vm.closeAlert(\"#unitSelect_alert\")\n                    }\n                  }\n                },\n                [_vm._v(\"取消\")]\n              )\n            ])\n          ]\n        )\n      ])\n    ])\n  ])\n}\nvar staticRenderFns = [\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\n      \"a\",\n      {\n        staticClass: \"am-btn am-btn-default line_info_btn keep_btn\",\n        staticStyle: { visibility: \"hidden\" },\n        attrs: { id: \"keep_download\" }\n      },\n      [_c(\"span\", { staticClass: \"tool_icon\" }), _vm._v(\" 保存页面\")]\n    )\n  }\n]\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", { staticClass: \"wave-chart\" }, [\n    _c(\"span\", {\n      staticClass: \"selectUnit\",\n      attrs: { title: _vm.title.selectUnit },\n      on: { click: _vm.setUnit }\n    }),\n    _vm._v(\" \"),\n    _c(\"span\", {\n      staticClass: \"max\",\n      attrs: { title: _vm.maxData.title },\n      on: { click: _vm.maxOrMin }\n    }),\n    _vm._v(\" \"),\n    _vm.otp === 1\n      ? _c(\"span\", {\n          staticClass: \"exportMusic\",\n          attrs: { title: _vm.title.exportMusic }\n        })\n      : _vm._e(),\n    _vm._v(\" \"),\n    _vm.otp !== 3\n      ? _c(\"span\", {\n          staticClass: \"exportData\",\n          attrs: { title: _vm.title.exportData }\n        })\n      : _vm._e(),\n    _vm._v(\" \"),\n    _c(\"span\", { staticClass: \"restore\", attrs: { title: _vm.title.restore } }),\n    _vm._v(\" \"),\n    _c(\"span\", {\n      staticClass: \"dataZoom\",\n      attrs: { title: _vm.title.enlarge }\n    }),\n    _vm._v(\" \"),\n    _c(\"span\", {\n      staticClass: \"exportImage\",\n      attrs: { title: _vm.title.saveImage }\n    }),\n    _vm._v(\" \"),\n    _vm.otp === 1\n      ? _c(\"span\", {\n          staticClass: \"subTime\",\n          attrs: { title: _vm.title.subTime },\n          on: { click: _vm.subTime }\n        })\n      : _vm._e()\n  ])\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","/* version1.1:\n  1. 代码优化;\n  2. 一张图可显示多条数据;\n  3. 增加3D图谱显示; */\n(function(global, factory) {\n  'use strict';\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    (global = global || self, global.myChart = factory());\n}(this, function() {\n  'use strict';\n  var chart = function(dom) {\n    var option = {\n      // 图谱标题\n      title: {\n        show: false, // 是否显示标题\n        name: '', // 标题名字\n        // 标题字体样式\n        fontStyle: {\n          weight: 'bold', // 粗细，默认 'bold'\n          size: '20px', // 大小，默认 '20px'\n          family: 'Arial', // 字体，默认 'Arial'\n          color: '#000', // 颜色，默认 '#000'\n          align: 'left', // 对齐方式，默认 'left'\n        }\n      },\n      // 图谱位置\n      grid: {\n        top: 60, // 离容器上边距离，默认 60\n        right: '10%', // 离容器右边距离，默认 '10%\n        left: '10%', // 离容器左边距离，默认 '10%'\n        bottom: 60 // 离容器下边距离，默认 60\n      },\n      // x 轴信息\n      x: {\n        name: '', // 名称(单位)\n        name2: '', // 补充文字\n        nameStyle: { // 名称(单位)字体样式\n          color: '#000', // 颜色，默认 '#000''\n          size: '12px', // 大小，默认 '12px'\n          family: 'Arial', // 字体，默认 'Arial'\n          weight: 'bold', // 粗细，默认 'bold'\n          bottom: \"15\", // 单位位置\n          bottom2: \"30\" // 单位位置\n        },\n        type: 'category', // 坐标轴类型，默认'category'\n        data: [], // 数据\n        fontStyle: { // 刻度字体样式\n          color: '#000', // 颜色，默认 '#000'\n          size: '12px', // 大小，默认 '12px'\n          family: 'Arial', // 字体，默认 'Arial'\n        },\n        lineStyle: { // 轴线样式\n          color: '#000', // 颜色，默认 '#000'\n          width: 1, // 粗细，默认 1\n        },\n        range: {\n          max: 0,\n          min: 0,\n        }\n      },\n      // y 轴信息\n      y: {\n        name: '', // 名称(单位)\n        name2: '', // 补充文字\n        nameStyle: { // 名称(单位)字体样式\n          color: '#000', // 颜色，默认 '#000'\n          size: '12px', // 大小，默认 '12px'\n          family: 'Arial', // 字体，默认 'Arial'\n          weight: 'bold', // 粗细，默认 'bold'\n        },\n        data: [], // 数据\n        fontStyle: { // 刻度字体样式\n          color: '#000', // 颜色，默认 '#000'\n          size: '12px', // 大小，默认 '12px'\n          family: 'Arial', // 字体，默认 'Arial'\n          weight: 'normal', // 粗细，默认 'normal'\n        },\n        lineStyle: { // 轴线样式\n          color: '#000', // 颜色，默认 '#000'\n          width: 1, // 粗细，默认 1\n        },\n        splitLineStyle: { // 坐标轴分隔线\n          color: '#c1c1c1', // 颜色，默认 '#c1c1c1'\n          width: 1, // 粗细，默认 1\n        },\n      },\n      // 图谱信息\n      series: {\n        type: 'line', // 类型，默认 'line' 'scatter'(散点图)\n        coordinateSystem: 'rectanguler', /* 坐标系类型, 默认'rectanguler'; 可选: 'rectanguler'(直角坐标系), 'circle'(倾角分布图), 'circleLine'(圆周图), */\n        lineStyle: { // 样式\n          color: '#0032ff', // 颜色，默认 '#0032ff\n          width: 1, // 粗细，默认 1\n        },\n        markLine: { // 标线\n          data: [],\n          lineStyle: { // 样式\n            color: '#ebd662', // 颜色，默认 '#ebd662'\n            width: 1, // 粗细，默认 1\n          },\n          fontStyle: { // 标注字体样式\n            color: '#0032ff', // 颜色，默认 '#ebd662'\n            size: '12px', // 大小，默认 '12px'\n            family: 'Microsoft YaHei', // 字体，默认 'Microsoft YaHei'\n            weight: 'normal' // 粗细，默认 'normal'\n          }\n        },\n        fontStyle: { /* 字体样式(coordinateSystem === 'circle') */\n          color: '#000', /* 颜色 */\n          size: '14px', /* 大小 */\n          faimly: 'Microsoft YaHei', /* 字体 */\n        },\n        dataMsg: { // 数据信息\n          oneFreq: 0, // 一倍频\n          rotateSpeed: 0, // 转速\n          specType: 1, // 频谱图类型\n          spectral: 0, // 采样点数\n          setPower: false, // 是否设置有效频率，默认 false\n        },\n        symbol: {\n          show: false,\n          color: '',\n          size: 3,\n        },\n        unit: '', /* 特征值单位 */\n        data: { /* 倾角分布图、沉降跟踪图数据 */\n          amplitude: [], /* 幅值 */\n          phase: [], /* 相位 */\n          color: [], /* 点和报警线的颜色 */\n          maxAmplitude: 0.1, /* 最大2倍幅值 */\n        },\n        posName: [], /* 如果有多组数据, 测点名 */\n        isRestore: true, /* 是否刷新图谱 */\n      },\n      // 标注信息\n      toolTip: {\n        isShow: true, /* 是否启用点击效果 */\n        symbol: {\n          show: true,\n          color: '',\n          size: 3,\n        },\n        lineStyle: { // 标线样式\n          color: '#FA9A4D', // 颜色，默认 '#FA9A4D'\n          width: 1, // 粗细，默认 1\n        },\n        fontStyle: { // 标注字体样式\n          color: '#fff', // 颜色，默认 '#fff'\n          size: '12px', // 大小，默认 '12px'\n          family: 'Microsoft YaHei', // 字体，默认 'Microsoft YaHei'\n          weight: 'normal', // 粗细，默认 'normal'\n        },\n        background: { // 提示框背景\n          color: 'rgba(50, 50, 50, 0.3)', // 颜色，默认 'rgba(50, 50, 50, 0.3)'\n        },\n        formatter: function(params) {}, // params = {key: number, val: number} =>  key: 下标，val: x 值\n      },\n      tools: {\n        // 开窗放大\n        enlarge: {\n          show: false,\n          dom: null,\n        },\n        // 最大化 / 还原\n        maxOrMin: {\n          show: false,\n          dom: null,\n        },\n        // 重置\n        restore: {\n          show: false,\n          dom: null,\n          formatter(isRestore) {}\n        },\n        // 时间差\n        timeDifferent: {\n          show: false,\n          dom: null,\n          formatter(isTimeDifferent) {}\n        },\n        // 差频\n        subFreq: {\n          show: false,\n          dom: null,\n          formatter(isSubFreq) {}\n        },\n        // 1倍频\n        oneFreq: {\n          show: false,\n          dom: null,\n          formatter: (isOneFreq) => {},\n        },\n        // 标注倍频\n        labelFreq: {\n          show: false,\n          dom: null,\n          formatter(isLabelFreq) {}\n        },\n        // 寻峰\n        peakSearch: {\n          show: false,\n          dom: null,\n        },\n        // 添加标注\n        addLabel: {\n          show: false,\n          dom: null,\n        },\n        // 取消标注\n        cancelLabel: {\n          show: false,\n          dom: null,\n        },\n        // 校准倍频\n        setPeak: {\n          show: false,\n          dom: null,\n        },\n        // 导出图片\n        exportImage: {\n          show: false,\n          dom: null,\n          imageName: '',\n        },\n        // 导出数据\n        exportData: {\n          fileName: '',\n          show: false,\n          dom: null,\n        },\n        // 导出音频\n        exportAudio: {\n          fileName: '',\n          show: false,\n          dom: null,\n          maxFreq: null,\n        },\n      },\n      backgroundColor: 'rgba(255, 255, 255, 0)', // 图谱背景颜色，默认 '#fff'\n      changePos: false, // 是否切换测点 / 机组，默认 false\n      resize: null,\n    }\n    var _chart = function(dom) {\n      if (!dom) return;\n      this._dom = {\n        name: dom,\n        id: null,\n        width: 0,\n        height: 0,\n      }\n      this._computeParams = {\n        extremum: {},\n        proportion: {},\n      }\n      this._flag = {\n        spectrumXName: '', // 频谱图 x 轴单位\n        spectrumYName: '', // 频谱图 y 轴单位\n        dataLength: 0, // x 轴数据长度\n        zoom: 0, // 是否开窗放大  1：放大\n        click: 1, // 是否点击画线  1： 画线\n        line: { // 鼠标或点击位置对应 x 轴下标和值\n          key: -1, /* 对应数据所在数组的索引 */\n          val: -1, /* x轴对应的值 */\n          idx: undefined, /* 多组数据时对应数组的索引 */\n        },\n        last_xWave: { // 启用时间差上一次点击的 x 轴下标和值\n          key: -1,\n          val: -1\n        },\n        labelLine: { // 标线信息\n          spectrum: [], // 频谱图倍频、差频标线信息\n          wave: [] // 波形图时间差标线信息\n        },\n        maxMin: 0, // 是否最大化  1：最大化\n        addPeak: [], // 添加标注, 每次鼠标点击的 x 轴下标和值\n        addPeakPos: [], // 添加标注, 需要标注的点位置信息\n        dragLabel: false, // 是否拖动已填加标注的框\n        peakIndexArr: [], // 循环寻峰标线信息\n        arr_B: [], // 倍频数组\n        arr_C: [], // 差频数组\n        toolCheck: -1, // 最后选择的 tool：0 => 点击；1 => 1倍频；2 => 标注倍频；3 => 寻峰\n        tools: {\n          flag_subFreq: 0, // 是否启用差频  1：启用\n          flag_oneF: 0, // 是否启用一倍频  1：启用\n          flag_nx: 0, // 是否启用倍频  1：倍频\n          autoPeakNum: -1, // 循环寻峰计数\n          flag_addPeak: false, // 是否启用校准倍频\n          flag_subTime: 0, // 是否启用时间(点数)差  1：启用\n          flag_wave_extend: 0 // 时间差是否画周期性延展线\n        }\n      }\n      this._scope = {\n        // 数据尺寸\n        v: {\n          // x 轴\n          x: {\n            start: null, // 最小值\n            end: null, // 最大值\n            length: null, // 数据长度\n          },\n          // y 轴\n          y: {\n            start: null, // 最小值\n            end: null, // 最大值\n            length: null, // 数据长度\n          },\n        },\n        // 图谱尺寸\n        r: {\n          r: null, // 最右侧位置\n          w: null, // 宽度\n          b: null, // 最下侧位置\n          h: null, // 高度\n          x: null, // 纵向中心点位置(圆心x)\n          y: null, // 横向中心点位置(圆心y)\n          rs: null, // 最大半径\n        },\n      }\n      this._movePos = {\n        x: {\n          oldVal: 0,\n          newVal: 0,\n          move: 0,\n          source: 0,\n          addLabel: 0,\n        },\n        y: {\n          oldVal: 0,\n          newVal: 0,\n          move: 0,\n          source: 0,\n          addLabel: 0,\n        }\n      }\n      this._option = null;\n      this._drawTools = {\n        canvas: {},\n        ctx: {},\n        // toolDom: null\n      }\n      this.axis = { /* 倾角分布图(沉降跟踪图)每个点坐标 */\n        x: [], /* x坐标 */\n        y: [], /* y坐标 */\n        index: [], /* 对应数据下标 */\n      }\n      this.event = {\n        dom: {\n          // 点击画线\n          click: e => {\n            e.stopPropagation();\n            const opt = this._option;\n            const series = opt.series;\n            const r = this._scope.r;\n            const dx = e.offsetX;\n            const dy = e.offsetY;\n            if (series.coordinateSystem === 'rectanguler') {\n              if (!this._flag.zoom && opt && opt.x.data.length > 0 && !this._flag.dragLabel) {\n                let dValue;\n                if (dx >= opt.grid.left && dx <= r.r)\n                  dValue = this.findNearbyPoint(dx, dy);\n                else\n                  return\n                if (this._flag.tools.flag_addPeak) {\n                  dValue.key = this.fft_indexOfWaveX(dValue.val, this._option.y.data[dValue.key], 1)\n                  dValue.val = this._option.x.data[dValue.key];\n                }\n                if (dx >= opt.grid.left && dx <= r.r && dy >= opt.grid.top && dy <= r.b) {\n                  this._flag.line = {\n                    val: dValue.val,\n                    key: dValue.key,\n                    idx: dValue.index,\n                  }\n                } else {\n                  return\n                }\n                if (this._flag.click) {\n                  if (dx >= this._option.grid.left && dx <= r.r && dy >= this._option.grid.top && dy <= r.b) {\n                    (this._option.tools.timeDifferent.show && this._option.tools.timeDifferent.dom) &&\n                    this.labelLineWave();\n                    if ((this._option.tools.subFreq.show && this._option.tools.subFreq.dom) ||\n                      (this._option.tools.labelFreq.show && this._option.tools.labelFreq.dom) ||\n                      (this._option.tools.oneFreq.show && this._option.tools.oneFreq.dom) ||\n                      (this._option.tools.peakSearch.show && this._option.tools.peakSearch.dom)\n                    ) {\n                      this.labelLineSpec();\n                    }\n                    if (this._flag.tools.flag_subTime || this._flag.tools.flag_subFreq || this._flag.tools.flag_nx) {\n                      this.drawLabelLine();\n                    } else {\n                      this._flag.toolCheck = 0;\n                      this.drawLine(this._flag.line)\n                    }\n                  }\n                }\n                opt.toolTip.formatter(this._flag.line);\n              }\n            }\n            else if (series.coordinateSystem === 'circle') {\n              if (opt && series.data.amplitude.length > 0) {\n                const axis = this.axis;\n                const ax = axis.x;\n                const ay = axis.y;\n                const r = this._scope.r;\n                const rx = r.x;\n                const ry = r.y;\n                const rs = r.rs;\n                if ((dx - rx) ** 2 + (dy - ry) ** 2 <= rs ** 2) {\n                  let min = {\n                    x: 0,\n                    y: 0,\n                    index: null,\n                    value: Number.MAX_VALUE,\n                  };\n                  for (let i = 0, l = ax.length; i < l; i++) {\n                    const d = (ax[i] - dx) ** 2 + (ay[i] - dy) ** 2;\n                    if (min.value > d) {\n                      min = {\n                        x: ax[i],\n                        y: ay[i],\n                        index: axis.index[i],\n                        value: d,\n                      }\n                    }\n                  }\n                  this.drawPoint(min);\n                }\n              }\n            }\n            else if (series.coordinateSystem === 'circleLine') {\n              if (opt && series.data.phase.length > 0) {\n                const axis = this.axis;\n                const ax = axis.x;\n                const ay = axis.y;\n                const r = this._scope.r;\n                const rx = r.x;\n                const ry = r.y;\n                const rs = r.rs;\n                if ((dx - rx) ** 2 + (dy - ry) ** 2 <= rs ** 2) {\n                  let min = {\n                    x: 0,\n                    y: 0,\n                    index: null,\n                    value: Number.MAX_VALUE,\n                  };\n                  for (let i = 0, l = ay.length; i < l; i++) {\n                    const d = (ax[i].oVal - dx) ** 2 + (ay[i].oVal - dy) ** 2;\n                    if (min.value > d) {\n                      min = {\n                        x: ax[i].oVal,\n                        y: ay[i].oVal,\n                        index: axis.index[i],\n                        value: d,\n                      }\n                    }\n                  }\n                  this.drawPoint(min, series.coordinateSystem);\n                }\n              }\n            }\n          },\n          // 鼠标按下\n          mousedown: e => {\n            const flag = this._flag;\n            flag.dragLabel = false;\n            const movePos = this._movePos;\n            movePos.x.move = 0\n            movePos.x.source = e.offsetX\n            movePos.y.source = e.offsetY\n            movePos.x.oldVal = e.offsetX\n            movePos.y.oldVal = e.offsetY\n            for (let i = 0, l = flag.addPeakPos.length; i < l; i++) {\n              let val = flag.addPeakPos[i];\n              if (e.offsetX >= val.x && e.offsetX <= val.x + 110 && e.offsetY >= val.y && e.offsetY <= val.y + 40) {\n                val.flag = 1;\n                flag.click = 0;\n                break;\n              } else {\n                flag.click = 1;\n              }\n            }\n            this.addEvent(this._dom.name, 'mousemove', this.event.dom.dragWave);\n          },\n          // 拖动图谱 & 开窗放大 handler\n          dragWave: e => {\n            e.stopPropagation();\n            let multiple = 0;\n            let opt = this._option;\n            if (opt && opt.x.data.length > 0 && e.target.nodeName === 'CANVAS') {\n              let moveX = this._movePos.x,\n                moveY = this._movePos.y,\n                flag = this._flag,\n                scope = this._scope,\n                scopeR = scope.r,\n                scopeV = scope.v,\n                prop = this._computeParams.proportion,\n                propX = prop.x,\n                propY = prop.y,\n                extrX = this._computeParams.extremum.x,\n                yArr = opt.y.data;\n              moveX.newVal = e.offsetX;\n              moveX.move = moveX.newVal - moveX.oldVal\n              moveY.newVal = e.offsetY;\n              moveY.move = moveY.newVal - moveY.oldVal\n              if (moveY.source >= scopeR.b && moveY.source <= scopeR.b + 30) {\n                // 拖动 x 轴\n                multiple = Math.abs((moveX.newVal - propX.b) / propX.k - (moveX.oldVal - propX.b) / propX.k)\n                if (moveX.move === 0) {\n                  return\n                } else if (moveX.move > 0) {\n                  if (scopeV.x.start - multiple <= extrX.min) {\n                    scopeV.x.start = extrX.min\n                    scopeV.x.end -= scopeV.x.start - extrX.min\n                  } else {\n                    scopeV.x.start -= multiple\n                    scopeV.x.end -= multiple\n                    moveX.oldVal = e.offsetX;\n                  }\n                } else {\n                  if (scopeV.x.end + multiple >= extrX.max) {\n                    scopeV.x.end = extrX.max\n                    scopeV.x.start += extrX.max - scopeV.x.end\n                  } else {\n                    scopeV.x.start += multiple\n                    scopeV.x.end += multiple\n                    moveX.oldVal = e.offsetX;\n                  }\n                }\n                let data = {\n                  min: Number.MAX_VALUE,\n                  max: Number.MIN_VALUE * -1\n                }, l = yArr.length;\n                this._option.x.type !== 'category' && (data.min = 0);\n                if (typeof yArr[0] === 'object' && yArr[0].length >= 0) {\n                  data.start = this.findNearbyPoint(opt.grid.left, scopeR.b).key;\n                  data.end = this.findNearbyPoint(scopeR.r, scopeR.b).key + 1;\n                  for (let i = 0; i < l; i++) {\n                    data.data = yArr[i].slice(data.start, data.end);\n                    let len = data.data.length;\n                    for (let j = 0; j < len; j++) {\n                      const val = data.data[j];\n                      data.min > val && (data.min = Number(val));\n                      data.max < val && (data.max = Number(val));\n                    }\n                  }\n                } else {\n                  data.start = this.findNearbyPoint(opt.grid.left, scopeR.b).key;\n                  data.end = this.findNearbyPoint(scopeR.r, scopeR.b).key + 1;\n                  data.data = yArr.slice(data.start, data.end)\n                  for (let i = 0; i < l; i++) {\n                    const val = data.data[i];\n                    data.min > val && (data.min = Number(val));\n                    data.max < val && (data.max = Number(val));\n                  }\n                }\n                scopeV.y.start = data.min;\n                scopeV.y.end = data.max + (data.max - data.min) / 10;\n                flag.click = 1;\n                this.restoreAll(2);\n              } else if (moveX.source < opt.grid.left) {\n                // 拖动 y 轴\n                multiple = Math.abs((moveY.newVal - propY.b) / propY.k - (moveY.oldVal - propY.b) / propY.k)\n                if (moveY.move === 0) {\n                  return\n                } else if (moveY.move < 0) {\n                  scopeV.y.start -= multiple\n                  scopeV.y.end -= multiple\n                } else {\n                  scopeV.y.start += multiple\n                  scopeV.y.end += multiple\n                }\n                moveY.oldVal = e.offsetY\n                flag.click = 1\n                this.mappingY(2);\n                this.drawAxis()\n                this.drawWave()\n                this.zoomLine()\n              } else if (moveX.source >= opt.grid.left && moveX.source <= scopeR.r && moveY.source >= opt.grid.top && moveY.source < scopeR.b) {\n                if (flag.zoom) {\n                  // 开窗放大\n                  this.drawEnlargement(1)\n                } else {\n                  let addPeakPos = flag.addPeakPos, l = addPeakPos.length;\n                  if (l > 0) {\n                    let isAddPeak = false;\n                    for (let i = 0; i < l; i++) {\n                      let val = addPeakPos[i];\n                      if (moveX.oldVal >= val.x && moveX.oldVal <= val.x + 110 && moveY.oldVal >= val.y && moveY.oldVal <= val.y + 40 && val.flag) {\n                        isAddPeak = true;\n                        val.x += moveX.move;\n                        val.y += moveY.move;\n                        this.drawAddLabel(2);\n                        moveX.oldVal = moveX.newVal;\n                        moveY.oldVal = moveY.newVal;\n                        flag.dragLabel = true;\n                        break;\n                      }\n                    }\n                  }\n                  if (!flag.dragLabel) {\n                    flag.tools.flag_subTime && this.labelLineSpec();\n                    let dVal = this.findNearbyPoint(moveX.newVal, moveY.newVal);\n                    if (flag.tools.flag_addPeak) {\n                      if (dVal.index === undefined) {\n                        dVal.key = this.fft_indexOfWaveX(dVal.val, opt.y.data[dVal.key], 1)\n                        dVal.val = opt.x.data[dVal.key];\n                      } else {\n                        dVal.key = this.fft_indexOfWaveX(dVal.val, opt.y.data[dVal.index][dVal.key], 1)\n                        dVal.val = opt.x.data[dVal.index][dVal.key];\n                      }\n                    }\n                    flag.line = {\n                      key: dVal.key,\n                      val: dVal.val,\n                      idx: dVal.index,\n                    }\n                    this.zoomLine();\n                  }\n                  /* } else {\n                    flag.tools.flag_subTime && this.labelLineSpec();\n                    let dVal = this.findNearbyPoint(moveX.newVal, moveY.newVal);\n                    if (flag.tools.flag_addPeak) {\n                      if (dVal.index === undefined) {\n                        dVal.key = this.fft_indexOfWaveX(dVal.val, opt.y.data[dVal.key], 1)\n                        dVal.val = opt.x.data[dVal.key];\n                      } else {\n                        dVal.key = this.fft_indexOfWaveX(dVal.val, opt.y.data[dVal.index][dVal.key], 1)\n                        dVal.val = opt.x.data[dVal.index][dVal.key];\n                      }\n                    }\n                    flag.line = {\n                      key: dVal.key,\n                      val: dVal.val,\n                      idx: dVal.index,\n                    }\n                    this.zoomLine();\n                  } */\n                }\n              } else {\n                return\n              }\n            } else {\n              return\n            }\n          },\n          // 鼠标松开\n          mouseup: () => {\n            const flag = this._flag;\n            for (let i = 0, l = flag.addPeakPos.length; i < l; i++) {\n              if (flag.addPeakPos[i].flag) {\n                flag.addPeakPos[i].flag = 0;\n                break;\n              }\n            }\n            this.drawEnlargement()\n            if (flag.zoom && this._movePos.x.source >= this._option.grid.left && this._movePos.x.source <= this._scope.r.r && this._movePos.y.source >= this._option.grid.top && this._movePos.y.source < this._scope.r.b) {\n              this.windowEnlargement()\n            }\n            this.removeEvent(this._dom.name, 'mousemove', this.event.dom.dragWave);\n            if (flag.zoom) {\n              setTimeout(() => {\n                flag.zoom = 0;\n                flag.click = 1;\n              })\n            }\n          },\n          // 缩放\n          zoom: e => {\n            e.stopPropagation();\n            var dx = e.offsetX;\n            var dy = e.offsetY;\n            var zoomVal = e.deltaY;\n            let multiple = null;\n            let type = 2, opt = this._option, paramY = this._computeParams.proportion.y;\n            if (opt && opt.x.data.length > 0) {\n              if (dx >= opt.grid.left && dx <= this._scope.r.r && dy >= opt.grid.top && dy <= this._scope.r.b + 30) {\n                let dVal = this.findNearbyPoint(dx, dy); // 鼠标点在当前波形上的位置索引\n                multiple = {\n                  start: (dVal.val - this._scope.v.x.start) * 0.1,\n                  end: (this._scope.v.x.end - dVal.val) * 0.1\n                };\n                let start, end;\n                if (zoomVal < 0) {\n                  start = this._scope.v.x.start + multiple.start;\n                  end = this._scope.v.x.end - multiple.end\n                  if (start >= end || 0 >= end) {\n                    return;\n                  } else {\n                    this._scope.v.x.start = start\n                    this._scope.v.x.end = end\n                    type = 2\n                  }\n                } else {\n                  start = this._scope.v.x.start - multiple.start;\n                  end = this._scope.v.x.end + multiple.end\n                  if (start < this._computeParams.extremum.x.min || end > this._computeParams.extremum.x.max) {\n                    type = 1\n                  } else {\n                    this._scope.v.x.start = start\n                    this._scope.v.x.end = end\n                    type = 2\n                  }\n                }\n                this.mappingX(type);\n                let data = {\n                  min: Number.MAX_VALUE,\n                  max: Number.MIN_VALUE\n                };\n                if (dVal.index !== undefined) {\n                  const yArr = opt.y.data;\n                  for (let i = 0, l = yArr.length; i < l; i++) {\n                    const yValue = yArr[i];\n                    data.start = this.findNearbyPoint(opt.grid.left).key;\n                    data.end = this.findNearbyPoint(this._scope.r.r).key + 1;\n                    if (data.start > data.end) {\n                      const s = data.start;\n                      data.start = data.end;\n                      data.end = s;\n                    }\n                    data.data = yValue.slice(data.start, data.end);\n                    for (let j = 0, len = data.data.length; j < len; j++) {\n                      const val = data.data[j];\n                      data.min > Number(val) && (data.min = Number(val));\n                      data.max < Number(val) && (data.max = Number(val));\n                    }\n                    data.max === Number.MIN_VALUE && (data.max = 0);\n                  }\n                } else {\n                  data.start = this.findNearbyPoint(opt.grid.left).key;\n                  data.end = this.findNearbyPoint(this._scope.r.r).key + 1;\n                  if (data.start > data.end) {\n                    const s = data.start;\n                    data.start = data.end;\n                    data.end = s;\n                  }\n                  data.data = opt.y.data.slice(data.start, data.end);\n                  for (let i = 0, l = data.data.length; i < l; i++) {\n                    const val = data.data[i];\n                    data.min > Number(val) && (data.min = Number(val));\n                    data.max < Number(val) && (data.max = Number(val));\n                  }\n                  data.max === Number.MIN_VALUE && (data.max = 0);\n                }\n                this._scope.v.y.start = data.min;\n                this._scope.v.y.end = data.max + (data.max - data.min) / 10;\n                this.mappingY(type);\n              }\n              this.drawAxis();\n              this.drawWave();\n              this.zoomLine();\n            }\n          },\n          // 监听按键\n          keydown: e => {\n            // Esc: key === 'Escape', keyCode === 27\n            // left: key === 'ArrowLeft', keyCode === 37\n            // right: key === 'ArrowRight', keyCode === 39\n            // up: key === 'ArrowUp', keyCode === 38\n            // down: key === 'ArrowDown', keyCode === 40\n            const flag = this._flag;\n            if (e.key === 'Escape' && e.keyCode === 27) {\n              flag.line = {\n                key: -1,\n                val: -1\n              };\n              const layer = [\n                'background', // 背景\n                'data', // 数据\n                'foreground', // 前景\n                'failure', // 故障频率\n                'subFreq', // 差频信息\n                'nxFreq', // 倍频信息\n                'click', // 操作(点击画线)\n                'zoom', // 操作(开窗放大)\n              ]\n              for (let i = 2, l = layer.length; i < l; i++) {\n                this._drawTools.ctx[layer[i]].clearRect(0, 0, dom.width, dom.height);\n              }\n              flag.addPeak.length = 0;\n              flag.tools.flag_subTime = 0;\n              flag.tools.flag_subFreq = 0;\n              flag.tools.flag_nx = 0;\n              flag.labelLine.spectrum.length = 0;\n              this.zoomLine();\n              this._option.tools.restore.formatter(true);\n            } else if (e.key === 'ArrowLeft' && e.keyCode === 37) {\n              --flag.line.key;\n              flag.line.val = this._option.x.data[flag.line.key];\n              this.zoomLine();\n            } else if (e.key === 'ArrowRight' && e.keyCode === 39) {\n              ++flag.line.key;\n              flag.line.val = this._option.x.data[flag.line.key];\n              this.zoomLine();\n            }\n          },\n        },\n        tool: {\n          // 开窗放大\n          enlarge: e => {\n            e.stopPropagation();\n            this._flag.zoom = Math.abs(--this._flag.zoom);\n            this._flag.click = Math.abs(--this._flag.click);\n          },\n          // 最大化 / 还原\n          maxOrMin: () => {\n            this.resize();\n          },\n          // 重置\n          restore: () => {\n            let flag = this._flag;\n            flag.click = 1;\n            flag.toolCheck = -1;\n            flag.zoom = 0;\n            flag.line = {\n              key: -1,\n              val: -1\n            };\n            let layer = this._drawTools.ctx;\n            for (let key in layer) {\n              layer[key].clearRect(0, 0, this._dom.width, this._dom.height);\n            }\n            flag.addPeakPos.length = 0;\n            flag.addPeak.length = 0;\n            flag.tools.flag_subTime = 0;\n            flag.tools.flag_subFreq = 0;\n            flag.tools.flag_nx = 0;\n            flag.labelLine.spectrum.length = 0;\n            flag.last_xWave = {\n              key: -1,\n              val: -1,\n            }\n            this._option.tools.restore.formatter(true);\n            this.restoreAll(1);\n          },\n          // 时间差\n          timeDifferent: () => {\n            let flag = this._flag, tools = flag.tools, line = flag.line;\n            tools.flag_subTime = Math.abs(--tools.flag_subTime)\n            tools.flag_subTime &&\n              (flag.last_xWave = {\n                key: line.key,\n                val: line.val\n              })\n            this._option.tools.timeDifferent.formatter(Boolean(tools.flag_subTime));\n            this.labelLineWave();\n            this.drawLabelLine();\n          },\n          // 循环寻峰\n          peakSearch: () => {\n            let flag = this._flag,\n              opt = this._option;\n            flag.peakIndexArr = this.getPeakIndexArr(opt.y.data, 10);\n            flag.tools.autoPeakNum++;\n            if (flag.tools.autoPeakNum >= 10) {\n              flag.tools.autoPeakNum = -1;\n            }\n            this.labelLineSpec();\n            let peakSearch = -1;\n            for (let i = 0, l = flag.labelLine.spectrum.length; i < l; i++) {\n              if (flag.labelLine.spectrum[i].name.indexOf('p') != -1) {\n                peakSearch = i;\n                break;\n              }\n            }\n            if (peakSearch > -1) {\n              flag.line = {\n                key: flag.labelLine.spectrum[peakSearch].xAxis,\n                val: opt.x.data[flag.labelLine.spectrum[peakSearch].xAxis]\n              }\n              this.labelLineSpec();\n            }\n            this._drawTools.ctx.click.clearRect(0, 0, this._dom.width, this._dom.height);\n            if (flag.tools.autoPeakNum == -1) {\n              return\n            }\n            this.drawLine(flag.line);\n          },\n          // 一倍频\n          oneFreq: () => {\n            let opt = this._option;\n            if (opt.series.dataMsg.rotateSpeed == 0) {\n              return;\n            } else {\n              let flag = this._flag, paramsX = this._computeParams.proportion.x;\n              flag.tools.flag_oneF = Math.abs(flag.tools.flag_oneF - 1);\n              flag.toolCheck = 1\n              let index = -1,\n                t_nxArray = [];\n              if (opt.series.dataMsg.specType == 2 || opt.x.name == 'NX') { //阶次、阶比\n                index = this.indexOfArray(opt.x.data, 1, 0);\n              } else {\n                index = this.indexOfArray(opt.x.data, opt.series.dataMsg.oneFreq, 0);\n              }\n              t_nxArray.push({\n                name: \"1x\",\n                xAxis: index\n              });\n              this._drawTools.ctx.click.clearRect(0, 0, this._dom.width, this._dom.height);\n              let x = paramsX.k * opt.x.data[t_nxArray[0].xAxis] + paramsX.b\n              flag.line = {\n                key: t_nxArray[0].xAxis,\n                val: opt.x.data[t_nxArray[0].xAxis]\n              }\n              this.labelLineSpec();\n              if (x && x >= opt.grid.left && x <= this._scope.r.r) {\n                this.drawLine(flag.line);\n              }\n              flag.tools.flag_nx = 0;\n              opt.tools.oneFreq.formatter(true);\n            }\n          },\n          // 差频\n          subFreq: () => {\n            let flag = this._flag, tools = flag.tools;\n            tools.flag_subFreq = Math.abs(--tools.flag_subFreq);\n            flag.toolCheck = 2\n            this._option.tools.subFreq.formatter(Boolean(tools.flag_subFreq));\n            tools.flag_subFreq ?\n              this.labelLineSpec() :\n              this.drawLabelLine()\n          },\n          // 倍频\n          labelFreq: () => {\n            let flag = this._flag;\n            flag.tools.flag_nx = Math.abs(--flag.tools.flag_nx)\n            flag.toolCheck = 2\n            this._option.tools.labelFreq.formatter(Boolean(flag.tools.flag_nx));\n            this.labelLineSpec();\n            this.drawLabelLine();\n          },\n          // 添加标注\n          addLabel: e => {\n            e.stopPropagation();\n            if (this._flag.line.key > -1) {\n              this.drawAddLabel(1);\n            }\n          },\n          // 取消标注\n          cancelLabel: () => {\n            this._flag.addPeak.length = 0;\n            this._flag.addPeakPos.length = 0;\n            this._drawTools.ctx.foreground.clearRect(0, 0, this._dom.width, this._dom.height);\n          },\n          // 校准倍频\n          setPeak: () => {\n            this._flag.tools.flag_addPeak = !this._flag.tools.flag_addPeak;\n          },\n          // 导出图片\n          exportImage: () => {\n            let img = new Image();\n            const opt = this._option, dom = this._dom;\n            let canvas = document.createElement('canvas');\n            canvas.setAttribute('height', dom.height);\n            canvas.setAttribute('width', dom.width);\n            let ctx = canvas.getContext('2d');\n            ctx.beginPath();\n            ctx.fillStyle = opt.backgroundColor;\n            ctx.fillRect(0, 0, dom.width, dom.height);\n            for (let key in this._drawTools.canvas) {\n              ctx.drawImage(this._drawTools.canvas[key], 0, 0);\n            }\n            img.src = canvas.toDataURL('image/png', 1.0);\n            let downLoad = document.createElement('a');\n            downLoad.href = img.src;\n            downLoad.download = opt.tools.exportImage.imageName === '' ?\n              opt.title.name :\n              opt.tools.exportImage.imageName; + '.png';\n            downLoad.dispatchEvent(new MouseEvent('click'));\n          },\n          // 数据导出\n          exportData: () => {\n            const opt = this._option;\n            var str = \"\"; //导出数据（中文兼容）\n            const name = opt.tools.exportData.fileName;\n            let fileName = ''; //导出文件名\n            const dataX = opt.x.data;\n            const dataY = opt.y.data;\n            const l = dataX.length;\n            if (this.getDataType(dataX[0]) === 'Array') {\n              let p = 0; /* 最长一组数据长度 */\n              str += `\\ufeff`\n              for (let i = 0; i < l; i++) {\n                const len = dataX[i].length;\n                p < len && (p = len);\n                str += `X,Y,`\n                fileName += i === 0 ? `${name[i]}` : `-${name[i]}`;\n              }\n              fileName += '.csv';\n              str += `\\r\\n`\n              for (var i = 0; i < p; i++) {\n                for (let j = 0; j < l; j++) {\n                  const x = dataX[j][i] || '';\n                  const y = dataY[j][i] || '';\n                  str += `${x},${y.toFixed(4) * 1}`;\n                }\n                str += \"\\r\\n\";\n              }\n            } else {\n              fileName = `${name}.csv`;\n              str += '\\ufeffX,Y\\r\\n';\n              for (var i = 0; i < l; i++) {\n                str += dataX[i] + \",\" + dataY[i].toFixed(4) * 1 + \"\\r\\n\";\n              }\n            }\n            this.funDownload(str, fileName);\n          },\n          // 音频导出\n          exportAudio: () => {\n            const opt = this._option;\n            const audio = opt.tools.exportAudio;\n            var freq = audio.maxFreq; //采样频率\n            var wave = this.cloneObj(opt.y.data, true); //数据\n            let buffer = null;\n            const name = audio.fileName;\n            let fileName = '';\n            if (this.getDataType(freq) === 'Array') {\n              for (let i = 0, l = wave.length; i < l; i++) {\n                buffer = this.setAudio(freq[i], wave[i]);\n                fileName = `${name[i]}.wav`;\n                this.funDownload(buffer, fileName);\n              }\n            } else {\n              buffer = this.setAudio(freq, wave);\n              fileName = `${name}.wav`; //导出文件名\n              this.funDownload(buffer, fileName);\n            }\n          },\n        }\n      }\n      this.creat(dom);\n      return this;\n    };\n    _chart.prototype = {\n      constructor: _chart,\n      // 判断数据类型\n      getDataType(data) {\n        return Object.prototype.toString.call(data).slice(8, -1);\n      },\n      // 保留小数\n      round(num, dig = 255) {\n         let val = Math.abs(num);\n         if (val >= 10 ** 8) {\n            return val;\n         }\n         if(val <= 10 ** -8 || val === 0){\n            return 0;\n         }\n         if (dig === 255) {\n            dig = 0;\n            let value = val;\n            while(value < 1) {\n               value *= 10;\n               dig++;\n            }\n            dig += 2;\n            val >= 1000 && (dig = 0);\n            val >= 10 && (dig = 1);\n\n         }\n         let len = 10 ** dig;\n         return Math.round(num * len) / len;\n      },\n      // 判断数据是否为原始类型\n      isStatic(val) {\n        return (\n          typeof val === 'string' ||\n          typeof val === 'number' ||\n          typeof val === 'boolean' ||\n          typeof val === 'undefined' ||\n          val === null)\n      },\n      // 复制对象\n      cloneObj(val, deep) {\n        if (this.isStatic(val)) return val;\n        if (Array.isArray(val))\n          return val.map(item => deep ? this.cloneObj(item, deep) : item);\n        else if (typeof val === 'object') {\n          const wType = ['Error', 'Date', 'RegExp'];\n          var type = Object.prototype.toString.call(val).slice(8, -1);\n          if (wType.includes(type)) return new window[type](val);\n          var tag = {};\n          for (let key in val) {\n            tag[key] = deep ? this.cloneObj(val[key], deep) : val[key];\n          }\n          return tag;\n        }\n      },\n      // 获取 dom, 绑定监听事件, 创建 canvas\n      creat: function(dom) {\n        if (typeof dom === \"undefined\") return;\n        let _dom = this._dom;\n        _dom.id = 'windit_' + new Date().valueOf();\n        for (let i = 0, l = dom.children.length; i < l; i++) {\n          if (dom.children[i].nodeName === 'DIV') {\n            dom.removeChild(dom.children[i]);\n            i--;\n            l = dom.children.length;\n          }\n        }\n        _dom.height = Math.round(dom.clientHeight);\n        _dom.width = Math.round(dom.clientWidth);\n        dom.style.position = 'relative';\n        const layer = [\n          'background', // 背景\n          'data', // 数据\n          'foreground', // 前景\n          'failure', // 故障频率\n          'subFreq', // 差频信息\n          'nxFreq', // 倍频信息\n          'click', // 操作(点击画线)\n          'zoom', // 操作(开窗放大)\n        ]\n        let div = document.createElement('div');\n        // 去除标线\n        div.setAttribute('style', 'height: ' + _dom.height + 'px;with: ' + _dom.width + 'px;outline: none;');\n        div.setAttribute('tabindex', 1);\n        for (var i = 0, l = layer.length; i < l; i++) {\n          let canvas = document.createElement('canvas');\n          canvas.setAttribute('height', _dom.height);\n          canvas.setAttribute('width', _dom.width);\n          canvas.setAttribute('style', 'position: absolute');\n          this._drawTools.canvas[layer[i]] = canvas;\n          this._drawTools.ctx[layer[i]] = canvas.getContext('2d');\n          div.appendChild(canvas);\n          dom.appendChild(div);\n        }\n      },\n      // 处理 option\n      setOption: function(opt1, opt2 = option) {\n        if (!opt1) return;\n        const flag = this._flag;\n        const mark = opt1.series.markLine;\n        if (mark && mark.data.length !== opt2.series.markLine.data.length && mark.data.length > 0) {\n          this._option = this.mergeOption(opt2, opt1);\n          this._option.resize = this.resize;\n          const coordinateSystem = this._option.series.coordinateSystem;\n          if (coordinateSystem === 'rectanguler') {\n            this.drawMarkLine();\n          } else if (coordinateSystem === 'circle') {\n            this.getNearPoint(mark.data[0]);\n          }\n          return;\n        }\n        if (opt1.series.isRestore === false) return;\n        let opt = this._option = this.mergeOption(opt2, opt1);\n        mark && (opt.series.markLine.data = mark.data);\n        if (opt.x.type === 'bar' && opt.x.data.length > 12) return;\n        this._option.resize = this.resize;\n        const coordinateSystem = opt.series.coordinateSystem;\n        if (opt.x.data) {\n          flag.dataLength || (flag.dataLength = opt.x.data.length)\n        }\n        flag.spectrumXName === '' && (flag.spectrumXName = opt.x.name)\n        flag.spectrumYName === '' && (flag.spectrumYName = opt.y.name)\n        let dom = this._dom;\n        opt.series.dataMsg.rotateSpeed == 0 && (opt.series.dataMsg.rotateSpeed = 1)\n        this.initParams();\n        let grid = opt.grid;\n        for (let key in grid) {\n          if (typeof grid[key] === 'string') {\n            opt.grid[key] = key === 'left' || key === 'right' ?\n              dom.width * grid[key].slice(0, grid[key].indexOf('%')) / 100 :\n              dom.height * grid[key].slice(0, grid[key].indexOf('%')) / 100\n          }\n        }\n        let tools = opt.tools;\n        for (let key in tools) {\n          if (key === 'setPower' || key === 'hideLow') continue;\n          if (tools[key].dom && tools[key].show) {\n            key === 'setPeak' && (flag.tools.flag_addPeak = tools[key].show);\n            this.addEvent(tools[key].dom, 'click', this.event.tool[key]);\n            // tools[key].dom.addEventListener('click', this.event.tool[key]);\n          }\n        }\n        this._scope.r = {\n          r: dom.width - opt.grid.right,\n          w: dom.width - opt.grid.right - opt.grid.left,\n          b: dom.height - opt.grid.bottom,\n          h: dom.height - opt.grid.top - opt.grid.bottom,\n          x: null,\n          y: null,\n          rs: null,\n        }\n        const r = this._scope.r;\n        const wr = r.w / 2;\n        const hr = r.h / 2;\n        r.x = wr + opt.grid.left;\n        r.y = hr + opt.grid.top;\n        r.rs = Math.min(wr, hr);\n        opt.series.type === 'bar' && (r.b -= 60);\n        // 点击画线(描点)\n        opt.toolTip.isShow && this.addEvent(dom.name, 'click', this.event.dom.click);\n        // dom.name.addEventListener('click', this.event.dom.click, false);\n        let layer = this._drawTools.ctx;\n        for (let key in layer) {\n          layer[key].clearRect(0, 0, this._dom.width, this._dom.height);\n        }\n        if (coordinateSystem === 'rectanguler') {\n          if (opt.series.type !== 'bar') {\n            // 拖动图谱 & 开窗放大 handler\n            this.addEvent(dom.name, 'mousedown', this.event.dom.mousedown);\n            this.addEvent(dom.name, 'mouseup', this.event.dom.mouseup);\n            // 缩放\n            this.addEvent(dom.name, 'mousewheel', this.event.dom.zoom);\n            // dom.name.addEventListener('mousewheel', this.event.dom.zoom, false);\n            const div = dom.name.children;\n            this.addEvent(div[div.length - 1], 'keydown', this.event.dom.keydown);\n          }\n          if (opt.x.data !== undefined && opt.x.data !== null && opt.y.data !== undefined && opt.y.data !== null) {\n            this.restoreAll(1);\n            this.drawMarkLine();\n          }\n        } else if (coordinateSystem === 'circle') {\n          this.restoreAll();\n          // opt.series.markLine.data.length > 0 && this.getNearPoint(opt.series.markLine.data[0]);\n        } else if (coordinateSystem === '3d') {}\n        else if (coordinateSystem === 'circleLine') {\n          this.restoreAll();\n        }\n      },\n      // 初始化参数\n      initParams: function() {\n        let flag = this._flag;\n        const opt = this._option;\n        if (opt.changePos) {\n          flag.spectrumXName = '';\n          flag.line = {\n            key: -1,\n            val: -1,\n            idx: undefined,\n          }\n          flag.arr_B.length = 0;\n          flag.arr_C.length = 0;\n          flag.toolCheck = -1;\n          flag.tools.autoPeakNum = -1;\n          flag.addPeak.length = 0;\n          flag.addPeakPos.length = 0;\n          flag.labelLine = {\n            spectrum: [],\n            wave: []\n          }\n          flag.last_xWave = {\n            key: -1,\n            val: -1\n          }\n          flag.maxMin = 0\n          flag.peakIndexArr = []\n          flag.tools.flag_subFreq = 0;\n          flag.tools.flag_oneF = 0;\n          flag.tools.flag_subTime = 0;\n          flag.tools.flag_wave_extend = 0;\n          flag.tools.flag_nx = 0;\n        }\n        if (opt.x.data && opt.x.data.length > 0) {\n          if (opt.x.name === flag.spectrumXName || opt.y.name === flag.spectrumYName) {\n            flag.line.val = opt.x.data[flag.line.key];\n          } else {\n            flag.line.key = this.indexOfArray(opt.x.data, flag.line.val, 0);\n            flag.spectrumXName = opt.x.name;\n            flag.spectrumYName = opt.y.name;\n          }\n        }\n        flag.zoom = 0\n        flag.click = 1\n        this._scope = {\n          // 数据尺寸\n          v: {\n            // x 轴\n            x: {\n              start: null, // 最小值\n              end: null, // 最大值\n              length: null, // 数据长度\n            },\n            // y 轴\n            y: {\n              start: null, // 最小值\n              end: null, // 最大值\n              length: null, // 数据长度\n            },\n          },\n          // 图谱尺寸\n          r: {\n            r: null, // 最右侧位置\n            w: null, // 宽度\n            b: null, // 最下侧位置\n            h: null, // 高度\n          },\n        }\n        this._movePos = {\n          x: {\n            oldVal: 0,\n            newVal: 0,\n            move: 0,\n            source: 0,\n            addLabel: 0,\n          },\n          y: {\n            oldVal: 0,\n            newVal: 0,\n            move: 0,\n            source: 0,\n            addLabel: 0,\n          }\n        }\n        const drawTools = this._drawTools.ctx;\n        for (let key in drawTools) {\n          drawTools[key].clearRect(0, 0, this._dom.width, this._dom.height);\n        }\n      },\n      // 深度合并对象\n      mergeOption: function(FirstOBJ, SecondOBJ) {\n        for (var key in SecondOBJ) {\n          FirstOBJ[key] && FirstOBJ[key].toString() === \"[object Object]\" ?\n            this.mergeOption(FirstOBJ[key], SecondOBJ[key]) : FirstOBJ[key] = SecondOBJ[key];\n        }\n        return FirstOBJ;\n      },\n      // 计算时间格式\n      formatDateStr: function(date, type = 1) {\n        let time = {},\n          str;\n        time.yy = new Date(date).getFullYear();\n        time.mm = new Date(date).getMonth() + 1;\n        time.mm < 10 && (time.mm = '0' + time.mm);\n        time.dd = new Date(date).getDate();\n        time.dd < 10 && (time.dd = '0' + time.dd);\n        str = type === 3 ? time.mm + '-' + time.dd : time.yy + '-' + time.mm + '-' + time.dd;\n        if (type === 2 || type === 3) {\n          time.h = new Date(date).getHours();\n          time.h < 10 && (time.h = '0' + time.h);\n          time.m = new Date(date).getMinutes();\n          time.m < 10 && (time.m = '0' + time.m);\n          time.s = new Date(date).getSeconds();\n          time.s < 10 && (time.s = '0' + time.s);\n          str += ' ' + time.h + ':' + time.m + ':' + time.s;\n        }\n        return str;\n      },\n      // 初始化\n      restoreAll: function(type) {\n        const coordinateSystem = this._option.series.coordinateSystem;\n        if (coordinateSystem === 'rectanguler') {\n          this.mappingX(type);\n          this.mappingY(type);\n          this.drawAxis();\n          this.drawWave();\n          this.zoomLine();\n        } else if (coordinateSystem === 'circle') {\n          this.drawCircle();\n          this.drawPoints();\n        } else if (coordinateSystem === 'circleLine') {\n          this.drawCircleAxios();\n          this.drawPointsLine();\n        }\n      },\n      // 计算 x 轴比例\n      mappingX: function(type) { // type：1 => 初始化；2 => 缩放；\n        let scope = this._scope, params = this._computeParams;\n        if (type === 1) {\n          const opt = this._option;\n          const optX = opt.x;\n          const arr = optX.data;\n          const l = arr.length;\n          if (opt.series.type !== 'bar') {\n            params.extremum.x = {\n              min: Number.MAX_VALUE,\n              max: Number.MIN_VALUE\n            }\n            let i = 0;\n            if (this.getDataType(arr[0]) === 'Array') {\n              for (; i < l; i++) {\n                const value = arr[i];\n                for (let j = 0, len = value.length; j < len; j++) {\n                  const val = value[j];\n                  params.extremum.x.max < val && (params.extremum.x.max = val);\n                  params.extremum.x.min > val && (params.extremum.x.min = val);\n                }\n              }\n            } else {\n              const range = optX.range\n              if (l === 1) {\n                params.extremum.x.max = range.max;\n                params.extremum.x.min = range.min;\n              } else {\n                for (; i < l; i++) {\n                  const val = arr[i];\n                  params.extremum.x.max < val && (params.extremum.x.max = val);\n                  params.extremum.x.min > val && (params.extremum.x.min = val);\n                }\n              }\n            }\n            let k = scope.r.w / (params.extremum.x.max - params.extremum.x.min)\n            let b = (scope.r.r + this._option.grid.left - k * (params.extremum.x.max + params.extremum.x.min)) / 2\n            params.proportion.x = {\n              k,\n              b\n            }\n            scope.v.x.start = params.extremum.x.min;\n            scope.v.x.end = params.extremum.x.max;\n            scope.v.x.length = params.extremum.x.max - params.extremum.x.min\n          } else {\n            const bar = scope.r.w / l;\n            let barWidth = bar / 2;\n            let space = bar / 2;\n            if (bar > 80) {\n              bar > 80 && (barWidth = 40);\n              space = bar - barWidth;\n            }\n            params.extremum.x = {\n              min: barWidth,\n              max: space\n            }\n            scope.v.x.start = params.extremum.x.min;\n            scope.v.x.end = params.extremum.x.max;\n            scope.v.x.length = bar;\n          }\n        } else {\n          let k = scope.r.w / (scope.v.x.end - scope.v.x.start)\n          let b = (scope.r.r + this._option.grid.left - k * (scope.v.x.end + scope.v.x.start)) / 2\n          scope.v.x.length = scope.v.x.end - scope.v.x.start\n          params.proportion.x = {\n            k,\n            b\n          }\n        }\n      },\n      // 计算 y 轴比例\n      mappingY: function(type) { // type：1 => 初始化；2 => 缩放；\n        let scope = this._scope, params = this._computeParams;\n        if (type === 1) {\n          let arr = this._option.y.data;\n          const l = arr.length;\n          if (this._option.x.type === 'category') {\n            params.extremum.y = {\n              min: Number.MAX_VALUE,\n              max: Number.MAX_VALUE * -1\n            }\n            for (let i = 0; i < l; i++) {\n              const val = arr[i];\n              if (this.getDataType(arr[0]) === 'Array') {\n                for (let j = 0, len = val.length; j < len; j++) {\n                  const value = val[j];\n                  params.extremum.y.max < value && (params.extremum.y.max = Number(value));\n                  params.extremum.y.min > value && (params.extremum.y.min = Number(value));\n                }\n              } else if (Number(val) || Number(val) === 0) {\n                params.extremum.y.max < val && (params.extremum.y.max = Number(val));\n                params.extremum.y.min > val && (params.extremum.y.min = Number(val));\n              } else continue;\n            }\n            if (this._option.series.type === 'bar') params.extremum.y.min = 0;\n          } else {\n            params.extremum.y = {\n              min: 0,\n              max: Number.MAX_VALUE * -1\n            }\n            for (let i = 0; i < l; i++) {\n              const val = arr[i];\n              if (this.getDataType(arr[0]) === 'Array') {\n                for (let j = 0, len = val.length; j < len; j++) {\n                  const value = val[j];\n                  params.extremum.y.max < value && (params.extremum.y.max = Number(value));\n                }\n              } else {\n                params.extremum.y.max < val && (params.extremum.y.max = Number(val));\n              }\n            }\n          }\n          if (params.extremum.y.max === params.extremum.y.min) {\n            params.extremum.y.max += 0.3;\n            params.extremum.y.min -= 0.3;\n          }\n          const mutiple = (params.extremum.y.max - params.extremum.y.min) / 10\n          scope.v.y.start = params.extremum.y.min;\n          scope.v.y.end = params.extremum.y.max + mutiple;\n          let k = scope.r.h / (scope.v.y.start - scope.v.y.end);\n          scope.v.y.start === scope.v.y.end && (k = 0);\n          let b = scope.r.b - scope.v.y.start * k;\n          params.proportion.y = {\n            k,\n            b\n          }\n        } else {\n          let k, b;\n          let n = scope.v.y.start === scope.v.y.end ? -1 : scope.v.y.start - scope.v.y.end\n          k = scope.r.h / n;\n          b = scope.r.b - scope.v.y.start * k;\n          params.proportion.y = {\n            k,\n            b\n          }\n        }\n        scope.v.y.length = scope.v.y.end - scope.v.y.start;\n      },\n      // 画坐标系\n      drawAxis: function() {\n        let backCtx = this._drawTools.ctx.background;\n        const opt = this._option;\n        const scope = this._scope;\n        backCtx.clearRect(0, 0, this._dom.width, this._dom.height);\n        //  画 y 轴\n        let nameX = '';\n        const nameXArr = [];\n        let nameY = '';\n        const nameYArr = [];\n        if (this.getDataType(opt.x.name) === 'Array') {\n          for (let name of opt.x.name) {\n            if (!nameXArr.includes(name)) {\n              nameX += `${name}/`;\n              nameXArr.push(name);\n            }\n          }\n          nameX = nameX.slice(0, -1);\n        } else {\n          nameX = opt.x.name;\n        }\n        if (this.getDataType(opt.y.name) === 'Array') {\n          for (let name of opt.y.name) {\n            if (!nameYArr.includes(name)) {\n              nameY += `${name}/`;\n              nameYArr.push(name);\n            }\n          }\n          nameY = nameY.slice(0, -1);\n        } else {\n          nameY = opt.y.name;\n        }\n        backCtx.beginPath();\n        backCtx.save();\n        backCtx.lineWidth = opt.y.lineStyle.width;\n        backCtx.strokeStyle = opt.y.lineStyle.color;\n        backCtx.moveTo(opt.grid.left + 0.5, this._scope.r.b + 0.5); // 原点\n        backCtx.lineTo(opt.grid.left + 0.5, opt.grid.top); // y 轴\n        backCtx.stroke();\n        backCtx.restore();\n        backCtx.font = opt.y.nameStyle.weight + ' ' + opt.y.nameStyle.size + ' ' + opt.y.nameStyle.family;\n        backCtx.textBaseline = 'bottom';\n        backCtx.textAlign = 'center';\n        backCtx.fillStyle = opt.y.nameStyle.color;\n        if(opt.y.name2 && opt.y.name2!=''){\n          backCtx.fillText(nameY, opt.grid.left, opt.grid.top - 20);\n          backCtx.fillText(opt.y.name2, opt.grid.left, opt.grid.top - 5);\n        }\n        else{\n          backCtx.fillText(nameY, opt.grid.left, opt.grid.top - 5);\n        }\n        //  画 x 轴\n        backCtx.beginPath();\n        backCtx.lineWidth = opt.x.lineStyle.width;\n        backCtx.strokeStyle = opt.x.lineStyle.color;\n        backCtx.moveTo(opt.grid.left + 0.5, this._scope.r.b + 0.5); // 原点\n        backCtx.lineTo(this._scope.r.r + 0.5, this._scope.r.b + 0.5) // x 轴\n        backCtx.font = opt.x.nameStyle.weight + ' ' + opt.x.nameStyle.size + ' ' + opt.x.nameStyle.family;\n        backCtx.textBaseline = 'middle';\n        backCtx.textAlign = 'right';\n        backCtx.fillStyle = opt.x.nameStyle.color;\n        backCtx.fillText(nameX, this._scope.r.r, this._scope.r.b + Number(opt.x.nameStyle.bottom));\n        backCtx.fillText(opt.x.name2, this._scope.r.r, this._scope.r.b + Number(opt.x.nameStyle.bottom2));\n        backCtx.stroke();\n        backCtx.restore();\n        //  图谱标题\n        if (opt.title.show && opt.title.name !== '') {\n          backCtx.beginPath();\n          backCtx.font = opt.title.fontStyle.weight + ' ' + opt.title.fontStyle.size + ' ' + opt.title.fontStyle.family;\n          backCtx.textAlign = opt.title.fontStyle.align;\n          backCtx.fillStyle = opt.title.fontStyle.color;\n          backCtx.textBaseline = 'top';\n          let x;\n          switch (opt.title.fontStyle.align) {\n            case 'left':\n              x = 0;\n              break;\n            case 'center':\n              x = this._dom.width / 2;\n              break;\n            case 'right':\n              x = this._dom.width;\n              break;\n          }\n          backCtx.fillText(opt.title.name, x, 5);\n        }\n        if (opt.x.data === undefined || opt.y.data.length === 0) {\n          return;\n        }\n        backCtx.beginPath();\n        backCtx.lineWidth = opt.x.lineStyle.width;\n        backCtx.strokeStyle = opt.x.lineStyle.color;\n        backCtx.textAlign = 'center';\n        backCtx.textBaseline = 'middle';\n        backCtx.save();\n        let position = {\n          x: {},\n          y: {}\n        };\n        let fontLen = {\n          x: 0,\n          y: 0,\n        };\n        //  计算 x 轴刻度\n        if (opt.series.type !== 'bar') {\n          position.x.iSegNum = Math.round(this._scope.r.w / 25);\n          position.x.minSeg = this._scope.v.x.length / position.x.iSegNum;\n          position.x.mi = Math.round(Math.log(position.x.minSeg) * Math.LOG10E);\n          position.x.nScale = Math.pow(10, position.x.mi);\n          position.x.seg = position.x.nScale / 5;\n          position.x.seg < position.x.minSeg && (position.x.seg = position.x.nScale / 2)\n          position.x.seg < position.x.minSeg && (position.x.seg = position.x.nScale)\n          position.x.seg < position.x.minSeg && (position.x.seg = position.x.nScale * 2)\n          position.x.seg < position.x.minSeg && (position.x.seg = position.x.nScale * 5)\n          position.x.seg < position.x.minSeg && (position.x.seg = position.x.nScale * 10)\n          position.x.seg = parseFloat(position.x.seg.toPrecision(7).toString())\n          //  画 x 轴刻度\n          backCtx.font = opt.x.fontStyle.size + ' ' + opt.x.fontStyle.family;\n          backCtx.fillStyle = opt.x.fontStyle.color;\n          let timeLen = this._scope.v.x.end - this._scope.v.x.start;\n          let start = opt.x.type === 'time' ? this._scope.v.x.start : 0;\n          for (let i = start, j = 0, l = this._scope.v.x.end - position.x.seg; i < l; i += position.x.seg, j++) {\n            let x = i * this._computeParams.proportion.x.k + this._computeParams.proportion.x.b;\n            if (x >= opt.grid.left && x <= this._scope.r.r) {\n              if (opt.x.type === 'category' && j % 2 === 0) {\n                let font = parseFloat(i.toPrecision(6)).toString();\n                if (font.indexOf('.') !== -1) {\n                  let fl = font.slice(font.indexOf('.'))\n                  fontLen.x <= fl.length ?\n                    fontLen.x = fl.length :\n                    font = font + '0'\n                } else {\n                  if (fontLen.x > 0) {\n                    let zero = '.'\n                    for (let k = 1; k < fontLen.x; k++) {\n                      zero += '0'\n                    }\n                    font = font + zero\n                  } else if (position.x.seg < 0.5) {\n                    font += '.0'\n                  }\n                }\n                backCtx.fillText(font, x, this._scope.r.b + 15);\n                backCtx.moveTo(x + 0.5, this._scope.r.b)\n                backCtx.lineTo(x + 0.5, this._scope.r.b + 5)\n              } else if (opt.x.type === 'time' && j % 5 === 0) {\n                let font = timeLen > 86400000 ? this.formatDateStr(i, 1) : this.formatDateStr(i, 3);\n                backCtx.fillText(font, x, this._scope.r.b + 15);\n                backCtx.moveTo(x + 0.5, this._scope.r.b);\n                backCtx.lineTo(x + 0.5, this._scope.r.b + 5)\n              }\n            }\n          }\n          backCtx.stroke();\n          backCtx.restore();\n        } else {\n          // 画 x 轴刻度\n          backCtx.beginPath();\n          backCtx.font = opt.x.fontStyle.size + ' ' + opt.x.fontStyle.family;\n          backCtx.fillStyle = opt.x.fontStyle.color;\n          backCtx.textAlign = 'center';\n          backCtx.textBaseline = 'top';\n          for (let i = 0, l = opt.x.data.length; i < l; i++) {\n            const value = opt.x.data[i];\n            const x = scope.v.x.length * i + opt.grid.left + 20;\n            for (let j = 0, len = value.length; j < len; j++) {\n              backCtx.fillText(value[j], x, scope.r.b + 18 * j + 1.5);\n            }\n          }\n        }\n        //  计算 y 轴刻度\n        position.y.iSegNum = Math.round(this._scope.r.h / 20);\n        position.y.minSeg = this._scope.v.y.length / position.y.iSegNum;\n        position.y.mi = Math.round(Math.log(position.y.minSeg) * Math.LOG10E);\n        position.nScaleY = Math.pow(10, position.y.mi);\n        position.y.seg = position.nScaleY / 5;\n        position.y.seg < position.y.minSeg && (position.y.seg = position.nScaleY / 2)\n        position.y.seg < position.y.minSeg && (position.y.seg = position.nScaleY)\n        position.y.seg < position.y.minSeg && (position.y.seg = position.nScaleY * 2)\n        position.y.seg < position.y.minSeg && (position.y.seg = position.nScaleY * 5)\n        position.y.seg < position.y.minSeg && (position.y.seg = position.nScaleY * 10)\n        position.y.seg = parseFloat(position.y.seg.toPrecision(7).toString())\n        //  画 y 轴刻度\n        backCtx.font = opt.y.fontStyle.size + ' ' + opt.y.fontStyle.family;\n        backCtx.textAlign = 'right';\n        backCtx.fillStyle = opt.y.fontStyle.color;\n        let interval = (this._scope.v.y.end - this._scope.v.y.start) / position.y.seg > 7 ? 2 : 1;\n        position.y.seg <= Number.MIN_VALUE && (position.y.seg = 0.00001)\n        let font = '';\n        for (let m = this._scope.v.y.end, j = 0; m >= this._scope.v.y.start; m -= position.y.seg, j++) {\n          let y = this.round(m * this._computeParams.proportion.y.k + this._computeParams.proportion.y.b);\n          const fonts = this.round(m);\n          if (y <= this._scope.r.b && y >= opt.grid.top && j % interval === 0 && j !== 0 && fonts !== font) {\n            font = fonts;\n            /* if (font.indexOf('.') !== -1) {\n              let fl = font.slice(font.indexOf('.'))\n              fontLen.y <= fl.length ?\n                fontLen.y = font.slice(font.indexOf('.')).length :\n                font = font + '0'\n            } else {\n              if (fontLen.y > 0) {\n                let zero = '.'\n                for (let k = 1; k < fontLen.y; k++) {\n                  zero += '0'\n                }\n                font = font + zero\n              }\n            } */\n            /* font > 0 ?\n              backCtx.fillText(font, opt.grid.left - 10, y + 0.5) : */\n              backCtx.fillText(fonts, opt.grid.left - 10, y + 0.5)\n            backCtx.moveTo(opt.grid.left, y + 0.5)\n            backCtx.lineTo(opt.grid.left - 5, y + 0.5)\n          }\n        }\n        /* for (let i = 0, j = 0; i <= this._scope.v.y.end; i += position.y.seg, j++) {\n          let y = i * this._computeParams.proportion.y.k + this._computeParams.proportion.y.b;\n          let font = parseFloat(i.toPrecision(7)).toString();\n          if (y <= this._scope.r.b && y >= opt.grid.top && j % interval === 0) {\n            if (font.indexOf('.') !== -1) {\n              let fl = font.slice(font.indexOf('.'))\n              fontLen.y <= fl.length ?\n                fontLen.y = font.slice(font.indexOf('.')).length :\n                font = font + '0'\n            } else {\n              if (fontLen.y > 0) {\n                let zero = '.'\n                for (let k = 1; k < fontLen.y; k++) {\n                  zero += '0'\n                }\n                font = font + zero\n              }\n            }\n            font > 0 ?\n              backCtx.fillText(font, opt.grid.left - 10, y + 0.5) :\n              font < 0 ?\n              backCtx.fillText(font, opt.grid.left - 10, y + 0.5) :\n              backCtx.fillText(0, opt.grid.left - 10, y + 0.5)\n            backCtx.moveTo(opt.grid.left, y + 0.5)\n            backCtx.lineTo(opt.grid.left - 5, y + 0.5)\n          }\n        } */\n        backCtx.stroke();\n        backCtx.beginPath();\n        backCtx.strokeStyle = opt.y.splitLineStyle.color;\n        backCtx.lineWidth = opt.y.splitLineStyle.width;\n        // 刻度标线 （y轴）\n        for (let n = this._scope.v.y.end, j = 0; n >= this._scope.v.y.start; n -= position.y.seg, j++) {\n          let y = this.round(n * this._computeParams.proportion.y.k + this._computeParams.proportion.y.b);\n          const fonts = Math.round(n * 1000000) / 1000000;\n          if (y <= this._scope.r.b && y >= opt.grid.top && j % interval === 0 && j !== 0 && fonts !== font) {\n            font = fonts;\n            backCtx.moveTo(opt.grid.left, y + 0.5)\n            backCtx.lineTo(this._scope.r.r, y + 0.5)\n          }\n        }\n        /* for (let i = 0, j = 0; i <= this._scope.v.y.end; i += position.y.seg, j++) {\n          let y = i * this._computeParams.proportion.y.k + this._computeParams.proportion.y.b;\n          if (y <= this._scope.r.b && y >= opt.grid.top && j % interval === 0) {\n            backCtx.moveTo(opt.grid.left, y + 0.5)\n            backCtx.lineTo(this._scope.r.r, y + 0.5)\n          }\n        } */\n        backCtx.stroke();\n      },\n      // 点击画线\n      drawLine: function(res) {\n        let params = this._computeParams.proportion,\n          opt = this._option,\n          clickCtx = this._drawTools.ctx.click,\n          xOVal = params.x.k * res.val + params.x.b;\n        const reality = this._scope.r;\n        let line = {\n          x: {\n            oldVal: res.key == 0 ? xOVal + 0.5 : xOVal,\n            newVal: xOVal,\n          },\n          y: {\n            oldVal: opt.grid.top,\n            newVal: reality.b\n          }\n        }\n        let circle = {\n            x: xOVal,\n            y: [],\n          }, yVal = [];\n        clickCtx.clearRect(0, 0, this._dom.width, this._dom.height);\n        if (res.idx !== undefined) {\n          const posName = opt.series.posName;\n          const str = [];\n          let minX = Number.MAX_VALUE;\n          let minY = Number.MAX_VALUE;\n          let maxX = Number.MIN_VALUE;\n          let maxY = Number.MIN_VALUE;\n          const unit = opt.y.name;\n          for (let i = 0, l = opt.y.data.length; i < l; i++) {\n            const valueX = opt.x.data[i];\n            const valueY = opt.y.data[i];\n            for (let j = 0, len = valueY.length; j < len; j++) {\n              const valX = valueX[j];\n              const valY = valueY[j];\n              if (j === res.key && valX === res.val) {\n                if (valY < minY) {\n                  minY = valY;\n                  minX = valX;\n                }\n                if (valY > maxY) {\n                  maxY = valY;\n                  maxX = valX;\n                }\n                const vY = this.round(valY);\n                circle.y.push(valY * params.y.k + params.y.b);\n                str.push(`${posName[i]}：${vY}${unit[i]}`)\n                // yVal.push(typeof valY === 'number' ? Number(valY.toFixed(4)).toString() : valY);\n                break;\n              }\n            }\n          }\n          const l = str.length;\n          if (l > 0) {\n            const tt = opt.toolTip;\n            const size = tt.symbol.size;\n            let w = res.val.toString().length * 12\n            clickCtx.beginPath();\n            clickCtx.strokeStyle = tt.lineStyle.color;\n            // 画线\n            if (tt.symbol.show) {\n              clickCtx.moveTo(line.x.oldVal, line.y.oldVal);\n              for (let i = 0; i < l; i++) {\n                clickCtx.lineTo(xOVal, circle.y[i] - size);\n                clickCtx.moveTo(opt.grid.left, circle.y[i])\n                clickCtx.lineTo(xOVal - size, circle.y[i]);\n                clickCtx.moveTo(xOVal + size, circle.y[i])\n                clickCtx.lineTo(reality.r, circle.y[i]);\n                clickCtx.moveTo(xOVal, circle.y[i] + size);\n              }\n              clickCtx.lineTo(xOVal, line.y.newVal);\n              clickCtx.stroke();\n              for (let i = 0; i < l; i++) {\n                clickCtx.beginPath();\n                clickCtx.fillStyle = tt.symbol.color !== '' ? tt.symbol.color : tt.lineStyle.color;\n                clickCtx.arc(xOVal, circle.y[i], size, 0, Math.PI * 2);\n                clickCtx.fill();\n              }\n            } else {\n              clickCtx.moveTo(line.x.oldVal, line.y.oldVal);\n              clickCtx.lineTo(xOVal, line.y.newVal);\n              for (let i = 0; i < l; i++) {\n                clickCtx.moveTo(opt.grid.left, circle.y[i])\n                clickCtx.lineTo(reality.r, circle.y[i]);\n              }\n              clickCtx.stroke();\n            }\n            // 横坐标\n            clickCtx.beginPath();\n            clickCtx.fillStyle = tt.background.color;\n            clickCtx.fillRect(line.x.oldVal - w / 2, line.y.newVal + 1, w, 20)\n            clickCtx.fillStyle = tt.fontStyle.color;\n            clickCtx.textBaseline = 'top';\n            clickCtx.textAlign = 'center';\n            if (opt.x.type === 'category') {\n              clickCtx.fillText(res.val, line.x.oldVal, line.y.newVal + 5);\n            } else if (opt.x.type === 'time') {\n              clickCtx.fillText(this.formatDateStr(res.val, 2), line.x.oldVal, line.y.newVal + 5);\n            }\n            // 浮窗信息\n            let vLength = 0;\n            w = 0;\n            for (let value of str) {\n              if (value.length > vLength) {\n                vLength = value.length;\n                w = vLength * 10;\n              }\n            }\n            maxX = maxX * params.x.k + params.x.b;\n            maxY = maxY * params.y.k + params.y.b;\n            minX = minX * params.x.k + params.x.b;\n            minY = minY * params.y.k + params.y.b;\n            const h = l * 30;\n            let x = 0;\n            let y = 0;\n            const separate = reality.h * 2 / 3 + opt.grid.top;\n            if (minY >= separate) {\n              x = maxX + 20;\n              y = maxY - 20 - h;\n            } else {\n              x = minX + 20;\n              y = minY + 20;\n            }\n            if (y < opt.grid.top) {\n              y += 40 + h;\n            } else if (y + h > reality.b) {\n              y -= 40 + h + opt.grid.bottom;\n            }\n            if (x + w + 100 >= reality.r) {\n              x -= w + 40;\n            }\n            clickCtx.beginPath();\n            clickCtx.fillStyle = tt.background.color;\n            clickCtx.fillRect(x, y, w, h);\n            clickCtx.fillStyle = tt.fontStyle.color;\n            clickCtx.font = tt.fontStyle.weight + ' ' + tt.fontStyle.size + ' ' + tt.fontStyle.family;\n            clickCtx.textAlign = 'left';\n            clickCtx.textBaseline = 'top';\n            for (let i = 0; i < l; i++) {\n              const ty = i === 0 ? 8 : i * 30 + 8;\n              clickCtx.fillText(str[i], x + 6, y + ty);\n            }\n          }\n        } else {\n          yVal = typeof opt.y.data[res.key] === 'number' ? [Number(opt.y.data[res.key].toFixed(4)).toString()] : [opt.y.data[res.key]];\n          circle = {\n            x: xOVal,\n            y: [opt.y.data[res.key] * params.y.k + params.y.b],\n          }\n          const l = circle.y.length;\n          let isDraw = false;\n          for (let i = 0; i < l; i++) {\n            const value = circle.y[i];\n            if (value >= opt.grid.top && value <= this._scope.r.b) {\n              isDraw = true;\n              break;\n            }\n          }\n          if (line.x.oldVal >= opt.grid.left && line.x.oldVal <= this._scope.r.r && isDraw) {\n            // 画线\n            if (opt.toolTip.symbol.show) {\n              const l = circle.y.length;\n              let size = opt.toolTip.symbol.size;\n              clickCtx.beginPath();\n              clickCtx.lineWidth = 1;\n              clickCtx.strokeStyle = opt.toolTip.lineStyle.color;\n              clickCtx.moveTo(line.x.oldVal, line.y.oldVal)\n              for (let i = 0; i < l; i++) {\n                clickCtx.lineTo(line.x.newVal, circle.y[i] - size)\n                clickCtx.moveTo(line.x.newVal, circle.y[i] - size)\n              }\n              clickCtx.lineTo(line.x.newVal, line.y.newVal);\n              for (let i = 0; i < l; i++) {\n                clickCtx.moveTo(opt.grid.left, circle.y[i])\n                clickCtx.lineTo(circle.x - size, circle.y[i])\n                clickCtx.moveTo(circle.x + size, circle.y[i])\n                clickCtx.lineTo(this._scope.r.r, circle.y[i])\n              }\n              clickCtx.stroke();\n              for (let i = 0; i < l; i++) {\n                clickCtx.beginPath();\n                clickCtx.arc(circle.x, circle.y[i], size, 0, 2 * Math.PI);\n                clickCtx.fillStyle = opt.toolTip.symbol.color !== '' ? opt.toolTip.symbol.color : opt.toolTip.lineStyle.color;\n                clickCtx.fill();\n                clickCtx.moveTo(line.x.oldVal, circle.y[i] + size)\n                clickCtx.lineTo(line.x.newVal, line.y.newVal)\n              }\n              clickCtx.stroke();\n            } else {\n              clickCtx.beginPath();\n              clickCtx.lineWidth = 1;\n              clickCtx.strokeStyle = opt.toolTip.lineStyle.color;\n              clickCtx.moveTo(line.x.oldVal, line.y.oldVal)\n              clickCtx.lineTo(line.x.newVal, line.y.newVal)\n              clickCtx.moveTo(opt.grid.left, circle.y)\n              clickCtx.lineTo(this._scope.r.r, circle.y)\n              clickCtx.stroke();\n            }\n            // 画坐标值\n            let l = yVal.length;\n            let num = 0;\n            for (let i = 0; i < l; i++) {\n              yVal[i].length > num && (num = yVal[i].length);\n            }\n            let width = num === 1 ? 14 : num >= 5 ? num * 10 - 10 : num * 10;\n            clickCtx.beginPath();\n            clickCtx.fillStyle = opt.toolTip.background.color;\n            for (let i = 0; i < circle.y.length; i++) {\n              clickCtx.fillRect(opt.grid.left - width - 1, circle.y[i] - 10, width, 20)\n            }\n            clickCtx.font = opt.toolTip.fontStyle.weight + ' ' + opt.toolTip.fontStyle.size + ' ' + opt.toolTip.fontStyle.family;\n            let w = this.round(res.val).toString().length * 12\n            if (opt.x.type === 'category') {\n              clickCtx.fillStyle = opt.toolTip.background.color;\n              clickCtx.fillRect(line.x.oldVal - w / 2, line.y.newVal + 1, w, 20)\n              clickCtx.fillStyle = opt.toolTip.fontStyle.color;\n              clickCtx.textBaseline = 'top';\n              clickCtx.textAlign = 'center';\n              clickCtx.fillText(this.round(res.val), line.x.oldVal, line.y.newVal + 5);\n              clickCtx.textBaseline = 'middle';\n              clickCtx.textAlign = 'right';\n              for (let i = 0; i < yVal.length; i++) {\n                clickCtx.fillText(this.round(yVal[i]), opt.grid.left - 5, circle.y[i]);\n              }\n            } else if (opt.x.type === 'time') {\n              const scopeR = this._scope.r;\n              let rectX = line.x.oldVal - w / 2;\n              let rectY = line.y.newVal + 1;\n              let alignX = 'center';\n              if (rectX + w > scopeR.r) {\n                rectX -= w / 2;\n                alignX = 'right';\n              }\n              clickCtx.fillStyle = opt.toolTip.background.color;\n              clickCtx.fillRect(rectX, rectY, w, 20)\n              clickCtx.fillStyle = opt.toolTip.fontStyle.color;\n              clickCtx.textBaseline = 'middle';\n              clickCtx.textAlign = 'right';\n              for (let i = 0; i < yVal.length; i++) {\n                clickCtx.fillText(this.round(yVal[i]), opt.grid.left - 5, circle.y[i]);\n              }\n              clickCtx.textBaseline = 'top';\n              clickCtx.textAlign = alignX;\n              clickCtx.fillText(this.formatDateStr(res.val, 2), line.x.oldVal, line.y.newVal + 5);\n            }\n          }\n        }\n      },\n      // 画波形图\n      drawWave: function() {\n        let params = this._computeParams.proportion;\n        const dataCtx = this._drawTools.ctx.data;\n        const opt = this._option;\n        const xArr = opt.x.data;\n        const yArr = opt.y.data;\n        const series = opt.series;\n        const color = series.lineStyle.color\n        let yk = params.y.k;\n        let yb = params.y.b;\n        dataCtx.clearRect(0, 0, this._dom.width, this._dom.height);\n        if (series.type === 'bar') {\n          const scope = this._scope;\n          const vx = scope.v.x;\n          dataCtx.beginPath();\n          dataCtx.beginPath();\n          dataCtx.lineWidth = series.lineStyle.width;\n          dataCtx.fillStyle = this.getDataType(color) === 'Array' ? color[i] : color;\n          for (let i = 0, l = yArr.length; i < l; i++) {\n            const y = yArr[i] * yk + yb;\n            const x = scope.v.x.length * i + opt.grid.left;\n            dataCtx.fillRect(x, y, vx.start, scope.r.b - y);\n          }\n          return;\n        }\n        let xk = params.x.k;\n        let xb = params.x.b;\n        const scopeV = this._scope.v;\n        let real = this._scope.r;\n        let x, y;\n        /* let left = (opt.grid.left - xb) / xk * 1000000 / 1000000;\n        let right = (real.r - xb) / xk * 1000000 / 1000000;\n        let top = (opt.grid.top - yb) / yk * 1000000 / 1000000;\n        let bottom = (real.b - yb) / yk * 1000000 / 1000000;\n        xk === 0 && (left = 0);\n        yk === 0 && (top = 0);\n        yk === 0 && (bottom = 0); */\n        let left = scopeV.x.start;\n        let right = scopeV.x.end;\n        let top = scopeV.y.end;\n        let bottom = scopeV.y.start;\n        if (series.type === 'line') {\n          if (this.getDataType(xArr[0]) === 'Array') {\n            for (let i = xArr.length; i--;) {\n              const val = xArr[i];\n              dataCtx.beginPath();\n              dataCtx.lineWidth = series.lineStyle.width;\n              dataCtx.strokeStyle = this.getDataType(color) === 'Array' ? color[i] : color;\n              for (let j = val.length; j--;) {\n                if (j === 0) break;\n                const value = val[j];\n                let xn = val[j - 1],\n                    yo = yArr[i][j],\n                    yn = yArr[i][j - 1];\n                if (xn >= left && value <= right && xn <= right && value >= left && (yn <= top && yn >= bottom) && (yo >= bottom && yo <= top)) {\n                  x = {\n                    oVal: xk * value + xb,\n                    nVal: xk * xn + xb\n                  }\n                  y = {\n                    oVal: yo * yk + yb,\n                    nVal: yn * yk + yb\n                  }\n                  dataCtx.moveTo(\n                    x.oVal,\n                    y.oVal,\n                  )\n                  dataCtx.lineTo(\n                    x.nVal,\n                    y.nVal\n                  )\n                }\n              }\n              dataCtx.stroke();\n            }\n            if (series.symbol.show) {\n              for (let i = 0, l = xArr.length; i < l; i++) {\n                const value = xArr[i];\n                for (let j = 0, len = value.length; j < len; j++) {\n                  y = yArr[i][j];\n                  let val = value[j];\n                  if (val >= left && val <= right && y <= top && y >= bottom) {\n                    val = val * xk + xb;\n                    y = y * yk + yb;\n                    dataCtx.beginPath();\n                    dataCtx.strokeStyle = series.lineStyle.color[i];\n                    dataCtx.fillStyle = series.symbol.color === '' ? '#fff' : series.symbol.color;\n                    dataCtx.arc(val, y, 3, 0, 2 * Math.PI);\n                    dataCtx.stroke();\n                    dataCtx.fill();\n                  }\n                }\n              }\n            }\n          } else if (Number(xArr[0]) || Number(xArr[0]) === 0) {\n            dataCtx.beginPath();\n            dataCtx.lineWidth = series.lineStyle.width;\n            dataCtx.strokeStyle = series.lineStyle.color;\n            const l = xArr.length;\n            if (l > 1) {\n              for (let i = l; i--;) {\n                const val = xArr[i];\n                if (i === 0) break;\n                let xn = xArr[i - 1],\n                    yo = yArr[i],\n                    yn = yArr[i - 1];\n                if (xn >= left && xn <= right && val >= left && val <= right && (yn <= top && yn >= bottom) && (yo >= bottom && yo <= top)) {\n                  x = {\n                    oVal: xk * val + xb,\n                    nVal: xk * xn + xb\n                  }\n                  y = {\n                    oVal: yo * yk + yb,\n                    nVal: yn * yk + yb\n                  }\n                  dataCtx.moveTo(\n                    x.oVal,\n                    y.oVal,\n                  )\n                  dataCtx.lineTo(\n                    x.nVal,\n                    y.nVal\n                  )\n                }\n              }\n              dataCtx.stroke();\n            }\n            if (series.symbol.show) {\n              for (let i = 0, l = xArr.length; i < l; i++) {\n                let val = xArr[i];\n                y = yArr[i];\n                if (val >= left && val <= right && y <= top && y >= bottom) {\n                  val = val * xk + xb;\n                  y = y * yk + yb;\n                  dataCtx.beginPath();\n                  dataCtx.strokeStyle = series.lineStyle.color;\n                  dataCtx.fillStyle = series.symbol.color === '' ? '#fff' : series.symbol.color;\n                  dataCtx.arc(val, y, 3, 0, 2 * Math.PI);\n                  dataCtx.stroke();\n                  dataCtx.fill();\n                }\n              }\n            }\n          }\n        } else if (series.type === 'bar-line') {\n          dataCtx.beginPath();\n          dataCtx.lineWidth = series.lineStyle.width;\n          dataCtx.strokeStyle = series.lineStyle.color;\n          for (let i = 0, l = xArr.length; i < l; i++) {\n            let val = xArr[i];\n            y = yArr[i];\n            let cy = yb <= real.b ? yb : real.b;\n            if (val >= left && val <= right && y <= top && y >= bottom) {\n              val = val * xk + xb;\n              y = y * yk + yb;\n              dataCtx.moveTo(val, cy);\n              dataCtx.lineTo(val, y + 1);\n            }\n          }\n          dataCtx.stroke();\n        } else if (series.type === 'scatter') {//散点图\n          for (let i = xArr.length; i--;) {\n            const val = xArr[i];\n            if (i === 0) break;\n            let xn = xArr[i - 1],\n              yo = yArr[i],\n              yn = yArr[i - 1];\n            if (val >= left && val <= right && (yo >= bottom && yo <= top)) {\n              x = {\n                oVal: xk * val + xb,\n              }\n              y = {\n                oVal: yo * yk + yb,\n              }\n              dataCtx.beginPath();\n              dataCtx.fillStyle = series.symbol.color;\n              dataCtx.arc(x.oVal, y.oVal, series.symbol.size, 0, Math.PI * 2, true)\n              dataCtx.fill()\n              dataCtx.closePath() //注意此处\n\n            }\n          }\n        }\n      },\n      // 查找距离鼠标位置最近点\n      findNearbyPoint: function(dx, dy) {\n        let v1, v2,\n          dValue = {\n            val: 0, // 当前 x 轴坐标\n            key: 0, // 当前位置下标\n            dx: 0 // 鼠标位置距离最近点距离\n          };\n        const arrX = this._option.x.data;\n        const paramsX = this._computeParams.proportion.x;\n        const xk = paramsX.k;\n        const xb = paramsX.b;\n        const l = arrX.length;\n        if (this.getDataType(arrX[0]) === 'Array') {\n          const arrY = this._option.y.data;\n          const paramsY = this._computeParams.proportion.y;\n          const yk = paramsY.k;\n          const yb = paramsY.b;\n          for (let i = l; i--;) {\n            const valX = arrX[i];\n            const valY = arrY[i];\n            const len = valX.length;\n            for (let j = len; j--;) {\n              const vx1 = (valX[j] * xk + xb - dx) ** 2\n              const vy1 = (valY[j] * yk + yb - dy) ** 2\n              if (i === l - 1 && j === len - 1) {\n                const vx2 = (valX[j - 1] * xk + xb - dx) ** 2\n                const vy2 = (valY[j - 1] * yk + yb - dy) ** 2\n                v1 = vx1 + vy1;\n                v2 = vx2 + vy2;\n                if (v1 > v2) {\n                  dValue = {\n                    val: valX[j - 1],\n                    key: j - 1,\n                    dx: v2,\n                    index: i,\n                    valY: valY[j - 1],\n                  }\n                } else {\n                  dValue = {\n                    val: valX[j],\n                    key: j,\n                    dx: v1,\n                    index: i,\n                    valY: valY[j],\n                  }\n                }\n              } else {\n                v1 = vx1 + vy1\n                if (dValue.dx > v1) {\n                  dValue = {\n                    val: valX[j],\n                    key: j,\n                    dx: v1,\n                    index: i,\n                    valY: valY[j],\n                  }\n                }\n              }\n            }\n          }\n        } else {\n          for (var i = l; i--;) {\n            if (i === l - 1) {\n              v1 = Math.abs((arrX[i] * xk + xb - dx))\n              v2 = Math.abs((arrX[i - 1] * xk + xb - dx))\n              dValue = v1 > v2 ? {\n                val: arrX[i - 1],\n                key: i - 1,\n                dx: v2\n              } : {\n                val: arrX[i],\n                key: i,\n                dx: v1\n              }\n            } else {\n              v1 = Math.abs((arrX[i] * xk + xb - dx))\n              if (dValue.dx > v1)\n                dValue = {\n                  val: arrX[i],\n                  key: i,\n                  dx: v1\n                }\n            }\n          }\n        }\n        return dValue // val：在 x 轴上的值；key：在 x 轴上的索引；dx：鼠标位置到点的距离；index: 多条线时对应谱线的索引\n      },\n      // 界面调整重新画线\n      zoomLine: function() {\n        const flag = this._flag;\n        this._drawTools.ctx.click.clearRect(0, 0, this._dom.width, this._dom.height)\n        switch (flag.toolCheck) {\n          case 0:\n            this.drawLine(flag.line);\n            break;\n          case 1:\n            this.event.tool.oneFreq();\n            break;\n          case 2:\n            (flag.tools.flag_nx || flag.tools.flag_subFreq) && this.labelLineSpec();\n            flag.tools.flag_subTime && this.labelLineWave();\n            this.drawLabelLine();\n            break;\n          case 3:\n            this.event.tool.peakSearch();\n            break;\n        }\n        flag.addPeakPos.length > 0 && this.drawAddLabel(2);\n        this._option.series.markLine.data.length > 0 && this.drawMarkLine();\n      },\n      // 绘制开窗放大范围\n      drawEnlargement: function(type) {\n        let zoomCtx = this._drawTools.ctx.zoom,\n          scope = this._scope,\n          opt = this._option,\n          moveX = this._movePos.x,\n          moveY = this._movePos.y,\n          paramsX = this._computeParams.proportion.x;\n        zoomCtx.clearRect(0, 0, this._dom.width, this._dom.height);\n        if (type) {\n          this._flag.click = 0\n          zoomCtx.fillStyle = 'rgba(0, 0, 0, 0.2)'\n          if (moveX.newVal >= opt.grid.left && moveX.newVal <= scope.r.r) {\n            let pos = {\n              oldPos: this.findNearbyPoint(moveX.oldVal, moveY.oldVal),\n              newPos: this.findNearbyPoint(moveX.newVal, moveY.newVal),\n            }\n            let yArr = [];\n            let num = {\n              min: Number.MAX_VALUE,\n              max: Number.MIN_VALUE\n            }\n            if (pos.oldPos.index === undefined && pos.newPos.index === undefined) {\n              if (pos.oldPos.key === pos.newPos.key) {\n                if (moveX.move >= 0) {\n                  pos.newPos.key++;\n                  pos.newPos.val = opt.x.data[pos.newPos.key]\n                } else {\n                  pos.newPos.key--;\n                  pos.newPos.val = opt.x.data[pos.newPos.key]\n                }\n              }\n              moveX.move >= 0 ?\n                yArr = opt.y.data.slice(pos.oldPos.key, pos.newPos.key + 1) :\n                yArr = opt.y.data.slice(pos.newPos.key, pos.oldPos.key + 1)\n              for (let i = 0, l = yArr.length; i < l; i++) {\n                const val = yArr[i];\n                num.max < val && (num.max = val);\n                num.min > val && (num.min = val);\n              }\n            } else {\n              if (pos.oldPos.key === pos.newPos.key) {\n                if (moveX.move >= 0) {\n                  pos.newPos.key++;\n                  pos.newPos.val = opt.x.data[pos.newPos.index][pos.newPos.key]\n                } else {\n                  pos.newPos.key--;\n                  pos.newPos.val = opt.x.data[pos.newPos.index][pos.newPos.key]\n                }\n              }\n              if (moveX.move >= 0) {\n                for (let i = 0, l = opt.y.data.length; i < l; i++) {\n                  const data = opt.y.data.slice(pos.oldPos.key, pos.newPos.key + 1);\n                  for (let j = 0, len = data.length; j < len; j++) {\n                    const val = data[j];\n                    num.max < val && (num.max = val);\n                    num.min > val && (num.min = val);\n                  }\n                }\n              }\n            }\n            scope.v.y.end = num.max\n            scope.v.y.start = num.min\n            moveX.oldVal = pos.oldPos.val * paramsX.k + paramsX.b;\n            moveX.newVal = pos.newPos.val * paramsX.k + paramsX.b;\n            moveX.move = moveX.newVal - moveX.oldVal;\n            moveX.move >= 0 ?\n              zoomCtx.fillRect(moveX.oldVal, opt.grid.top, moveX.move, scope.r.h) :\n              zoomCtx.fillRect(moveX.newVal, opt.grid.top, Math.abs(moveX.move), scope.r.h)\n          }\n        }\n      },\n      // 开窗放大\n      windowEnlargement: function() {\n        let rx = {\n          start: null,\n          end: null,\n        };\n        const moveX = this._movePos.x,\n            paramsX = this._computeParams.proportion.x,\n            scope = this._scope;\n        if (moveX.move === 0) return;\n        if (moveX.move > 0) {\n          rx.start = (moveX.oldVal - paramsX.b) / paramsX.k\n          rx.end = (moveX.newVal - paramsX.b) / paramsX.k\n        } else {\n          rx.start = (moveX.newVal - paramsX.b) / paramsX.k\n          rx.end = (moveX.oldVal - paramsX.b) / paramsX.k\n        }\n        scope.v.x.start = rx.start;\n        scope.v.x.end = rx.end + (rx.end - rx.start) / 10;\n        this.mappingX(2);\n        this.mappingY(2);\n        this.drawAxis();\n        this.drawWave();\n        this.zoomLine();\n      },\n      /*当前点坐标\n      type=0，普通光标 type=1，标注倍频*/\n      fft_indexOfWaveX: function(valueX, valueY, type) {\n        try {\n          let optX = this._option.x, optY = this._option.y;\n          if (null == optX.data || optX.data.length == 0) {\n            return -1;\n          }\n          var di = optX.data.length / 800;\n          if (type == 1) {\n            di = Math.round(di / 4);\n          }\n          if (di < 3) {\n            di = 3;\n          }\n          var tmpIndex = this.indexOfArray(optX.data, valueX, 0);\n          if (tmpIndex >= optX.data.length)\n            tmpIndex = optX.data.length;\n          else if (tmpIndex > 0) {\n            if (Math.abs(optX.data[tmpIndex] - valueX) > Math.abs(optX.data[tmpIndex - 1] - valueX)) {\n              tmpIndex = tmpIndex - 1;\n            }\n          }\n          var index_a = tmpIndex - di;\n          var index_b = tmpIndex + di;\n          var index = tmpIndex;\n          if (index_a <= 0) {\n            index_a = 0;\n          }\n          if (index_b >= optY.data.length) {\n            index_b = optY.data.length - 1;\n          }\n          for (var i = index_a; i <= index_b; i++) {\n            if (optY.data[i] > optY.data[index]) {\n              index = i;\n            }\n          }\n          return index;\n        } catch (err) {\n\n        }\n        return -1;\n      },\n      // 找最近点索引\n      indexOfArray: function(arr, value, flag) { //获取最匹配点的下标\n        /* flag=0，最近点；flag=1，右边最近点；flag=-1，左边最近点 */\n        var index = -1;\n        var flag_pm = false;\n        var dx = Number.POSITIVE_INFINITY;\n        for (var i = 0; i < arr.length; i++) {\n          switch (flag) {\n            case -1:\n              flag_pm = arr[i] - value <= 0 ? dx > Math.abs(arr[i] - value) : false;\n              break;\n            case 0:\n              flag_pm = dx > Math.abs(arr[i] - value);\n              break;\n            case 1:\n              flag_pm = arr[i] - value >= 0 ? dx > Math.abs(arr[i] - value) : false;\n              break;\n          }\n          if (flag_pm) {\n            dx = Math.abs(arr[i] - value);\n            index = i;\n            if (dx == 0) {\n              break;\n            }\n          }\n        }\n        return index;\n      },\n      // 计算波形图时间差\n      labelLineWave: function() { //带标签的竖线\n        /**带标签的竖线**/\n        let _flag = this._flag;\n        _flag.labelLine.wave.length > 0 && (_flag.labelLine.wave.length = 0)\n        var t_nxArray = [];\n        var index = -1;\n        var i = 0;\n        var nx0 = -1; //锁定光标位置\n        var nx1 = -1; //画周期性延展线\n        var index1 = -1;\n        var dx = -1; //基准线和时间差线的距离\n        /**画光标线**/\n        if (_flag.tools.flag_subTime == 1 && _flag.last_xWave.key != -1) {\n          nx0 = _flag.last_xWave.val;\n          index = _flag.last_xWave.key;\n          t_nxArray.push({\n            name: nx0 + \",\" + index.toFixed(4),\n            xAxis: index\n          });\n          _flag.tools.flag_wave_extend = 1;\n        } else if ((_flag.tools.flag_subTime == 1) && _flag.last_xWave.key == -1) { //开启时间差功能前没有点击页面，将基准线定在0的位置\n          _flag.last_xWave = {\n            key: 0,\n            val: this._option.x.data[0],\n          }\n          t_nxArray.push({\n            name: 0 + \",\" + this._option.x.data[0].toFixed(4),\n            xAxis: 0\n          });\n          _flag.tools.flag_wave_extend = 1;\n        }\n        /**画时间差的延展线**/\n        if (_flag.tools.flag_wave_extend && (_flag.tools.flag_subTime == 1) && _flag.line.key !== _flag.last_xWave.key) {\n          if (_flag.line.val != -1) {\n            index1 = _flag.line.key;\n            dx = Math.abs(index1 - index);\n            if (dx == 0) {\n              return;\n            }\n            var x0 = index1 % dx;\n            for (var x = x0; x < this._option.x.data.length; x += dx) {\n              if (x == index) {\n                continue;\n              }\n              t_nxArray.push({\n                name: \"\",\n                xAxis: x,\n                lineStyle: {\n                  color: \"red\"\n                }\n              });\n            }\n          }\n        }\n        if (t_nxArray.length > 0) {\n          _flag.labelLine.wave = t_nxArray;\n        }\n      },\n      // 计算频谱图差频、倍频、一倍频等\n      labelLineSpec: function() { //带标签的竖线\n        /**带标签的竖线**/\n        let _flag = this._flag, opt = this._option;\n        _flag.labelLine.spectrum.length > 0 && (_flag.labelLine.spectrum.length = 0)\n        var t_nxArray = [];\n        var index = -1;\n        var i = 0;\n        var index1 = -1; //第二次点击三条等距线的光标的下标\n        var dx = -1; //基准线和对称频率差线的距离\n        /**自动寻峰**/\n        if (_flag.peakIndexArr.length > _flag.tools.autoPeakNum) {\n          t_nxArray.push({\n            name: (_flag.tools.autoPeakNum + 1) + \"p\",\n            xAxis: _flag.peakIndexArr[_flag.tools.autoPeakNum]\n          });\n        }\n        if (_flag.tools.autoPeakNum == -1) { //初始化不自动寻峰；当点击循环寻峰次数超过10次就取消寻峰\n          t_nxArray.length = 0;\n        }\n        /*获取倍频和差频的index*/\n        if (_flag.tools.flag_subFreq == 1) { //启用了差频\n          _flag.arr_C = [];\n          if (_flag.arr_B[0] >= 0 && _flag.arr_B[0] != -1) {\n\n          } else {\n            _flag.arr_B[0] = 0;\n          }\n          var indexB0 = _flag.arr_B[0];\n          if (_flag.tools.flag_nx == 1) { //同时开启了倍频的效果\n            _flag.arr_B = [];\n            for (var i = 0; i < 10; i++) {\n              var index_b = indexB0 * (i + 1);\n              if (index_b >= opt.x.data.length) {\n                break;\n              }\n              _flag.arr_B.push(index_b);\n            }\n          }\n          index = _flag.arr_B[0];\n          index1 = _flag.line.key;\n          dx = Math.abs(index1 - index);\n\n          if (dx != 0) {\n            var x0 = index1 % dx; //左边界第一条线\n            var x_left = index - 3 * dx;\n            var x_right = index + 3 * dx;\n            if (x_left < x0) {\n              x_left = x0;\n            }\n            if (x_right > opt.x.data.length) {\n              x_right = opt.x.data.length;\n            }\n            // if(x_right>this.cutSpectrum.x.length){\n            //     x_right = this.cutSpectrum.x.length;\n            // }\n            for (var x = x_left; x <= x_right; x += dx) {\n              var item = {};\n              if (x == index) {\n                item.line = true;\n                item.value = x;\n              } else {\n                item.line = false;\n                item.value = x;\n              }\n              _flag.arr_C.push(item);\n            }\n          }\n        } else if (_flag.tools.flag_nx == 1) { //启用了倍频\n          _flag.arr_B = [];\n          for (var i = 0; i < 10; i++) {\n            if (_flag.line.val == -1) {\n              _flag.arr_B = [];\n            } else {\n              if (opt.series.dataMsg.specType == 2) { //阶次\n                if (_flag.line.val * (i + 1) >= opt.series.dataMsg.spectral / 2.56) {\n                  break;\n                }\n              } else {\n                if (_flag.line.val * (i + 1) >= opt.x.data[opt.x.data.length - 1]) {\n                  // if(this.xValue*(i+1)>=this.cutSpectrum.x[this.cutSpectrum.x.length-1]){\n                  break;\n                }\n              }\n              if (_flag.tools.flag_nx == 0 && i > 0) {\n                break;\n              }\n              var index_b_nx = this.indexOfArray(opt.x.data, _flag.line.val * (i + 1), 0);\n              _flag.arr_B.push(index_b_nx);\n            }\n          }\n        } else {\n          _flag.arr_B[0] = _flag.line.key;\n        }\n        /**标注倍频**/\n        if (_flag.tools.flag_nx == 1) {\n          var max_arr = new Array(_flag.arr_B.length);\n          for (i = 0; i < _flag.arr_B.length; i++) {\n            let index = _flag.arr_B[i] >= 0 ? _flag.arr_B[i] : 0;\n            max_arr[i] = this.fft_indexOfWaveX(opt.x.data[index], opt.y.data[index], 1); //标注倍频时校准倍频\n            if (_flag.tools.flag_addPeak) { //启用了校准倍频\n              if (i == 0) {\n                t_nxArray.push({\n                  xAxis: index,\n                  name: (i + 1) + \"X\" + \",\" + Number(opt.x.data[index]).toFixed(1) + opt.x.name + \",\" + opt.y.data[index].toFixed(4),\n                  lineStyle: {\n                    color: opt.toolTip.lineStyle.color\n                  }\n                });\n              } else {\n                t_nxArray.push({\n                  name: (i + 1) + \"X\" + \",\" + Number(opt.x.data[max_arr[i]]).toFixed(1) + opt.x.name + \",\" + opt.y.data[max_arr[i]].toFixed(4),\n                  xAxis: max_arr[i],\n                  lineStyle: {\n                    color: opt.toolTip.lineStyle.color\n                  }\n                });\n              }\n            } else { //取消了校准倍频\n              t_nxArray.push({\n                name: (i + 1) + \"X\" + \",\" + Number(opt.x.data[index]).toFixed(1) + opt.x.name + \",\" + opt.y.data[index].toFixed(4),\n                xAxis: index,\n                lineStyle: {\n                  color: opt.toolTip.lineStyle.color\n                }\n              });\n            }\n          }\n        }\n\n        /*画对称频率差的三条等距线*/\n        if (_flag.tools.flag_subFreq == 1) {\n          var max_sub_arr = new Array(_flag.arr_C.length);\n          for (i = 0; i < _flag.arr_C.length; i++) {\n            max_sub_arr[i] = this.fft_indexOfWaveX(opt.x.data[_flag.arr_C[i].value], opt.y.data[_flag.arr_C[i].value], 1); //对称频率差时校准倍频\n            if (_flag.arr_C[i].line == true) {\n              if (_flag.tools.flag_nx == 1) {\n                t_nxArray.push({\n                  name: \"\",\n                  xAxis: _flag.arr_C[i].value\n                });\n              } else {\n                t_nxArray.push({\n                  name: opt.x.data[_flag.arr_C[i].value].toFixed(4) + \",\" + opt.y.data[_flag.arr_C[i].value].toFixed(4),\n                  xAxis: _flag.arr_C[i].value\n                });\n              }\n            } else {\n              t_nxArray.push({\n                name: \"\",\n                xAxis: _flag.arr_C[i].value,\n                lineStyle: {\n                  color: \"red\"\n                }\n              });\n            }\n          }\n        }\n\n        /**故障频率明细线**/\n        /*var tb = [];\n        var narr = [];\n        for (var k = 0; k < failureList.length; k++) {\n            var n = tb.indexOf(failureList[k].index);\n            if (n == -1) {\n                tb.push(failureList[k].index);\n                narr.push({num: [failureList[k].num], index: failureList[k].index});\n            } else {\n                narr[n].num.push(failureList[k].num);\n            }\n        }\n        for (var j = 0; j < narr.length; j++) {\n            var numStr = narr[j].num.join(\"/\");\n            t_nxArray.push({name: numStr, xAxis: narr[j].index});\n        }*/\n        if (t_nxArray.length > 0) {\n          _flag.labelLine.spectrum = t_nxArray;\n        }\n\n      },\n      // 时间(点数)差、差频和倍频画线\n      drawLabelLine: function() {\n        let subCtx = this._drawTools.ctx.subFreq,\n          clickCtx = this._drawTools.ctx.click,\n          flag = this._flag,\n          opt = this._option,\n          optX = opt.x,\n          optY = opt.y,\n          scopeR = this._scope.r,\n          params = this._computeParams.proportion,\n          xk = params.x.k,\n          xb = params.x.b,\n          yk = params.y.k,\n          yb = params.y.b;\n        subCtx.clearRect(0, 0, this._dom.width, this._dom.height);\n        clickCtx.clearRect(0, 0, this._dom.width, this._dom.height);\n        // 时间差\n        if (flag.tools.flag_subTime && opt.tools.timeDifferent.show && flag.line.key > -1) {\n          if (flag.last_xWave.key !== flag.line.key) {\n            let font = null;\n            if (optX.name === 's') {\n              font = {\n                x: optX.data[flag.line.key] * xk + xb,\n                time: '时间：' + this.round(optX.data[flag.line.key]) + optX.name,\n                timeDif: '时间差：' + Math.round(Math.abs(flag.line.val - optX.data[flag.last_xWave.key]) * 10000) / 10000 + optX.name,\n                subFreq: '频率差：' + Math.round((1 / Math.abs(flag.last_xWave.val - flag.line.val)) * 10000) / 10000 + 'Hz',\n                amplitude: '幅值：' + Math.round(optY.data[flag.line.key] * 10000) / 10000 + optY.name\n              }\n              if (flag.last_xWave.key === -1)\n                font.timeDif = '时间差：' + Math.round(Math.abs(flag.line.val - optX.data[0]) * 10000) / 10000 + optX.name\n              font.x - opt.grid.left >= scopeR.w / 2 && (font.x -= 125)\n              if (font.x >= opt.grid.left && font.x + 125 <= scopeR.r) {\n                subCtx.beginPath();\n                subCtx.fillStyle = opt.toolTip.background.color;\n                subCtx.fillRect(font.x, opt.grid.top, 125, 70);\n                subCtx.font = optY.fontStyle.size + ' ' + optY.fontStyle.family;\n                subCtx.fillStyle = opt.series.lineStyle.color;\n                subCtx.textBaseline = 'top';\n                subCtx.fillText(font.time, font.x + 10, opt.grid.top + 8);\n                subCtx.fillText(font.timeDif, font.x + 10, opt.grid.top + 23);\n                subCtx.fillText(font.subFreq, font.x + 10, opt.grid.top + 38);\n                subCtx.fillText(font.amplitude, font.x + 10, opt.grid.top + 53);\n              }\n            } else if (optX.name === 'smpl') {\n              font = {\n                x: flag.line.val * xk + xb,\n                time: '点序：' + flag.line.val,\n                timeDif: '点数差：' + (flag.line.val - optX.data[flag.last_xWave.key]),\n                amplitude: '波形值：' + optY.data[flag.line.key].toFixed(4)\n              }\n              if (flag.last_xWave.key === -1)\n                font.timeDif = '点数差：' + (flag.line.val - optX.data[0])\n              font.x - opt.grid.left >= scopeR.w / 2 && (font.x -= 106)\n              if (font.x >= opt.grid.left && font.x + 110 <= scopeR.r) {\n                subCtx.beginPath();\n                subCtx.fillStyle = opt.toolTip.background.color;\n                subCtx.fillRect(font.x, opt.grid.top, 106, 60);\n                subCtx.font = optY.fontStyle.size + ' ' + optY.fontStyle.family;\n                subCtx.fillStyle = opt.series.lineStyle.color;\n                subCtx.textBaseline = 'top';\n                subCtx.fillText(font.time, font.x + 10, opt.grid.top + 8);\n                subCtx.fillText(font.timeDif, font.x + 10, opt.grid.top + 23);\n                subCtx.fillText(font.amplitude, font.x + 10, opt.grid.top + 38);\n              }\n            }\n          }\n          if (opt.toolTip.symbol.show) {\n            let size = opt.toolTip.symbol.size;\n            for (let i = 1, l = flag.labelLine.wave.length; i < l; i++) {\n              let line = {\n                x: optX.data[flag.labelLine.wave[i].xAxis] * xk + xb,\n                y: optY.data[flag.labelLine.wave[i].xAxis] * yk + yb,\n              }\n              if (line.x >= opt.grid.left && line.x <= scopeR.r && line.y >= opt.grid.top && line.y <= scopeR.b) {\n                subCtx.beginPath();\n                subCtx.strokeStyle = flag.labelLine.wave[i].lineStyle.color;\n                subCtx.fillStyle = flag.labelLine.wave[i].lineStyle.color;\n                subCtx.moveTo(line.x, opt.grid.top);\n                subCtx.lineTo(line.x, line.y - size);\n                subCtx.stroke();\n                subCtx.beginPath();\n                subCtx.arc(line.x, line.y, size, 0, 2 * Math.PI);\n                subCtx.fillStyle = opt.toolTip.symbol.color !== '' ? opt.toolTip.symbol.color : flag.labelLine.wave[i].lineStyle.color;\n                subCtx.fill();\n                subCtx.moveTo(line.x, line.y + size);\n                subCtx.lineTo(line.x, scopeR.b);\n                subCtx.stroke();\n              }\n            }\n          } else {\n            subCtx.beginPath();\n            for (let i = 1, l = flag.labelLine.wave.length; i < l; i++) {\n              if (i === 0) break;\n              let line = {\n                x: optX.data[flag.labelLine.wave[i].xAxis] * xk + xb,\n                y: optY.data[flag.labelLine.wave[i].xAxis] * yk + yb,\n              }\n              if (line.x >= opt.grid.left && line.x <= scopeR.r && line.y >= opt.grid.top && line.y <= scopeR.b) {\n                subCtx.strokeStyle = flag.labelLine.wave[i].lineStyle.color;\n                subCtx.fillStyle = flag.labelLine.wave[i].lineStyle.color;\n                subCtx.moveTo(line.x, opt.grid.top);\n                subCtx.lineTo(line.x, scopeR.b);\n              }\n            }\n            subCtx.stroke();\n          }\n          this.drawLine(flag.last_xWave);\n        }\n        // 差频\n        if (flag.tools.flag_subFreq && opt.tools.subFreq.show && flag.line.key > -1) {\n          let unit = optX.name;\n          let font = {\n            x: optX.data[flag.line.key] * xk + xb,\n            freq: `频率：${this.round(flag.line.val)}${unit}`,\n            nxFreq: `倍频：${this.round(flag.line.val * 60 / opt.series.dataMsg.rotateSpeed)}NX`,\n            subFreq: `差频：${this.round(flag.line.val - optX.data[flag.arr_B[0]])}${unit}`,\n            amplitude: `幅值：${this.round(optY.data[flag.line.key])}`\n          }\n          if (unit === 'NX') {\n            font.freq = `频率：${this.round(flag.line.val * opt.series.dataMsg.rotateSpeed / 60)}Hz`;\n            font.nxFreq = `倍频：${this.round(flag.line.val)}${unit}`\n          }\n          font.x - opt.grid.left >= scopeR.w / 2 && (font.x -= 125)\n          if (font.x >= opt.grid.left && font.x + 125 <= scopeR.r) {\n            subCtx.beginPath();\n            subCtx.lineWidth = 1;\n            subCtx.fillStyle = opt.toolTip.background.color;\n            subCtx.fillRect(font.x, opt.grid.top, 125, 70);\n            subCtx.font = optY.fontStyle.size + ' ' + optY.fontStyle.family;\n            subCtx.fillStyle = opt.series.lineStyle.color;\n            subCtx.textBaseline = 'top';\n            subCtx.fillText(font.freq, font.x + 10, opt.grid.top + 8);\n            subCtx.fillText(font.nxFreq, font.x + 10, opt.grid.top + 23);\n            subCtx.fillText(font.subFreq, font.x + 10, opt.grid.top + 38);\n            subCtx.fillText(font.amplitude, font.x + 10, opt.grid.top + 53);\n          }\n          if (opt.toolTip.symbol.show) {\n            let size = opt.toolTip.symbol.size;\n            for (let i = 0, l = flag.labelLine.spectrum.length; i < l; i++) {\n              if (flag.labelLine.spectrum[i].name === '' && flag.labelLine.spectrum[i].lineStyle) {\n                subCtx.strokeStyle = flag.labelLine.spectrum[i].lineStyle.color;\n                subCtx.fillStyle = opt.toolTip.symbol.color !== '' ? opt.toolTip.symbol.color : flag.labelLine.spectrum[i].lineStyle.color;\n                let x = optX.data[flag.labelLine.spectrum[i].xAxis] * xk + xb\n                let y = optY.data[flag.labelLine.spectrum[i].xAxis] * yk + yb\n                if (x >= opt.grid.left && x <= scopeR.r && y >= opt.grid.top && y <= scopeR.b) {\n                  subCtx.beginPath();\n                  subCtx.moveTo(x, opt.grid.top);\n                  subCtx.lineTo(x, y - size);\n                  subCtx.stroke();\n                  subCtx.beginPath();\n                  subCtx.arc(x, y, size, 0, 2 * Math.PI);\n                  subCtx.fill();\n                  subCtx.moveTo(x, y + size);\n                  subCtx.lineTo(x, scopeR.b);\n                  subCtx.stroke();\n                }\n              }\n              if (!flag.labelLine.spectrum[i].lineStyle && flag.labelLine.spectrum[i].name.indexOf('p') === -1 && flag.labelLine.spectrum[i].name.indexOf('x') === -1) {\n                let oneLine = {\n                  x: optX.data[flag.labelLine.spectrum[i].xAxis] * xk + xb,\n                  y: optY.data[flag.labelLine.spectrum[i].xAxis] * yk + yb,\n                }\n                if (oneLine.x >= opt.grid.left && oneLine.x <= scopeR.r && oneLine.y >= opt.grid.top && oneLine.y <= scopeR.b) {\n                  subCtx.beginPath();\n                  subCtx.strokeStyle = opt.toolTip.lineStyle.color;\n                  subCtx.moveTo(oneLine.x, opt.grid.top);\n                  subCtx.lineTo(oneLine.x, oneLine.y - size);\n                  subCtx.stroke();\n                  subCtx.beginPath();\n                  subCtx.fillStyle = opt.toolTip.symbol.color !== '' ? opt.toolTip.symbol.color : opt.toolTip.lineStyle.color;\n                  subCtx.arc(oneLine.x, oneLine.y, size, 0, 2 * Math.PI);\n                  subCtx.fill();\n                  subCtx.moveTo(oneLine.x, oneLine.y + size);\n                  subCtx.lineTo(oneLine.x, scopeR.b);\n                  subCtx.stroke();\n                }\n              }\n            }\n          } else {\n            for (let i = 0, l = flag.labelLine.spectrum.length; i < l; i++) {\n              if (flag.labelLine.spectrum[i].name === '' && flag.labelLine.spectrum[i].lineStyle) {\n                subCtx.strokeStyle = flag.labelLine.spectrum[i].lineStyle.color;\n                subCtx.fillStyle = flag.labelLine.spectrum[i].lineStyle.color;\n                let x = optX.data[flag.labelLine.spectrum[i].xAxis] * xk + xb\n                let y = optY.data[flag.labelLine.spectrum[i].xAxis] * yk + yb\n                if (x >= opt.grid.left && x <= scopeR.r && y >= opt.grid.top && y <= scopeR.b) {\n                  subCtx.beginPath();\n                  subCtx.moveTo(x, opt.grid.top);\n                  subCtx.lineTo(x, scopeR.b);\n                  subCtx.stroke();\n                }\n              }\n              if (!flag.labelLine.spectrum[i].lineStyle && flag.labelLine.spectrum[i].name.indexOf('p') === -1 && flag.labelLine.spectrum[i].name.indexOf('x') === -1) {\n                let oneLine = {\n                  x: optX.data[flag.labelLine.spectrum[i].xAxis] * xk + xb,\n                  y: optY.data[flag.labelLine.spectrum[i].xAxis] * yk + yb,\n                }\n                if (oneLine.x >= opt.grid.left && oneLine.x <= scopeR.r && oneLine.y >= opt.grid.top && oneLine.y <= scopeR.b) {\n                  subCtx.beginPath();\n                  subCtx.strokeStyle = opt.toolTip.lineStyle.color;\n                  subCtx.moveTo(oneLine.x, opt.grid.top);\n                  subCtx.lineTo(oneLine.x, scopeR.b);\n                  subCtx.stroke();\n                }\n              }\n            }\n          }\n        }\n        // 倍频\n        if (flag.tools.flag_nx && opt.tools.labelFreq.show) {\n          if (opt.toolTip.symbol.show) {\n            let size = opt.toolTip.symbol.size;\n            for (let i = 0, l = flag.labelLine.spectrum.length; i < l; i++) {\n              if (flag.labelLine.spectrum[i].name !== '' && flag.labelLine.spectrum[i].lineStyle) {\n                let x = optX.data[flag.labelLine.spectrum[i].xAxis] * xk + xb;\n                let y = optY.data[flag.labelLine.spectrum[i].xAxis] * yk + yb;\n                if (x > opt.grid.left && x <= scopeR.r && y >= opt.grid.top && y <= scopeR.b) {\n                  let font = flag.labelLine.spectrum[i].name;\n                  let color = flag.labelLine.spectrum[i].lineStyle.color;\n                  clickCtx.beginPath();\n                  clickCtx.lineWidth = 1;\n                  clickCtx.strokeStyle = color;\n                  clickCtx.fillStyle = color;\n                  clickCtx.font = optY.fontStyle.size + ' ' + optY.fontStyle.family;\n                  clickCtx.save();\n                  clickCtx.moveTo(x, opt.grid.top);\n                  clickCtx.lineTo(x, y - size);\n                  clickCtx.translate(x - scopeR.h, 110 + opt.grid.top);\n                  clickCtx.rotate(-90 * Math.PI / 180)\n                  clickCtx.textAlign = 'right';\n                  clickCtx.textBaseline = 'bottom';\n                  clickCtx.fillText(font, (40 + opt.grid.top), scopeR.h);\n                  clickCtx.restore();\n                  clickCtx.stroke();\n                  clickCtx.beginPath();\n                  clickCtx.arc(x, y, size, 0, 2 * Math.PI);\n                  clickCtx.fillStyle = opt.toolTip.symbol.color !== '' ? opt.toolTip.symbol.color : color;\n                  clickCtx.fill();\n                  clickCtx.moveTo(x, y + size);\n                  clickCtx.lineTo(x, scopeR.b);\n                  clickCtx.stroke();\n                }\n              }\n            }\n          } else {\n            for (let i = 0, l = flag.labelLine.spectrum.length; i < l; i++) {\n              if (flag.labelLine.spectrum[i].name !== '' && flag.labelLine.spectrum[i].lineStyle) {\n                let x = optX.data[flag.labelLine.spectrum[i].xAxis] * xk + xb;\n                let y = optY.data[flag.labelLine.spectrum[i].xAxis] * yk + yb;\n                if (x > opt.grid.left && x <= scopeR.r && y >= opt.grid.top && y <= scopeR.b) {\n                  let font = flag.labelLine.spectrum[i].name;\n                  let color = flag.labelLine.spectrum[i].lineStyle.color;\n                  clickCtx.beginPath();\n                  clickCtx.lineWidth = 1;\n                  clickCtx.strokeStyle = color;\n                  clickCtx.fillStyle = color;\n                  clickCtx.fillStyle = color;\n                  clickCtx.font = optY.fontStyle.size + ' ' + optY.fontStyle.family;\n                  clickCtx.save();\n                  clickCtx.moveTo(x, opt.grid.top);\n                  clickCtx.lineTo(x, scopeR.b);\n                  clickCtx.translate(x - scopeR.h, 110 + opt.grid.top);\n                  clickCtx.rotate(-90 * Math.PI / 180)\n                  clickCtx.textAlign = 'right';\n                  clickCtx.textBaseline = 'bottom';\n                  clickCtx.fillText(font, (40 + opt.grid.top), scopeR.h);\n                  clickCtx.restore();\n                  clickCtx.stroke();\n                }\n              }\n            }\n          }\n        }\n        flag.toolCheck = 2;\n      },\n      // 绘制添加标注信息\n      drawAddLabel: function(type = 1) { // type：1 => 点击添加标注；2 => 点击最大化\n        let _flag = this._flag,\n          opt = this._option,\n          foreCtx = this._drawTools.ctx.foreground;\n        let l = _flag.addPeak.length;\n        let size = {\n          width: this._scope.v.x.end.toFixed(4).length >= 8 ? 120 : 110,\n          height: 40,\n        };\n        let n = ~~(this._scope.r.w / (size.width + 10))\n        let xArr = opt.x.data;\n        // let yArr = opt.y.data;\n        let xMax = xArr[xArr.length - 1];\n        if (type === 1 && l < n) {\n          if (l !== 0) {\n            for (let i = 0; i < l; i++) {\n              if (_flag.addPeak[i] === _flag.line.key) {\n                return;\n              }\n            }\n            _flag.addPeak.push(_flag.line.key)\n            l++;\n          } else if (l === n) {\n            return\n          } else {\n            _flag.addPeak.push(_flag.line.key)\n            l++;\n          }\n          _flag.addPeak.sort((a, b) => {\n            return a - b\n          })\n          _flag.addPeakPos.length = 0;\n          for (let i = 0; i < l; i++) {\n            _flag.addPeakPos.push({\n              xName: opt.x.name,\n              freq: opt.x.data[_flag.addPeak[i]],\n              x: i * (size.width + 5) + opt.grid.left + 0.5,\n              y: opt.grid.top,\n              flag: 0\n            })\n          }\n        } else if (type === 2) {\n          let movePos = null,\n            peak = null,\n            flag = -1;\n          for (let i = 0; i < l; i++) {\n            if (_flag.addPeakPos[i].flag) {\n              peak = _flag.addPeak[i];\n              movePos = _flag.addPeakPos[i];\n              flag = i;\n              _flag.addPeak.splice(i, 1);\n              _flag.addPeakPos.splice(i, 1);\n              break;\n            }\n          }\n          if (flag > -1) {\n            _flag.addPeak.push(peak);\n            _flag.addPeakPos.push(movePos);\n          }\n        }\n        if (opt.series.dataMsg.setPower && opt.x.name === _flag.addPeakPos[0].xName) {\n          for (let i = 0, len = xArr.length; i < len; i++) {\n            for (let j = 0, length = _flag.addPeakPos.length; j < length; j++) {\n              if (_flag.addPeakPos[j].freq == xArr[i]) {\n                _flag.addPeak[j] = i;\n                break;\n              }\n            }\n          }\n        }\n        foreCtx.clearRect(0, 0, this._dom.width, this._dom.height);\n        foreCtx.beginPath();\n        foreCtx.font = opt.series.markLine.fontStyle.size +\n          ' ' + opt.series.markLine.fontStyle.family;\n        foreCtx.textBaseline = 'top';\n        foreCtx.strokeStyle = opt.series.markLine.lineStyle.color;\n        let line = {\n          x: null,\n          y: null\n        }\n        const freqObj = {\n          Hz: '频率：',\n          NX: '倍频：'\n        }\n        let freq = freqObj[opt.x.name];\n        for (let i = 0; i < l; i++) {\n          if (\n            (opt.x.data.length < _flag.addPeak[i] &&\n              opt.series.dataMsg.setPower) ||\n            (_flag.addPeakPos[i].freq > xMax &&\n              _flag.addPeakPos.xName === opt.x.name)\n          ) continue;\n          let halfWidth = _flag.addPeakPos[i].x + size.width / 2;\n          line = {\n            x: opt.x.data[_flag.addPeak[i]] * this._computeParams.proportion.x.k + this._computeParams.proportion.x.b,\n            y: opt.y.data[_flag.addPeak[i]] * this._computeParams.proportion.y.k + this._computeParams.proportion.y.b\n          }\n          const freqValue = this.round(opt.x.data[_flag.addPeak[i]]);\n          foreCtx.fillStyle = opt.series.markLine.lineStyle.color\n          foreCtx.fillRect(_flag.addPeakPos[i].x, _flag.addPeakPos[i].y, size.width, size.height)\n          foreCtx.fillStyle = opt.series.markLine.fontStyle.color;\n          foreCtx.fillText(freq + freqValue + opt.x.name, _flag.addPeakPos[i].x + 5, _flag.addPeakPos[i].y + 8);\n          foreCtx.fillText('幅值：' + opt.y.data[_flag.addPeak[i]].toFixed(4) + opt.y.name, _flag.addPeakPos[i].x + 5, _flag.addPeakPos[i].y + 23);\n          foreCtx.moveTo(halfWidth, _flag.addPeakPos[i].y + size.height);\n          foreCtx.lineTo(line.x, line.y);\n        }\n        foreCtx.stroke();\n        if (opt.toolTip.symbol.show) {\n          foreCtx.strokeStyle = opt.toolTip.lineStyle.color;\n          foreCtx.fillStyle = opt.toolTip.symbol.color !== '' ? opt.toolTip.symbol.color : opt.toolTip.lineStyle.color;\n          for (let i = 0; i < l; i++) {\n            foreCtx.beginPath();\n            line = {\n              x: opt.x.data[_flag.addPeak[i]] * this._computeParams.proportion.x.k + this._computeParams.proportion.x.b,\n              y: opt.y.data[_flag.addPeak[i]] * this._computeParams.proportion.y.k + this._computeParams.proportion.y.b\n            }\n            foreCtx.arc(line.x, line.y, opt.toolTip.symbol.size, 0, 2 * Math.PI);\n            foreCtx.fill();\n          }\n        }\n        foreCtx.clearRect(0, 0, this._dom.width, opt.grid.top);\n        foreCtx.clearRect(0, opt.grid.top, opt.grid.left, this._dom.height - opt.grid.top);\n        foreCtx.clearRect(opt.grid.left, this._scope.r.b, this._dom.width - opt.grid.left, opt.grid.bottom);\n        foreCtx.clearRect(this._scope.r.r, opt.grid.top, opt.grid.right, this._scope.r.h);\n      },\n      // 获取最大的峰值下标\n      getPeakIndexArr: function(yArr, count) {\n        /!*yArr=频谱y数组 count=需要获取的最大下标数目*!/\n        if (yArr.length <= 1) {\n          return [0];\n        }\n        var indexArr = [],\n          xVal = [];\n        var t_yArr = []; //构造包含索引和y最大极值的数组\n        var i = 0;\n        var j = 0;\n        var len = yArr.length;\n        var obj = {};\n        if (yArr[0] > yArr[1]) {\n          obj.key = 0;\n          obj.value = yArr[0];\n          t_yArr.push(obj);\n        }\n        for (i = 1; i < len - 1; i++) {\n          if (yArr[i] > yArr[i - 1] && yArr[i] > yArr[i + 1]) {\n            obj = {};\n            obj.key = i;\n            obj.value = yArr[i];\n            t_yArr.push(obj);\n          }\n        }\n        if (yArr[len - 2] < yArr[len - 1]) {\n          obj = {};\n          obj.key = len - 1;\n          obj.value = yArr[len - 1];\n          t_yArr.push(obj);\n        }\n        len = t_yArr.length;\n        for (i = 0; i < count; i++) {\n          for (j = i + 1; j < len; j++) {\n            if (t_yArr[i].value < t_yArr[j].value) {\n              obj = t_yArr[i];\n              t_yArr[i] = t_yArr[j];\n              t_yArr[j] = obj;\n            }\n          }\n        }\n        if (count > len) {\n          count = len;\n        }\n        for (i = 0; i < count; i++) {\n          indexArr.push(t_yArr[i].key);\n        }\n        return indexArr;\n      },\n      // 设置导出音频信息\n      setAudio(freq, data) {\n        const l = data.length;\n        var max = Number.MIN_VALUE;\n        var pointSize = 16; //采样点大小\n        var length = l * pointSize / 8; //数据长度\n        var channelNumber = 1; //声道数量\n        var blockSize = channelNumber * pointSize / 8; //采样块大小\n        var buffer = new Uint8Array(length + 44); //wav文件数据\n        var view = new DataView(buffer.buffer); //数据视图\n        buffer.set(new Uint8Array([0x52, 0x49, 0x46, 0x46])); //\"RIFF\"\n        view.setUint32(4, l + 44, true); //总长度\n        buffer.set(new Uint8Array([0x57, 0x41, 0x56, 0x45]), 8); //\"WAVE\"\n        buffer.set(new Uint8Array([0x66, 0x6D, 0x74, 0x20]), 12); //\"fmt \"\n        view.setUint32(16, 16, true); //WAV头大小\n        view.setUint16(20, 1, true); //编码方式\n        view.setUint16(22, 1, true); //声道数量\n        view.setUint32(24, freq, true); //采样频率\n        view.setUint32(28, freq * blockSize, true); //每秒字节数\n        view.setUint16(32, blockSize, true); //采样块大小\n        view.setUint16(34, pointSize, true); //采样点大小\n        buffer.set(new Uint8Array([0x64, 0x61, 0x74, 0x61]), 36); //\"data\"\n        view.setUint32(40, length, true); //数据长度\n        for (let i = 0; i < l; i++) {\n          if (Math.abs(data[i]) > max) {\n            max = Math.abs(data[i]);\n          }\n        }\n        if (max == 0) { //波形坐标轴最小刻度为0.001\n          max = 0.0001;\n        }\n        var xs = 32760 / max; //放大系数:short/max，short范围(-32768~32767)\n        for (let i = 0; i < l; i++) {\n          data[i] = Math.round(data[i] * xs); //数据\n        }\n        buffer.set(new Uint8Array(new Int16Array(data).buffer), 44); //数据\n        return buffer;\n      },\n      // 导出文件\n      funDownload: function(content, filename) {\n        var eleLink = document.createElement('a'); // 创建隐藏的可下载链接\n        eleLink.download = filename;\n        eleLink.style.display = 'none';\n        var blob = new Blob([content]); // 字符内容转变成blob地址\n        eleLink.href = URL.createObjectURL(blob);\n        eleLink.dispatchEvent(new MouseEvent('click'));\n      },\n      // 画标线\n      drawMarkLine: function() {\n        let opt = this._option;\n        let arr = opt.series.markLine.data;\n        const coordinateSystem = opt.series.coordinateSystem;\n        let failCtx = this._drawTools.ctx.failure;\n        let scopeR = this._scope.r;\n        failCtx.clearRect(0, 0, this._dom.width, this._dom.height);\n        if (coordinateSystem === 'rectanguler') {\n          let paramsX = this._computeParams.proportion.x;\n          let paramsY = this._computeParams.proportion.y;\n          let extreme = {\n            max: opt.x.data[opt.x.data.length - 1],\n            min: opt.x.data[0]\n          }\n          const l = arr.length;\n          if (arr && l > 0) {\n            if (l === 1 && arr[0].name === undefined) {\n              const value = arr[0];\n              const dValue = {\n                val: value.val,\n                key: value.key,\n                dex: 0,\n              }\n              this.drawLine(dValue);\n              this._flag.line = {\n                key: arr[0].key,\n                val: arr[0].val,\n                idx: undefined,\n              }\n              this._flag.toolCheck = 0;\n              arr.length = 0;\n            } else {\n              let lineStyle = opt.series.markLine.lineStyle;\n              let fontStyle = opt.series.markLine.fontStyle;\n              for (let i = 0; i < l; i++) {\n                let x = opt.x.data[arr[i].xAxis] * paramsX.k + paramsX.b + 0.5;\n                let y = opt.y.data[arr[i].xAxis] * paramsY.k + paramsY.b;\n                if (x >= opt.grid.left && x <= scopeR.r && y >= opt.grid.top && y <= scopeR.b) {\n                  failCtx.beginPath();\n                  failCtx.lineWidth = 1;\n                  failCtx.strokeStyle = lineStyle.color;\n                  failCtx.fillStyle = fontStyle.color;\n                  failCtx.font = fontStyle.weight + ' ' + fontStyle.size + ' ' + fontStyle.family;\n                  failCtx.save();\n                  failCtx.moveTo(x, opt.grid.top);\n                  failCtx.lineTo(x, y - 3);\n                  failCtx.translate(x - scopeR.h, 110 + opt.grid.top);\n                  failCtx.rotate(-90 * Math.PI / 180);\n                  failCtx.textAlign = 'right';\n                  failCtx.textBaseline = 'bottom';\n                  failCtx.fillText(arr[i].name, (40 + opt.grid.top), scopeR.h);\n                  failCtx.restore();\n                  failCtx.stroke();\n                  failCtx.beginPath();\n                  failCtx.fillStyle = lineStyle.color;\n                  failCtx.arc(x, y, 3, 0, 2 * Math.PI);\n                  failCtx.fill();\n                  failCtx.moveTo(x, y + 3);\n                  failCtx.lineTo(x, scopeR.b);\n                  failCtx.stroke();\n                }\n              }\n            }\n          }\n        } else if (coordinateSystem === 'circle') {\n          const color = opt.series.data.color;\n          for (let i = 0, l = arr.length; i < l; i++) {\n            failCtx.beginPath();\n            for (let val of arr[i]) {\n              failCtx.strokeStyle = color[i];\n              failCtx.arc(scopeR.x, scopeR.y, val, 0, 2 * Math.PI);\n            }\n          }\n          failCtx.stroke();\n        }\n        else if (coordinateSystem === 'circleLine') {\n          const color = opt.series.data.color;\n          for (let i = 0, l = arr.length; i < l; i++) {\n            failCtx.beginPath();\n            for (let val of arr[i]) {\n              failCtx.strokeStyle = color[i];\n              failCtx.arc(scopeR.x, scopeR.y, val, 0, 2 * Math.PI);\n            }\n          }\n          failCtx.stroke();\n        }\n      },\n      // 圆周图坐标(背景)\n      drawCircleAxios() {\n        const opt = this._option;\n        const dom = this._dom;\n        const backCtx = this._drawTools.ctx.background;\n        const sr = this._scope.r;\n        const x = sr.x;\n        const y = sr.y;\n        const r = sr.rs;\n        const line = opt.series.lineStyle;\n        const font = opt.series.fontStyle;\n        backCtx.clearRect(0, 0, dom.width, dom.height);\n        backCtx.beginPath();\n        backCtx.strokeStyle = line.color;\n        backCtx.lineWidth = line.width;\n        backCtx.fillStyle = font.color;\n        backCtx.arc(x, y, r, 0, 2 * Math.PI);\n        backCtx.moveTo(x - r, y);\n        backCtx.lineTo(x + r, y);\n        backCtx.moveTo(x, y - r);\n        backCtx.lineTo(x, y + r);\n        backCtx.stroke();\n        backCtx.font = `${font.size} ${font.family}`;\n        backCtx.textAlign = 'center';\n        backCtx.textBaseline = 'bottom';\n        backCtx.fillText('∠0°', x, y - r);\n        backCtx.textBaseline = 'top';\n        backCtx.fillText('∠180°', x, y + r + 2);\n        backCtx.textAlign = 'left';\n        backCtx.textBaseline = 'middle';\n        backCtx.fillText('∠90°', x + r + 2, y);\n        backCtx.textAlign = 'right';\n        backCtx.fillText('∠270°', x - r - 2, y);\n        backCtx.beginPath();\n        backCtx.arc(x, y, r / 2, 0, 2 * Math.PI);\n        backCtx.stroke();\n        backCtx.beginPath();\n        backCtx.arc(x, y, 3 * r / 4, 0, 2 * Math.PI);\n        backCtx.stroke();\n      },\n      // 圆周图数据\n      drawPointsLine() {\n        const dom = this._dom;\n        const series = this._option.series;\n        const sr = this._scope.r;\n        const rx = sr.x; /* 圆心x */\n        const ry = sr.y; /* 圆心y */\n        const rr = sr.rs; /* 半径 */\n        const data = series.data;\n        const amplitude = data.amplitude; /* x轴角度 */\n        const phase = data.phase; /* y轴的幅值 */\n        const dataCtx = this._drawTools.ctx.data;\n        const max = data.maxAmplitude;\n        const min = data.minAmplitude;\n        const PP = data.PP; /* 四分之一的半径对应的幅值大小 */\n        const axis = this.axis;\n        axis.x.length = 0;\n        axis.y.length = 0;\n        axis.index.length = 0;\n        if (amplitude === undefined || phase === undefined || phase.length === 0) {\n          return;\n        }\n        dataCtx.clearRect(0, 0, dom.width, dom.height);\n        for (let i = 0, l = phase.length; i < l; i++) {\n          const Aarr = amplitude;\n          const Parr = phase[i];\n          const color = data.color;\n          dataCtx.lineWidth = series.lineStyle.width;\n          dataCtx.fillStyle = color;\n          dataCtx.strokeStyle = color;\n          if (this.getDataType(Parr) === 'Array') {\n            for (let j = 0, len = Parr.length; j < len; j++) {\n              dataCtx.beginPath();\n              const A = 360 / len * j; //每个点对应在坐标系内的角度\n              let yVal = Parr[j]; //波形的幅值\n              let nyVal = Parr[j + 1]; //下一个波形的幅值\n              const nA = 360 / len * (j + 1); //下一个点对应在坐标系内的角度\n              if(j === len - 1) {\n                nyVal = Parr[0];\n              }\n              let x;\n              let y;\n              x = {\n                oVal: rx + (3 * PP + yVal) * rr / 4 / PP * Math.sin(A * Math.PI / 180),\n                nVal: rx + (3 * PP + nyVal) * rr / 4 / PP * Math.sin(nA * Math.PI / 180)\n              };\n              y = {\n                oVal: ry - (3 * PP + yVal) * rr / 4 / PP * Math.cos(A * Math.PI / 180),\n                nVal: ry - (3 * PP + nyVal) * rr / 4 / PP * Math.cos(nA * Math.PI / 180)\n              }\n\n              dataCtx.moveTo(\n                x.oVal,\n                y.oVal,\n              );\n              dataCtx.lineTo(\n                x.nVal,\n                y.nVal\n              );\n              axis.x.push(x);\n              axis.y.push(y);\n              axis.index.push({i, j});\n              dataCtx.stroke();\n            }\n          }\n        }\n        const text = `${this.round(max)}${series.unit}`;\n        const font = series.fontStyle;\n        dataCtx.beginPath();\n        dataCtx.fillStyle = font.color;\n        dataCtx.font = `${font.size} ${font.family}`;\n        dataCtx.textAlign = 'left';\n        dataCtx.textBaseline = 'bottom';\n        dataCtx.fillText(text, rx + rr * Math.cos(45 * Math.PI / 180), ry - rr * Math.sin(45 * Math.PI / 180));\n        dataCtx.textAlign = 'left';\n        dataCtx.textBaseline = 'top';\n        dataCtx.fillText(text, rx + rr * Math.cos(45 * Math.PI / 180), ry + rr * Math.sin(45 * Math.PI / 180));\n        dataCtx.textAlign = 'right';\n        dataCtx.textBaseline = 'bottom';\n        dataCtx.fillText(text, rx - rr * Math.cos(45 * Math.PI / 180), ry - rr * Math.sin(45 * Math.PI / 180));\n        dataCtx.textAlign = 'right';\n        dataCtx.textBaseline = 'top';\n        dataCtx.fillText(text, rx - rr * Math.cos(45 * Math.PI / 180), ry + rr * Math.sin(45 * Math.PI / 180));\n        const text2 = -text;\n        dataCtx.beginPath();\n        dataCtx.fillStyle = font.color;\n        dataCtx.font = `${font.size} ${font.family}`;\n        dataCtx.textAlign = 'right';\n        dataCtx.textBaseline = 'bottom';\n        dataCtx.fillText(text2, rx + rr / 2 * Math.cos(45 * Math.PI / 180) - 20, ry - rr / 2 * Math.sin(45 * Math.PI / 180));\n        dataCtx.textAlign = 'right';\n        dataCtx.textBaseline = 'top';\n        dataCtx.fillText(text2, rx + rr / 2 * Math.cos(45 * Math.PI / 180) - 20, ry + rr / 2 * Math.sin(45 * Math.PI / 180));\n        dataCtx.textAlign = 'left';\n        dataCtx.textBaseline = 'bottom';\n        dataCtx.fillText(text2, rx - rr / 2 * Math.cos(45 * Math.PI / 180) + 20, ry - rr / 2 * Math.sin(45 * Math.PI / 180));\n        dataCtx.textAlign = 'left';\n        dataCtx.textBaseline = 'top';\n        dataCtx.fillText(text2, rx - rr / 2 * Math.cos(45 * Math.PI / 180) + 20, ry + rr / 2 * Math.sin(45 * Math.PI / 180));\n      },\n      // 倾角分布图(沉降跟踪图)坐标(背景)\n      drawCircle() {\n        const opt = this._option;\n        const dom = this._dom;\n        const backCtx = this._drawTools.ctx.background;\n        const sr = this._scope.r;\n        const x = sr.x;\n        const y = sr.y;\n        const r = sr.rs;\n        const line = opt.series.lineStyle;\n        const font = opt.series.fontStyle;\n        backCtx.clearRect(0, 0, dom.width, dom.height);\n        backCtx.beginPath();\n        backCtx.strokeStyle = line.color;\n        backCtx.lineWidth = line.width;\n        backCtx.fillStyle = font.color;\n        backCtx.arc(x, y, r, 0, 2 * Math.PI);\n        backCtx.moveTo(x - r, y);\n        backCtx.lineTo(x + r, y);\n        backCtx.moveTo(x, y - r);\n        backCtx.lineTo(x, y + r);\n        backCtx.stroke();\n        backCtx.font = `${font.size} ${font.family}`;\n        backCtx.textAlign = 'center';\n        backCtx.textBaseline = 'bottom';\n        backCtx.fillText('N ∠0°', x, y - r);\n        backCtx.textBaseline = 'top';\n        backCtx.fillText('S ∠180°', x, y + r + 2);\n        backCtx.textAlign = 'left';\n        backCtx.textBaseline = 'middle';\n        backCtx.fillText('E ∠90°', x + r + 2, y);\n        backCtx.textAlign = 'right';\n        backCtx.fillText('W ∠270°', x - r - 2, y);\n      },\n      // 倾角分布图(沉降跟踪图)数据\n      drawPoints() {\n        const dom = this._dom;\n        const series = this._option.series;\n        const sr = this._scope.r;\n        const rx = sr.x; /* 圆心x */\n        const ry = sr.y; /* 圆心y */\n        const rr = sr.rs; /* 半径 */\n        const data = series.data;\n        const amplitude = data.amplitude; /* 幅值 */\n        const phase = data.phase; /* 相位 */\n        const dataCtx = this._drawTools.ctx.data;\n        const max = data.maxAmplitude;\n        const axis = this.axis;\n        axis.x.length = 0;\n        axis.y.length = 0;\n        axis.index.length = 0;\n        if (amplitude === undefined || amplitude.length === 0 || phase === undefined || phase.length === 0) {\n          return;\n        }\n        dataCtx.clearRect(0, 0, dom.width, dom.height);\n        for (let i = 0, l = phase.length; i < l; i++) {\n          const Aarr = amplitude[i];\n          const Parr = phase[i];\n          const color = data.color[i];\n          dataCtx.fillStyle = color;\n          for (let j = 0, len = Aarr.length; j < len; j++) {\n            dataCtx.beginPath();\n            const A = Aarr[j];\n            const P = Parr[j];\n            const x = rx + A / max * rr * Math.sin(P * Math.PI / 180);\n            const y = ry - A / max * rr * Math.cos(P * Math.PI / 180);\n            axis.x.push(x);\n            axis.y.push(y);\n            axis.index.push({i, j});\n            dataCtx.arc(x, y, 2, 0, 2 * Math.PI);\n            dataCtx.fill();\n          }\n        }\n        const text = `${this.round(max)}${series.unit}`;\n        const font = series.fontStyle;\n        dataCtx.beginPath();\n        dataCtx.fillStyle = font.color;\n        dataCtx.font = `${font.size} ${font.family}`;\n        dataCtx.textAlign = 'left';\n        dataCtx.textBaseline = 'bottom';\n        dataCtx.fillText(text, rx + rr * Math.cos(45 * Math.PI / 180), ry - rr * Math.sin(45 * Math.PI / 180));\n        dataCtx.textAlign = 'left';\n        dataCtx.textBaseline = 'top';\n        dataCtx.fillText(text, rx + rr * Math.cos(45 * Math.PI / 180), ry + rr * Math.sin(45 * Math.PI / 180));\n        dataCtx.textAlign = 'right';\n        dataCtx.textBaseline = 'bottom';\n        dataCtx.fillText(text, rx - rr * Math.cos(45 * Math.PI / 180), ry - rr * Math.sin(45 * Math.PI / 180));\n        dataCtx.textAlign = 'right';\n        dataCtx.textBaseline = 'top';\n        dataCtx.fillText(text, rx - rr * Math.cos(45 * Math.PI / 180), ry + rr * Math.sin(45 * Math.PI / 180));\n      },\n      // 倾角分布图(沉降跟踪图)鼠标最近点\n      getNearPoint(data) {\n        const axis = this.axis;\n        const ax = axis.x;\n        const ay = axis.y;\n        const msg = {\n          x: ax[data.key],\n          y: ay[data.key],\n          index: axis.index[data.key],\n        }\n        this.drawPoint(msg);\n      },\n      // 倾角分布图(沉降跟踪图)点击描点\n      drawPoint(msg, type) {\n        const dom = this._dom;\n        const clickCtx = this._drawTools.ctx.click;\n        clickCtx.clearRect(0, 0, dom.width, dom.height);\n        clickCtx.beginPath();\n        clickCtx.fillStyle = 'red';\n        clickCtx.arc(msg.x, msg.y, 3, 0, 2 * Math.PI);\n        clickCtx.fill();\n        if (type == 'circleLine') {\n          this._option.toolTip.formatter({value: msg.y});\n        }\n        else{\n          this._option.toolTip.formatter({index1: msg.index.i, index2: msg.index.j});\n          this._option.series.markLine.data.length = 0;\n        }\n      },\n      // 刷新图谱\n      resize() {\n        const dom = this._dom, grid = this._option.grid;\n        this.creat(dom.name);\n        this._scope.r = {\n          r: dom.width - grid.right,\n          w: dom.width - grid.right - grid.left,\n          b: dom.height - grid.bottom,\n          h: dom.height - grid.top - grid.bottom,\n          x: null,\n          y: null,\n          rs: null,\n        }\n        const r = this._scope.r;\n        const wr = r.w / 2;\n        const hr = r.h / 2;\n        r.x = wr + grid.left;\n        r.y = hr + grid.top;\n        r.rs = Math.min(wr, hr);\n        this.restoreAll(2);\n      },\n      // 取缩放后符合条件的y值集合\n      getYdata(x1,x2) {\n        let xArr = this._option.x.data;\n        let yArr = this._option.y.data;\n        let result = [];\n        for(let i = 0; i < xArr.length; i++) {\n          if(x1 <= xArr[i] && xArr[i] <= x2) {\n            result.push(yArr[i]);\n          }\n        }\n        return result;\n      },\n      /*\n      * 减法运算控制精度\n      * @arg1 ，@arg2  运算值\n      * */\n      accSub(arg1, arg2) {\n        if (isNaN(arg1)) {\n          arg1 = 0;\n        }\n        if (isNaN(arg2)) {\n          arg2 = 0;\n        }\n        arg1 = Number(arg1);\n        arg2 = Number(arg2);\n\n        var r1, r2, m, n;\n        try {\n          r1 = arg1.toString().split(\".\")[1].length;\n        }\n        catch (e) {\n          r1 = 0;\n        }\n        try {\n          r2 = arg2.toString().split(\".\")[1].length;\n        }\n        catch (e) {\n          r2 = 0;\n        }\n        m = Math.pow(10, Math.max(r1, r2));  //动态控制精度长度\n        n = (r1 >= r2) ? r1 : r2;\n        return ((arg1 * m - arg2 * m) / m).toFixed(n);\n      },\n      /*\n        判断dom是否已绑定某事件，如果未绑定则绑定\n        el          HTMLElement   绑定事件的HTML元素\n        eventType   String        事件类型\n        fn          Function      事件绑定的方法\n        isRepeat    Boolean       是否允许同类事件重复绑定\n        useCapture  Boolean       是否在捕获阶段触发\n      */\n      addEvent(el, eventType, fn, isRepeat = false, useCapture = false) {\n        let errorStr = '';\n        if (!el || !eventType || !fn) {\n          errorStr = '传入参数错误';\n        } else if (typeof el !== 'object') {\n          errorStr = 'el 不是对象';\n        } else if (typeof eventType !== 'string') {\n          errorStr = '事件类型错误';\n        } else if (typeof fn !== 'function') {\n          errorStr = 'fn 不是函数';\n        }\n        if (errorStr !== '') {\n          throw new Error(errorStr);\n        }\n        if (el.eventList === undefined) {\n          el.eventList = {};\n        }\n        if (!isRepeat) {\n          for (const key in el.eventList) {\n            if (key === eventType) {\n              return '该事件已绑定';\n            }\n          }\n        }\n        // 添加绑定事件\n        el.addEventListener(eventType, fn, useCapture);\n      },\n      // 移除监听事件\n      removeEvent(el, eventType, fn, useCapture = false) {\n        let errorStr = '';\n        if (!el || !eventType || !fn) {\n          errorStr = '传入参数错误';\n        } else if (Object.prototype.toString.call(el).slice(8, -1) !== 'HTMLDivElement') {\n          errorStr = 'el 不是HTML对象';\n        } else if (typeof eventType !== 'string') {\n          errorStr = '事件类型错误';\n        } else if (typeof fn !== 'function') {\n          errorStr = 'fn 不是函数';\n        }\n        if (errorStr !== '') {\n          throw new Error(errorStr);\n        }\n        if (el.eventList) {\n          delete el.eventList.eventType;\n        }\n        el.removeEventListener(eventType, fn, useCapture);\n      }\n    };\n    return new _chart(dom)\n  };\n\n  function init(dom) {\n    if (dom) {\n      return this(dom);\n    }\n  }\n  chart.init = init;\n  return chart;\n}));\n","module.exports = __webpack_public_path__ + \"img/bzbp-cf0ba.png\";","module.exports = __webpack_public_path__ + \"img/dcplc-a16d0.png\";","module.exports = __webpack_public_path__ + \"img/dpgl-37e47.png\";","module.exports = __webpack_public_path__ + \"img/dwdybp-bbbf1.png\";","module.exports = __webpack_public_path__ + \"img/fztk-d40f5.png\";","module.exports = __webpack_public_path__ + \"img/hnc-72332.png\";","module.exports = __webpack_public_path__ + \"img/qhxzqb-47731.png\";","module.exports = __webpack_public_path__ + \"img/qxbz-07af9.png\";","module.exports = __webpack_public_path__ + \"img/tjbz-74159.png\";","module.exports = __webpack_public_path__ + \"img/xhxf-2d4f4.png\";","module.exports = __webpack_public_path__ + \"img/yxplzsz-5439f.png\";","import { render, staticRenderFns } from \"./Wave.vue?vue&type=template&id=09e070ea&\"\nimport script from \"./Wave.vue?vue&type=script&lang=js&\"\nexport * from \"./Wave.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Wave.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\工作\\\\CCCCCCCCCC\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('09e070ea')) {\n      api.createRecord('09e070ea', component.options)\n    } else {\n      api.reload('09e070ea', component.options)\n    }\n    module.hot.accept(\"./Wave.vue?vue&type=template&id=09e070ea&\", function () {\n      api.rerender('09e070ea', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/viewInterface/components/wave/Wave.vue\"\nexport default component.exports","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Wave.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Wave.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--3-0!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Wave.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--3-0!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Wave.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Wave.vue?vue&type=template&id=09e070ea&\"","import { render, staticRenderFns } from \"./WaveChart.vue?vue&type=template&id=462bf044&\"\nimport script from \"./WaveChart.vue?vue&type=script&lang=js&\"\nexport * from \"./WaveChart.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\工作\\\\CCCCCCCCCC\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('462bf044')) {\n      api.createRecord('462bf044', component.options)\n    } else {\n      api.reload('462bf044', component.options)\n    }\n    module.hot.accept(\"./WaveChart.vue?vue&type=template&id=462bf044&\", function () {\n      api.rerender('462bf044', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/viewInterface/components/wave/WaveChart.vue\"\nexport default component.exports","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WaveChart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WaveChart.vue?vue&type=script&lang=js&\"","export * from \"-!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WaveChart.vue?vue&type=template&id=462bf044&\""],"sourceRoot":""}